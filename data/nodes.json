[
    {
        "id_": "cc2e2eda-c313-4dae-aaff-b07dec38ab7b",
        "embedding": null,
        "metadata": {
            "page_label": "1",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "2f39ec1e-59d8-4a91-a5df-f9a38ecde60a",
                "node_type": "4",
                "metadata": {
                    "page_label": "1",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "a4d4760a15fdc371e3a26bd569de54319980a96cddb0372fb9ed0b4446e2f035",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "adaptiverag learning to adapt retrievalaugmented large language models through question complexity soyeong jeong1jinheon baek2sukmin cho1sung ju hwang12jong c park1 school of computing1graduate school of ai2 korea advanced institute of science and technology12 starsuzijinheonbaeknelllpicsjhwang82jongparkkaistackr abstract retrievalaugmented large language models llms which incorporate the nonparametric knowledge from external knowledge bases into llms have emerged as a promising approach to enhancing response accuracy in several tasks such as questionanswering qa however even though there are various approaches deal ing with queries of different complexities they either handle simple queries with unnecessary computational overhead or fail to adequately address complex multistep queries yet not all user requests fall into only one of the sim ple or complex categories in this work we propose a novel adaptive qa framework that can dynamically select the most suitable strat egy for retrievalaugmented llms from the simplest to the most sophisticated ones based on the query complexity also this selec tion process is operationalized with a classi fier which is a smaller lm trained to predict the complexity level of incoming queries with automatically collected labels obtained from actual predicted outcomes of models and in herent inductive biases in datasets this ap proach offers a balanced strategy seamlessly adapting between the iterative and singlestep retrievalaugmented llms as well as the no retrieval methods in response to a range of query complexities we validate our model on a set of opendomain qa datasets cov ering multiple query complexities and show that ours enhances the overall efficiency and accuracy of qa systems compared to rele vant baselines including the adaptive retrieval approaches code is available at https githubcomstarsuziadaptiverag  1 introduction recent large language models llms brown et al 2020 openai 2023 touvron et al 2023 anil et al 2023 have shown overwhelming per formances across diverse tasks including question corresponding author 05 10 15 20 25 30 35 time per query4748495051performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with gpt35figure 1 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the gpt35turboinstruct as the base llm answering qa yang et al 2018 kwiatkowski et al 2019 however they still generate factu ally incorrect answers since their knowledge solely relies on their parametric memory kasai et al 2022 mallen et al 2023 meanwhile memoriz ing all the everchanging world knowledge may not be possible to address this problem retrieval augmented llms borgeaud et al 2022 izacard et al 2023 shi et al 2023 which incorporate nonparametric knowledge into llms with addi tional retrieval modules have gained much increas ing attention specifically these models access a knowledge base which serves as an extensive repository of information across various subjects and disciplines to retrieve information relevant to the given input and then incorporate the retrieved information into llms which enables them to stay accurate and current with the world knowledge a particularly salient application of retrieval augmented llms is to handling qa tasks whose goal is to provide correct answers in response to user queries especially those of high complexity early work on retrievalaugmented llms focuses primarily on singlehop queries lazaridou et al 2022 ram et al 2023 whose answers are typ ically found within a single document therefore this approach involves retrieving a relevant doc ument based on the query and subsequently inte grating this information into qa models to formu late a response however unlike this singlehop qa some queries require connecting and aggregat ing multiple documents which are furthermorearxiv240314403v2 cscl 28 mar 2024",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3959,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cceb6157-394c-411f-ba46-d842736ea6ef",
        "embedding": null,
        "metadata": {
            "page_label": "2",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "d51118d8-9334-4211-8fbd-feabca7cb733",
                "node_type": "4",
                "metadata": {
                    "page_label": "2",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "568c92023f4d1aceb288cec1f902f0b1b59d687daae4139add5c8a4cd744916e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "retrievalcomplex query what currency is in billy giles birthplacesimple query when is the birthday of michael f phelpsdocuments answer documents answer a single step approach inaccurate retrieval retrievalsimple query when is the birthday of michael f phelpsdocuments intermediate answers b multi step approach inefficient k times complex query what currency is in billy giles birthplacedocuments intermediate answers k timesstraightforward query paris is the capital of whatc our adaptive approach answer simple query when is the birthday of michael f phelpsdocuments answer complex query what currency is in billy giles birthplacedocuments intermediate answers k times classifier figure 2 a conceptual comparison of different retrievalaugmented llm approaches to question answering a in response to a query this singlestep approach retrieves relevant documents and then generates an answer however it may not be sufficient for complex queries that require multistep reasoning b this multistep approach iteratively retrieves documents and generates intermediate answers which is powerful yet largely inefficient for the simple query since it requires multiple accesses to both llms and retrievers c our adaptive approach can select the most suitable strategy for retrievalaugmented llms ranging from iterative to single to even no retrieval approaches based on the complexity of given queries determined by our classifier often not answerable through a singlestep pro cess of retrievalandresponse an example query is when did the people who captured malakoff come to the region where philipsburg is located which requires four reasoning steps to solve there fore to effectively handle such complex queries recent studies have concentrated largely on multi step and multireasoning qa which requires itera tive accesses to both llms and retrievers multiple times press et al 2023 trivedi et al 2023 at the cost of heavy computational overheads yet we should rethink in a realworld scenario are all the requests from users complex instead users might often ask simple and straightforward questions while only occasionally asking complex ones specifically a query such as paris is the capital of what is likely to be asked more fre quently compared to the aforementioned multi step query and this simpler query might also be easily answered by the llms themselves without accessing external knowledge in other words a multistep qa approach could give rise to unnec essary computational overhead for simple queries even though it would be vital for complex queries see figure 2 a on the other hand handling complex queries with singlestepretrieval or even nonretrieval strategies would be largely insuffi cient figure 2 b this suggests the need for an adaptive qa system which can dynamically adjust the operational strategies of retrievalaugmented llms based on the query complexity while some recent approaches are capable of doing this based on the frequency of entities in queries mallen et al 2023 or on the generated outputs from models for multistep qa trivedi et al 2023 they are still suboptimal the former methods are overly simplistic failing to consider multihop queries meanwhile the latter are excessively complex ter minating answer solving steps after several rounds of module accessin this work considering diverse complexity lev els of realworld queries we argue that previous onesizefitsall approaches might be inadequate to cover all of them instead we propose to select the most suitable strategy from a range of retrieval augmented llms each of which is tailored to the specific complexity of the input query notably a critical step in this process is predefining the query complexity which is instrumental in deter mining the most fitting model to it in this work we operationalize this process with a novel classi fier which is a smaller model trained to predict the complexity level of incoming queries see figure 2 c moreover we automatically collect its training datasets without human labeling by leveraging the predicted outcomes ie which models accurately respond to which queries as well as by capitalizing on the inherent biases in existing datasets ie sam ples in the datasets are designed either for single step or for multistep qa scenarios this proposed method can offer a robust middle ground among the iterative llm augmentation methods for complex queries singlestep methods for simpler queries and even noretrievalaugmented methods for the most straightforward queries answerable by llms themselves thus significantly enhancing the over all efficiency and accuracy as shown in figure 1 we refer to our framework as adaptive retrieval augmented generation adaptiverag we validate adaptiverag using benchmark opendomain qa datasets covering a wide range of query complexity from singlehop rajpurkar et al 2016 joshi et al 2017 kwiatkowski et al 2019 to multihop yang et al 2018 ho et al 2020 trivedi et al 2022b queries the exper imental results show that ours significantly im proves the overall accuracy and efficiency com pared to the prior adaptive strategies on multiple llms such as gpt35 brown et al 2020 and flant5 series chung et al 2022",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 5180,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "96c71293-a3c8-4faa-b1af-1a28764e78f9",
        "embedding": null,
        "metadata": {
            "page_label": "3",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "a2a7ba7e-6d52-4cdf-933d-6582146015c5",
                "node_type": "4",
                "metadata": {
                    "page_label": "3",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "b9c303f41aa8e1f6e4537517eb985ec5e1ce8a05aafa63cb05979536dd4643a9",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "our contributions and findings are threefold we point out the realistic scenario of queries of varying complexities and find out that existing retrievalaugmented generation approaches tend to be overly simple or complex we adapt retrievalaugmented llms to the query complexity assessed by the classifier which en ables the utilization of the most suitable approach tailored to each query we show that our adaptiverag is highly effec tive and efficient balancing between the com plexity and the simplicity for diverse queries 2 related work opendomain qa opendomain qa is the task of accurately answering a query by sourcing for queryrelevant documents and then interpreting them to provide answers chen et al 2017 zhu et al 2021 which thus generally involves two modules a retriever karpukhin et al 2020 xiong et al 2021 and a reader yang et al 2019 izac ard and grave 2021 jeong et al 2023 along with the emergence of llms with superior rea soning capabilities thanks to their billionsized pa rameters wei et al 2022a a synergy between llms and retrievers has led to significant advance ments lazaridou et al 2022 ram et al 2023 specifically this integration has been shown to enhance opendomain qa by mitigating the hallu cination problem from llms through strengthened reasoning abilities of the reader as well as utiliz ing the retrieved external documents cho et al 2023 despite these advancements for singlehop retrievalaugmented llms however the complex ity of some queries needs a more complex strategy multihop qa multihop qa is an extension of conventional opendomain qa which addition ally requires the system to comprehensively gather and contextualize information from multiple docu ments often iteratively to answer more complex queries trivedi et al 2022a yang et al 2018 in the realm of multihop qa the approach to itera tively access both llms and the retrieval module is generally employed specifically khattab et al 2022 press et al 2023 pereira et al 2023 and khot et al 2023 proposed to first decom pose the multihop queries into simpler singlehop queries repeatedly access the llms and retriever to solve these subqueries and merge their solu tions to formulate a complete answer in contrastto this decompositionbased approach other re cent studies such as yao et al 2023 and trivedi et al 2023 explored the interleaving of chainof thought reasoning wei et al 2022b  a method where a logical sequence of thoughts is generated  with document retrieval repeatedly applying this process until the reasoning chain generates the an swer in addition jiang et al 2023 introduced an approach to repeatedly retrieving new documents if the tokens within generated sentences have low confidence however the aforementioned methods overlooked the fact that in realworld scenarios queries are of a wide variety of complexities there fore it would be largely inefficient to iteratively access llms and retrievers for every query which might be simple enough with a single retrieval step or even only with an llm itself adaptive retrieval to handle queries of varying complexities the adaptive retrieval strategy aims to dynamically decide whether to retrieve documents or not based on each querys complexity in this vein mallen et al 2023 proposed to decide the querys complexity level based on the frequency of its entities and suggested using the retrieval mod ules only when the frequency falls below a cer tain threshold however this approach focusing solely on the binary decision of whether to retrieve or not may not be sufficient for more complex queries that require multiple reasoning steps ad ditionally qi et al 2021 proposed an approach that performs a fixed set of operations retrieving reading and reranking multiple times until the an swer is derived for the given query which is built upon traditional bertlike lms however unlike our adaptiverag which predetermines the query complexity and adapts the operational behavior of any offtheshelf llms accordingly this approach applies the same fixed operations to every query regardless of its complexity but also necessitates additional specific training to lms concurrent to our work asai et al 2024 suggested training a so phisticated model to dynamically retrieve critique and generate the text nevertheless we argue that all the aforementioned adaptive retrieval methods that rely on a single model might be suboptimal in handling a variety of queries of a range of differ ent complexities since they tend to be either overly simple or complex for all the input queries which demands a new approach that can select the most suitable strategy of retrievalaugmented llms tai lored to the query complexity",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4677,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3bd29012-afaa-459a-8d0c-5db83c348c6a",
        "embedding": null,
        "metadata": {
            "page_label": "4",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "b1991914-c1cc-4b72-a5f8-1990479de893",
                "node_type": "4",
                "metadata": {
                    "page_label": "4",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "9bf376a169b5989168590a468cae131e5b9f9438867de73331cedc5a364d5dd5",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2  x nas an input and then generates a sequence of tokens y y1 y2  y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query  q from the user and the generated answer  a from the llm respectively qxanday also subsequently the most na\u00efve llmpowered qa model can be represented as follows allmq ideally ashould match the actual correct answer a this nonretrieval based qa method is highly efficient and could be a somewhat promising approach to handling easy queries as the size of llms becomes extremely large with its effect on storing a large amount of knowledge however this approach is largely prob lematic on queries that require precise or concur rent knowledge of specific people events or any subjects beyond the llms internal knowledge singlestep approach for qa to address the aforementioned scenarios where llmmay struggle with queries that are not answerable by llmitself we can utilize the external knowledge d which includes useful information for queries retrieved from the external knowledge source dthat could be an encyclopedia eg wikipedia consisting of millions of documents specifically to obtain suchdfromd a specific retrieval model is nec essary which returns documents based on their relevance with the given query this process can be formulated as follows dretriever qd where retriever is the retrieval model with d d  here we can use any offtheshelf re triever robertson et al 1994 karpukhin et al 2020 after the retrieval step is done we now have a pair of query qand its relevant documents d then in order to augment llms with this retrieved exter nal knowledge we can incorporate it into the input of llms represented as follows allmqdthis process allows llms to gain access to exter nal information contained in d which can provide the supplementary context that the internal knowl edge of llmlacks which can subsequently improve the accuracy and concurrency of llms for qa multistep approach for qa even though the aforementioned singlestep approach offers signif icant improvements over nonretrieval for qthat requires external knowledge it encounters notable limitations particularly when dealing with com plex queries that necessitate synthesizing informa tion from multiple source documents and reasoning over them this is where a multistep approach and reasoning for qa become essential in this multistep approach llminteracts with retriever in several rounds progressively refin ing its understanding of q until it formulates the fi nal answer from findings accumulated across these multiple steps specifically the process begins with the initial query q and at every retrieval step i new documents diare retrieved from dand then incorporated into the input of llms as follows aillmqdici where the additional context cican be composed of previous documents and outcomes d1d2 di1a1a2 ai1 and diretriever qcid1 we would like to note that this iterative multistep process enables llmto construct a more comprehensive and exten sive foundation to solve queries effectively specif ically adept at complex multihop queries where answers depend on interconnected pieces of infor mation however it is important to recognize that this multistep approach can be resourceintensive due to the repeated accesses to retriever andllm which entail substantial computational costs 32 adaptiverag adaptive retrievalaugmented generation we now introduce our adaptive retrievalaugmented llms which are built upon three different strate gies described in the previous section and which are designed to select the most suitable strategy according to the complexity of queries adapting retrievalaugmented llms note that in realworld scenarios not all qfrom users have the same level of complexity necessitating 1it is worth noting that implementations of the llm and retriever vary across different multistep retrievalaugmented llm approaches trivedi et al 2023 press et al 2023 yao et al 2023 therefore the context cimay incorporate none some or all of the previous documents and answers",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4477,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "dd816326-ea5f-416b-a96d-8b209a5e9f3c",
        "embedding": null,
        "metadata": {
            "page_label": "5",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "32b8f9ae-9efd-4181-8c3c-330542025073",
                "node_type": "4",
                "metadata": {
                    "page_label": "5",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "49f328238e27c8db80d067ec311a5314d5aaa9a14c38a528995e698391b603ad",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "tailored strategies for handling each query in other words employing the most basic nonretrieval based approach llmqto respond to the complex query qwould be also ineffective figure 2 a conversely using a more elaborate multistep ap proach llmqdcfor simple qwould be ineffi cient figure 2 b therefore our adaptive frame work is designed to dynamically adjust the query handling strategy of retrievalaugmented llms which is achieved by determining the complexity of each query before attempting a solution notably this framework can offer a robust middle ground with a range of solutions from the simplest ap proach for the most straightforward queries to the onestep approach for moderate queries and up to the most comprehensive and rigorous approach for complex queries in addition since the operations ofllmandretriever remain consistent regard less of inputs to them our method can seeming lessly go back and forth across queries of different complexities without changing the internal model architecture or parameters during adaption query complexity assessment to operational ize our adaptive retrievalaugmented llm frame work we should determine the query complexity and to achieve this we propose to model a com plexity classifier whose goal is to return the appro priate complexity level of the given query specif ically given the query q our classifier can be for mulated as follows oclassifier q where classifier is a smaller language model that is trained to classify one of three different complexity levels and ois its corresponding class label in our classifier design there are three class labels a b and c where a indicates that qis straight forward and answerable by llmqitself b in dicates that qhas the moderate complexity where at least a singlestep approach llmqdis needed and c indicates that qis complex requiring the most extensive solution llmqdc2 training strategy the remaining step is to train the smaller language model for classifier  to accurately predict its complexity oin response to the given query q yet there is no annotated dataset available for querycomplexity pairs hence we propose to automatically construct the training dataset with two particular strategies to be specific we first aim at labeling the query 2we consider three levels of query complexity and leave the exploration of more finegrained complexities as future workcomplexity based on the results from three different retrievalaugmented llm strategies in order to determine the label by its needs for example if the simplest nonretrievalbased approach correctly generates the answer the label for its corresponding query is assigned a also to break the tie between different models in providing the label to the query we provide a higher priority to a simpler model in other words if both singlestep and multistep approaches produce the same correct answer while the nonretrievalbased approach fails we assign label b to its corresponding query however this labeling strategy has a limita tion in that not all the queries are assigned labels since the three retrievalaugmented approaches may all fail to generate the correct answer on the other hand the benchmark datasets may al ready have meaningful inductive biases about the most appropriate retrievalaugmented llm strate gies for their queries considering the ways they are created eg qa datasets that require sequen tial reasoning usually necessitate a multistep ap proach while queries of those with labeled sin gle documents can be ideally answerable with the singlestep approach therefore for those queries that remain unlabeled after the first labeling step we assign b to queries in singlehop datasets and c to queries in multihop datasets finally we train classifier with these automatically collected querycomplexity pairs3 by using a cross entropy loss then at inference we can deter mine the complexity of the query which is one of a b c by forwarding it to classifier  oclassifier q 4 experimental setups in this section we explain datasets models met rics and implementation details we provide addi tional details in appendix a 41 datasets in order to simulate a realistic scenario where dif ferent queries have varying complexities we use both the singlehop and multihop qa datasets si multaneously in the unified experimental setting singlehop qa for simpler queries we use three benchmark singlehop qa datasets which consist 3as we automatically assign classifier labels there might be errors in labeling and might be more advanced strategies to automatically assign labels which we leave as future work",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4580,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "650808a8-2259-4ee6-90e2-651e55f0a2d5",
        "embedding": null,
        "metadata": {
            "page_label": "6",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "85962a4c-c7b2-415b-86b8-9f150d6ff769",
                "node_type": "4",
                "metadata": {
                    "page_label": "6",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "29564e9a6ac9152d0d321bacbcd25cffe6804717dced9332e54d6947ca60888d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "table 1 averaged results on a collection of benchmark datasets for opendomain question answering including the singlehop and multihop queries with different llms selfragis trained with a different base llm namely llama2 touvron et al 2023 therefore we compare the results of flant5xl 3b with the results from selfrag with llama2 7b and the results of others with the results from selfrag with llama2 13b we emphasize our results in bold for easy comparisons flant5xl 3b flant5xxl 11b gpt35 turbo types methods em f1 acc step time em f1 acc step time em f1 acc step time simpleno retrieval 1487 2112 1597 000 011 1783 2514 1933 000 008 3577 4856 4427 000 071 singlestep approach 3483 4431 3887 100 100 3787 4763 4190 100 100 3473 4699 4527 100 100 adaptiveadaptive retrieval 2387 3224 2673 050 056 2693 3567 2973 050 054 3590 4820 4530 050 086 selfrag990 2079 3157 072 043 1087 2298 3413 074 023 1087 2298 3413 074 150 adaptiverag ours 3717 4694 4210 217 360 3890 4862 4377 135 200 3797 5091 4897 103 146 complex multistep approach 3900 4885 4370 469 881 4013 5009 4520 213 380 3813 5087 4970 281 333 oracle adaptiverag w oracle 4500 5628 4990 128 211 4717 5860 5220 084 110 4770 6280 5857 050 103 of queries and their associated documents contain ing answers namely 1 squad v11 rajpurkar et al 2016 2 natural questions kwiatkowski et al 2019 and 3 triviaqa joshi et al 2017 multihop qa to consider more complex query scenarios we use three benchmark multihop qa datasets which require sequential reasoning over multiple documents namely 1 musique trivedi et al 2022a 2 hotpotqa yang et al 2018 and3 2wikimultihopqa ho et al 2020 42 models we compare our adaptiverag against relevant models including three retrievalaugmented llm strategies in section 31 and the adaptive re trieval approaches mallen et al 2023 asai et al 2024 which can be grouped into one of three cat egories simple adaptive and complex specif ically simple approaches include the 1 no re trieval and2 singlestep approach based meth ods adaptive approaches include the 3 adaptive retrieval mallen et al 2023 4 selfrag asai et al 2024 and our 5 adaptiverag  which can adaptively perform retrieval based on the question complexity for the 6 multistep ap proach  we use the most sophisticated stateof theart method trivedi et al 2023 iteratively accessing both the retriever and llm with chain ofthought reasoning wei et al 2022b for every query note that models across different categories are not directly comparable yet in the ideal set ting adaptive approaches should be more effective than those in the simple category while simultane ously being more efficient than the complex one therefore we also report the performance in an ideal scenario 7 adaptiverag w oracle  using the oracle classifier with our adaptiverag 43 evaluation metrics when it comes to evaluating adaptive models it is essential to simultaneously consider both thetask performance and efficiency along with their tradeoffs thus we report the results with five metrics where three of them measure the effective ness and the other two measure the efficiency in particular for effectiveness we use f1 em and accuracy acc following the standard evaluation protocol mallen et al 2023 baek et al 2023 asai et al 2024 where f1 measures the number of overlapping words between the predicted an swer and the ground truth em measures whether they are the same and acc measures whether the predicted answer contains the groundtruth answer for efficiency we measure the number of retrieval andgenerate steps and the average time for answer ing each query relative to the onestep approach 44 implementation details for a fair comparison and following mallen et al 2023 and trivedi et al 2023 we use the same re triever a termbased sparse retrieval model known as bm25 robertson et al 1994 across all differ ent models for the external document corpus we use different sources depending on the dataset type the wikipedia corpus preprocessed by karpukhin et al 2020 for singlehop datasets and the pre processed corpus by trivedi et al 2023 for multi hop datasets regarding the llms that are used to generate answers we use the flant5 series models chung et al 2022 of xl with 3b pa rameters and xxl with 11b parameters and the gpt35 model gpt35turboinstruct for the retrievalaugmented llm design we follow the implementation details from trivedi et al 2023 which include input prompts instructions and the number of test samples for evaluation eg 500 samples per dataset in our adaptiverag for the querycomplexity classifier we use and train the t5large model raffel et al 2020 specifically the classifier is trained using the epoch that shows the best performance until 100 training iterations from the validation set with the learning rate of 3e",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4774,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3e170958-14a1-468f-9fea-690a41f6ef15",
        "embedding": null,
        "metadata": {
            "page_label": "7",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "1e610dfc-0d68-45ce-b957-257afcdbbce8",
                "node_type": "4",
                "metadata": {
                    "page_label": "7",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "bf7f9056f4d4d18b2daadc46b1af32359ded02722d32ff2be5164ef629a93f3d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "table 2 results on each of a collection of datasets with flant5xl 3b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 360 1050 500 000 011 1420 1900 1560 000 013 2500 3180 2700 000 013 singlestep approach 2780 3930 3400 100 100 3780 4730 4460 100 100 5360 6240 6020 100 100 adaptiveadaptive retrieval 1340 2310 1760 050 055 2820 3600 3300 050 056 3840 4690 4260 050 056 selfrag220 1120 1840 063 050 3140 3900 3360 063 017 1280 2930 5700 068 045 adaptiverag ours 2680 3830 3300 137 202 3780 4730 4460 100 100 5220 6070 5820 123 154 complex multistep approach 2440 3560 2960 452 903 3860 4780 4420 504 1018 5380 6240 6020 528 922 oracle adaptiverag w oracle 3200 4560 3820 124 160 4740 5710 5360 110 155 6160 7020 6640 079 110 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 240 1070 320 000 011 1660 2271 1720 000 011 2740 3204 2780 000 010 singlestep approach 1380 2280 1520 100 100 3440 4615 3640 100 100 4160 4790 4280 100 100 adaptiveadaptive retrieval 640 1580 800 050 055 2360 3222 2500 050 055 3320 3944 3420 050 055 selfrag160 810 1200 073 051 680 1753 2960 073 045 460 1959 3880 093 049 adaptiverag ours 2360 3180 2600 322 661 4200 5382 4440 355 599 4060 4975 4640 263 468 complex multistep approach 2300 3190 2580 360 758 4460 5654 4700 553 938 4960 5885 5540 417 737 oracle adaptiverag w oracle 2480 3850 2700 198 399 5120 6400 5480 159 277 5300 6230 5940 101 169 f1102030405060adaptive retrieval selfrag adaptiverag ours classifier acc3540455055flant5xl f1102030405060adaptive retrieval selfrag adaptiverag ours classifier acc3540455055flant5xxl no one multino one multi031 047 022 01 066 023 003 031 065 020406confusion matrix figure 3 performance on qa and querycomplexity assessment of different adaptive approaches for retrievalaugmented llms with flant5 xl left and xxl center for labeling the complexity of queries we use the silver data annotated from the prediction outcomes of models described in section 32 we also provide the confusion matrix across three labels right 5 and the adamw loshchilov and hutter 2019 as an optimizer regarding its training data we sample and annotate 400 queries from 6 datasets based on its inductive bias singlehop for onestep approach and multihop for multistep in addition we use predicted outcomes of three different strate gies over 400 queries sampled from each dataset note that those queries used for classifier training do not overlap with the testing queries for qa 5 experimental results and analyses in this section we show the overall experimental results and offer indepth analyses of our method main results first of all table 1 shows our main results averaged over all considered datasets which corroborate our hypothesis that simple retrieval augmented strategies are less effective than the complex strategy while the complex one is sig nificantly more expensive than the simple ones in addition we report the more granular results with flant5xl on each of the singlehop and multi hop datasets in table 2 and more with different llms in table 7 and table 8 of appendix which are consistent with the results observed in table 1 however in a realworld scenario not all users ask queries with the same level of complexity which emphasizes the importance of the need for adaptive strategies note that among the adaptive strategies our adaptiverag shows remarkableeffectiveness over the competitors table 1 this indicates that merely focusing on the decision of whether to retrieve or not is suboptimal also as shown in table 2 such simple adaptive strategies are particularly inadequate for handling complex queries in multihop datasets which require ag gregated information and reasoning over multiple documents meanwhile our approach can consider a more finegrained query handling strategy by fur ther incorporating an iterative module for complex queries furthermore in a realistic setting we should take into account not only effectiveness but also efficiency as shown in table 1 compared to the complex multistep strategy our proposed adap tive strategy is significantly more efficient across all model sizes this is meaningful in this era of llms where the cost of accessing them is a critical factor for practical applications and scalability fi nally to see the upper bound of our adaptiverag we report its performances with the oracle classifier where the classification performance is perfect as shown in table 1 and table 2 we observe that it achieves the best performance while being much more efficient than our adaptiverag without the oracle classifier these results support the valid ity and significance of our proposal for adapting retrievalaugmented llm strategies based on query complexity and further suggest the direction to de velop more improved classifiers to achieve optimal performance",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 5004,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3d066d14-a776-4fa8-9f9c-480c2e47c6bf",
        "embedding": null,
        "metadata": {
            "page_label": "8",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "31f1a6ac-3a34-47a0-96f5-8772eae9e82f",
                "node_type": "4",
                "metadata": {
                    "page_label": "8",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "9a4434a9e9b5c116305be338fa9a863f5bee7a2eb1a73bce93461bff3eb55f0e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "table 3 the exact elapsed time per query and the percentage of the predicted labels from the classifier over all samples labels timequery sec percentage  no a 035 860 one b 308 5333 multi c 2718 3807 classifier performance to understand how the proposed classifier works we analyze its perfor mance across different complexity labels as fig ure 3 left and center shows the classification accuracy of our adaptiverag is better than those of the other adaptive retrieval baselines which leads to overall qa performance improvements in other words this result indicates that our adaptive rag is capable of more accurately classifying the complexity levels with various granularities which include not performing retrieval performing re trieval only once and performing retrieval multiple times in addition to the true positive performance of our classifier averaged over all those three la bels in figure 3 left and center we further re port its confusion matrix in figure 3 right we note that the confusion matrix reveals some notable trends c multi is sometimes misclassified as b one about 31 and b one as c multi about 23 a no is misclassified often as b one about 47 and less frequently as c multi about 22 while the overall results in figure 3 show that our classifier effectively cate gorizes the three labels further refining it based on such misclassification would be a meaningful direction for future work analyses on efficiency for classifier while ta ble 1 shows the relative elapsed time for each of the three different rag strategies we further provide the exact elapsed time per query for our adaptive rag and the distribution for predicted labels from our querycomplexity classifier in table 3 similar to the results of the elapsed time in table 1 relative time table 3 exact time shows that efficiency can be substantially improved by identifying sim ple or straightforward queries analyses on training data for classifier we have shown that the classifier plays an important role in adaptive retrieval here we further analyze the different strategies for training the classifier by ablating our full training strategy which includes two approaches generating silver data from pre dicted outcomes of models and utilizing inductivetable 4 results on qa and complexity classification with varying the data annotation strategies for training the classifier qa classifier accuracy training strategies f1 step all no one multi adaptiverag ours 4694 1084 5452 3052 6628 6545 wo binary 4343 640 6030 6219 6570 3955 wo silver 4879 1464 4000 000 5398 7591 bias in datasets see section 32 as table 4 shows compared to the training strategy relying solely on the data derived from inductive bias ours is sig nificantly more efficient this efficiency is partly because ours also takes into account the case that does not consider any documents at all as also implied by the classification accuracy meanwhile queries in the existing datasets do not capture the information on whether the retrieval is required or not on the other hand in the case of only using the silver data annotated from the correct predictions while its overall classification accuracy is high the overall qa performance implies that relying on the silver data may not be optimal this may be because this silver data does not cover complex ity labels over incorrectly predicted queries which leads to lower generalization effect on queries rel evant to them meanwhile by also incorporating complexity labels from dataset bias singlehop vs multihop the classifier becomes more accurate in predicting multihop queries leading to the better performance it is worth noting that our automatic labeling strategies are two particular instantiations for training the classifier and that there could be other instantiations which we leave as future work analyses on classifier size to investigate the sensitivity of our classifier according to its varying sizes we conducted further experiments as shown in table 6 we observe no significant performance differences among classifiers of various sizes even with reduced complexity and fewer parameters in smaller classifiers this indicates that our proposed classifier can contribute to resourceefficient set tings in realuse cases with smaller sizes without compromising the performance case study we conduct a case study to qualita tively compare our adaptiverag against adap tive retrieval table 5 shows the classified com plexity and the query handling patterns for both simple and complex questions first for the simple singlehop question our adaptiverag identifies that it is answerable by only using the llms para metric knowledge about google by contrast",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4675,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "bdd48c64-5c1a-4587-90ce-07c4168d6136",
        "embedding": null,
        "metadata": {
            "page_label": "9",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "149eb812-a8ad-46b8-80a8-df929968ca78",
                "node_type": "4",
                "metadata": {
                    "page_label": "9",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "ab57a9315c5139a49739ea12498ea2b36607244219a38eedf795f8c9210fe756",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "table 5 case study with gpt35 turbo where we represent the factual error in red and the accurate information in blue dataset question adaptive retrieval adaptiverag ours nq singlehopwhich famous corpo rate logo changed to a flat colourcolor sans serif font in its first ma jor change since 1999query type b singlestep approach reasoning the famous corporate logo that changed to a flat color sansserif font in its first major change since 1999 is microsoft microsoft changed its logo in 2012 replacing the italicized multicolored font with a simple flat grey font so the answer is microsoftquery type a non retrieval reasoning the famous corporate logo that changed to a flat color sans serif font in its first ma jor change since 1999 is google google changed its logo in 2015 so the answer is google musique multihopwho is the child of the italian navigator who explored the eastern coast of the continent c\u00e9sar gaytan was born in for the englishquery type a non retrieval reasoning c\u00e9sar gaytan was born in the conti nent of north america the italian navigator who explored the eastern coast of north america for the english was giovanni caboto also known as john cabot so the answer is giovanni cabotojohn cabotquery type c multistep approach reasoning c\u00e9sarr gaytan was born in guadalajara jalisco mexico the italian navigator who explored the eastern coast of the continent for the english is john cabot john cabots son is sebastian cabot so the answer is sebastian cabot table 6 results with varying model sizes for classifiers qa classifier accuracy sizes f1 step all no one multi small 60m 4583 964 5348 2665 7062 5318 base 223m 4597 983 5341 2642 6946 5682 large 770m 4694 1084 5452 3052 6628 6545 adaptive retrieval fetches additional documents leading to longer processing times and occasion ally producing incorrect responses due to the inclu sion of partially irrelevant information about mi crosoft meanwhile faced with a complex ques tion adaptiverag seeks out relevant information including details like a son of john cabot which may not have been stored in llms while adaptive retrieval fails to request such information from external sources resulting in inaccurate answers 6 conclusion in this work we proposed the adaptive retrieval augmented generation framework referred to as adaptiverag to handle queries of various complexities specifically adaptiverag is de signed to dynamically adjust its query handling strategies in the unified retrievalaugmented llm based on the complexity of queries that they en counter which spans across a spectrum of the non retrievalbased approach for the most straightfor ward queries to the singlestep approach for the queries of moderate complexity and finally to the multistep approach for the complex queries the core step of our adaptiverag lies in determin ing the complexity of the given query which is instrumental in selecting the most suitable strat egy for its answer to operationalize this process we trained a smaller language model with query complexity pairs which are automatically anno tated from the predicted outcomes and the inductive biases in datasets we validated our adaptiveragon a collection of opendomain qa datasets cover ing the multiple query complexities including both the single and multihop questions the results demonstrate that our adaptiverag enhances the overall accuracy and efficiency of qa systems al locating more resources to handle complex queries while efficiently handling simpler queries com pared to the existing onesizefitsall approaches that tend to be either minimalist or maximalist over varying query complexities limitations while our adaptiverag shows clear advantages in effectiveness and efficiency by determining the query complexity and then leveraging the most suitable approach for tackling it it is important to recognize that there still exist potential avenues for improving the classifier from the perspectives of its training datasets and architecture specifi cally as there are no available datasets for training the querycomplexity classifier we automatically create new data based on the model prediction out comes and the inductive dataset biases however our labeling process is one specific instantiation of labeling the query complexity and it may have the potential to label queries incorrectly despite its effectiveness therefore future work may create new datasets that are annotated with a diverse range of query complexities in addition to the labels of questionanswer pairs also as the performance gap between the ideal classifier in table 1 and the current classifier in figure 3 indicates there is still room to improve the effectiveness of the classifier in other words our classifier design based on the smaller lm is the initial simplest instantiation for classifying the query complexity and based upon it future work may improve the classifier archi tecture and its performance which will positively contribute to the overall qa performance",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4981,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "db1a4e2c-2286-4ba0-bdfb-25275bec2656",
        "embedding": null,
        "metadata": {
            "page_label": "10",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "1b48beb2-472e-4426-a089-08bb71faf15f",
                "node_type": "4",
                "metadata": {
                    "page_label": "10",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "3fd224ab45f3ceef3ab0ccd94fe104951e81351f0cf52f0ea7f935248a7be289",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "ethics statement the experimental results on adaptiverag vali date its applicability in realistic scenarios where a wide range of diverse user queries exist nonethe less given the potential diversity of realworld user inputs it is crucial to also consider scenarios where these inputs might be offensive or harmful we should be aware that such inputs could lead to the retrieval of offensive documents and the genera tion of inappropriate responses by the retrieval augmented llms to address this challenge de veloping methods to detect and manage offensive or inappropriate content in both user inputs and re trieved documents within the retrievalaugmented framework is essential we believe that this is a critical area for future work acknowledgements this work was supported by institute for informa tion and communications technology promotion iitp grant funded by the korea government no 2018000582 prediction and augmentation of the credibility distribution via linguistic analysis and automated evidence document collection basic science research program through the national research foundation of korea nrf funded by the ministry of education rs202300275747 and the artificial intelligence industrial convergence cluster development project funded by the ministry of science and ict msit korea  gwangju metropolitan city references rohan anil andrew m dai orhan firat melvin john son dmitry lepikhin alexandre passos siamak shakeri emanuel taropa paige bailey zhifeng chen eric chu jonathan h clark laurent el shafey yanping huang kathy meierhellstern gau rav mishra erica moreira mark omernick kevin robinson sebastian ruder yi tay kefan xiao yuanzhong xu yujing zhang gustavo hern\u00e1ndez \u00e1brego junwhan ahn jacob austin paul barham jan a botha james bradbury siddhartha brahma kevin brooks michele catasta yong cheng colin cherry christopher a choquettechoo aakanksha chowdhery cl\u00e9ment crepy shachi dave mostafa dehghani sunipa dev jacob devlin mark d\u00edaz nan du ethan dyer vladimir feinberg fangxi aoyu feng vlad fienber markus freitag xavier garcia sebastian gehrmann lucas gonzalez and et al 2023 palm 2 technical report arxiv preprint arxiv230510403  akari asai zeqiu wu yizhong wang avirup sil andhannaneh hajishirzi 2024 selfrag learning to retrieve generate and critique through selfreflection inthe twelfth international conference on learning representations  jinheon baek soyeong jeong minki kang jong park and sung ju hwang 2023 knowledgeaugmented language model verification in proceedings of the 2023 conference on empirical methods in natural language processing emnlp 2023 singapore de cember 610 2023  pages 17201736 association for computational linguistics sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza rutherford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen si monyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international conference on machine learning icml 2022 1723 july 2022 bal timore maryland usa  volume 162 of proceedings of machine learning research  pages 22062240 pmlr tom b brown benjamin mann nick ryder melanie subbiah jared kaplan prafulla dhariwal arvind neelakantan pranav shyam girish sastry amanda askell sandhini agarwal ariel herbertv oss gretchen krueger tom henighan rewon child aditya ramesh daniel m ziegler jeffrey wu clemens winter christopher hesse mark chen eric sigler mateusz litwin scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual  danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30  august 4 volume 1 long papers  pages 18701879 association for computational linguistics sukmin cho jeongyeon seo soyeong jeong and jong c park 2023 improving zeroshot reader by reducing distractions from irrelevant documents in opendomain question answering in findings of the association for computational linguistics emnlp 2023 singapore december 610 2023  pages 3145 3157 association for computational linguistics hyung won chung le hou shayne longpre barret zoph yi tay william fedus eric li xuezhi wang mostafa dehghani siddhartha brahma albert web son shixiang shane gu zhuyun dai mirac suz gun xinyun chen aakanksha chowdhery sharan",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4873,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3dbad276-dcc8-44c6-a621-60bb7f020f98",
        "embedding": null,
        "metadata": {
            "page_label": "11",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "9bacb84b-9523-4f31-bd39-d31fc12ef9f8",
                "node_type": "4",
                "metadata": {
                    "page_label": "11",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "107987f8b7f01cdecb07c1296485ce34918d5882bcc9ba95c8ed1460690913db",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "narang gaurav mishra adams yu vincent y  zhao yanping huang andrew m dai hongkun yu slav petrov ed h chi jeff dean jacob devlin adam roberts denny zhou quoc v  le and jason wei 2022 scaling instructionfinetuned language models arxiv preprint arxiv221011416  xanh ho anhkhoa duong nguyen saku sugawara and akiko aizawa 2020 constructing a multihop qa dataset for comprehensive evaluation of reason ing steps in proceedings of the 28th international conference on computational linguistics coling 2020 barcelona spain online december 813 2020  pages 66096625 international committee on computational linguistics gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open do main question answering in proceedings of the 16th conference of the european chapter of the associ ation for computational linguistics main volume eacl 2021 online april 19  23 2021  pages 874 880 association for computational linguistics gautier izacard patrick s h lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave 2023 atlas fewshot learning with retrieval augmented language models j mach learn res  24251125143 soyeong jeong jinheon baek sukmin cho sung ju hwang and jong park 2023 testtime selfadaptive small language models for question answering in findings of the association for computational lin guistics emnlp 2023 singapore december 610 2023  pages 1545915469 association for computa tional linguistics zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig 2023 active retrieval augmented generation in emnlp 2023  mandar joshi eunsol choi daniel s weld and luke zettlemoyer 2017 triviaqa a large scale distantly supervised challenge dataset for reading comprehen sion in proceedings of the 55th annual meeting of the association for computational linguistics acl 2017 vancouver canada july 30  august 4 volume 1 long papers  pages 16011611 association for computational linguistics vladimir karpukhin barlas oguz sewon min patrick s h lewis ledell wu sergey edunov danqi chen and wentau yih 2020 dense passage retrieval for opendomain question answering in proceedings of the 2020 conference on empirical methods in natu ral language processing emnlp 2020 november 1620 2020  association for computational linguis tics jungo kasai keisuke sakaguchi yoichi takahashi ro nan le bras akari asai xinyan yu dragomir r radev noah a smith yejin choi and kentaro inui2022 realtime qa whats the answer right now arxiv preprint arxiv220713332  omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024  abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023  openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin ken ton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natu ral questions a benchmark for question answering research transactions of the association for compu tational linguistics  7452466 angeliki lazaridou elena gribovskaya wojciech stokowiec and nikolai grigorev 2022 internet augmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115  belinda z li sewon min srinivasan iyer yashar mehdad and wentau yih 2020 efficient onepass endtoend entity linking for questions in proceed ings of the 2020 conference on empirical methods in natural language processing emnlp 2020 online november 1620 2020  pages 64336441 associa tion for computational linguistics ilya loshchilov and frank hutter 2019 decoupled weight decay regularization in 7th international conference on learning representations iclr 2019 new orleans la usa may 69 2019  openre viewnet alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi 2023 when not to trust language models investigating effectiveness of parametric and nonparametric mem ories in proceedings of the 61st annual meeting of the association for computational linguistics vol ume 1 long papers acl 2023 toronto canada july 914 2023  pages 98029822 association for computational linguistics openai 2023 gpt4 technical report arxiv preprint arxiv230308774  adam paszke sam gross francisco massa adam lerer james bradbury gregory chanan trevor killeen zeming lin natalia gimelshein luca antiga alban desmaison andreas k\u00f6pf edward z",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4905,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c18590d2-6965-4661-b30b-6c6404815f64",
        "embedding": null,
        "metadata": {
            "page_label": "12",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "a0fc576e-d9ac-4886-a52a-f763d2d83f67",
                "node_type": "4",
                "metadata": {
                    "page_label": "12",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "5dee5eae552d28ff34d2c92383cdb36304f9601681fdb1c57d774ea176b9e217",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "yang zachary devito martin raison alykhan te jani sasank chilamkurthy benoit steiner lu fang junjie bai and soumith chintala 2019 pytorch an imperative style highperformance deep learning li brary in advances in neural information processing systems 32 annual conference on neural informa tion processing systems 2019  pages 80248035 jayr alencar pereira robson do nascimento fidalgo roberto de alencar lotufo and rodrigo frassetto nogueira 2023 visconde multidocument qa with gpt3 and neural reranking in advances in informa tion retrieval  45th european conference on infor mation retrieval ecir 2023 dublin ireland april 26 2023 proceedings part ii  volume 13981 of lecture notes in computer science  pages 534543 springer ofir press muru zhang sewon min ludwig schmidt noah a smith and mike lewis 2023 measuring and narrowing the compositionality gap in language models in findings of the association for computa tional linguistics emnlp 2023  peng qi haejun lee tg sido and christopher d man ning 2021 answering opendomain questions of varying reasoning steps from text in proceedings of the 2021 conference on empirical methods in natural language processing emnlp 2021 vir tual event  punta cana dominican republic 711 november 2021  pages 35993614 association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res  21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016  pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham 2023 incontext retrievalaugmented lan guage models transactions of the association for computational linguistics  stephen e robertson steve walker susan jones micheline hancockbeaulieu and mike gatford 1994 okapi at trec3 in proceedings of the third text retrieval conference trec 1994 gaithers burg maryland usa november 24 1994  volume 500225 of nist special publication  pages 109 126 national institute of standards and technology nist weijia shi sewon min michihiro yasunaga min joon seo rich james mike lewis luke zettle moyer and wentau yih 2023 replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652  hugo touvron louis martin kevin stone peter al bert amjad almahairi yasmine babaei nikolay bashlykov soumya batra prajjwal bhargava shruti bhosale dan bikel lukas blecher cristian canton ferrer moya chen guillem cucurull david esiobu jude fernandes jeremy fu wenyin fu brian fuller cynthia gao vedanuj goswami naman goyal an thony hartshorn saghar hosseini rui hou hakan inan marcin kardas viktor kerkez madian khabsa isabel kloumann artem korenev punit singh koura marieanne lachaux thibaut lavril jenya lee di ana liskovich yinghai lu yuning mao xavier mar tinet todor mihaylov pushkar mishra igor moly bog yixin nie andrew poulton jeremy reizen stein rashi rungta kalyan saladi alan schelten ruan silva eric michael smith ranjan subrama nian xiaoqing ellen tan binh tang ross tay lor adina williams jian xiang kuan puxin xu zheng yan iliyan zarov yuchen zhang angela fan melanie kambadur sharan narang aur\u00e9lien ro driguez robert stojnic sergey edunov and thomas scialom 2023 llama 2 open foundation and fine tuned chat models arxiv preprint arxiv230709288  harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2022a musique multi hop questions via singlehop question composition trans assoc comput linguistics  10539554 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2022b musique multi hop questions via singlehop question composition transactions of the association for computational linguistics  10539554 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2023 interleaving retrieval with chainofthought reasoning for knowledge intensive multistep questions in proceedings of the 61st annual meeting of the association for com putational linguistics volume 1 long papers acl 2023 toronto canada july 914 2023  pages 1001410037 association for computational lin guistics jason wei yi tay rishi bommasani colin raffel barret zoph sebastian borgeaud dani yogatama maarten bosma denny zhou donald metzler ed h chi tatsunori hashimoto oriol vinyals percy liang jeff dean and william fedus 2022a emer gent abilities of large language models trans mach learn res  2022 jason wei xuezhi wang dale schuurmans maarten bosma brian ichter fei xia ed h chi quoc v  le and denny zhou 2022b chainofthought prompt ing elicits reasoning in large language models in neurips  thomas wolf lysandre debut victor sanh julien chaumond clement delangue anthony moi pier ric cistac tim rault r\u00e9mi louf morgan funtowicz",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 5048,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c7a20625-dd0e-4f8a-96ae-8ef77caee1d7",
        "embedding": null,
        "metadata": {
            "page_label": "13",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "038f95ac-3491-4aa8-bba6-6ed83ede6b66",
                "node_type": "4",
                "metadata": {
                    "page_label": "13",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020  demos  pages 38 45 association for computational linguistics lee xiong chenyan xiong ye li kwokfung tang jialin liu paul n bennett junaid ahmed and arnold overwijk 2021 approximate nearest neigh bor negative contrastive learning for dense text re trieval in 9th international conference on learning representations iclr 2021 virtual event austria may 37 2021  openreviewnet wei yang yuqing xie aileen lin xingyu li luchen tan kun xiong ming li and jimmy lin 2019 endtoend opendomain question answering with bertserini in proceedings of the 2019 conference of the north american chapter of the association for computational linguistics human language technologies naaclhlt 2019 minneapolis mn usa june 27 2019 demonstrations  pages 7277 association for computational linguistics zhilin yang peng qi saizheng zhang yoshua bengio william cohen ruslan salakhutdinov and christo pher d manning 2018 hotpotqa a dataset for diverse explainable multihop question answering inproceedings of the 2018 conference on empiri cal methods in natural language processing  pages 23692380 brussels belgium association for com putational linguistics shunyu yao jeffrey zhao dian yu nan du izhak shafran karthik r narasimhan and yuan cao 2023 react synergizing reasoning and acting in language models in the eleventh international conference on learning representations iclr 2023 kigali rwanda may 15 2023  openreviewnet fengbin zhu wenqiang lei chao wang jianming zheng soujanya poria and tatseng chua 2021 retrieving and reading a comprehensive survey on opendomain question answering arxiv preprint arxiv210100774",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 1949,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f4936e74-97e8-4b69-a943-13a48ae3d3c8",
        "embedding": null,
        "metadata": {
            "page_label": "14",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "1e0520dd-1111-4478-8cfd-3ec9900e5a18",
                "node_type": "4",
                "metadata": {
                    "page_label": "14",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "0d3e39c992af9ce5e47c3b9a9db57d38dcd8a6eb565ef6c3ad1e6e976287b57c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "0 2 4 6 8 10 time per query20304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xlfigure 4 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xl 3b as the base llm a additional experimental setups a1 datasets we use publicly open datasets for both single hop and multihop qa datasets referring to as karpukhin et al 2020 and trivedi et al 2023 respectively we describe the characteristics of each dataset 1 squad v11 rajpurkar et al 2016 is created through a process where annotators write questions based on the documents they read 2 natural questions kwiatkowski et al 2019 is constructed by real user queries on google search 3 triviaqa joshi et al 2017 comprises trivia questions sourced from various quiz websites 4 musique trivedi et al 2022a is collected by compositing multiple singlehop queries to form queries spanning 24 hops 5 hotpotqa yang et al 2018 is constructed by having annotators create questions that link multi ple wikipedia articles 6 2wikimultihopqa ho et al 2020 is derived from wikipedia and its associated knowledge graph path needing 2hops a2 models we describe the details of models as follows 1 no retrieval this approach uses only the llm itself to generate the answer to the given query 2 singlestep approach this approach first re trieves the relevant knowledge with the given query from the external knowledge sources and then aug ments the llm with this retrieved knowledge to generate the answer which iterates only once 3 adaptive retrieval this baseline mallen et al 2023 adaptively augments the llm with the re trieval module only when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xxlfigure 5 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xxl 11b as the base llm trains the llm to adaptively perform retrieval and generation where the retrieval is conducted once it predicts the special retrieval token above a certain threshold and the answer generation follows 5 adaptiverag this is our model that adap tively selects the retrievalaugmented generation strategy smoothly oscillating between the non retrieval singlestep approach and multistep ap proaches4without architectural changes based on the query complexity assessed by the classifier 6 multistep approach this approach trivedi et al 2023 is the multistep retrievalaugmented llm which iteratively accesses both the retriever and llm with interleaved chainofthought rea soning wei et al 2022b repeatedly until it derives the solution or reaches the maximum step number 7 adaptiverag w oracle this is an ideal sce nario of our adaptiverag equipped with an or acle classifier that perfectly categorizes the query complexity a3 implementation details for computing resources we use a100 gpus with 80gb memory in addition due to the sig nificant costs associated with evaluating retrieval augmented generation models we perform experi ments with a single run finally we implemented models using pytorch paszke et al 2019 and transformers library wolf et al 2020 b additional experimental results performance vs time we further provide a com parison of different retrievalaugmented genera tion approaches with flant5xl and flant5 xxl models in figure 4 and figure 5 respectively in the context of performance and efficiency trade offs similar to the observation made from the gpt 35 model in figure 1 our proposed adaptiverag is significantly more effective as well as efficient 4for the multistep approach we use the stateoftheart question answering strategy from ircot trivedi et al 2023",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4030,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "879ac08a-c024-4286-adad-658956c62f71",
        "embedding": null,
        "metadata": {
            "page_label": "15",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "96533332-255a-4e59-b6ad-028e8602078b",
                "node_type": "4",
                "metadata": {
                    "page_label": "15",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "baf781bd-11a1-4bae-b9ab-3808e6892ff2",
                "node_type": "1",
                "metadata": {},
                "hash": "753e2ee125f0bba852233e143c5ba5b6cdc6b38d8d1219e4be7b16df7ee2650d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "table 7 results on each of a collection of datasets with flant5xxl 11b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 700 1440 840 000 008 1880 2550 2040 000 008 3280 3920 3540 000 008 singlestep approach 2880 4080 3500 100 100 4140 5120 4760 100 100 5600 6470 6180 100 100 adaptiveadaptive retrieval 1560 2560 2000 050 054 3100 3970 3500 050 054 4480 5220 4860 050 054 selfrag160 1190 2080 059 031 3920 4710 4240 075 009 1460 3370 6020 076 022 adaptiverag ours 2780 3980 3400 117 150 4120 5100 4740 100 100 5200 6030 5720 103 133 complex multistep approach 2460 3690 3020 213 383 3960 4960 4640 216 394 5260 6110 5940 217 403 oracle adaptiverag w oracle 3280 4690 3820 085 094 5120 6100 5700 071 091 6340 7130 6820 051 060 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050 054 3520 4268 3680 050 054 selfrag120 820 1180 068 027 560 1786 3060 076 026 300 1914 3900 090 025 adaptiverag ours 2060 2850 2320 189 312 4420 5478 4680 158 253 4760 5736 5400 146 255 complex multistep approach 1940 2750 2180 209 366 4700 5781 4940 208 373 5760 6765 6400 217 363 oracle adaptiverag w oracle 2420 3720 2660 122 171 5220 6480 5460 092 133 5920 7040 6860 082 114 table 8 results on each of a collection of datasets with gpt35 turbo as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 1600 2920 2380 000 062 3980 5570 5500 000 056 6400 7560 7580 000 068 singlestep approach 1800 3380 2920 100 100 3240 4680 5480 100 100 5520 6650 6580 100 100 adaptiveadaptive retrieval 1540 3000 2440 050 081 3640 5120 5660 050 078 6200 7190 7220 050 084 selfrag160 1190 2080 059 191 3920 4710 4240 075 052 1460 3370 6020 076 159 adaptiverag ours 1980 3440 3000 087 121 3680 5200 5660 068 086 6240 7380 7380 022 079 complex multistep approach 1740 3150 2620 250 324 3560 4970 5780 258 379 5480 6710 6800 230 265 oracle adaptiverag w oracle 2800 4590 3940 054 093 5000 6540 6700 028 08 7080 8100 8000 011 073 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 2040 3130 2440 000 081 3740 5104 4320 000 074 3700 4850 4340 000 090 singlestep approach 1640 2670 2360 100 100 3960 5044 4560 100 100 4680 5769 5260 100 100 adaptiveadaptive retrieval 1880 3030 2480 050 090 3860 5070 4320 050 087 4420 5511 5060 050 095 selfrag120 820 1180 068 166 560 1786 3060 076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3427,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "baf781bd-11a1-4bae-b9ab-3808e6892ff2",
        "embedding": null,
        "metadata": {
            "page_label": "15",
            "file_name": "Adaptive-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 577416,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "96533332-255a-4e59-b6ad-028e8602078b",
                "node_type": "4",
                "metadata": {
                    "page_label": "15",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "879ac08a-c024-4286-adad-658956c62f71",
                "node_type": "1",
                "metadata": {
                    "page_label": "15",
                    "file_name": "Adaptive-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Adaptive-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 577416,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "66533e661a5f9e8c998c35319d30b917ec993d2d0cfe493ae45ab7bd16c147f1",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "3060 076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table 2 and table 8 respectively the experimental results show that our adaptiverag consistently balances between efficiency and accuracy it is worth noting that while the gpt35 model performs effectively in addressing straightforward queries even without document retrieval it benefits significantly from our adaptiverag in terms of effectiveness when solving complex multihop queries",
        "mimetype": "text/plain",
        "start_char_idx": 2896,
        "end_char_idx": 3807,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b00a2e4e-09e6-452b-bdf0-a2c74579f534",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3ba16c11-0a57-45b1-9f85-57537beb63c6",
                "node_type": "1",
                "metadata": {},
                "hash": "419bad89d58e564d9457b4502c81a5a490a24c728dd4612306b4533f21bd39c2",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "id_ 499e653f70f149bd82a66a2f9df0deed embedding null metadata  page_label 1 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 80e670094f774e71b59af5c59c14e274 node_type 4 metadata  page_label 1 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash a4d4760a15fdc371e3a26bd569de54319980a96cddb0372fb9ed0b4446e2f035 class_name relatednodeinfo   text adaptiverag learning to adapt retrievalaugmented large language models through question complexity soyeong jeong1jinheon baek2sukmin cho1sung ju hwang12jong c park1 school of computing1graduate school of ai2 korea advanced institute of science and technology12 starsuzijinheonbaeknelllpicsjhwang82jongparkkaistackr abstract retrievalaugmented large language models llms which incorporate the nonparametric knowledge from external knowledge bases into llms have emerged as a promising approach to enhancing response accuracy in several tasks such as questionanswering qa however even though there are various approaches deal ing with queries of different complexities they either handle simple queries with unnecessary computational overhead or fail to adequately address complex multistep queries yet not all user requests fall into only one of the sim ple or complex categories in this work we propose a novel adaptive qa framework that can dynamically select the most suitable strat egy for retrievalaugmented llms from the simplest to the most sophisticated ones based on the query complexity also this selec tion process is operationalized with a classi fier which is a smaller lm trained to predict the complexity level of incoming queries with automatically collected labels obtained from actual predicted outcomes of models and in herent inductive biases in datasets this ap proach offers a balanced strategy seamlessly adapting between the iterative and singlestep retrievalaugmented llms as well as the no retrieval methods in response to a range of query complexities we validate our model on a set of opendomain qa datasets cov ering multiple query complexities and show that ours enhances the overall efficiency and accuracy of qa systems compared to rele vant baselines including the adaptive retrieval approaches code is available at https githubcomstarsuziadaptiverag 1 introduction recent large language models llms brown et al 2020 openai 2023 touvron et al 2023 anil et al 2023 have shown overwhelming per formances across diverse tasks including question corresponding author 05 10 15 20 25 30 35 time per query4748495051performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with gpt35figure 1 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the gpt35turboinstruct as the base llm answering qa yang et al 2018 kwiatkowski et al 2019 however they still generate factu ally incorrect answers since their knowledge solely relies on their parametric memory kasai et al 2022 mallen et al 2023 meanwhile memoriz ing all the everchanging world knowledge may not be possible to address this problem retrieval augmented llms borgeaud et al 2022 izacard et al 2023 shi et al 2023 which incorporate nonparametric knowledge into llms with addi tional retrieval modules have gained much increas ing attention specifically these models access a knowledge base which serves as an extensive repository of information across various subjects and disciplines to retrieve information relevant to the given input and then incorporate the retrieved information into llms which enables them to stay accurate and current with the world knowledge a particularly salient application of retrieval augmented llms is to handling qa tasks whose goal is to provide correct answers in response to user queries especially those of high complexity early work on retrievalaugmented llms focuses primarily on singlehop queries lazaridou et al 2022 ram et al 2023 whose answers are typ ically found within a single document therefore this approach involves retrieving a relevant doc ument based on the query and subsequently inte grating this information into qa models to formu late a response however unlike this singlehop qa some queries require connecting and aggregat ing multiple documents which are furthermorearxiv240314403v2 cscl 28 mar 2024 mimetype textplain start_char_idx 0 end_char_idx 3959 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 62cfa447c7dd4a2698ce69e24a427d34 embedding null metadata  page_label 2 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 9fb797f7776f4d65b6ea0f43c58dae51 node_type 4 metadata  page_label 2 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 568c92023f4d1aceb288cec1f902f0b1b59d687daae4139add5c8a4cd744916e class_name relatednodeinfo   text retrievalcomplex query what currency is in billy giles birthplacesimple query when is the birthday of michael f phelpsdocuments answer documents answer a single step approach inaccurate retrieval retrievalsimple query when is the birthday of michael f phelpsdocuments intermediate answers b multi step approach inefficient k times complex query what currency is in billy giles birthplacedocuments intermediate answers k timesstraightforward query paris is the capital of whatc our adaptive approach answer simple query when is the birthday of michael f phelpsdocuments answer complex query what currency is in billy giles birthplacedocuments intermediate answers k times classifier figure 2 a conceptual comparison of different retrievalaugmented",
        "mimetype": "text/plain",
        "start_char_idx": 2,
        "end_char_idx": 6382,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3ba16c11-0a57-45b1-9f85-57537beb63c6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b00a2e4e-09e6-452b-bdf0-a2c74579f534",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c1d03098fb06caa1b05ade16f4886de117af60d05ec84766a3f4827558032e70",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "65cee7a6-9788-452f-9a1e-6ff8e414b8bb",
                "node_type": "1",
                "metadata": {},
                "hash": "d74c7932366e65c4448fbb970e970080669d0eb88dabff53ef9763391dcdc085",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 568c92023f4d1aceb288cec1f902f0b1b59d687daae4139add5c8a4cd744916e class_name relatednodeinfo   text retrievalcomplex query what currency is in billy giles birthplacesimple query when is the birthday of michael f phelpsdocuments answer documents answer a single step approach inaccurate retrieval retrievalsimple query when is the birthday of michael f phelpsdocuments intermediate answers b multi step approach inefficient k times complex query what currency is in billy giles birthplacedocuments intermediate answers k timesstraightforward query paris is the capital of whatc our adaptive approach answer simple query when is the birthday of michael f phelpsdocuments answer complex query what currency is in billy giles birthplacedocuments intermediate answers k times classifier figure 2 a conceptual comparison of different retrievalaugmented llm approaches to question answering a in response to a query this singlestep approach retrieves relevant documents and then generates an answer however it may not be sufficient for complex queries that require multistep reasoning b this multistep approach iteratively retrieves documents and generates intermediate answers which is powerful yet largely inefficient for the simple query since it requires multiple accesses to both llms and retrievers c our adaptive approach can select the most suitable strategy for retrievalaugmented llms ranging from iterative to single to even no retrieval approaches based on the complexity of given queries determined by our classifier often not answerable through a singlestep pro cess of retrievalandresponse an example query is when did the people who captured malakoff come to the region where philipsburg is located which requires four reasoning steps to solve there fore to effectively handle such complex queries recent studies have concentrated largely on multi step and multireasoning qa which requires itera tive accesses to both llms and retrievers multiple times press et al 2023 trivedi et al 2023 at the cost of heavy computational overheads yet we should rethink in a realworld scenario are all the requests from users complex instead users might often ask simple and straightforward questions while only occasionally asking complex ones specifically a query such as paris is the capital of what is likely to be asked more fre quently compared to the aforementioned multi step query and this simpler query might also be easily answered by the llms themselves without accessing external knowledge in other words a multistep qa approach could give rise to unnec essary computational overhead for simple queries even though it would be vital for complex queries see figure 2 a on the other hand handling complex queries with singlestepretrieval or even nonretrieval strategies would be largely insuffi cient figure 2 b this suggests the need for an adaptive qa system which can dynamically adjust the operational strategies of retrievalaugmented llms based on the query complexity while some recent approaches are capable of doing this based on the frequency of entities in queries mallen et al 2023 or on the generated outputs from models for multistep qa trivedi et al 2023 they are still suboptimal the former methods are overly simplistic failing to consider multihop queries meanwhile the latter are excessively complex ter minating answer solving steps after several rounds of module accessin this work considering diverse complexity lev els of realworld queries we argue that previous onesizefitsall approaches might be inadequate to cover all of them instead we propose to select the most suitable strategy from a range of retrieval augmented llms each of which is tailored to the specific complexity of the input query notably a critical step in this process is predefining the query complexity which is instrumental in deter mining the most fitting model to it in this work we operationalize this process with a novel classi fier which is a smaller model trained to predict the complexity level of incoming queries see figure 2 c moreover we automatically collect its training datasets without human labeling by leveraging the predicted outcomes ie which models accurately respond to which queries as well as by capitalizing on the inherent biases in existing datasets ie sam ples in the datasets are designed either for single step or for multistep qa scenarios this proposed method can offer a robust middle ground among the iterative llm augmentation methods for complex queries singlestep methods for simpler queries and even noretrievalaugmented methods for the most straightforward queries answerable by llms themselves thus significantly enhancing the over all efficiency and accuracy as shown in figure 1 we refer to our framework as adaptive retrieval augmented generation adaptiverag we validate adaptiverag using benchmark opendomain qa datasets covering a wide range of query complexity from singlehop rajpurkar et al 2016 joshi et al 2017 kwiatkowski et al 2019 to multihop yang et al 2018 ho et al 2020 trivedi et al 2022b queries the exper imental results show that ours significantly im proves the overall accuracy and efficiency com pared to the prior adaptive strategies on multiple llms such as gpt35 brown et al 2020 and flant5 series chung et al 2022 mimetype textplain start_char_idx 0 end_char_idx 5180 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ ef25023299d34bdda5627e6877df469e embedding null metadata  page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 4b952b154b364277abd3229181b09c0c node_type 4 metadata  page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash b9c303f41aa8e1f6e4537517eb985ec5e1ce8a05aafa63cb05979536dd4643a9 class_name relatednodeinfo   text our contributions and findings are threefold we point out the realistic scenario of queries of varying complexities and find out that existing retrievalaugmented generation approaches tend to be overly simple or complex we adapt retrievalaugmented llms to the query complexity assessed by the classifier which en ables the utilization of the most suitable approach tailored to each query we show that our adaptiverag is highly effec tive and efficient balancing between the com plexity and the simplicity for diverse queries 2 related work opendomain qa opendomain qa is the task of accurately answering a query by sourcing for queryrelevant documents and",
        "mimetype": "text/plain",
        "start_char_idx": 5448,
        "end_char_idx": 12390,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "65cee7a6-9788-452f-9a1e-6ff8e414b8bb",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3ba16c11-0a57-45b1-9f85-57537beb63c6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "1ec0c933c89cef7a03e55106274c08aea8d62c9a4bdcf942846e37d5d512b9f3",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a65ce600-6a9f-4421-9509-abeb16a8caa8",
                "node_type": "1",
                "metadata": {},
                "hash": "68b7d913ec942bcd67d75d1da1a157f0c24745e80f2b89ae6a85d5fd62c1c876",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash b9c303f41aa8e1f6e4537517eb985ec5e1ce8a05aafa63cb05979536dd4643a9 class_name relatednodeinfo   text our contributions and findings are threefold we point out the realistic scenario of queries of varying complexities and find out that existing retrievalaugmented generation approaches tend to be overly simple or complex we adapt retrievalaugmented llms to the query complexity assessed by the classifier which en ables the utilization of the most suitable approach tailored to each query we show that our adaptiverag is highly effec tive and efficient balancing between the com plexity and the simplicity for diverse queries 2 related work opendomain qa opendomain qa is the task of accurately answering a query by sourcing for queryrelevant documents and then interpreting them to provide answers chen et al 2017 zhu et al 2021 which thus generally involves two modules a retriever karpukhin et al 2020 xiong et al 2021 and a reader yang et al 2019 izac ard and grave 2021 jeong et al 2023 along with the emergence of llms with superior rea soning capabilities thanks to their billionsized pa rameters wei et al 2022a a synergy between llms and retrievers has led to significant advance ments lazaridou et al 2022 ram et al 2023 specifically this integration has been shown to enhance opendomain qa by mitigating the hallu cination problem from llms through strengthened reasoning abilities of the reader as well as utiliz ing the retrieved external documents cho et al 2023 despite these advancements for singlehop retrievalaugmented llms however the complex ity of some queries needs a more complex strategy multihop qa multihop qa is an extension of conventional opendomain qa which addition ally requires the system to comprehensively gather and contextualize information from multiple docu ments often iteratively to answer more complex queries trivedi et al 2022a yang et al 2018 in the realm of multihop qa the approach to itera tively access both llms and the retrieval module is generally employed specifically khattab et al 2022 press et al 2023 pereira et al 2023 and khot et al 2023 proposed to first decom pose the multihop queries into simpler singlehop queries repeatedly access the llms and retriever to solve these subqueries and merge their solu tions to formulate a complete answer in contrastto this decompositionbased approach other re cent studies such as yao et al 2023 and trivedi et al 2023 explored the interleaving of chainof thought reasoning wei et al 2022b a method where a logical sequence of thoughts is generated with document retrieval repeatedly applying this process until the reasoning chain generates the an swer in addition jiang et al 2023 introduced an approach to repeatedly retrieving new documents if the tokens within generated sentences have low confidence however the aforementioned methods overlooked the fact that in realworld scenarios queries are of a wide variety of complexities there fore it would be largely inefficient to iteratively access llms and retrievers for every query which might be simple enough with a single retrieval step or even only with an llm itself adaptive retrieval to handle queries of varying complexities the adaptive retrieval strategy aims to dynamically decide whether to retrieve documents or not based on each querys complexity in this vein mallen et al 2023 proposed to decide the querys complexity level based on the frequency of its entities and suggested using the retrieval mod ules only when the frequency falls below a cer tain threshold however this approach focusing solely on the binary decision of whether to retrieve or not may not be sufficient for more complex queries that require multiple reasoning steps ad ditionally qi et al 2021 proposed an approach that performs a fixed set of operations retrieving reading and reranking multiple times until the an swer is derived for the given query which is built upon traditional bertlike lms however unlike our adaptiverag which predetermines the query complexity and adapts the operational behavior of any offtheshelf llms accordingly this approach applies the same fixed operations to every query regardless of its complexity but also necessitates additional specific training to lms concurrent to our work asai et al 2024 suggested training a so phisticated model to dynamically retrieve critique and generate the text nevertheless we argue that all the aforementioned adaptive retrieval methods that rely on a single model might be suboptimal in handling a variety of queries of a range of differ ent complexities since they tend to be either overly simple or complex for all the input queries which demands a new approach that can select the most suitable strategy of retrievalaugmented llms tai lored to the query complexity mimetype textplain start_char_idx 0 end_char_idx 4677 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 80fb04bbd36045c298510116a8878b20 embedding null metadata  page_label 4 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id e2ab44f0228943c383f886ccf06ffd70 node_type 4 metadata  page_label 4 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 9bf376a169b5989168590a468cae131e5b9f9438867de73331cedc5a364d5dd5 class_name relatednodeinfo   text 3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2 x nas an input and then generates a sequence of tokens y y1 y2 y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query q from the user and the generated answer a from the llm respectively qxanday also subsequently the most nau00efve llmpowered",
        "mimetype": "text/plain",
        "start_char_idx": 11537,
        "end_char_idx": 18051,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a65ce600-6a9f-4421-9509-abeb16a8caa8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "65cee7a6-9788-452f-9a1e-6ff8e414b8bb",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "080130a2c5c8c01bac4a42b849c2eb96dccd1056ffa5f3cfbc78d92a7ecb72d4",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f71e53f1-ac37-43f5-879a-146ac464efed",
                "node_type": "1",
                "metadata": {},
                "hash": "8abee6609af2a4551193d061321e9a7539f9c3b677774d1bc94239e05dadd143",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo   text 3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2 x nas an input and then generates a sequence of tokens y y1 y2 y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query q from the user and the generated answer a from the llm respectively qxanday also subsequently the most nau00efve llmpowered qa model can be represented as follows allmq ideally ashould match the actual correct answer a this nonretrieval based qa method is highly efficient and could be a somewhat promising approach to handling easy queries as the size of llms becomes extremely large with its effect on storing a large amount of knowledge however this approach is largely prob lematic on queries that require precise or concur rent knowledge of specific people events or any subjects beyond the llms internal knowledge singlestep approach for qa to address the aforementioned scenarios where llmmay struggle with queries that are not answerable by llmitself we can utilize the external knowledge d which includes useful information for queries retrieved from the external knowledge source dthat could be an encyclopedia eg wikipedia consisting of millions of documents specifically to obtain suchdfromd a specific retrieval model is nec essary which returns documents based on their relevance with the given query this process can be formulated as follows dretriever qd where retriever is the retrieval model with d d here we can use any offtheshelf re triever robertson et al 1994 karpukhin et al 2020 after the retrieval step is done we now have a pair of query qand its relevant documents d then in order to augment llms with this retrieved exter nal knowledge we can incorporate it into the input of llms represented as follows allmqdthis process allows llms to gain access to exter nal information contained in d which can provide the supplementary context that the internal knowl edge of llmlacks which can subsequently improve the accuracy and concurrency of llms for qa multistep approach for qa even though the aforementioned singlestep approach offers signif icant improvements over nonretrieval for qthat requires external knowledge it encounters notable limitations particularly when dealing with com plex queries that necessitate synthesizing informa tion from multiple source documents and reasoning over them this is where a multistep approach and reasoning for qa become essential in this multistep approach llminteracts with retriever in several rounds progressively refin ing its understanding of q until it formulates the fi nal answer from findings accumulated across these multiple steps specifically the process begins with the initial query q and at every retrieval step i new documents diare retrieved from dand then incorporated into the input of llms as follows aillmqdici where the additional context cican be composed of previous documents and outcomes d1d2 di1a1a2 ai1 and diretriever qcid1 we would like to note that this iterative multistep process enables llmto construct a more comprehensive and exten sive foundation to solve queries effectively specif ically adept at complex multihop queries where answers depend on interconnected pieces of infor mation however it is important to recognize that this multistep approach can be resourceintensive due to the repeated accesses to retriever andllm which entail substantial computational costs 32 adaptiverag adaptive retrievalaugmented generation we now introduce our adaptive retrievalaugmented llms which are built upon three different strate gies described in the previous section and which are designed to select the most suitable strategy according to the complexity of queries adapting retrievalaugmented llms note that in realworld scenarios not all qfrom users have the same level of complexity necessitating 1it is worth noting that implementations of the llm and retriever vary across different multistep retrievalaugmented llm approaches trivedi et al 2023 press et al 2023 yao et al 2023 therefore the context cimay incorporate none some or all of the previous documents and answers mimetype textplain start_char_idx 0 end_char_idx 4477 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f50fc96ae50643fab3d2f253e2b75e3d embedding null metadata  page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 8bdf294f44d94ceaab67c949b2c57785 node_type 4 metadata  page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 49f328238e27c8db80d067ec311a5314d5aaa9a14c38a528995e698391b603ad class_name relatednodeinfo   text tailored strategies for handling each query in other words employing the most basic nonretrieval based approach llmqto respond to the complex query qwould be also ineffective figure 2 a conversely using a more elaborate multistep ap proach llmqdcfor simple qwould be ineffi cient figure 2 b therefore our adaptive frame work is designed to dynamically adjust the query handling strategy of retrievalaugmented llms which is achieved by determining the complexity of each query before attempting a solution notably this framework can offer a robust middle ground with a range of solutions from the simplest ap proach for the most straightforward queries to the onestep approach for moderate queries and up to the most comprehensive and rigorous approach for complex queries in addition since the operations ofllmandretriever remain consistent regard less of inputs to them our method can seeming lessly go back and forth across queries of different complexities without changing the internal model architecture or parameters during adaption query complexity assessment to operational ize our adaptive retrievalaugmented llm frame work we should determine the query complexity and to achieve this we propose to model a com plexity classifier whose goal is to return the appro priate complexity level of the given query specif ically given the query q our classifier can be for mulated as follows oclassifier q where classifier is a smaller",
        "mimetype": "text/plain",
        "start_char_idx": 17295,
        "end_char_idx": 24160,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f71e53f1-ac37-43f5-879a-146ac464efed",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a65ce600-6a9f-4421-9509-abeb16a8caa8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2f023703b1bbe94900ca7558d5ce26777fd05fe3664ccbbf0dab4fe34acc39f5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "03f8dd17-2d33-445c-bbff-940b96f78cad",
                "node_type": "1",
                "metadata": {},
                "hash": "f4ee6e4c8e43c635fced6dbc432619bf7cd7f81581c9f1cd1bfefd754271efaf",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "our adaptive frame work is designed to dynamically adjust the query handling strategy of retrievalaugmented llms which is achieved by determining the complexity of each query before attempting a solution notably this framework can offer a robust middle ground with a range of solutions from the simplest ap proach for the most straightforward queries to the onestep approach for moderate queries and up to the most comprehensive and rigorous approach for complex queries in addition since the operations ofllmandretriever remain consistent regard less of inputs to them our method can seeming lessly go back and forth across queries of different complexities without changing the internal model architecture or parameters during adaption query complexity assessment to operational ize our adaptive retrievalaugmented llm frame work we should determine the query complexity and to achieve this we propose to model a com plexity classifier whose goal is to return the appro priate complexity level of the given query specif ically given the query q our classifier can be for mulated as follows oclassifier q where classifier is a smaller language model that is trained to classify one of three different complexity levels and ois its corresponding class label in our classifier design there are three class labels a b and c where a indicates that qis straight forward and answerable by llmqitself b in dicates that qhas the moderate complexity where at least a singlestep approach llmqdis needed and c indicates that qis complex requiring the most extensive solution llmqdc2 training strategy the remaining step is to train the smaller language model for classifier to accurately predict its complexity oin response to the given query q yet there is no annotated dataset available for querycomplexity pairs hence we propose to automatically construct the training dataset with two particular strategies to be specific we first aim at labeling the query 2we consider three levels of query complexity and leave the exploration of more finegrained complexities as future workcomplexity based on the results from three different retrievalaugmented llm strategies in order to determine the label by its needs for example if the simplest nonretrievalbased approach correctly generates the answer the label for its corresponding query is assigned a also to break the tie between different models in providing the label to the query we provide a higher priority to a simpler model in other words if both singlestep and multistep approaches produce the same correct answer while the nonretrievalbased approach fails we assign label b to its corresponding query however this labeling strategy has a limita tion in that not all the queries are assigned labels since the three retrievalaugmented approaches may all fail to generate the correct answer on the other hand the benchmark datasets may al ready have meaningful inductive biases about the most appropriate retrievalaugmented llm strate gies for their queries considering the ways they are created eg qa datasets that require sequen tial reasoning usually necessitate a multistep ap proach while queries of those with labeled sin gle documents can be ideally answerable with the singlestep approach therefore for those queries that remain unlabeled after the first labeling step we assign b to queries in singlehop datasets and c to queries in multihop datasets finally we train classifier with these automatically collected querycomplexity pairs3 by using a cross entropy loss then at inference we can deter mine the complexity of the query which is one of a b c by forwarding it to classifier oclassifier q 4 experimental setups in this section we explain datasets models met rics and implementation details we provide addi tional details in appendix a 41 datasets in order to simulate a realistic scenario where dif ferent queries have varying complexities we use both the singlehop and multihop qa datasets si multaneously in the unified experimental setting singlehop qa for simpler queries we use three benchmark singlehop qa datasets which consist 3as we automatically assign classifier labels there might be errors in labeling and might be more advanced strategies to automatically assign labels which we leave as future work mimetype textplain start_char_idx 0 end_char_idx 4580 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2109131d3bec407bafd78d2bbc9984d6 embedding null metadata  page_label 6 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 5cd99aa85b7944fc9af1edb22c9cc58f node_type 4 metadata  page_label 6 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 29564e9a6ac9152d0d321bacbcd25cffe6804717dced9332e54d6947ca60888d class_name relatednodeinfo   text table 1 averaged results on a collection of benchmark datasets for opendomain question answering including the singlehop and multihop queries with different llms selfragis trained with a different base llm namely llama2 touvron et al 2023 therefore we compare the results of flant5xl 3b with the results from selfrag with llama2 7b and the results of others with the results from selfrag with llama2 13b we emphasize our results in bold for easy comparisons flant5xl 3b flant5xxl 11b gpt35 turbo types methods em f1 acc step time em f1 acc step time em f1 acc step time simpleno retrieval 1487 2112 1597 000 011 1783 2514 1933 000 008 3577 4856 4427 000 071 singlestep approach 3483 4431 3887 100 100 3787 4763 4190 100 100 3473 4699 4527 100 100 adaptiveadaptive retrieval 2387 3224 2673 050 056 2693 3567 2973 050 054 3590 4820 4530 050 086 selfrag990 2079 3157 072 043 1087 2298 3413 074 023 1087 2298 3413 074 150 adaptiverag ours 3717 4694 4210 217 360 3890 4862 4377 135 200 3797 5091 4897 103 146 complex multistep approach 3900 4885 4370 469 881 4013 5009 4520 213 380",
        "mimetype": "text/plain",
        "start_char_idx": 23025,
        "end_char_idx": 29297,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "03f8dd17-2d33-445c-bbff-940b96f78cad",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f71e53f1-ac37-43f5-879a-146ac464efed",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2b0b590552a2e97d4edeaeb29dba25c41ede9aada7866bbe81c76babe417f463",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e141340a-7373-43f8-9698-d2291c245221",
                "node_type": "1",
                "metadata": {},
                "hash": "8561802d9f7b9c6579e14e82dc24d0327bfcd441b74095a845ba2063b269f51d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "071 singlestep approach 3483 4431 3887 100 100 3787 4763 4190 100 100 3473 4699 4527 100 100 adaptiveadaptive retrieval 2387 3224 2673 050 056 2693 3567 2973 050 054 3590 4820 4530 050 086 selfrag990 2079 3157 072 043 1087 2298 3413 074 023 1087 2298 3413 074 150 adaptiverag ours 3717 4694 4210 217 360 3890 4862 4377 135 200 3797 5091 4897 103 146 complex multistep approach 3900 4885 4370 469 881 4013 5009 4520 213 380 3813 5087 4970 281 333 oracle adaptiverag w oracle 4500 5628 4990 128 211 4717 5860 5220 084 110 4770 6280 5857 050 103 of queries and their associated documents contain ing answers namely 1 squad v11 rajpurkar et al 2016 2 natural questions kwiatkowski et al 2019 and 3 triviaqa joshi et al 2017 multihop qa to consider more complex query scenarios we use three benchmark multihop qa datasets which require sequential reasoning over multiple documents namely 1 musique trivedi et al 2022a 2 hotpotqa yang et al 2018 and3 2wikimultihopqa ho et al 2020 42 models we compare our adaptiverag against relevant models including three retrievalaugmented llm strategies in section 31 and the adaptive re trieval approaches mallen et al 2023 asai et al 2024 which can be grouped into one of three cat egories simple adaptive and complex specif ically simple approaches include the 1 no re trieval and2 singlestep approach based meth ods adaptive approaches include the 3 adaptive retrieval mallen et al 2023 4 selfrag asai et al 2024 and our 5 adaptiverag which can adaptively perform retrieval based on the question complexity for the 6 multistep ap proach we use the most sophisticated stateof theart method trivedi et al 2023 iteratively accessing both the retriever and llm with chain ofthought reasoning wei et al 2022b for every query note that models across different categories are not directly comparable yet in the ideal set ting adaptive approaches should be more effective than those in the simple category while simultane ously being more efficient than the complex one therefore we also report the performance in an ideal scenario 7 adaptiverag w oracle using the oracle classifier with our adaptiverag 43 evaluation metrics when it comes to evaluating adaptive models it is essential to simultaneously consider both thetask performance and efficiency along with their tradeoffs thus we report the results with five metrics where three of them measure the effective ness and the other two measure the efficiency in particular for effectiveness we use f1 em and accuracy acc following the standard evaluation protocol mallen et al 2023 baek et al 2023 asai et al 2024 where f1 measures the number of overlapping words between the predicted an swer and the ground truth em measures whether they are the same and acc measures whether the predicted answer contains the groundtruth answer for efficiency we measure the number of retrieval andgenerate steps and the average time for answer ing each query relative to the onestep approach 44 implementation details for a fair comparison and following mallen et al 2023 and trivedi et al 2023 we use the same re triever a termbased sparse retrieval model known as bm25 robertson et al 1994 across all differ ent models for the external document corpus we use different sources depending on the dataset type the wikipedia corpus preprocessed by karpukhin et al 2020 for singlehop datasets and the pre processed corpus by trivedi et al 2023 for multi hop datasets regarding the llms that are used to generate answers we use the flant5 series models chung et al 2022 of xl with 3b pa rameters and xxl with 11b parameters and the gpt35 model gpt35turboinstruct for the retrievalaugmented llm design we follow the implementation details from trivedi et al 2023 which include input prompts instructions and the number of test samples for evaluation eg 500 samples per dataset in our adaptiverag for the querycomplexity classifier we use and train the t5large model raffel et al 2020 specifically the classifier is trained using the epoch that shows the best performance until 100 training iterations from the validation set with the learning rate of 3e mimetype textplain start_char_idx 0 end_char_idx 4774 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ ee3d00b3ef34432a99df4802ece2dc26 embedding null metadata  page_label 7 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 8f883de7252f4e90919eb8705931c5f5 node_type 4 metadata  page_label 7 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash bf7f9056f4d4d18b2daadc46b1af32359ded02722d32ff2be5164ef629a93f3d class_name relatednodeinfo   text table 2 results on each of a collection of datasets with flant5xl 3b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 360 1050 500 000 011 1420 1900 1560 000 013 2500 3180 2700 000 013 singlestep approach 2780 3930 3400 100 100 3780 4730",
        "mimetype": "text/plain",
        "start_char_idx": 28875,
        "end_char_idx": 34284,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e141340a-7373-43f8-9698-d2291c245221",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "03f8dd17-2d33-445c-bbff-940b96f78cad",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f145a854ebb35697b8916c88715d8c2d51b80e2cd7f16fba52cefee4a69c6b02",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2980e2d9-9083-49a2-a6ed-0d77abb7ee15",
                "node_type": "1",
                "metadata": {},
                "hash": "1d1487e4b54345e7ea0507bbff299372ec1d339087b54b8d71dc0d136b0789c3",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash bf7f9056f4d4d18b2daadc46b1af32359ded02722d32ff2be5164ef629a93f3d class_name relatednodeinfo   text table 2 results on each of a collection of datasets with flant5xl 3b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 360 1050 500 000 011 1420 1900 1560 000 013 2500 3180 2700 000 013 singlestep approach 2780 3930 3400 100 100 3780 4730 4460 100 100 5360 6240 6020 100 100 adaptiveadaptive retrieval 1340 2310 1760 050 055 2820 3600 3300 050 056 3840 4690 4260 050 056 selfrag220 1120 1840 063 050 3140 3900 3360 063 017 1280 2930 5700 068 045 adaptiverag ours 2680 3830 3300 137 202 3780 4730 4460 100 100 5220 6070 5820 123 154 complex multistep approach 2440 3560 2960 452 903 3860 4780 4420 504 1018 5380 6240 6020 528 922 oracle adaptiverag w oracle 3200 4560 3820 124 160 4740 5710 5360 110 155 6160 7020 6640 079 110 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 240 1070 320 000 011 1660 2271 1720 000 011 2740 3204 2780 000 010 singlestep approach 1380 2280 1520 100 100 3440 4615 3640 100 100 4160 4790 4280 100 100 adaptiveadaptive retrieval 640 1580 800 050 055 2360 3222 2500 050 055 3320 3944 3420 050 055 selfrag160 810 1200 073 051 680 1753 2960 073 045 460 1959 3880 093 049 adaptiverag ours 2360 3180 2600 322 661 4200 5382 4440 355 599 4060 4975 4640 263 468 complex multistep approach 2300 3190 2580 360 758 4460 5654 4700 553 938 4960 5885 5540 417 737 oracle adaptiverag w oracle 2480 3850 2700 198 399 5120 6400 5480 159 277 5300 6230 5940 101 169 f1102030405060adaptive retrieval selfrag adaptiverag ours classifier acc3540455055flant5xl f1102030405060adaptive retrieval selfrag adaptiverag ours classifier acc3540455055flant5xxl no one multino one multi031 047 022 01 066 023 003 031 065 020406confusion matrix figure 3 performance on qa and querycomplexity assessment of different adaptive approaches for retrievalaugmented llms with flant5 xl left and xxl center for labeling the complexity of queries we use the silver data annotated from the prediction outcomes of models described in section 32 we also provide the confusion matrix across three labels right 5 and the adamw loshchilov and hutter 2019 as an optimizer regarding its training data we sample and annotate 400 queries from 6 datasets based on its inductive bias singlehop for onestep approach and multihop for multistep in addition we use predicted outcomes of three different strate gies over 400 queries sampled from each dataset note that those queries used for classifier training do not overlap with the testing queries for qa 5 experimental results and analyses in this section we show the overall experimental results and offer indepth analyses of our method main results first of all table 1 shows our main results averaged over all considered datasets which corroborate our hypothesis that simple retrieval augmented strategies are less effective than the complex strategy while the complex one is sig nificantly more expensive than the simple ones in addition we report the more granular results with flant5xl on each of the singlehop and multi hop datasets in table 2 and more with different llms in table 7 and table 8 of appendix which are consistent with the results observed in table 1 however in a realworld scenario not all users ask queries with the same level of complexity which emphasizes the importance of the need for adaptive strategies note that among the adaptive strategies our adaptiverag shows remarkableeffectiveness over the competitors table 1 this indicates that merely focusing on the decision of whether to retrieve or not is suboptimal also as shown in table 2 such simple adaptive strategies are particularly inadequate for handling complex queries in multihop datasets which require ag gregated information and reasoning over multiple documents meanwhile our approach can consider a more finegrained query handling strategy by fur ther incorporating an iterative module for complex queries furthermore in a realistic setting we should take into account not only effectiveness but also efficiency as shown in table 1 compared to the complex multistep strategy our proposed adap tive strategy is significantly more efficient across all model sizes this is meaningful in this era of llms where the cost of accessing them is a critical factor for practical applications and scalability fi nally to see the upper bound of our adaptiverag we report its performances with the oracle classifier where the classification performance is perfect as shown in table 1 and table 2 we observe that it achieves the best performance while being much more efficient than our adaptiverag without the oracle classifier these results support the valid ity and significance of our proposal for adapting retrievalaugmented llm strategies based on query complexity and further suggest the direction to de velop more improved classifiers to achieve optimal performance mimetype textplain start_char_idx 0 end_char_idx 5004 text_template metadata_strnncontent",
        "mimetype": "text/plain",
        "start_char_idx": 33713,
        "end_char_idx": 39005,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2980e2d9-9083-49a2-a6ed-0d77abb7ee15",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e141340a-7373-43f8-9698-d2291c245221",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "a76d0b72fb19093e95ffa9c981e00e737206c96092acf49dbbfd5909830d7315",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ebd0144e-0278-45a5-a7d9-0459d4b3dc97",
                "node_type": "1",
                "metadata": {},
                "hash": "4d6cf8253c5c75dd4cbeb839f0ddbe5a49638e8584786f67ae77385c9bd120ea",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "query handling strategy by fur ther incorporating an iterative module for complex queries furthermore in a realistic setting we should take into account not only effectiveness but also efficiency as shown in table 1 compared to the complex multistep strategy our proposed adap tive strategy is significantly more efficient across all model sizes this is meaningful in this era of llms where the cost of accessing them is a critical factor for practical applications and scalability fi nally to see the upper bound of our adaptiverag we report its performances with the oracle classifier where the classification performance is perfect as shown in table 1 and table 2 we observe that it achieves the best performance while being much more efficient than our adaptiverag without the oracle classifier these results support the valid ity and significance of our proposal for adapting retrievalaugmented llm strategies based on query complexity and further suggest the direction to de velop more improved classifiers to achieve optimal performance mimetype textplain start_char_idx 0 end_char_idx 5004 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7b0f78663e8d406994fed1a145d22ae5 embedding null metadata  page_label 8 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 4a1593b07fd342f3b2516456eb5b4891 node_type 4 metadata  page_label 8 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 9a4434a9e9b5c116305be338fa9a863f5bee7a2eb1a73bce93461bff3eb55f0e class_name relatednodeinfo   text table 3 the exact elapsed time per query and the percentage of the predicted labels from the classifier over all samples labels timequery sec percentage no a 035 860 one b 308 5333 multi c 2718 3807 classifier performance to understand how the proposed classifier works we analyze its perfor mance across different complexity labels as fig ure 3 left and center shows the classification accuracy of our adaptiverag is better than those of the other adaptive retrieval baselines which leads to overall qa performance improvements in other words this result indicates that our adaptive rag is capable of more accurately classifying the complexity levels with various granularities which include not performing retrieval performing re trieval only once and performing retrieval multiple times in addition to the true positive performance of our classifier averaged over all those three la bels in figure 3 left and center we further re port its confusion matrix in figure 3 right we note that the confusion matrix reveals some notable trends c multi is sometimes misclassified as b one about 31 and b one as c multi about 23 a no is misclassified often as b one about 47 and less frequently as c multi about 22 while the overall results in figure 3 show that our classifier effectively cate gorizes the three labels further refining it based on such misclassification would be a meaningful direction for future work analyses on efficiency for classifier while ta ble 1 shows the relative elapsed time for each of the three different rag strategies we further provide the exact elapsed time per query for our adaptive rag and the distribution for predicted labels from our querycomplexity classifier in table 3 similar to the results of the elapsed time in table 1 relative time table 3 exact time shows that efficiency can be substantially improved by identifying sim ple or straightforward queries analyses on training data for classifier we have shown that the classifier plays an important role in adaptive retrieval here we further analyze the different strategies for training the classifier by ablating our full training strategy which includes two approaches generating silver data from pre dicted outcomes of models and utilizing inductivetable 4 results on qa and complexity classification with varying the data annotation strategies for training the classifier qa classifier accuracy training strategies f1 step all no one multi adaptiverag ours 4694 1084 5452 3052 6628 6545 wo binary 4343 640 6030 6219 6570 3955 wo silver 4879 1464 4000 000 5398 7591 bias in datasets see section 32 as table 4 shows compared to the training strategy relying solely on the data derived from inductive bias ours is sig nificantly more efficient this efficiency is partly because ours also takes into account the case that does not consider any documents at all as also implied by the classification accuracy meanwhile queries in the existing datasets do not capture the information on whether the retrieval is required or not on the other hand in the case of only using the silver data annotated from the correct predictions while its overall classification accuracy is high the overall qa performance implies that relying on the silver data may not be optimal this may be because this silver data does not cover complex ity labels over incorrectly predicted queries which leads to lower generalization effect on queries rel evant to them meanwhile by also incorporating complexity labels from dataset bias singlehop vs multihop the classifier becomes more accurate in predicting multihop queries leading to the better performance it is worth noting that our automatic labeling strategies are two particular instantiations for training the classifier and that there could be other instantiations which we leave as future work analyses on classifier size to investigate the sensitivity of our classifier according to its varying sizes we conducted further experiments as shown in table 6 we observe no significant performance differences among classifiers of various sizes even with reduced complexity and fewer parameters in smaller classifiers this indicates that our proposed classifier can contribute to resourceefficient set tings in realuse cases with smaller sizes without compromising the performance case study we conduct a case study to qualita tively compare our adaptiverag against adap tive retrieval table 5 shows the classified com plexity and the query handling patterns for both simple and complex questions first for the simple singlehop question our adaptiverag identifies that it is answerable by only using the llms para metric knowledge about google by contrast mimetype textplain start_char_idx 0 end_char_idx 4675 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d4cdf01779904f08a35d0eb094b5e639 embedding null metadata  page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416",
        "mimetype": "text/plain",
        "start_char_idx": 37872,
        "end_char_idx": 44905,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ebd0144e-0278-45a5-a7d9-0459d4b3dc97",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2980e2d9-9083-49a2-a6ed-0d77abb7ee15",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "597d5b6525f259cf2d2a0168e0f2876390bbd26e2d57ee9abd64f40a9f373554",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3b8351c2-91b7-4ea5-b37d-811416d0a090",
                "node_type": "1",
                "metadata": {},
                "hash": "cd5c6d21613f5f6ec5226053553dbaf8befaf5fdb650de632f1e7b19f9b7c5f4",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "our proposed classifier can contribute to resourceefficient set tings in realuse cases with smaller sizes without compromising the performance case study we conduct a case study to qualita tively compare our adaptiverag against adap tive retrieval table 5 shows the classified com plexity and the query handling patterns for both simple and complex questions first for the simple singlehop question our adaptiverag identifies that it is answerable by only using the llms para metric knowledge about google by contrast mimetype textplain start_char_idx 0 end_char_idx 4675 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d4cdf01779904f08a35d0eb094b5e639 embedding null metadata  page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 868767a4931c48f983cc74b6fe351a6a node_type 4 metadata  page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash ab57a9315c5139a49739ea12498ea2b36607244219a38eedf795f8c9210fe756 class_name relatednodeinfo   text table 5 case study with gpt35 turbo where we represent the factual error in red and the accurate information in blue dataset question adaptive retrieval adaptiverag ours nq singlehopwhich famous corpo rate logo changed to a flat colourcolor sans serif font in its first ma jor change since 1999query type b singlestep approach reasoning the famous corporate logo that changed to a flat color sansserif font in its first major change since 1999 is microsoft microsoft changed its logo in 2012 replacing the italicized multicolored font with a simple flat grey font so the answer is microsoftquery type a non retrieval reasoning the famous corporate logo that changed to a flat color sans serif font in its first ma jor change since 1999 is google google changed its logo in 2015 so the answer is google musique multihopwho is the child of the italian navigator who explored the eastern coast of the continent cu00e9sar gaytan was born in for the englishquery type a non retrieval reasoning cu00e9sar gaytan was born in the conti nent of north america the italian navigator who explored the eastern coast of north america for the english was giovanni caboto also known as john cabot so the answer is giovanni cabotojohn cabotquery type c multistep approach reasoning cu00e9sarr gaytan was born in guadalajara jalisco mexico the italian navigator who explored the eastern coast of the continent for the english is john cabot john cabots son is sebastian cabot so the answer is sebastian cabot table 6 results with varying model sizes for classifiers qa classifier accuracy sizes f1 step all no one multi small 60m 4583 964 5348 2665 7062 5318 base 223m 4597 983 5341 2642 6946 5682 large 770m 4694 1084 5452 3052 6628 6545 adaptive retrieval fetches additional documents leading to longer processing times and occasion ally producing incorrect responses due to the inclu sion of partially irrelevant information about mi crosoft meanwhile faced with a complex ques tion adaptiverag seeks out relevant information including details like a son of john cabot which may not have been stored in llms while adaptive retrieval fails to request such information from external sources resulting in inaccurate answers 6 conclusion in this work we proposed the adaptive retrieval augmented generation framework referred to as adaptiverag to handle queries of various complexities specifically adaptiverag is de signed to dynamically adjust its query handling strategies in the unified retrievalaugmented llm based on the complexity of queries that they en counter which spans across a spectrum of the non retrievalbased approach for the most straightfor ward queries to the singlestep approach for the queries of moderate complexity and finally to the multistep approach for the complex queries the core step of our adaptiverag lies in determin ing the complexity of the given query which is instrumental in selecting the most suitable strat egy for its answer to operationalize this process we trained a smaller language model with query complexity pairs which are automatically anno tated from the predicted outcomes and the inductive biases in datasets we validated our adaptiveragon a collection of opendomain qa datasets cover ing the multiple query complexities including both the single and multihop questions the results demonstrate that our adaptiverag enhances the overall accuracy and efficiency of qa systems al locating more resources to handle complex queries while efficiently handling simpler queries com pared to the existing onesizefitsall approaches that tend to be either minimalist or maximalist over varying query complexities limitations while our adaptiverag shows clear advantages in effectiveness and efficiency by determining the query complexity and then leveraging the most suitable approach for tackling it it is important to recognize that there still exist potential avenues for improving the classifier from the perspectives of its training datasets and architecture specifi cally as there are no available datasets for training the querycomplexity classifier we automatically create new data based on the model prediction out comes and the inductive dataset biases however our labeling process is one specific instantiation of labeling the query complexity and it may have the potential to label queries incorrectly despite its effectiveness therefore future work may create new datasets that are annotated with a diverse range of query complexities in addition to the labels of questionanswer pairs also as the performance gap between the ideal classifier in table 1 and the current classifier in figure 3 indicates there is still room to improve the effectiveness of the classifier in other words our classifier design based on the smaller lm is the initial simplest instantiation for classifying the query complexity and based upon it future work may improve the classifier archi tecture and its performance which will positively contribute to the overall qa performance mimetype textplain start_char_idx 0 end_char_idx 4981 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 75ed8d8cf1b143afb89cb55eaa625be5 embedding null metadata  page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015",
        "mimetype": "text/plain",
        "start_char_idx": 43991,
        "end_char_idx": 50841,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3b8351c2-91b7-4ea5-b37d-811416d0a090",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ebd0144e-0278-45a5-a7d9-0459d4b3dc97",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bb568c96953935af70dad50d3aa3b551479729653c331327b8d493525cddff5c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "93ed95cf-ebd5-47a3-b5d0-8342189be163",
                "node_type": "1",
                "metadata": {},
                "hash": "092b2d42b50a27b1955cdabb541d29d04226143c3c2f1194fb9a3dc11d00a949",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "to the labels of questionanswer pairs also as the performance gap between the ideal classifier in table 1 and the current classifier in figure 3 indicates there is still room to improve the effectiveness of the classifier in other words our classifier design based on the smaller lm is the initial simplest instantiation for classifying the query complexity and based upon it future work may improve the classifier archi tecture and its performance which will positively contribute to the overall qa performance mimetype textplain start_char_idx 0 end_char_idx 4981 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 75ed8d8cf1b143afb89cb55eaa625be5 embedding null metadata  page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 431e45aa093c4325871a22447dcfa64a node_type 4 metadata  page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 3fd224ab45f3ceef3ab0ccd94fe104951e81351f0cf52f0ea7f935248a7be289 class_name relatednodeinfo   text ethics statement the experimental results on adaptiverag vali date its applicability in realistic scenarios where a wide range of diverse user queries exist nonethe less given the potential diversity of realworld user inputs it is crucial to also consider scenarios where these inputs might be offensive or harmful we should be aware that such inputs could lead to the retrieval of offensive documents and the genera tion of inappropriate responses by the retrieval augmented llms to address this challenge de veloping methods to detect and manage offensive or inappropriate content in both user inputs and re trieved documents within the retrievalaugmented framework is essential we believe that this is a critical area for future work acknowledgements this work was supported by institute for informa tion and communications technology promotion iitp grant funded by the korea government no 2018000582 prediction and augmentation of the credibility distribution via linguistic analysis and automated evidence document collection basic science research program through the national research foundation of korea nrf funded by the ministry of education rs202300275747 and the artificial intelligence industrial convergence cluster development project funded by the ministry of science and ict msit korea gwangju metropolitan city references rohan anil andrew m dai orhan firat melvin john son dmitry lepikhin alexandre passos siamak shakeri emanuel taropa paige bailey zhifeng chen eric chu jonathan h clark laurent el shafey yanping huang kathy meierhellstern gau rav mishra erica moreira mark omernick kevin robinson sebastian ruder yi tay kefan xiao yuanzhong xu yujing zhang gustavo hernu00e1ndez u00e1brego junwhan ahn jacob austin paul barham jan a botha james bradbury siddhartha brahma kevin brooks michele catasta yong cheng colin cherry christopher a choquettechoo aakanksha chowdhery clu00e9ment crepy shachi dave mostafa dehghani sunipa dev jacob devlin mark du00edaz nan du ethan dyer vladimir feinberg fangxi aoyu feng vlad fienber markus freitag xavier garcia sebastian gehrmann lucas gonzalez and et al 2023 palm 2 technical report arxiv preprint arxiv230510403 akari asai zeqiu wu yizhong wang avirup sil andhannaneh hajishirzi 2024 selfrag learning to retrieve generate and critique through selfreflection inthe twelfth international conference on learning representations jinheon baek soyeong jeong minki kang jong park and sung ju hwang 2023 knowledgeaugmented language model verification in proceedings of the 2023 conference on empirical methods in natural language processing emnlp 2023 singapore de cember 610 2023 pages 17201736 association for computational linguistics sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza rutherford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen si monyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international conference on machine learning icml 2022 1723 july 2022 bal timore maryland usa volume 162 of proceedings of machine learning research pages 22062240 pmlr tom b brown benjamin mann nick ryder melanie subbiah jared kaplan prafulla dhariwal arvind neelakantan pranav shyam girish sastry amanda askell sandhini agarwal ariel herbertv oss gretchen krueger tom henighan rewon child aditya ramesh daniel m ziegler jeffrey wu clemens winter christopher hesse mark chen eric sigler mateusz litwin scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon seo",
        "mimetype": "text/plain",
        "start_char_idx": 49909,
        "end_char_idx": 55694,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "93ed95cf-ebd5-47a3-b5d0-8342189be163",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3b8351c2-91b7-4ea5-b37d-811416d0a090",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3e8a84772e772ef26d70982994bbde1a8db2e90e23657ea27857ea08d896b1b5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7475d0db-ea1a-4dcc-9260-5bd8383b3af2",
                "node_type": "1",
                "metadata": {},
                "hash": "9e6f9bb8c0dabaacf6c431886cf298dcdeb4fa323303928cb0c9db42ab45b792",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "tom henighan rewon child aditya ramesh daniel m ziegler jeffrey wu clemens winter christopher hesse mark chen eric sigler mateusz litwin scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon seo soyeong jeong and jong c park 2023 improving zeroshot reader by reducing distractions from irrelevant documents in opendomain question answering in findings of the association for computational linguistics emnlp 2023 singapore december 610 2023 pages 3145 3157 association for computational linguistics hyung won chung le hou shayne longpre barret zoph yi tay william fedus eric li xuezhi wang mostafa dehghani siddhartha brahma albert web son shixiang shane gu zhuyun dai mirac suz gun xinyun chen aakanksha chowdhery sharan mimetype textplain start_char_idx 0 end_char_idx 4873 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b4720af7957a45fdb54608ee0ab3fad2 embedding null metadata  page_label 11 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 533712e5895c4f0cb5219988497d23cb node_type 4 metadata  page_label 11 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 107987f8b7f01cdecb07c1296485ce34918d5882bcc9ba95c8ed1460690913db class_name relatednodeinfo   text narang gaurav mishra adams yu vincent y zhao yanping huang andrew m dai hongkun yu slav petrov ed h chi jeff dean jacob devlin adam roberts denny zhou quoc v le and jason wei 2022 scaling instructionfinetuned language models arxiv preprint arxiv221011416 xanh ho anhkhoa duong nguyen saku sugawara and akiko aizawa 2020 constructing a multihop qa dataset for comprehensive evaluation of reason ing steps in proceedings of the 28th international conference on computational linguistics coling 2020 barcelona spain online december 813 2020 pages 66096625 international committee on computational linguistics gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open do main question answering in proceedings of the 16th conference of the european chapter of the associ ation for computational linguistics main volume eacl 2021 online april 19 23 2021 pages 874 880 association for computational linguistics gautier izacard patrick s h lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave 2023 atlas fewshot learning with retrieval augmented language models j mach learn res 24251125143 soyeong jeong jinheon baek sukmin cho sung ju hwang and jong park 2023 testtime selfadaptive small language models for question answering in findings of the association for computational lin guistics emnlp 2023 singapore december 610 2023 pages 1545915469 association for computa tional linguistics zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig 2023 active retrieval augmented generation in emnlp 2023 mandar joshi eunsol choi daniel s weld and luke zettlemoyer 2017 triviaqa a large scale distantly supervised challenge dataset for reading comprehen sion in proceedings of the 55th annual meeting of the association for computational linguistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 16011611 association for computational linguistics vladimir karpukhin barlas oguz sewon min patrick s h lewis ledell wu sergey edunov danqi chen and wentau yih 2020 dense passage retrieval for opendomain question answering in proceedings of the 2020 conference on empirical methods in natu ral language processing emnlp 2020 november 1620 2020 association for computational linguis tics jungo kasai keisuke sakaguchi yoichi takahashi ro nan le bras akari asai xinyan yu dragomir r radev noah a smith yejin choi and kentaro inui2022 realtime qa whats the answer right now arxiv preprint arxiv220713332 omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023 openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins",
        "mimetype": "text/plain",
        "start_char_idx": 54892,
        "end_char_idx": 60329,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7475d0db-ea1a-4dcc-9260-5bd8383b3af2",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "93ed95cf-ebd5-47a3-b5d0-8342189be163",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "eb746514e4ca1e1a7261532b3c0c4aa517fb8b0545a4c2694419fd9d8dd38089",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e7efcb03-2144-4667-a36c-607fb84282af",
                "node_type": "1",
                "metadata": {},
                "hash": "fe55fae20f4100fbbc85f3b671f453981b49bc2bcabb0c8676340526c292725b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "xinyan yu dragomir r radev noah a smith yejin choi and kentaro inui2022 realtime qa whats the answer right now arxiv preprint arxiv220713332 omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023 openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin ken ton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natu ral questions a benchmark for question answering research transactions of the association for compu tational linguistics 7452466 angeliki lazaridou elena gribovskaya wojciech stokowiec and nikolai grigorev 2022 internet augmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115 belinda z li sewon min srinivasan iyer yashar mehdad and wentau yih 2020 efficient onepass endtoend entity linking for questions in proceed ings of the 2020 conference on empirical methods in natural language processing emnlp 2020 online november 1620 2020 pages 64336441 associa tion for computational linguistics ilya loshchilov and frank hutter 2019 decoupled weight decay regularization in 7th international conference on learning representations iclr 2019 new orleans la usa may 69 2019 openre viewnet alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi 2023 when not to trust language models investigating effectiveness of parametric and nonparametric mem ories in proceedings of the 61st annual meeting of the association for computational linguistics vol ume 1 long papers acl 2023 toronto canada july 914 2023 pages 98029822 association for computational linguistics openai 2023 gpt4 technical report arxiv preprint arxiv230308774 adam paszke sam gross francisco massa adam lerer james bradbury gregory chanan trevor killeen zeming lin natalia gimelshein luca antiga alban desmaison andreas ku00f6pf edward z mimetype textplain start_char_idx 0 end_char_idx 4905 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a10685ea91f3427f95666852e157acba embedding null metadata  page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id c9ddbef85ed74e2e96a0c66bf6f96d57 node_type 4 metadata  page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 5dee5eae552d28ff34d2c92383cdb36304f9601681fdb1c57d774ea176b9e217 class_name relatednodeinfo   text yang zachary devito martin raison alykhan te jani sasank chilamkurthy benoit steiner lu fang junjie bai and soumith chintala 2019 pytorch an imperative style highperformance deep learning li brary in advances in neural information processing systems 32 annual conference on neural informa tion processing systems 2019 pages 80248035 jayr alencar pereira robson do nascimento fidalgo roberto de alencar lotufo and rodrigo frassetto nogueira 2023 visconde multidocument qa with gpt3 and neural reranking in advances in informa tion retrieval 45th european conference on infor mation retrieval ecir 2023 dublin ireland april 26 2023 proceedings part ii volume 13981 of lecture notes in computer science pages 534543 springer ofir press muru zhang sewon min ludwig schmidt noah a smith and mike lewis 2023 measuring and narrowing the compositionality gap in language models in findings of the association for computa tional linguistics emnlp 2023 peng qi haejun lee tg sido and christopher d man ning 2021 answering opendomain questions of varying reasoning steps from text in proceedings of the 2021 conference on empirical methods in natural language processing emnlp 2021 vir tual event punta cana dominican republic 711 november 2021 pages 35993614 association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016 pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham 2023 incontext retrievalaugmented lan guage models transactions of the association for computational linguistics stephen e robertson",
        "mimetype": "text/plain",
        "start_char_idx": 59583,
        "end_char_idx": 65022,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e7efcb03-2144-4667-a36c-607fb84282af",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7475d0db-ea1a-4dcc-9260-5bd8383b3af2",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e10f1a874fc691ccdf605763c815a659a785e1368407ab4699015c1c3f666da0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8c71c0e6-0fa5-4f39-b8ed-4e4c7a2c02ff",
                "node_type": "1",
                "metadata": {},
                "hash": "f002e46905ab4010b9c0dffee7fa65fa03586a7b686384f457c91f1cc5136274",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016 pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham 2023 incontext retrievalaugmented lan guage models transactions of the association for computational linguistics stephen e robertson steve walker susan jones micheline hancockbeaulieu and mike gatford 1994 okapi at trec3 in proceedings of the third text retrieval conference trec 1994 gaithers burg maryland usa november 24 1994 volume 500225 of nist special publication pages 109 126 national institute of standards and technology nist weijia shi sewon min michihiro yasunaga min joon seo rich james mike lewis luke zettle moyer and wentau yih 2023 replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652 hugo touvron louis martin kevin stone peter al bert amjad almahairi yasmine babaei nikolay bashlykov soumya batra prajjwal bhargava shruti bhosale dan bikel lukas blecher cristian canton ferrer moya chen guillem cucurull david esiobu jude fernandes jeremy fu wenyin fu brian fuller cynthia gao vedanuj goswami naman goyal an thony hartshorn saghar hosseini rui hou hakan inan marcin kardas viktor kerkez madian khabsa isabel kloumann artem korenev punit singh koura marieanne lachaux thibaut lavril jenya lee di ana liskovich yinghai lu yuning mao xavier mar tinet todor mihaylov pushkar mishra igor moly bog yixin nie andrew poulton jeremy reizen stein rashi rungta kalyan saladi alan schelten ruan silva eric michael smith ranjan subrama nian xiaoqing ellen tan binh tang ross tay lor adina williams jian xiang kuan puxin xu zheng yan iliyan zarov yuchen zhang angela fan melanie kambadur sharan narang auru00e9lien ro driguez robert stojnic sergey edunov and thomas scialom 2023 llama 2 open foundation and fine tuned chat models arxiv preprint arxiv230709288 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2022a musique multi hop questions via singlehop question composition trans assoc comput linguistics 10539554 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2022b musique multi hop questions via singlehop question composition transactions of the association for computational linguistics 10539554 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2023 interleaving retrieval with chainofthought reasoning for knowledge intensive multistep questions in proceedings of the 61st annual meeting of the association for com putational linguistics volume 1 long papers acl 2023 toronto canada july 914 2023 pages 1001410037 association for computational lin guistics jason wei yi tay rishi bommasani colin raffel barret zoph sebastian borgeaud dani yogatama maarten bosma denny zhou donald metzler ed h chi tatsunori hashimoto oriol vinyals percy liang jeff dean and william fedus 2022a emer gent abilities of large language models trans mach learn res 2022 jason wei xuezhi wang dale schuurmans maarten bosma brian ichter fei xia ed h chi quoc v le and denny zhou 2022b chainofthought prompt ing elicits reasoning in large language models in neurips thomas wolf lysandre debut victor sanh julien chaumond clement delangue anthony moi pier ric cistac tim rault ru00e9mi louf morgan funtowicz mimetype textplain start_char_idx 0 end_char_idx 5048 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 56031a03aa4f404996194ed5089d8856 embedding null metadata  page_label 13 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 555eff90d80e4d558148677a3513c9d2 node_type 4 metadata  page_label 13 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe class_name relatednodeinfo   text joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020 demos pages 38 45 association for computational linguistics lee xiong chenyan",
        "mimetype": "text/plain",
        "start_char_idx": 64199,
        "end_char_idx": 69336,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8c71c0e6-0fa5-4f39-b8ed-4e4c7a2c02ff",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e7efcb03-2144-4667-a36c-607fb84282af",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bc17669cc6e20b4d2ada950e22badb5378168b1adaccb51bebd976fe2e3d3a18",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "cb432981-c0af-4c72-8cd5-49bd3d73d5ce",
                "node_type": "1",
                "metadata": {},
                "hash": "c98ef9ef63c5e2dd9e8c2cd75e1a623f612772fdf4f26562899b97267f2dc03e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe class_name relatednodeinfo   text joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020 demos pages 38 45 association for computational linguistics lee xiong chenyan xiong ye li kwokfung tang jialin liu paul n bennett junaid ahmed and arnold overwijk 2021 approximate nearest neigh bor negative contrastive learning for dense text re trieval in 9th international conference on learning representations iclr 2021 virtual event austria may 37 2021 openreviewnet wei yang yuqing xie aileen lin xingyu li luchen tan kun xiong ming li and jimmy lin 2019 endtoend opendomain question answering with bertserini in proceedings of the 2019 conference of the north american chapter of the association for computational linguistics human language technologies naaclhlt 2019 minneapolis mn usa june 27 2019 demonstrations pages 7277 association for computational linguistics zhilin yang peng qi saizheng zhang yoshua bengio william cohen ruslan salakhutdinov and christo pher d manning 2018 hotpotqa a dataset for diverse explainable multihop question answering inproceedings of the 2018 conference on empiri cal methods in natural language processing pages 23692380 brussels belgium association for com putational linguistics shunyu yao jeffrey zhao dian yu nan du izhak shafran karthik r narasimhan and yuan cao 2023 react synergizing reasoning and acting in language models in the eleventh international conference on learning representations iclr 2023 kigali rwanda may 15 2023 openreviewnet fengbin zhu wenqiang lei chao wang jianming zheng soujanya poria and tatseng chua 2021 retrieving and reading a comprehensive survey on opendomain question answering arxiv preprint arxiv210100774 mimetype textplain start_char_idx 0 end_char_idx 1949 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 03d535c39d4f40258e2608f065b6940c embedding null metadata  page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 03567bf427b141ab8cb32fc67d0d9c47 node_type 4 metadata  page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 0d3e39c992af9ce5e47c3b9a9db57d38dcd8a6eb565ef6c3ad1e6e976287b57c class_name relatednodeinfo   text 0 2 4 6 8 10 time per query20304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xlfigure 4 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xl 3b as the base llm a additional experimental setups a1 datasets we use publicly open datasets for both single hop and multihop qa datasets referring to as karpukhin et al 2020 and trivedi et al 2023 respectively we describe the characteristics of each dataset 1 squad v11 rajpurkar et al 2016 is created through a process where annotators write questions based on the documents they read 2 natural questions kwiatkowski et al 2019 is constructed by real user queries on google search 3 triviaqa joshi et al 2017 comprises trivia questions sourced from various quiz websites 4 musique trivedi et al 2022a is collected by compositing multiple singlehop queries to form queries spanning 24 hops 5 hotpotqa yang et al 2018 is constructed by having annotators create questions that link multi ple wikipedia articles 6 2wikimultihopqa ho et al 2020 is derived from wikipedia and its associated knowledge graph path needing 2hops a2 models we describe the details of models as follows 1 no retrieval this approach uses only the llm itself to generate the answer to the given query 2 singlestep approach this approach first re trieves the relevant knowledge with the given query from the external knowledge sources and then aug ments the llm with this retrieved knowledge to generate the answer which iterates only once 3 adaptive retrieval this baseline mallen et al 2023 adaptively augments the llm with the re trieval module only when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xxlfigure 5 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xxl 11b as the base llm trains the llm to adaptively perform retrieval and generation where the retrieval is conducted once it predicts the special retrieval token above a certain threshold and the answer generation follows 5 adaptiverag this is our model that adap tively selects the retrievalaugmented generation strategy smoothly oscillating between the non retrieval singlestep approach and multistep ap proaches4without architectural changes",
        "mimetype": "text/plain",
        "start_char_idx": 68709,
        "end_char_idx": 74445,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cb432981-c0af-4c72-8cd5-49bd3d73d5ce",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8c71c0e6-0fa5-4f39-b8ed-4e4c7a2c02ff",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "16b9cf1de05bff7b92952778f568a0085d5326100b09d1dee66f65b2f11b94a1",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9952ee54-f191-4aec-b001-1ea4205832ab",
                "node_type": "1",
                "metadata": {},
                "hash": "f9ba6dc0e7d4ce9743749343e5c43581bf8bbbe15c39db1ac9f41b2644f7fbff",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xxlfigure 5 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xxl 11b as the base llm trains the llm to adaptively perform retrieval and generation where the retrieval is conducted once it predicts the special retrieval token above a certain threshold and the answer generation follows 5 adaptiverag this is our model that adap tively selects the retrievalaugmented generation strategy smoothly oscillating between the non retrieval singlestep approach and multistep ap proaches4without architectural changes based on the query complexity assessed by the classifier 6 multistep approach this approach trivedi et al 2023 is the multistep retrievalaugmented llm which iteratively accesses both the retriever and llm with interleaved chainofthought rea soning wei et al 2022b repeatedly until it derives the solution or reaches the maximum step number 7 adaptiverag w oracle this is an ideal sce nario of our adaptiverag equipped with an or acle classifier that perfectly categorizes the query complexity a3 implementation details for computing resources we use a100 gpus with 80gb memory in addition due to the sig nificant costs associated with evaluating retrieval augmented generation models we perform experi ments with a single run finally we implemented models using pytorch paszke et al 2019 and transformers library wolf et al 2020 b additional experimental results performance vs time we further provide a com parison of different retrievalaugmented genera tion approaches with flant5xl and flant5 xxl models in figure 4 and figure 5 respectively in the context of performance and efficiency trade offs similar to the observation made from the gpt 35 model in figure 1 our proposed adaptiverag is significantly more effective as well as efficient 4for the multistep approach we use the stateoftheart question answering strategy from ircot trivedi et al 2023 mimetype textplain start_char_idx 0 end_char_idx 4030 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b0e5c826bdd6424db09bbae2ff60263a embedding null metadata  page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 15c6d98164514e31a03c8fcc8e3b93f2 node_type 4 metadata  page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo  3  node_id 801201d9dedd425996794e9051e96506 node_type 1 metadata  hash 753e2ee125f0bba852233e143c5ba5b6cdc6b38d8d1219e4be7b16df7ee2650d class_name relatednodeinfo   text table 7 results on each of a collection of datasets with flant5xxl 11b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 700 1440 840 000 008 1880 2550 2040 000 008 3280 3920 3540 000 008 singlestep approach 2880 4080 3500 100 100 4140 5120 4760 100 100 5600 6470 6180 100 100 adaptiveadaptive retrieval 1560 2560 2000 050 054 3100 3970 3500 050 054 4480 5220 4860 050 054 selfrag160 1190 2080 059 031 3920 4710 4240 075 009 1460 3370 6020 076 022 adaptiverag ours 2780 3980 3400 117 150 4120 5100 4740 100 100 5200 6030 5720 103 133 complex multistep approach 2460 3690 3020 213 383 3960 4960 4640 216 394 5260 6110 5940 217 403 oracle adaptiverag w oracle 3280 4690 3820 085 094 5120 6100 5700 071 091 6340 7130 6820 051 060 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050 054 3520 4268 3680 050 054 selfrag120 820 1180 068 027 560 1786 3060 076 026 300 1914 3900 090 025 adaptiverag ours 2060 2850 2320 189 312 4420 5478 4680 158 253 4760 5736 5400 146",
        "mimetype": "text/plain",
        "start_char_idx": 73493,
        "end_char_idx": 78292,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9952ee54-f191-4aec-b001-1ea4205832ab",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "cb432981-c0af-4c72-8cd5-49bd3d73d5ce",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "feb702d0169e69075ea388c5a11878712041ef0b3109701526c799e95d7976af",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4932580b-1735-4165-8a65-97a6407359a0",
                "node_type": "1",
                "metadata": {},
                "hash": "ba9132783277d84007186aa91ac6d5a2f66ec676637982f3e41a77550d30c0a4",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050 054 3520 4268 3680 050 054 selfrag120 820 1180 068 027 560 1786 3060 076 026 300 1914 3900 090 025 adaptiverag ours 2060 2850 2320 189 312 4420 5478 4680 158 253 4760 5736 5400 146 255 complex multistep approach 1940 2750 2180 209 366 4700 5781 4940 208 373 5760 6765 6400 217 363 oracle adaptiverag w oracle 2420 3720 2660 122 171 5220 6480 5460 092 133 5920 7040 6860 082 114 table 8 results on each of a collection of datasets with gpt35 turbo as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 1600 2920 2380 000 062 3980 5570 5500 000 056 6400 7560 7580 000 068 singlestep approach 1800 3380 2920 100 100 3240 4680 5480 100 100 5520 6650 6580 100 100 adaptiveadaptive retrieval 1540 3000 2440 050 081 3640 5120 5660 050 078 6200 7190 7220 050 084 selfrag160 1190 2080 059 191 3920 4710 4240 075 052 1460 3370 6020 076 159 adaptiverag ours 1980 3440 3000 087 121 3680 5200 5660 068 086 6240 7380 7380 022 079 complex multistep approach 1740 3150 2620 250 324 3560 4970 5780 258 379 5480 6710 6800 230 265 oracle adaptiverag w oracle 2800 4590 3940 054 093 5000 6540 6700 028 08 7080 8100 8000 011 073 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 2040 3130 2440 000 081 3740 5104 4320 000 074 3700 4850 4340 000 090 singlestep approach 1640 2670 2360 100 100 3960 5044 4560 100 100 4680 5769 5260 100 100 adaptiveadaptive retrieval 1880 3030 2480 050 090 3860 5070 4320 050 087 4420 5511 5060 050 095 selfrag120 820 1180 068 166 560 1786 3060 076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table mimetype textplain start_char_idx 0 end_char_idx 3427 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 801201d9dedd425996794e9051e96506 embedding null metadata  page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 15c6d98164514e31a03c8fcc8e3b93f2 node_type 4 metadata  page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo  2  node_id b0e5c826bdd6424db09bbae2ff60263a node_type 1 metadata  page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 66533e661a5f9e8c998c35319d30b917ec993d2d0cfe493ae45ab7bd16c147f1 class_name",
        "mimetype": "text/plain",
        "start_char_idx": 77878,
        "end_char_idx": 81601,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4932580b-1735-4165-8a65-97a6407359a0",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9952ee54-f191-4aec-b001-1ea4205832ab",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "793f52d0d0835984eda333e65dadf4f5ee5708d25f871ee802a0052759b2d098",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3abac307-87f8-4abd-90ee-7ce12da2744f",
                "node_type": "1",
                "metadata": {},
                "hash": "088ad7adf51a3fd2ea01679ca38fb18bc4c5e756124fc7e6afb1b8e7709cfb99",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo  2  node_id b0e5c826bdd6424db09bbae2ff60263a node_type 1 metadata  page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015  hash 66533e661a5f9e8c998c35319d30b917ec993d2d0cfe493ae45ab7bd16c147f1 class_name relatednodeinfo   text 3060 076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table 2 and table 8 respectively the experimental results show that our adaptiverag consistently balances between efficiency and accuracy it is worth noting that while the gpt35 model performs effectively in addressing straightforward queries even without document retrieval it benefits significantly from our adaptiverag in terms of effectiveness when solving complex multihop queries mimetype textplain start_char_idx 2896 end_char_idx 3807 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c50ef6290471491ba038f9c85d7bf379 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  3  node_id 72c2d27abb724c19a1cdcf14452420fd node_type 1 metadata  hash 75d2bea2557226dd475231aa8c358afc42409265e3d94692fb32125be5d80a5b class_name relatednodeinfo   text id_ 4574f1a9b29346528a68cfc5650a81e6 embedding null metadata page_label 1 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id db85012d65a241618cb669eb7b3747a9 node_type 4 metadata page_label 1 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash a4d4760a15fdc371e3a26bd569de54319980a96cddb0372fb9ed0b4446e2f035 class_name relatednodeinfo text adaptiverag learning to adapt retrievalaugmented large language models through question complexity soyeong jeong1jinheon baek2sukmin cho1sung ju hwang12jong c park1 school of computing1graduate school of ai2 korea advanced institute of science and technology12 starsuzijinheonbaeknelllpicsjhwang82jongparkkaistackr abstract retrievalaugmented large language models llms which incorporate the nonparametric knowledge from external knowledge bases into llms have emerged as a promising approach to enhancing response accuracy in several tasks such as questionanswering qa however even though there are various approaches deal ing with queries of different complexities they either handle simple queries with unnecessary computational overhead or fail to adequately address complex multistep queries yet not all user requests fall into only one of the sim ple or complex categories in this work we propose a novel adaptive qa framework that can dynamically select the most suitable strat egy for retrievalaugmented llms from the simplest to the most sophisticated ones based on the query complexity also this selec tion process is operationalized with a classi fier which is a smaller lm trained to predict the complexity level of incoming queries with automatically collected labels obtained from actual predicted outcomes of models and in herent inductive biases in datasets this ap proach offers a balanced strategy seamlessly adapting between the iterative and singlestep retrievalaugmented llms as well as the no retrieval methods in response to a range of query complexities we validate our model on a set of opendomain qa datasets cov ering multiple query complexities and show that ours enhances the overall efficiency and accuracy of qa systems compared to rele vant baselines including the adaptive retrieval approaches code is available at https githubcomstarsuziadaptiverag 1 introduction recent large language models llms brown et al 2020 openai 2023 touvron et al 2023 anil et al 2023 have shown overwhelming per formances across diverse tasks including question corresponding author 05 10",
        "mimetype": "text/plain",
        "start_char_idx": 81036,
        "end_char_idx": 86425,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3abac307-87f8-4abd-90ee-7ce12da2744f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4932580b-1735-4165-8a65-97a6407359a0",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c7ee450be4bb7a2b8ece40ab8ea7b0e2a038851e68d0379ec202bf0c1e0e0b1e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2b593f3d-1ff6-4269-abdc-573a72c7e32a",
                "node_type": "1",
                "metadata": {},
                "hash": "2ebad727444f23076b2e902a6294c44ea1f6f10eaa11ede383b103723724cff0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "the most sophisticated ones based on the query complexity also this selec tion process is operationalized with a classi fier which is a smaller lm trained to predict the complexity level of incoming queries with automatically collected labels obtained from actual predicted outcomes of models and in herent inductive biases in datasets this ap proach offers a balanced strategy seamlessly adapting between the iterative and singlestep retrievalaugmented llms as well as the no retrieval methods in response to a range of query complexities we validate our model on a set of opendomain qa datasets cov ering multiple query complexities and show that ours enhances the overall efficiency and accuracy of qa systems compared to rele vant baselines including the adaptive retrieval approaches code is available at https githubcomstarsuziadaptiverag 1 introduction recent large language models llms brown et al 2020 openai 2023 touvron et al 2023 anil et al 2023 have shown overwhelming per formances across diverse tasks including question corresponding author 05 10 15 20 25 30 35 time per query4748495051performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with gpt35figure 1 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the gpt35turboinstruct as the base llm answering qa yang et al 2018 kwiatkowski et al 2019 however they still generate factu ally incorrect answers since their knowledge solely relies on their parametric memory kasai et al 2022 mallen et al 2023 meanwhile memoriz ing all the everchanging world knowledge may not be possible to address this problem retrieval augmented llms borgeaud et al 2022 izacard et al 2023 shi et al 2023 which incorporate nonparametric knowledge into llms with addi tional retrieval modules have gained much increas ing attention specifically these models access a knowledge base which serves as an extensive repository of information across various subjects and disciplines to retrieve information relevant to the given input and then incorporate the retrieved information into llms which enables them to stay accurate and current with the world knowledge a particularly salient application of retrieval augmented llms is to handling qa tasks whose goal is to provide correct answers in response to user queries especially those of high complexity early work on retrievalaugmented llms focuses primarily on singlehop queries lazaridou et al 2022 ram et al 2023 whose answers are typ ically found within a single document therefore this approach involves retrieving a relevant doc ument based on the query and subsequently inte grating this information into qa models to formu late a response however unlike this singlehop qa some queries require connecting and aggregat ing multiple documents which are furthermorearxiv240314403v2 cscl 28 mar 2024 mimetype textplain start_char_idx 0 end_char_idx 3959 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5c744bd506964172b009151711433558 embedding null metadata page_label 2 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b386508bb8c04657bd5c0a174db039cf node_type 4 metadata page_label 2 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 568c92023f4d1aceb288cec1f902f0b1b59d687daae4139add5c8a4cd744916e class_name relatednodeinfo text retrievalcomplex query what currency is in billy giles birthplacesimple query when is the birthday of michael f phelpsdocuments answer documents answer a single step approach inaccurate retrieval retrievalsimple query when is the birthday of michael f phelpsdocuments intermediate answers b multi step approach inefficient k times complex query what currency is in billy giles birthplacedocuments intermediate answers k timesstraightforward query paris is the capital of whatc our adaptive approach answer simple query when is the birthday of michael f phelpsdocuments answer complex query what currency is in billy giles birthplacedocuments intermediate answers k times classifier figure 2 a conceptual comparison of different retrievalaugmented llm approaches to question answering a in response to a query mimetype textplain start_char_idx 2 end_char_idx 6444 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 72c2d27abb724c19a1cdcf14452420fd embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id c50ef6290471491ba038f9c85d7bf379 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash e83be47ef43ca5251a617ae2ba6f419b7e9240bcb13bd3434525566bd268da2b class_name relatednodeinfo  3  node_id 72f67982a03443f3a74dae57830cd941 node_type 1 metadata  hash 502b9b7c1ae8bbd40dd4aaa884713449b9ac6af6d48dea6afb8d22a1ba10ef64 class_name",
        "mimetype": "text/plain",
        "start_char_idx": 85363,
        "end_char_idx": 91381,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2b593f3d-1ff6-4269-abdc-573a72c7e32a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3abac307-87f8-4abd-90ee-7ce12da2744f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9593117e38273f3a6500aa516607a926aab8d986222240ac6b0f1e5c201697ad",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "add4567a-745d-4529-b24a-1103dee8eb57",
                "node_type": "1",
                "metadata": {},
                "hash": "3b81a25d2d7ee7a5433d205a73c6f38bb4aff4bfba278b37ad6ec7547c3ab6de",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo  2  node_id c50ef6290471491ba038f9c85d7bf379 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash e83be47ef43ca5251a617ae2ba6f419b7e9240bcb13bd3434525566bd268da2b class_name relatednodeinfo  3  node_id 72f67982a03443f3a74dae57830cd941 node_type 1 metadata  hash 502b9b7c1ae8bbd40dd4aaa884713449b9ac6af6d48dea6afb8d22a1ba10ef64 class_name relatednodeinfo   text last_modified_date 20241015 hash 568c92023f4d1aceb288cec1f902f0b1b59d687daae4139add5c8a4cd744916e class_name relatednodeinfo text retrievalcomplex query what currency is in billy giles birthplacesimple query when is the birthday of michael f phelpsdocuments answer documents answer a single step approach inaccurate retrieval retrievalsimple query when is the birthday of michael f phelpsdocuments intermediate answers b multi step approach inefficient k times complex query what currency is in billy giles birthplacedocuments intermediate answers k timesstraightforward query paris is the capital of whatc our adaptive approach answer simple query when is the birthday of michael f phelpsdocuments answer complex query what currency is in billy giles birthplacedocuments intermediate answers k times classifier figure 2 a conceptual comparison of different retrievalaugmented llm approaches to question answering a in response to a query this singlestep approach retrieves relevant documents and then generates an answer however it may not be sufficient for complex queries that require multistep reasoning b this multistep approach iteratively retrieves documents and generates intermediate answers which is powerful yet largely inefficient for the simple query since it requires multiple accesses to both llms and retrievers c our adaptive approach can select the most suitable strategy for retrievalaugmented llms ranging from iterative to single to even no retrieval approaches based on the complexity of given queries determined by our classifier often not answerable through a singlestep pro cess of retrievalandresponse an example query is when did the people who captured malakoff come to the region where philipsburg is located which requires four reasoning steps to solve there fore to effectively handle such complex queries recent studies have concentrated largely on multi step and multireasoning qa which requires itera tive accesses to both llms and retrievers multiple times press et al 2023 trivedi et al 2023 at the cost of heavy computational overheads yet we should rethink in a realworld scenario are all the requests from users complex instead users might often ask simple and straightforward questions while only occasionally asking complex ones specifically a query such as paris is the capital of what is likely to be asked more fre quently compared to the aforementioned multi step query and this simpler query might also be easily answered by the llms themselves without accessing external knowledge in other words a multistep qa approach could give rise to unnec essary computational overhead for simple queries even though it would be vital for complex queries see figure 2 a on the other hand handling complex queries with singlestepretrieval or even nonretrieval strategies would be largely insuffi cient figure 2 b this suggests the need for an adaptive qa system which can dynamically adjust the operational strategies of retrievalaugmented llms based on the query complexity while some recent approaches are capable of doing this based on the frequency of entities in queries mallen et al 2023 or on the generated outputs from models for multistep qa trivedi et al 2023 they are still suboptimal the former methods are overly simplistic failing to consider multihop queries meanwhile the latter are excessively complex ter minating answer solving steps after several rounds of module accessin this work considering diverse complexity lev els of realworld queries we argue that previous onesizefitsall approaches might be inadequate to cover all of them instead we propose to select the most suitable strategy from a range of retrieval augmented llms each of which is tailored to the specific complexity of the input query notably a critical step in this process is predefining the query complexity which is instrumental in deter mining the most fitting model to it in this work we operationalize this process with a novel classi fier which is a smaller model trained to predict the complexity level of incoming queries see figure 2 c moreover we automatically collect its training datasets without human labeling by leveraging the predicted outcomes ie which models accurately respond to which queries as well as by capitalizing on the inherent biases in existing datasets ie sam ples in the datasets are designed either for single step or for multistep qa scenarios this proposed method can offer a robust middle ground among the iterative llm augmentation methods for complex queries singlestep methods for simpler queries and even noretrievalaugmented methods for the most straightforward queries answerable by llms themselves thus significantly enhancing the over all efficiency and accuracy as shown in figure 1 we refer to our framework as adaptive retrieval augmented generation adaptiverag we validate adaptiverag using benchmark opendomain qa datasets covering a wide range of query complexity from singlehop rajpurkar et al 2016 joshi et al 2017 kwiatkowski et al 2019 to multihop yang et al 2018 ho et al 2020 trivedi et al 2022b queries the exper imental results show that ours significantly im proves the overall accuracy and efficiency com pared to the prior adaptive strategies on multiple llms such as gpt35 brown et al 2020 and flant5 series chung et al 2022 mimetype textplain start_char_idx 0 end_char_idx 5180 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 57990775cd0e4f52bb771482d4fe072d embedding null metadata page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 5323568b91d14ebc954c85515b025bf6 node_type 4 metadata page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size",
        "mimetype": "text/plain",
        "start_char_idx": 90839,
        "end_char_idx": 97461,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "add4567a-745d-4529-b24a-1103dee8eb57",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2b593f3d-1ff6-4269-abdc-573a72c7e32a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2a9ccd6b656f58d315c9ce6c677112ef6edd5a4b404850445525bd74f9ec021c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e6aaba1c-4aa0-407a-8b18-cba50adf22e5",
                "node_type": "1",
                "metadata": {},
                "hash": "0ee646ab90e59a299e653a3b1e64d306dadbb4ea87d310b76f35f9c650746ac0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "al 2022 mimetype textplain start_char_idx 0 end_char_idx 5180 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 57990775cd0e4f52bb771482d4fe072d embedding null metadata page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 5323568b91d14ebc954c85515b025bf6 node_type 4 metadata page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash b9c303f41aa8e1f6e4537517eb985ec5e1ce8a05aafa63cb05979536dd4643a9 class_name relatednodeinfo text our contributions and findings are threefold we point out the realistic scenario of queries of varying complexities and find out that existing retrievalaugmented generation approaches tend to be overly simple or complex we adapt retrievalaugmented llms to the query complexity assessed by the classifier which en ables the utilization of the most suitable approach tailored to each query we show that our adaptiverag is highly effec tive and efficient balancing between the com plexity and the simplicity for diverse queries 2 related work opendomain qa opendomain qa is the task of accurately answering a query by sourcing for queryrelevant documents and then interpreting them to provide answers chen et al mimetype textplain start_char_idx 5503 end_char_idx 12443 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 72f67982a03443f3a74dae57830cd941 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 72c2d27abb724c19a1cdcf14452420fd node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 54f226edbb0b38ca6ddbad2eb2458405424f102ff35b09571ec2b5f17d54251d class_name relatednodeinfo  3  node_id e332483d07fe431582b664752079793e node_type 1 metadata  hash 0564bc8d6f1bba9aa835db977cfecf0a15f9d9b802e9b4db9377dda55bec6fef class_name relatednodeinfo   text file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash b9c303f41aa8e1f6e4537517eb985ec5e1ce8a05aafa63cb05979536dd4643a9 class_name relatednodeinfo text our contributions and findings are threefold we point out the realistic scenario of queries of varying complexities and find out that existing retrievalaugmented generation approaches tend to be overly simple or complex we adapt retrievalaugmented llms to the query complexity assessed by the classifier which en ables the utilization of the most suitable approach tailored to each query we show that our adaptiverag is highly effec tive and efficient balancing between the com plexity and the simplicity for diverse queries 2 related work opendomain qa opendomain qa is the task of accurately answering a query by sourcing for queryrelevant documents and then interpreting them to provide answers chen et al 2017 zhu et al 2021 which thus generally involves two modules a retriever karpukhin et al 2020 xiong et al 2021 and a reader yang et al 2019 izac ard and grave 2021 jeong et al 2023 along with the emergence of llms with superior rea soning capabilities thanks to their billionsized pa rameters wei et al 2022a a synergy between llms and retrievers has led to significant advance ments lazaridou et al 2022 ram et al 2023 specifically this integration has been shown to enhance opendomain qa by mitigating the hallu cination problem from llms through strengthened reasoning abilities of the reader as well as utiliz ing the retrieved external documents cho et al 2023 despite these advancements for singlehop retrievalaugmented llms however the complex ity of some queries needs a more complex strategy multihop qa multihop qa is an extension of conventional opendomain qa which addition ally requires the system to comprehensively gather and contextualize information from multiple docu ments often iteratively to answer more complex queries trivedi et al 2022a yang et al 2018 in the realm of multihop qa the approach to itera tively access both llms and the retrieval module is generally employed specifically khattab et al 2022 press et al 2023 pereira et al 2023 and khot et al 2023 proposed to first decom pose the multihop queries into simpler singlehop queries repeatedly access the llms and retriever to solve these subqueries and merge their solu tions to formulate a complete answer in contrastto this decompositionbased approach other re cent studies such as yao et al 2023 and trivedi et al 2023 explored the interleaving of",
        "mimetype": "text/plain",
        "start_char_idx": 96708,
        "end_char_idx": 102281,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e6aaba1c-4aa0-407a-8b18-cba50adf22e5",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "add4567a-745d-4529-b24a-1103dee8eb57",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "8bd81c0595bf939a734045b9b39d91e73368fa5a6baa35d29b4b8b7c814daa3a",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a6ff12fb-81b8-40f1-8019-770d5fa113b3",
                "node_type": "1",
                "metadata": {},
                "hash": "f1de6cee3f0659c7b3e3b893ddf992440d4a4471b44b984dae6435c3ce6509e7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "of some queries needs a more complex strategy multihop qa multihop qa is an extension of conventional opendomain qa which addition ally requires the system to comprehensively gather and contextualize information from multiple docu ments often iteratively to answer more complex queries trivedi et al 2022a yang et al 2018 in the realm of multihop qa the approach to itera tively access both llms and the retrieval module is generally employed specifically khattab et al 2022 press et al 2023 pereira et al 2023 and khot et al 2023 proposed to first decom pose the multihop queries into simpler singlehop queries repeatedly access the llms and retriever to solve these subqueries and merge their solu tions to formulate a complete answer in contrastto this decompositionbased approach other re cent studies such as yao et al 2023 and trivedi et al 2023 explored the interleaving of chainof thought reasoning wei et al 2022b a method where a logical sequence of thoughts is generated with document retrieval repeatedly applying this process until the reasoning chain generates the an swer in addition jiang et al 2023 introduced an approach to repeatedly retrieving new documents if the tokens within generated sentences have low confidence however the aforementioned methods overlooked the fact that in realworld scenarios queries are of a wide variety of complexities there fore it would be largely inefficient to iteratively access llms and retrievers for every query which might be simple enough with a single retrieval step or even only with an llm itself adaptive retrieval to handle queries of varying complexities the adaptive retrieval strategy aims to dynamically decide whether to retrieve documents or not based on each querys complexity in this vein mallen et al 2023 proposed to decide the querys complexity level based on the frequency of its entities and suggested using the retrieval mod ules only when the frequency falls below a cer tain threshold however this approach focusing solely on the binary decision of whether to retrieve or not may not be sufficient for more complex queries that require multiple reasoning steps ad ditionally qi et al 2021 proposed an approach that performs a fixed set of operations retrieving reading and reranking multiple times until the an swer is derived for the given query which is built upon traditional bertlike lms however unlike our adaptiverag which predetermines the query complexity and adapts the operational behavior of any offtheshelf llms accordingly this approach applies the same fixed operations to every query regardless of its complexity but also necessitates additional specific training to lms concurrent to our work asai et al 2024 suggested training a so phisticated model to dynamically retrieve critique and generate the text nevertheless we argue that all the aforementioned adaptive retrieval methods that rely on a single model might be suboptimal in handling a variety of queries of a range of differ ent complexities since they tend to be either overly simple or complex for all the input queries which demands a new approach that can select the most suitable strategy of retrievalaugmented llms tai lored to the query complexity mimetype textplain start_char_idx 0 end_char_idx 4677 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e495b850cd50483bb399f3342f7ee080 embedding null metadata page_label 4 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id fbc7c6eaa961468bad4ff041cf2baad1 node_type 4 metadata page_label 4 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 9bf376a169b5989168590a468cae131e5b9f9438867de73331cedc5a364d5dd5 class_name relatednodeinfo text 3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2 x nas an input and then generates a sequence of tokens y y1 y2 y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query q from the user and the generated answer a from the llm respectively qxanday also subsequently the most nau00efve llmpowered qa mimetype textplain start_char_idx 11537 end_char_idx 18054 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ e332483d07fe431582b664752079793e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 72f67982a03443f3a74dae57830cd941 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c939b188014fa09dae3b302b8e7e1e57533bfd74fcf6e5d63860494045ce27de class_name relatednodeinfo  3  node_id",
        "mimetype": "text/plain",
        "start_char_idx": 101401,
        "end_char_idx": 107495,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a6ff12fb-81b8-40f1-8019-770d5fa113b3",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e6aaba1c-4aa0-407a-8b18-cba50adf22e5",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e2b7c72e0743a7059cca0b6ace9a73155f1d24f04e6f1c0b9970c616877aefca",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "548857b5-8669-4b63-9edd-c2581287175c",
                "node_type": "1",
                "metadata": {},
                "hash": "5ea38cee10c059cc3277278558b1912006ac7ba20be3c14ed619d8ddb6684054",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 72f67982a03443f3a74dae57830cd941 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c939b188014fa09dae3b302b8e7e1e57533bfd74fcf6e5d63860494045ce27de class_name relatednodeinfo  3  node_id e56d6070c3524b65979c58be475534de node_type 1 metadata  hash 91d4d3dd5385a87980cb1b8cc41a598d6029b8199565cb124a0e03bef9bb8bdd class_name relatednodeinfo   text class_name relatednodeinfo text 3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2 x nas an input and then generates a sequence of tokens y y1 y2 y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query q from the user and the generated answer a from the llm respectively qxanday also subsequently the most nau00efve llmpowered qa model can be represented as follows allmq ideally ashould match the actual correct answer a this nonretrieval based qa method is highly efficient and could be a somewhat promising approach to handling easy queries as the size of llms becomes extremely large with its effect on storing a large amount of knowledge however this approach is largely prob lematic on queries that require precise or concur rent knowledge of specific people events or any subjects beyond the llms internal knowledge singlestep approach for qa to address the aforementioned scenarios where llmmay struggle with queries that are not answerable by llmitself we can utilize the external knowledge d which includes useful information for queries retrieved from the external knowledge source dthat could be an encyclopedia eg wikipedia consisting of millions of documents specifically to obtain suchdfromd a specific retrieval model is nec essary which returns documents based on their relevance with the given query this process can be formulated as follows dretriever qd where retriever is the retrieval model with d d here we can use any offtheshelf re triever robertson et al 1994 karpukhin et al 2020 after the retrieval step is done we now have a pair of query qand its relevant documents d then in order to augment llms with this retrieved exter nal knowledge we can incorporate it into the input of llms represented as follows allmqdthis process allows llms to gain access to exter nal information contained in d which can provide the supplementary context that the internal knowl edge of llmlacks which can subsequently improve the accuracy and concurrency of llms for qa multistep approach for qa even though the aforementioned singlestep approach offers signif icant improvements over nonretrieval for qthat requires external knowledge it encounters notable limitations particularly when dealing with com plex queries that necessitate synthesizing informa tion from multiple source documents and reasoning over them this is where a multistep approach and reasoning for qa become essential in this multistep approach llminteracts with retriever in several rounds progressively refin ing its understanding of q until it formulates the fi nal answer from findings accumulated across these multiple steps specifically the process begins with the initial query q and at every retrieval step i new documents diare retrieved from dand then incorporated into the input of llms as follows aillmqdici where the additional context cican be composed of previous documents and outcomes d1d2 di1a1a2 ai1 and diretriever qcid1 we would like to note that this iterative multistep process enables llmto construct a more comprehensive and exten sive foundation to solve queries effectively specif ically adept at complex multihop queries where answers depend on interconnected pieces of infor mation however it is important to recognize that this multistep approach can be resourceintensive due to the repeated accesses to retriever andllm which entail substantial computational costs 32 adaptiverag adaptive retrievalaugmented generation we now introduce our adaptive retrievalaugmented llms which are built upon three different strate gies described in the previous section and which are designed to select the most suitable strategy according to the complexity of queries adapting retrievalaugmented llms note that in realworld scenarios not all qfrom users have the same level of complexity necessitating 1it is worth noting that implementations of the llm and retriever vary across different multistep retrievalaugmented llm approaches trivedi et al 2023 press et al 2023 yao et al 2023 therefore the context cimay incorporate none some or all of the previous documents and answers mimetype textplain start_char_idx 0 end_char_idx 4477 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ac32cd04435f4fc19712cab53a44b23b embedding null metadata page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 4222d326f11f490cbc8d4d022b48d698 node_type 4 metadata page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 49f328238e27c8db80d067ec311a5314d5aaa9a14c38a528995e698391b603ad class_name relatednodeinfo text tailored strategies for handling each query in other words employing the",
        "mimetype": "text/plain",
        "start_char_idx": 106904,
        "end_char_idx": 113142,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "548857b5-8669-4b63-9edd-c2581287175c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a6ff12fb-81b8-40f1-8019-770d5fa113b3",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "dd2b0360925e3c9b447d3bf7af0cc343da601364984fec94ad21912221b0d0b0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c3b63225-5d2f-4fcb-9659-84f0214cde05",
                "node_type": "1",
                "metadata": {},
                "hash": "3fcd573dc83530d5b56c11eab88ebb16eb3614bbcb44eca9b7b42fa937f96768",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 4222d326f11f490cbc8d4d022b48d698 node_type 4 metadata page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 49f328238e27c8db80d067ec311a5314d5aaa9a14c38a528995e698391b603ad class_name relatednodeinfo text tailored strategies for handling each query in other words employing the most basic nonretrieval based approach llmqto respond to the complex query qwould be also ineffective figure 2 a conversely using a more elaborate multistep ap proach llmqdcfor simple qwould be ineffi cient figure 2 b therefore our adaptive frame work is designed to dynamically adjust the query handling strategy of retrievalaugmented llms which is achieved by determining the complexity of each query before attempting a solution notably this framework can offer a robust middle ground with a range of solutions from the simplest ap proach for the most straightforward queries to the onestep approach for moderate queries and up to the most comprehensive and rigorous approach for complex queries in addition since the operations ofllmandretriever remain consistent regard less of inputs to them our method can seeming lessly go back and forth across queries of different complexities without changing the internal model architecture or parameters during adaption query complexity assessment to operational ize our adaptive retrievalaugmented llm frame work we should determine the query complexity and to achieve this we propose to model a com plexity classifier whose goal is to return the appro priate complexity level of the given query specif ically given the query q our classifier can be for mulated as follows oclassifier q where classifier is a smaller language model that is mimetype textplain start_char_idx 17295 end_char_idx 24183 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ e56d6070c3524b65979c58be475534de embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id e332483d07fe431582b664752079793e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 36ba5ff396ca95b9b28049de691afd0fae191e33190f1e6397fa147f8dff2842 class_name relatednodeinfo  3  node_id c9b85fc3b3fd48adae16322b558b7f1d node_type 1 metadata  hash 545bdb02be7740d20f237b18d4ce984c2a70d9b421cf12e4c11b0ec566bbeb5d class_name relatednodeinfo   text is designed to dynamically adjust the query handling strategy of retrievalaugmented llms which is achieved by determining the complexity of each query before attempting a solution notably this framework can offer a robust middle ground with a range of solutions from the simplest ap proach for the most straightforward queries to the onestep approach for moderate queries and up to the most comprehensive and rigorous approach for complex queries in addition since the operations ofllmandretriever remain consistent regard less of inputs to them our method can seeming lessly go back and forth across queries of different complexities without changing the internal model architecture or parameters during adaption query complexity assessment to operational ize our adaptive retrievalaugmented llm frame work we should determine the query complexity and to achieve this we propose to model a com plexity classifier whose goal is to return the appro priate complexity level of the given query specif ically given the query q our classifier can be for mulated as follows oclassifier q where classifier is a smaller language model that is trained to classify one of three different complexity levels and ois its corresponding class label in our classifier design there are three class labels a b and c where a indicates that qis straight forward and answerable by llmqitself b in dicates that qhas the moderate complexity where at least a singlestep approach llmqdis needed and c indicates that qis complex requiring the most extensive solution llmqdc2 training strategy the remaining step is to train the smaller language model for classifier to accurately predict its complexity oin response to the given query q yet there is no annotated dataset available for querycomplexity pairs hence we propose to automatically construct the training dataset with two particular strategies to be specific we first aim at labeling the query 2we consider three levels of query complexity and leave the exploration of more finegrained complexities as future workcomplexity based on the results from three different retrievalaugmented llm strategies in order to determine the label by its needs for example if the simplest nonretrievalbased approach correctly generates the answer the label for its corresponding query is assigned a also to break the tie between different models in providing the label to the query we provide a higher priority to a simpler model in other words if both singlestep and multistep approaches produce the same correct answer while the nonretrievalbased approach fails we assign label b to its corresponding query however this labeling strategy has a limita tion in that not all the queries are assigned labels since the three retrievalaugmented approaches may all fail to generate the correct answer on the other hand the benchmark",
        "mimetype": "text/plain",
        "start_char_idx": 112432,
        "end_char_idx": 118785,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c3b63225-5d2f-4fcb-9659-84f0214cde05",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "548857b5-8669-4b63-9edd-c2581287175c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "84f49013a68024740d5634664e8e0bdac5beb63f639abf7d3a4ddc4515c284a9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "68a322a1-c80c-4a1b-b2fe-57abd9c3b0b0",
                "node_type": "1",
                "metadata": {},
                "hash": "1de8be79f6ca97631c1b325842162a99cfdea672cf378224d8f619e513a784dc",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "is no annotated dataset available for querycomplexity pairs hence we propose to automatically construct the training dataset with two particular strategies to be specific we first aim at labeling the query 2we consider three levels of query complexity and leave the exploration of more finegrained complexities as future workcomplexity based on the results from three different retrievalaugmented llm strategies in order to determine the label by its needs for example if the simplest nonretrievalbased approach correctly generates the answer the label for its corresponding query is assigned a also to break the tie between different models in providing the label to the query we provide a higher priority to a simpler model in other words if both singlestep and multistep approaches produce the same correct answer while the nonretrievalbased approach fails we assign label b to its corresponding query however this labeling strategy has a limita tion in that not all the queries are assigned labels since the three retrievalaugmented approaches may all fail to generate the correct answer on the other hand the benchmark datasets may al ready have meaningful inductive biases about the most appropriate retrievalaugmented llm strate gies for their queries considering the ways they are created eg qa datasets that require sequen tial reasoning usually necessitate a multistep ap proach while queries of those with labeled sin gle documents can be ideally answerable with the singlestep approach therefore for those queries that remain unlabeled after the first labeling step we assign b to queries in singlehop datasets and c to queries in multihop datasets finally we train classifier with these automatically collected querycomplexity pairs3 by using a cross entropy loss then at inference we can deter mine the complexity of the query which is one of a b c by forwarding it to classifier oclassifier q 4 experimental setups in this section we explain datasets models met rics and implementation details we provide addi tional details in appendix a 41 datasets in order to simulate a realistic scenario where dif ferent queries have varying complexities we use both the singlehop and multihop qa datasets si multaneously in the unified experimental setting singlehop qa for simpler queries we use three benchmark singlehop qa datasets which consist 3as we automatically assign classifier labels there might be errors in labeling and might be more advanced strategies to automatically assign labels which we leave as future work mimetype textplain start_char_idx 0 end_char_idx 4580 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 6838988794de4dce849734a70ca7d3d0 embedding null metadata page_label 6 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 23b4254a784144309ffb7d6a339aae92 node_type 4 metadata page_label 6 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 29564e9a6ac9152d0d321bacbcd25cffe6804717dced9332e54d6947ca60888d class_name relatednodeinfo text table 1 averaged results on a collection of benchmark datasets for opendomain question answering including the singlehop and multihop queries with different llms selfragis trained with a different base llm namely llama2 touvron et al 2023 therefore we compare the results of flant5xl 3b with the results from selfrag with llama2 7b and the results of others with the results from selfrag with llama2 13b we emphasize our results in bold for easy comparisons flant5xl 3b flant5xxl 11b gpt35 turbo types methods em f1 acc step time em f1 acc step time em f1 acc step time simpleno retrieval 1487 2112 1597 000 011 1783 2514 1933 000 008 3577 4856 4427 000 071 singlestep approach 3483 4431 3887 100 100 3787 4763 4190 100 100 3473 4699 4527 100 100 adaptiveadaptive retrieval 2387 3224 2673 050 056 2693 3567 2973 050 054 3590 4820 4530 050 086 selfrag990 2079 3157 072 043 1087 2298 3413 074 023 1087 2298 3413 074 150 adaptiverag ours 3717 4694 4210 217 360 3890 4862 4377 135 200 3797 5091 4897 103 146 complex multistep approach 3900 4885 4370 469 881 4013 5009 4520 213 380 3813 5087 mimetype textplain start_char_idx 23049 end_char_idx 29307 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c9b85fc3b3fd48adae16322b558b7f1d embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id e56d6070c3524b65979c58be475534de node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size",
        "mimetype": "text/plain",
        "start_char_idx": 117662,
        "end_char_idx": 123271,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "68a322a1-c80c-4a1b-b2fe-57abd9c3b0b0",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c3b63225-5d2f-4fcb-9659-84f0214cde05",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ecf40a075c3332725fe5ed7f61af59588672d1265deeaceb1fb56e56992dae85",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "89d5f8be-96bf-4b8c-b59e-a260b0b58e68",
                "node_type": "1",
                "metadata": {},
                "hash": "e0c5075db30fc4aa9e4edbf9e84b881338dc96760a6ff1671b068da9cd96b010",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id e56d6070c3524b65979c58be475534de node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 749dd3fe32892e3037fbf0af0e72a9424a4e0c503579d52d98c2d52a64ede8b3 class_name relatednodeinfo  3  node_id c505de053841411784e85eadcab60d43 node_type 1 metadata  hash 8561802d9f7b9c6579e14e82dc24d0327bfcd441b74095a845ba2063b269f51d class_name relatednodeinfo   text 3483 4431 3887 100 100 3787 4763 4190 100 100 3473 4699 4527 100 100 adaptiveadaptive retrieval 2387 3224 2673 050 056 2693 3567 2973 050 054 3590 4820 4530 050 086 selfrag990 2079 3157 072 043 1087 2298 3413 074 023 1087 2298 3413 074 150 adaptiverag ours 3717 4694 4210 217 360 3890 4862 4377 135 200 3797 5091 4897 103 146 complex multistep approach 3900 4885 4370 469 881 4013 5009 4520 213 380 3813 5087 4970 281 333 oracle adaptiverag w oracle 4500 5628 4990 128 211 4717 5860 5220 084 110 4770 6280 5857 050 103 of queries and their associated documents contain ing answers namely 1 squad v11 rajpurkar et al 2016 2 natural questions kwiatkowski et al 2019 and 3 triviaqa joshi et al 2017 multihop qa to consider more complex query scenarios we use three benchmark multihop qa datasets which require sequential reasoning over multiple documents namely 1 musique trivedi et al 2022a 2 hotpotqa yang et al 2018 and3 2wikimultihopqa ho et al 2020 42 models we compare our adaptiverag against relevant models including three retrievalaugmented llm strategies in section 31 and the adaptive re trieval approaches mallen et al 2023 asai et al 2024 which can be grouped into one of three cat egories simple adaptive and complex specif ically simple approaches include the 1 no re trieval and2 singlestep approach based meth ods adaptive approaches include the 3 adaptive retrieval mallen et al 2023 4 selfrag asai et al 2024 and our 5 adaptiverag which can adaptively perform retrieval based on the question complexity for the 6 multistep ap proach we use the most sophisticated stateof theart method trivedi et al 2023 iteratively accessing both the retriever and llm with chain ofthought reasoning wei et al 2022b for every query note that models across different categories are not directly comparable yet in the ideal set ting adaptive approaches should be more effective than those in the simple category while simultane ously being more efficient than the complex one therefore we also report the performance in an ideal scenario 7 adaptiverag w oracle using the oracle classifier with our adaptiverag 43 evaluation metrics when it comes to evaluating adaptive models it is essential to simultaneously consider both thetask performance and efficiency along with their tradeoffs thus we report the results with five metrics where three of them measure the effective ness and the other two measure the efficiency in particular for effectiveness we use f1 em and accuracy acc following the standard evaluation protocol mallen et al 2023 baek et al 2023 asai et al 2024 where f1 measures the number of overlapping words between the predicted an swer and the ground truth em measures whether they are the same and acc measures whether the predicted answer contains the groundtruth answer for efficiency we measure the number of retrieval andgenerate steps and the average time for answer ing each query relative to the onestep approach 44 implementation details for a fair comparison and following mallen et al 2023 and trivedi et al 2023 we use the same re triever a termbased sparse retrieval model known as bm25 robertson et al 1994 across all differ ent models for the external document corpus we use different sources depending on the dataset type the wikipedia corpus preprocessed by karpukhin et al 2020 for singlehop datasets and the pre processed corpus by trivedi et al 2023 for multi hop datasets regarding the llms that are used to generate answers we use the flant5 series models chung et al 2022 of xl with 3b pa rameters and xxl with 11b parameters and the gpt35 model gpt35turboinstruct for the retrievalaugmented llm design we follow the implementation details from trivedi et al 2023 which include input prompts instructions and the number of test samples for evaluation eg 500 samples per dataset in our adaptiverag for the querycomplexity classifier we use and train the t5large model raffel et al 2020 specifically the classifier is trained using the epoch that shows the best performance until 100 training iterations from the validation set with the learning rate of 3e mimetype textplain start_char_idx 0 end_char_idx 4774 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d9b4c7465856498181e46f8f241c0e47 embedding null metadata page_label 7",
        "mimetype": "text/plain",
        "start_char_idx": 122678,
        "end_char_idx": 127925,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "89d5f8be-96bf-4b8c-b59e-a260b0b58e68",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "68a322a1-c80c-4a1b-b2fe-57abd9c3b0b0",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e851086c5342e98d3011a729fbea7f2d3e51f4159aede397f4251b4fb40c475c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0037ca3e-8b36-4993-9dcc-b67e3c9fa4ed",
                "node_type": "1",
                "metadata": {},
                "hash": "80b591b9d7bdb11d9f9c04045b19d3d1002b4fd7379b568486a1eced0bda1309",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "series models chung et al 2022 of xl with 3b pa rameters and xxl with 11b parameters and the gpt35 model gpt35turboinstruct for the retrievalaugmented llm design we follow the implementation details from trivedi et al 2023 which include input prompts instructions and the number of test samples for evaluation eg 500 samples per dataset in our adaptiverag for the querycomplexity classifier we use and train the t5large model raffel et al 2020 specifically the classifier is trained using the epoch that shows the best performance until 100 training iterations from the validation set with the learning rate of 3e mimetype textplain start_char_idx 0 end_char_idx 4774 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d9b4c7465856498181e46f8f241c0e47 embedding null metadata page_label 7 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 48842ec89d7c4e619bd074f7a2ccacb4 node_type 4 metadata page_label 7 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash bf7f9056f4d4d18b2daadc46b1af32359ded02722d32ff2be5164ef629a93f3d class_name relatednodeinfo text table 2 results on each of a collection of datasets with flant5xl 3b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 360 1050 500 000 011 1420 1900 1560 000 013 2500 3180 2700 000 013 singlestep approach 2780 3930 3400 100 100 3780 4730 4460 mimetype textplain start_char_idx 28899 end_char_idx 34289 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c505de053841411784e85eadcab60d43 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id c9b85fc3b3fd48adae16322b558b7f1d node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4054ff4ec3db8584a796675a0d587ed9374015d9b8bdcbf792cbc63d5d17d2d8 class_name relatednodeinfo  3  node_id 7df2fcdf5cef4415b8a17f64a47802ee node_type 1 metadata  hash 368f18186c9aa31a8a1a35eebfc65378cfeaf2b112410ba376c16cbf30a614bd class_name relatednodeinfo   text file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash bf7f9056f4d4d18b2daadc46b1af32359ded02722d32ff2be5164ef629a93f3d class_name relatednodeinfo text table 2 results on each of a collection of datasets with flant5xl 3b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 360 1050 500 000 011 1420 1900 1560 000 013 2500 3180 2700 000 013 singlestep approach 2780 3930 3400 100 100 3780 4730 4460 100 100 5360 6240 6020 100 100 adaptiveadaptive retrieval 1340 2310 1760 050 055 2820 3600 3300 050 056 3840 4690 4260 050 056 selfrag220 1120 1840 063 050 3140 3900 3360 063 017 1280 2930 5700 068 045 adaptiverag ours 2680 3830 3300 137 202 3780 4730 4460 100 100 5220 6070 5820 123 154 complex multistep approach 2440 3560 2960 452 903 3860 4780 4420 504 1018 5380 6240 6020 528 922 oracle adaptiverag w oracle 3200 4560 3820 124 160 4740 5710 5360 110 155 6160 7020 6640 079 110 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time",
        "mimetype": "text/plain",
        "start_char_idx": 127079,
        "end_char_idx": 131516,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0037ca3e-8b36-4993-9dcc-b67e3c9fa4ed",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "89d5f8be-96bf-4b8c-b59e-a260b0b58e68",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bc8ec5da46c31bbd9988badecd27d3db0f2adfdccec9322e9673af764546229f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "13518c8d-2bb3-42a2-a828-bc13488522ed",
                "node_type": "1",
                "metadata": {},
                "hash": "3147b93dd776eec8aff5c79b5601798ac06f1c41357f699beb27440d40e3740f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "4260 050 056 selfrag220 1120 1840 063 050 3140 3900 3360 063 017 1280 2930 5700 068 045 adaptiverag ours 2680 3830 3300 137 202 3780 4730 4460 100 100 5220 6070 5820 123 154 complex multistep approach 2440 3560 2960 452 903 3860 4780 4420 504 1018 5380 6240 6020 528 922 oracle adaptiverag w oracle 3200 4560 3820 124 160 4740 5710 5360 110 155 6160 7020 6640 079 110 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 240 1070 320 000 011 1660 2271 1720 000 011 2740 3204 2780 000 010 singlestep approach 1380 2280 1520 100 100 3440 4615 3640 100 100 4160 4790 4280 100 100 adaptiveadaptive retrieval 640 1580 800 050 055 2360 3222 2500 050 055 3320 3944 3420 050 055 selfrag160 810 1200 073 051 680 1753 2960 073 045 460 1959 3880 093 049 adaptiverag ours 2360 3180 2600 322 661 4200 5382 4440 355 599 4060 4975 4640 263 468 complex multistep approach 2300 3190 2580 360 758 4460 5654 4700 553 938 4960 5885 5540 417 737 oracle adaptiverag w oracle 2480 3850 2700 198 399 5120 6400 5480 159 277 5300 6230 5940 101 169 f1102030405060adaptive retrieval selfrag adaptiverag ours classifier acc3540455055flant5xl f1102030405060adaptive retrieval selfrag adaptiverag ours classifier acc3540455055flant5xxl no one multino one multi031 047 022 01 066 023 003 031 065 020406confusion matrix figure 3 performance on qa and querycomplexity assessment of different adaptive approaches for retrievalaugmented llms with flant5 xl left and xxl center for labeling the complexity of queries we use the silver data annotated from the prediction outcomes of models described in section 32 we also provide the confusion matrix across three labels right 5 and the adamw loshchilov and hutter 2019 as an optimizer regarding its training data we sample and annotate 400 queries from 6 datasets based on its inductive bias singlehop for onestep approach and multihop for multistep in addition we use predicted outcomes of three different strate gies over 400 queries sampled from each dataset note that those queries used for classifier training do not overlap with the testing queries for qa 5 experimental results and analyses in this section we show the overall experimental results and offer indepth analyses of our method main results first of all table 1 shows our main results averaged over all considered datasets which corroborate our hypothesis that simple retrieval augmented strategies are less effective than the complex strategy while the complex one is sig nificantly more expensive than the simple ones in addition we report the more granular results with flant5xl on each of the singlehop and multi hop datasets in table 2 and more with different llms in table 7 and table 8 of appendix which are consistent with the results observed in table 1 however in a realworld scenario not all users ask queries with the same level of complexity which emphasizes the importance of the need for adaptive strategies note that among the adaptive strategies our adaptiverag shows remarkableeffectiveness over the competitors table 1 this indicates that merely focusing on the decision of whether to retrieve or not is suboptimal also as shown in table 2 such simple adaptive strategies are particularly inadequate for handling complex queries in multihop datasets which require ag gregated information and reasoning over multiple documents meanwhile our approach can consider a more finegrained query handling strategy by fur ther incorporating an iterative module for complex queries furthermore in a realistic setting we should take into account not only effectiveness but also efficiency as shown in table 1 compared to the complex multistep strategy our proposed adap tive strategy is significantly more efficient across all model sizes this is meaningful in this era of llms where the cost of accessing them is a critical factor for practical applications and scalability fi nally to see the upper bound of our adaptiverag we report its performances with the oracle classifier where the classification performance is perfect as shown in table 1 and table 2 we observe that it achieves the best performance while being much more efficient than our adaptiverag without the oracle classifier these results support the valid ity and significance of our proposal for adapting retrievalaugmented llm strategies based on query complexity and further suggest the direction to de velop more improved classifiers to achieve optimal performance mimetype textplain start_char_idx 0 end_char_idx 5004 text_template metadata_strnncontent mimetype textplain start_char_idx 33713 end_char_idx 39005 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7df2fcdf5cef4415b8a17f64a47802ee embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 131077,
        "end_char_idx": 136458,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "13518c8d-2bb3-42a2-a828-bc13488522ed",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0037ca3e-8b36-4993-9dcc-b67e3c9fa4ed",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "84ac4b3da69c756fad3813d66d8b7cb09c22b203d4a2d36506d16e20f71a6e1f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7ef9b42f-159d-4fb8-bd2f-550b2b8221d9",
                "node_type": "1",
                "metadata": {},
                "hash": "29dd4d474e216d16965c56ad910cfb06ef9e44df31fb818344b8a0b758c445e3",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7df2fcdf5cef4415b8a17f64a47802ee embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id c505de053841411784e85eadcab60d43 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 63fdfd115af9964f35c1d001e38d65cf43b0f17c77791b57692bb70ab00917db class_name relatednodeinfo  3  node_id 0bac066ad44d48d2a1c9c9ff84a7a59b node_type 1 metadata  hash 4767b053d7a724da0c175904163fcc2b6cee34717ad4a7bb34d588db58befc9e class_name relatednodeinfo   text query handling strategy by fur ther incorporating an iterative module for complex queries furthermore in a realistic setting we should take into account not only effectiveness but also efficiency as shown in table 1 compared to the complex multistep strategy our proposed adap tive strategy is significantly more efficient across all model sizes this is meaningful in this era of llms where the cost of accessing them is a critical factor for practical applications and scalability fi nally to see the upper bound of our adaptiverag we report its performances with the oracle classifier where the classification performance is perfect as shown in table 1 and table 2 we observe that it achieves the best performance while being much more efficient than our adaptiverag without the oracle classifier these results support the valid ity and significance of our proposal for adapting retrievalaugmented llm strategies based on query complexity and further suggest the direction to de velop more improved classifiers to achieve optimal performance mimetype textplain start_char_idx 0 end_char_idx 5004 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f7fb3d6d3f644e56b6fe4e3bb30c2e31 embedding null metadata page_label 8 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 2c7066b5581044beb55064eff01bcad2 node_type 4 metadata page_label 8 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 9a4434a9e9b5c116305be338fa9a863f5bee7a2eb1a73bce93461bff3eb55f0e class_name relatednodeinfo text table 3 the exact elapsed time per query and the percentage of the predicted labels from the classifier over all samples labels timequery sec percentage no a 035 860 one b 308 5333 multi c 2718 3807 classifier performance to understand how the proposed classifier works we analyze its perfor mance across different complexity labels as fig ure 3 left and center shows the classification accuracy of our adaptiverag is better than those of the other adaptive retrieval baselines which leads to overall qa performance improvements in other words this result indicates that our adaptive rag is capable of more accurately classifying the complexity levels with various granularities which include not performing retrieval performing re trieval only once and performing retrieval multiple times in addition to the true positive performance of our classifier averaged over all those three la bels in figure 3 left and center we further re port its confusion matrix in figure 3 right we note that the confusion matrix reveals some notable trends c multi is sometimes misclassified as b one about 31 and b one as c multi about 23 a no is misclassified often as b one about 47 and less frequently as c multi about 22 while the overall results in figure 3 show that our classifier effectively cate gorizes the three labels further refining it based on such misclassification would be a meaningful direction for future work analyses on efficiency for classifier while ta ble 1 shows the relative elapsed time for each of the three different rag strategies we further provide the exact elapsed time per query for our adaptive rag and the distribution for predicted labels from our querycomplexity classifier in table 3 similar to the results of the elapsed time in table 1 relative time table 3 exact time shows that efficiency can be substantially improved by identifying sim ple or straightforward queries analyses on training data for classifier we have shown that the classifier plays an important role in adaptive retrieval here we further analyze the different strategies for training the classifier by ablating our full training strategy which includes two approaches generating silver data from pre dicted outcomes of models and utilizing inductivetable 4 results on qa and complexity classification with varying the data annotation strategies for training the classifier qa classifier accuracy training strategies f1 step all no one multi adaptiverag ours 4694 1084 5452 3052 6628 6545 wo binary 4343 640 6030 6219 6570 3955 wo silver 4879 1464 4000 000 5398 7591 bias in datasets see section 32 as table 4 shows compared to the training strategy relying solely on the data derived from inductive bias ours is sig nificantly more efficient this",
        "mimetype": "text/plain",
        "start_char_idx": 135738,
        "end_char_idx": 141781,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7ef9b42f-159d-4fb8-bd2f-550b2b8221d9",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "13518c8d-2bb3-42a2-a828-bc13488522ed",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b157ddb6975bcb7fd029eed0a465f4693a74cecaf9e8f23f7b5eda13b394363b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8c166b0c-4c57-4a9b-b2d5-cda11782bbff",
                "node_type": "1",
                "metadata": {},
                "hash": "48f132adf72023b854fbf7c6f35a09c65132f35171dbe9dddea511ba1ee02148",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "3 exact time shows that efficiency can be substantially improved by identifying sim ple or straightforward queries analyses on training data for classifier we have shown that the classifier plays an important role in adaptive retrieval here we further analyze the different strategies for training the classifier by ablating our full training strategy which includes two approaches generating silver data from pre dicted outcomes of models and utilizing inductivetable 4 results on qa and complexity classification with varying the data annotation strategies for training the classifier qa classifier accuracy training strategies f1 step all no one multi adaptiverag ours 4694 1084 5452 3052 6628 6545 wo binary 4343 640 6030 6219 6570 3955 wo silver 4879 1464 4000 000 5398 7591 bias in datasets see section 32 as table 4 shows compared to the training strategy relying solely on the data derived from inductive bias ours is sig nificantly more efficient this efficiency is partly because ours also takes into account the case that does not consider any documents at all as also implied by the classification accuracy meanwhile queries in the existing datasets do not capture the information on whether the retrieval is required or not on the other hand in the case of only using the silver data annotated from the correct predictions while its overall classification accuracy is high the overall qa performance implies that relying on the silver data may not be optimal this may be because this silver data does not cover complex ity labels over incorrectly predicted queries which leads to lower generalization effect on queries rel evant to them meanwhile by also incorporating complexity labels from dataset bias singlehop vs multihop the classifier becomes more accurate in predicting multihop queries leading to the better performance it is worth noting that our automatic labeling strategies are two particular instantiations for training the classifier and that there could be other instantiations which we leave as future work analyses on classifier size to investigate the sensitivity of our classifier according to its varying sizes we conducted further experiments as shown in table 6 we observe no significant performance differences among classifiers of various sizes even with reduced complexity and fewer parameters in smaller classifiers this indicates that our proposed classifier can contribute to resourceefficient set tings in realuse cases with smaller sizes without compromising the performance case study we conduct a case study to qualita tively compare our adaptiverag against adap tive retrieval table 5 shows the classified com plexity and the query handling patterns for both simple and complex questions first for the simple singlehop question our adaptiverag identifies that it is answerable by only using the llms para metric knowledge about google by contrast mimetype textplain start_char_idx 0 end_char_idx 4675 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5a2010a76eee4d41a56389c6c13c5a43 embedding null metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size mimetype textplain start_char_idx 37872 end_char_idx 44898 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0bac066ad44d48d2a1c9c9ff84a7a59b embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7df2fcdf5cef4415b8a17f64a47802ee node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 702e3aa0673d0f8fdbd879901067e18eeb6836ca543ece6770229edd43153b3b class_name relatednodeinfo  3  node_id 3895e93b1b09490b8806a6e21c125046 node_type 1 metadata  hash 68d63912c12c460ee9b7e27e84e61d64d69831b4eefa69c5046186513a204d1f class_name relatednodeinfo   text proposed classifier can contribute to resourceefficient set tings in realuse cases with smaller sizes without compromising the performance case study we conduct a case study to qualita tively compare our adaptiverag against adap tive retrieval table 5 shows the classified com plexity and the query handling patterns for both simple and complex questions first for the simple singlehop question our adaptiverag identifies that it is answerable by only using the llms para metric knowledge about google by contrast mimetype textplain start_char_idx 0 end_char_idx 4675 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5a2010a76eee4d41a56389c6c13c5a43 embedding null metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3ccd84ba7df34296ae1c93565f95d32e node_type 4 metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 140821,
        "end_char_idx": 146835,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8c166b0c-4c57-4a9b-b2d5-cda11782bbff",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7ef9b42f-159d-4fb8-bd2f-550b2b8221d9",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "df582bf067c55ff46eb573c062d8bc0360827a2c99da854581d9e2ccda037273",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "1d3849af-4e6b-4853-b83e-a9efbdfc7293",
                "node_type": "1",
                "metadata": {},
                "hash": "5c67f247229fd6eb0aab50c349034a0a8b8da1f1d680a3e0f7bd493a0098f8ef",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "metadata_template key value metadata_seperator n class_name textnode id_ 5a2010a76eee4d41a56389c6c13c5a43 embedding null metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3ccd84ba7df34296ae1c93565f95d32e node_type 4 metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash ab57a9315c5139a49739ea12498ea2b36607244219a38eedf795f8c9210fe756 class_name relatednodeinfo text table 5 case study with gpt35 turbo where we represent the factual error in red and the accurate information in blue dataset question adaptive retrieval adaptiverag ours nq singlehopwhich famous corpo rate logo changed to a flat colourcolor sans serif font in its first ma jor change since 1999query type b singlestep approach reasoning the famous corporate logo that changed to a flat color sansserif font in its first major change since 1999 is microsoft microsoft changed its logo in 2012 replacing the italicized multicolored font with a simple flat grey font so the answer is microsoftquery type a non retrieval reasoning the famous corporate logo that changed to a flat color sans serif font in its first ma jor change since 1999 is google google changed its logo in 2015 so the answer is google musique multihopwho is the child of the italian navigator who explored the eastern coast of the continent cu00e9sar gaytan was born in for the englishquery type a non retrieval reasoning cu00e9sar gaytan was born in the conti nent of north america the italian navigator who explored the eastern coast of north america for the english was giovanni caboto also known as john cabot so the answer is giovanni cabotojohn cabotquery type c multistep approach reasoning cu00e9sarr gaytan was born in guadalajara jalisco mexico the italian navigator who explored the eastern coast of the continent for the english is john cabot john cabots son is sebastian cabot so the answer is sebastian cabot table 6 results with varying model sizes for classifiers qa classifier accuracy sizes f1 step all no one multi small 60m 4583 964 5348 2665 7062 5318 base 223m 4597 983 5341 2642 6946 5682 large 770m 4694 1084 5452 3052 6628 6545 adaptive retrieval fetches additional documents leading to longer processing times and occasion ally producing incorrect responses due to the inclu sion of partially irrelevant information about mi crosoft meanwhile faced with a complex ques tion adaptiverag seeks out relevant information including details like a son of john cabot which may not have been stored in llms while adaptive retrieval fails to request such information from external sources resulting in inaccurate answers 6 conclusion in this work we proposed the adaptive retrieval augmented generation framework referred to as adaptiverag to handle queries of various complexities specifically adaptiverag is de signed to dynamically adjust its query handling strategies in the unified retrievalaugmented llm based on the complexity of queries that they en counter which spans across a spectrum of the non retrievalbased approach for the most straightfor ward queries to the singlestep approach for the queries of moderate complexity and finally to the multistep approach for the complex queries the core step of our adaptiverag lies in determin ing the complexity of the given query which is instrumental in selecting the most suitable strat egy for its answer to operationalize this process we trained a smaller language model with query complexity pairs which are automatically anno tated from the predicted outcomes and the inductive biases in datasets we validated our adaptiveragon a collection of opendomain qa datasets cover ing the multiple query complexities including both the single and multihop questions the results demonstrate that our adaptiverag enhances the overall accuracy and efficiency of qa systems al locating more resources to handle complex queries while efficiently handling simpler queries com pared to the existing onesizefitsall approaches that tend to be either minimalist or maximalist over varying query complexities limitations while our adaptiverag shows clear advantages in effectiveness and efficiency by determining the query complexity and then leveraging the most suitable approach for tackling it it is important to recognize that there still exist potential avenues for improving the classifier from the perspectives of its training datasets and architecture specifi cally as there are no available datasets for training the querycomplexity classifier we automatically create new data based on the model prediction out comes and the inductive dataset biases however our labeling process is one specific instantiation of labeling the query complexity and it may have the potential to label queries incorrectly despite its effectiveness therefore future work may create new datasets that are annotated with a diverse range of query complexities in addition to the labels of questionanswer pairs also as the performance gap between the ideal classifier in table 1 and the current classifier in figure 3 indicates there is still room to improve the effectiveness of the classifier in other words our classifier design based on the smaller lm is the initial simplest instantiation for classifying the query complexity and based upon it future work may improve the classifier archi tecture and its performance which will positively contribute to the overall qa performance mimetype textplain start_char_idx 0 end_char_idx 4981 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 09f318fff6124b42aeae83bae1eb8886 embedding null metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 mimetype textplain start_char_idx 43995 end_char_idx 50841 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3895e93b1b09490b8806a6e21c125046 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1",
        "mimetype": "text/plain",
        "start_char_idx": 146117,
        "end_char_idx": 152851,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "1d3849af-4e6b-4853-b83e-a9efbdfc7293",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8c166b0c-4c57-4a9b-b2d5-cda11782bbff",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "1c9c25a32d2ebf2baee8945f8b2992e3a6dee09d07778cbdc9196583130881f4",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0979470a-2241-41c2-9232-6f585096a763",
                "node_type": "1",
                "metadata": {},
                "hash": "4667baf274df94a9a483b96b4ad6048310d4f6b15f994b60de4c086946a9a061",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "embedding null metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 mimetype textplain start_char_idx 43995 end_char_idx 50841 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3895e93b1b09490b8806a6e21c125046 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0bac066ad44d48d2a1c9c9ff84a7a59b node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash ce6a30b55993937307197896d9c9ba6ff7fd8104f5f78d67d3594a52e8905641 class_name relatednodeinfo  3  node_id 76cc0ee2433045a0904e7814da464b22 node_type 1 metadata  hash 7b83db33332d7d94d2e4f8f58df449aa038259d45ed746d38058b8f51189b711 class_name relatednodeinfo   text addition to the labels of questionanswer pairs also as the performance gap between the ideal classifier in table 1 and the current classifier in figure 3 indicates there is still room to improve the effectiveness of the classifier in other words our classifier design based on the smaller lm is the initial simplest instantiation for classifying the query complexity and based upon it future work may improve the classifier archi tecture and its performance which will positively contribute to the overall qa performance mimetype textplain start_char_idx 0 end_char_idx 4981 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 09f318fff6124b42aeae83bae1eb8886 embedding null metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 213888e7d9d34f7aa027b5061e995490 node_type 4 metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 3fd224ab45f3ceef3ab0ccd94fe104951e81351f0cf52f0ea7f935248a7be289 class_name relatednodeinfo text ethics statement the experimental results on adaptiverag vali date its applicability in realistic scenarios where a wide range of diverse user queries exist nonethe less given the potential diversity of realworld user inputs it is crucial to also consider scenarios where these inputs might be offensive or harmful we should be aware that such inputs could lead to the retrieval of offensive documents and the genera tion of inappropriate responses by the retrieval augmented llms to address this challenge de veloping methods to detect and manage offensive or inappropriate content in both user inputs and re trieved documents within the retrievalaugmented framework is essential we believe that this is a critical area for future work acknowledgements this work was supported by institute for informa tion and communications technology promotion iitp grant funded by the korea government no 2018000582 prediction and augmentation of the credibility distribution via linguistic analysis and automated evidence document collection basic science research program through the national research foundation of korea nrf funded by the ministry of education rs202300275747 and the artificial intelligence industrial convergence cluster development project funded by the ministry of science and ict msit korea gwangju metropolitan city references rohan anil andrew m dai orhan firat melvin john son dmitry lepikhin alexandre passos siamak shakeri emanuel taropa paige bailey zhifeng chen eric chu jonathan h clark laurent el shafey yanping huang kathy meierhellstern gau rav mishra erica moreira mark omernick kevin robinson sebastian ruder yi tay kefan xiao yuanzhong xu yujing zhang gustavo hernu00e1ndez u00e1brego junwhan ahn jacob austin paul barham jan a botha james bradbury siddhartha brahma kevin brooks michele catasta yong cheng colin cherry christopher a choquettechoo aakanksha chowdhery clu00e9ment crepy shachi dave mostafa dehghani sunipa dev jacob devlin mark du00edaz nan du ethan dyer vladimir feinberg fangxi aoyu feng vlad fienber markus freitag xavier garcia sebastian gehrmann lucas gonzalez and et al 2023 palm 2 technical report arxiv preprint arxiv230510403 akari asai zeqiu wu yizhong wang avirup sil andhannaneh hajishirzi 2024 selfrag learning to retrieve generate and critique through selfreflection inthe twelfth international conference on learning representations jinheon baek",
        "mimetype": "text/plain",
        "start_char_idx": 152123,
        "end_char_idx": 157587,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0979470a-2241-41c2-9232-6f585096a763",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "1d3849af-4e6b-4853-b83e-a9efbdfc7293",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "759af98335e1186945273764577573f61a316346931b6ec902b22968a1a0575c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3224d511-42cf-4c11-9fa8-dc898ab8fccf",
                "node_type": "1",
                "metadata": {},
                "hash": "098afbd5f4ebead11484cbbd93d75f9a3eb02d65d7abecad20f7049bbe7f5e8f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "austin paul barham jan a botha james bradbury siddhartha brahma kevin brooks michele catasta yong cheng colin cherry christopher a choquettechoo aakanksha chowdhery clu00e9ment crepy shachi dave mostafa dehghani sunipa dev jacob devlin mark du00edaz nan du ethan dyer vladimir feinberg fangxi aoyu feng vlad fienber markus freitag xavier garcia sebastian gehrmann lucas gonzalez and et al 2023 palm 2 technical report arxiv preprint arxiv230510403 akari asai zeqiu wu yizhong wang avirup sil andhannaneh hajishirzi 2024 selfrag learning to retrieve generate and critique through selfreflection inthe twelfth international conference on learning representations jinheon baek soyeong jeong minki kang jong park and sung ju hwang 2023 knowledgeaugmented language model verification in proceedings of the 2023 conference on empirical methods in natural language processing emnlp 2023 singapore de cember 610 2023 pages 17201736 association for computational linguistics sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza rutherford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen si monyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international conference on machine learning icml 2022 1723 july 2022 bal timore maryland usa volume 162 of proceedings of machine learning research pages 22062240 pmlr tom b brown benjamin mann nick ryder melanie subbiah jared kaplan prafulla dhariwal arvind neelakantan pranav shyam girish sastry amanda askell sandhini agarwal ariel herbertv oss gretchen krueger tom henighan rewon child aditya ramesh daniel m ziegler jeffrey wu clemens winter christopher hesse mark chen eric sigler mateusz litwin scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon mimetype textplain start_char_idx 49900 end_char_idx 55690 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 76cc0ee2433045a0904e7814da464b22 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 3895e93b1b09490b8806a6e21c125046 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 7aece1d39dad98a01fc318260a89b477bf08d3dd27913ec1083fb062bb7b5920 class_name relatednodeinfo  3  node_id 0812e8069d6a466ca80b2efc6ee8dd7f node_type 1 metadata  hash 4fef67335e171eb8456539ce6561045e72a0b08a5a30804834eeadd0f204204b class_name relatednodeinfo   text tom henighan rewon child aditya ramesh daniel m ziegler jeffrey wu clemens winter christopher hesse mark chen eric sigler mateusz litwin scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon seo soyeong jeong and jong c park 2023 improving zeroshot reader by reducing distractions from irrelevant documents in opendomain question answering in findings of the association for computational linguistics emnlp 2023 singapore december 610 2023 pages 3145",
        "mimetype": "text/plain",
        "start_char_idx": 156914,
        "end_char_idx": 162004,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3224d511-42cf-4c11-9fa8-dc898ab8fccf",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0979470a-2241-41c2-9232-6f585096a763",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f90f7fda82263cc329ac2482cf096cae9017fc64f56c2df504bf794472b26a01",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c2ce21ac-6ab1-4780-95da-4dde3f54faa8",
                "node_type": "1",
                "metadata": {},
                "hash": "a78af93c7eec49643f257e01127c8d88fe24a6a26e7ce50319984fccce5e7cf1",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon seo soyeong jeong and jong c park 2023 improving zeroshot reader by reducing distractions from irrelevant documents in opendomain question answering in findings of the association for computational linguistics emnlp 2023 singapore december 610 2023 pages 3145 3157 association for computational linguistics hyung won chung le hou shayne longpre barret zoph yi tay william fedus eric li xuezhi wang mostafa dehghani siddhartha brahma albert web son shixiang shane gu zhuyun dai mirac suz gun xinyun chen aakanksha chowdhery sharan mimetype textplain start_char_idx 0 end_char_idx 4873 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c69adf80de354da9a8c34717be9b258b embedding null metadata page_label 11 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id e5e9c4293fed4082ab2cb815b06f8154 node_type 4 metadata page_label 11 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 107987f8b7f01cdecb07c1296485ce34918d5882bcc9ba95c8ed1460690913db class_name relatednodeinfo text narang gaurav mishra adams yu vincent y zhao yanping huang andrew m dai hongkun yu slav petrov ed h chi jeff dean jacob devlin adam roberts denny zhou quoc v le and jason wei 2022 scaling instructionfinetuned language models arxiv preprint arxiv221011416 xanh ho anhkhoa duong nguyen saku sugawara and akiko aizawa 2020 constructing a multihop qa dataset for comprehensive evaluation of reason ing steps in proceedings of the 28th international conference on computational linguistics coling 2020 barcelona spain online december 813 2020 pages 66096625 international committee on computational linguistics gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open do main question answering in proceedings of the 16th conference of the european chapter of the associ ation for computational linguistics main volume eacl 2021 online april 19 23 2021 pages 874 880 association for computational linguistics gautier izacard patrick s h lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave 2023 atlas fewshot learning with retrieval augmented language models j mach learn res 24251125143 soyeong jeong jinheon baek sukmin cho sung ju hwang and jong park 2023 testtime selfadaptive small language models for question answering in findings of the association for computational lin guistics emnlp 2023 singapore december 610 2023 pages 1545915469 association for computa tional linguistics zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig 2023 active retrieval augmented generation in emnlp 2023 mandar joshi eunsol choi daniel s weld and luke zettlemoyer 2017 triviaqa a large scale distantly supervised challenge dataset for reading comprehen sion in proceedings of the 55th annual meeting of the association for computational linguistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 16011611 association for computational linguistics vladimir karpukhin barlas oguz sewon min patrick s h lewis ledell wu sergey edunov danqi chen and wentau yih 2020 dense passage retrieval for opendomain question answering in proceedings of the 2020 conference on empirical methods in natu ral language processing emnlp 2020 november 1620 2020 association for computational linguis tics jungo kasai keisuke sakaguchi yoichi takahashi ro nan le bras akari asai xinyan yu dragomir r radev noah a smith yejin choi and kentaro inui2022 realtime qa whats the answer right now arxiv preprint arxiv220713332 omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023 openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins mimetype textplain start_char_idx 54892 end_char_idx 60329 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0812e8069d6a466ca80b2efc6ee8dd7f embedding null metadata  file_path",
        "mimetype": "text/plain",
        "start_char_idx": 161132,
        "end_char_idx": 166609,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c2ce21ac-6ab1-4780-95da-4dde3f54faa8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3224d511-42cf-4c11-9fa8-dc898ab8fccf",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "dc5980137aabf1e8c9a67e067c4b3da27e367a827ba037f557003b0acc296784",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "70dbcc83-6f8d-43cd-94ad-f5512d144112",
                "node_type": "1",
                "metadata": {},
                "hash": "24852cb461ed0939ee01ea221c5e5b99396290946d5d9021dfb257281127f3db",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023 openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins mimetype textplain start_char_idx 54892 end_char_idx 60329 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0812e8069d6a466ca80b2efc6ee8dd7f embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 76cc0ee2433045a0904e7814da464b22 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 80b8c574d358e50d33fa53306579031f6808b3da40249f47484b296e96fd98ea class_name relatednodeinfo  3  node_id 876e4f69afb64804bf38a364f58850a6 node_type 1 metadata  hash 638b2e1e9c3b9d2904e946277e8a970737f2ace285952ad65a8c3c22f103f8a0 class_name relatednodeinfo   text xinyan yu dragomir r radev noah a smith yejin choi and kentaro inui2022 realtime qa whats the answer right now arxiv preprint arxiv220713332 omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023 openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin ken ton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natu ral questions a benchmark for question answering research transactions of the association for compu tational linguistics 7452466 angeliki lazaridou elena gribovskaya wojciech stokowiec and nikolai grigorev 2022 internet augmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115 belinda z li sewon min srinivasan iyer yashar mehdad and wentau yih 2020 efficient onepass endtoend entity linking for questions in proceed ings of the 2020 conference on empirical methods in natural language processing emnlp 2020 online november 1620 2020 pages 64336441 associa tion for computational linguistics ilya loshchilov and frank hutter 2019 decoupled weight decay regularization in 7th international conference on learning representations iclr 2019 new orleans la usa may 69 2019 openre viewnet alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi 2023 when not to trust language models investigating effectiveness of parametric and nonparametric mem ories in proceedings of the 61st annual meeting of the association for computational linguistics vol ume 1 long papers acl 2023 toronto canada july 914 2023 pages 98029822 association for computational linguistics openai 2023 gpt4 technical report arxiv preprint arxiv230308774 adam paszke sam gross francisco massa adam lerer james bradbury gregory chanan trevor killeen zeming lin natalia gimelshein luca antiga alban desmaison andreas ku00f6pf edward z mimetype textplain start_char_idx 0 end_char_idx 4905 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f36c9996591749df98a3f19f42a8869c embedding null metadata page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 5de839bd299e4082964308b57d98b2e9 node_type 4 metadata page_label 12 file_name adaptiveragpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 165827,
        "end_char_idx": 170858,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "70dbcc83-6f8d-43cd-94ad-f5512d144112",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c2ce21ac-6ab1-4780-95da-4dde3f54faa8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ea8f67bb9daee2c4d46d89bb2fed6a8a3c62d185458c14f550d9eb0d1121482f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6121b800-687b-42d2-aa69-0b2e37c99dd1",
                "node_type": "1",
                "metadata": {},
                "hash": "898cea624b358bff8b88ad3c38d02e589dc6867b1e2def27e8e4f322ddcdea0c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "trevor killeen zeming lin natalia gimelshein luca antiga alban desmaison andreas ku00f6pf edward z mimetype textplain start_char_idx 0 end_char_idx 4905 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f36c9996591749df98a3f19f42a8869c embedding null metadata page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 5de839bd299e4082964308b57d98b2e9 node_type 4 metadata page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 5dee5eae552d28ff34d2c92383cdb36304f9601681fdb1c57d774ea176b9e217 class_name relatednodeinfo text yang zachary devito martin raison alykhan te jani sasank chilamkurthy benoit steiner lu fang junjie bai and soumith chintala 2019 pytorch an imperative style highperformance deep learning li brary in advances in neural information processing systems 32 annual conference on neural informa tion processing systems 2019 pages 80248035 jayr alencar pereira robson do nascimento fidalgo roberto de alencar lotufo and rodrigo frassetto nogueira 2023 visconde multidocument qa with gpt3 and neural reranking in advances in informa tion retrieval 45th european conference on infor mation retrieval ecir 2023 dublin ireland april 26 2023 proceedings part ii volume 13981 of lecture notes in computer science pages 534543 springer ofir press muru zhang sewon min ludwig schmidt noah a smith and mike lewis 2023 measuring and narrowing the compositionality gap in language models in findings of the association for computa tional linguistics emnlp 2023 peng qi haejun lee tg sido and christopher d man ning 2021 answering opendomain questions of varying reasoning steps from text in proceedings of the 2021 conference on empirical methods in natural language processing emnlp 2021 vir tual event punta cana dominican republic 711 november 2021 pages 35993614 association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016 pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham 2023 incontext retrievalaugmented lan guage models transactions of the association for computational linguistics stephen e robertson mimetype textplain start_char_idx 59583 end_char_idx 65022 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 876e4f69afb64804bf38a364f58850a6 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0812e8069d6a466ca80b2efc6ee8dd7f node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 1fc710c50c353bb2e1b80b15e01eb118071333ae0732fb1a516bb1e246a0c642 class_name relatednodeinfo  3  node_id 7fd4cefd05824899beaa5bc4fb80b6d1 node_type 1 metadata  hash a23e7df477cb80558fec57c10668115dab3445b74889661ce66bfb244bdc3c6e class_name relatednodeinfo   text association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016 pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin",
        "mimetype": "text/plain",
        "start_char_idx": 170131,
        "end_char_idx": 175284,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6121b800-687b-42d2-aa69-0b2e37c99dd1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "70dbcc83-6f8d-43cd-94ad-f5512d144112",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3e40c771d55308c95d9f489ecdc1cebf51372f453e53ddeb21e8679bf1d82434",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "60e00fab-fe81-4241-adda-d41301bde6ca",
                "node_type": "1",
                "metadata": {},
                "hash": "a7d7761eca5003f8594b2238241a9961cd1591a09672c4241002d95526b6b253",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo   text association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016 pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham 2023 incontext retrievalaugmented lan guage models transactions of the association for computational linguistics stephen e robertson steve walker susan jones micheline hancockbeaulieu and mike gatford 1994 okapi at trec3 in proceedings of the third text retrieval conference trec 1994 gaithers burg maryland usa november 24 1994 volume 500225 of nist special publication pages 109 126 national institute of standards and technology nist weijia shi sewon min michihiro yasunaga min joon seo rich james mike lewis luke zettle moyer and wentau yih 2023 replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652 hugo touvron louis martin kevin stone peter al bert amjad almahairi yasmine babaei nikolay bashlykov soumya batra prajjwal bhargava shruti bhosale dan bikel lukas blecher cristian canton ferrer moya chen guillem cucurull david esiobu jude fernandes jeremy fu wenyin fu brian fuller cynthia gao vedanuj goswami naman goyal an thony hartshorn saghar hosseini rui hou hakan inan marcin kardas viktor kerkez madian khabsa isabel kloumann artem korenev punit singh koura marieanne lachaux thibaut lavril jenya lee di ana liskovich yinghai lu yuning mao xavier mar tinet todor mihaylov pushkar mishra igor moly bog yixin nie andrew poulton jeremy reizen stein rashi rungta kalyan saladi alan schelten ruan silva eric michael smith ranjan subrama nian xiaoqing ellen tan binh tang ross tay lor adina williams jian xiang kuan puxin xu zheng yan iliyan zarov yuchen zhang angela fan melanie kambadur sharan narang auru00e9lien ro driguez robert stojnic sergey edunov and thomas scialom 2023 llama 2 open foundation and fine tuned chat models arxiv preprint arxiv230709288 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2022a musique multi hop questions via singlehop question composition trans assoc comput linguistics 10539554 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2022b musique multi hop questions via singlehop question composition transactions of the association for computational linguistics 10539554 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2023 interleaving retrieval with chainofthought reasoning for knowledge intensive multistep questions in proceedings of the 61st annual meeting of the association for com putational linguistics volume 1 long papers acl 2023 toronto canada july 914 2023 pages 1001410037 association for computational lin guistics jason wei yi tay rishi bommasani colin raffel barret zoph sebastian borgeaud dani yogatama maarten bosma denny zhou donald metzler ed h chi tatsunori hashimoto oriol vinyals percy liang jeff dean and william fedus 2022a emer gent abilities of large language models trans mach learn res 2022 jason wei xuezhi wang dale schuurmans maarten bosma brian ichter fei xia ed h chi quoc v le and denny zhou 2022b chainofthought prompt ing elicits reasoning in large language models in neurips thomas wolf lysandre debut victor sanh julien chaumond clement delangue anthony moi pier ric cistac tim rault ru00e9mi louf morgan funtowicz mimetype textplain start_char_idx 0 end_char_idx 5048 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 0c43d122857b4735a3d8e9f71dc1a84a embedding null metadata page_label 13 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0c361c753ac14bfea26566a14a2d1ae9 node_type 4 metadata page_label 13 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe class_name relatednodeinfo text joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020 demos pages 38 45 association for computational linguistics lee mimetype textplain",
        "mimetype": "text/plain",
        "start_char_idx": 174588,
        "end_char_idx": 179752,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "60e00fab-fe81-4241-adda-d41301bde6ca",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6121b800-687b-42d2-aa69-0b2e37c99dd1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "49d05626f635f7766714e5f7514d5def4ac1fb72aedcd3077f247f88a0973d4e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "11e9f1c0-1f8d-4428-b86f-8ae873e618a1",
                "node_type": "1",
                "metadata": {},
                "hash": "6a47dbe95ec45dfc7ff45361ae50eed4363592da3648db0fba2ae85fbd29babe",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe class_name relatednodeinfo text joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020 demos pages 38 45 association for computational linguistics lee mimetype textplain start_char_idx 64199 end_char_idx 69322 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7fd4cefd05824899beaa5bc4fb80b6d1 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 876e4f69afb64804bf38a364f58850a6 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash bad26f7d829a3dcec6f5a89817d46488dd136e631784994dcb690fcbe7ddf668 class_name relatednodeinfo  3  node_id 41dcb8ac02db4d6f9106e6a1934a5f7d node_type 1 metadata  hash 487b9bf0f0280d952d7a7128cd28044884bee74f74a83f97dd7a2e98662367c6 class_name relatednodeinfo   text file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe class_name relatednodeinfo text joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020 demos pages 38 45 association for computational linguistics lee xiong chenyan xiong ye li kwokfung tang jialin liu paul n bennett junaid ahmed and arnold overwijk 2021 approximate nearest neigh bor negative contrastive learning for dense text re trieval in 9th international conference on learning representations iclr 2021 virtual event austria may 37 2021 openreviewnet wei yang yuqing xie aileen lin xingyu li luchen tan kun xiong ming li and jimmy lin 2019 endtoend opendomain question answering with bertserini in proceedings of the 2019 conference of the north american chapter of the association for computational linguistics human language technologies naaclhlt 2019 minneapolis mn usa june 27 2019 demonstrations pages 7277 association for computational linguistics zhilin yang peng qi saizheng zhang yoshua bengio william cohen ruslan salakhutdinov and christo pher d manning 2018 hotpotqa a dataset for diverse explainable multihop question answering inproceedings of the 2018 conference on empiri cal methods in natural language processing pages 23692380 brussels belgium association for com putational linguistics shunyu yao jeffrey zhao dian yu nan du izhak shafran karthik r narasimhan and yuan cao 2023 react synergizing reasoning and acting in language models in the eleventh international conference on learning representations iclr 2023 kigali rwanda may 15 2023 openreviewnet fengbin zhu wenqiang lei chao wang jianming zheng soujanya poria and tatseng chua 2021 retrieving and reading a comprehensive survey on opendomain question answering arxiv preprint arxiv210100774 mimetype textplain start_char_idx 0 end_char_idx 1949 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a8da400cc4f748fb9bb4e490f4cb11b3 embedding null metadata page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id f9fab99995e14872aaf783995beb1f13 node_type 4 metadata page_label 14 file_name adaptiveragpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 179029,
        "end_char_idx": 184006,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "11e9f1c0-1f8d-4428-b86f-8ae873e618a1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "60e00fab-fe81-4241-adda-d41301bde6ca",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ce34356261ce95a405bf27aee99e8a42b16c5b404e37232f3c88122045c8a480",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e68d8a89-4728-410c-8df1-701cf24cee19",
                "node_type": "1",
                "metadata": {},
                "hash": "599abdcbbfc53120af557c3249bfae4c326ca2fed6dc8eb81f2a0c63902a3eeb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "soujanya poria and tatseng chua 2021 retrieving and reading a comprehensive survey on opendomain question answering arxiv preprint arxiv210100774 mimetype textplain start_char_idx 0 end_char_idx 1949 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a8da400cc4f748fb9bb4e490f4cb11b3 embedding null metadata page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id f9fab99995e14872aaf783995beb1f13 node_type 4 metadata page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 0d3e39c992af9ce5e47c3b9a9db57d38dcd8a6eb565ef6c3ad1e6e976287b57c class_name relatednodeinfo text 0 2 4 6 8 10 time per query20304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xlfigure 4 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xl 3b as the base llm a additional experimental setups a1 datasets we use publicly open datasets for both single hop and multihop qa datasets referring to as karpukhin et al 2020 and trivedi et al 2023 respectively we describe the characteristics of each dataset 1 squad v11 rajpurkar et al 2016 is created through a process where annotators write questions based on the documents they read 2 natural questions kwiatkowski et al 2019 is constructed by real user queries on google search 3 triviaqa joshi et al 2017 comprises trivia questions sourced from various quiz websites 4 musique trivedi et al 2022a is collected by compositing multiple singlehop queries to form queries spanning 24 hops 5 hotpotqa yang et al 2018 is constructed by having annotators create questions that link multi ple wikipedia articles 6 2wikimultihopqa ho et al 2020 is derived from wikipedia and its associated knowledge graph path needing 2hops a2 models we describe the details of models as follows 1 no retrieval this approach uses only the llm itself to generate the answer to the given query 2 singlestep approach this approach first re trieves the relevant knowledge with the given query from the external knowledge sources and then aug ments the llm with this retrieved knowledge to generate the answer which iterates only once 3 adaptive retrieval this baseline mallen et al 2023 adaptively augments the llm with the re trieval module only when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xxlfigure 5 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xxl 11b as the base llm trains the llm to adaptively perform retrieval and generation where the retrieval is conducted once it predicts the special retrieval token above a certain threshold and the answer generation follows 5 adaptiverag this is our model that adap tively selects the mimetype textplain start_char_idx 68615 end_char_idx 74283 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 41dcb8ac02db4d6f9106e6a1934a5f7d embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7fd4cefd05824899beaa5bc4fb80b6d1 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash e1ebdf676b30836f2f24fb82e63b8a845f61e8514e07c82d705f7a50449ab935 class_name relatednodeinfo  3  node_id 1b4de3d25e204dbea75f431221c085b8 node_type 1 metadata  hash 4a832c75c87aa0a05a7d111e28ae77f94f2e01e0319ce0a087d0fe698b8a5874 class_name relatednodeinfo   text adaptive retrieval this baseline mallen et al 2023 adaptively augments the llm with the re trieval module only when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance",
        "mimetype": "text/plain",
        "start_char_idx": 183232,
        "end_char_idx": 188578,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e68d8a89-4728-410c-8df1-701cf24cee19",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "11e9f1c0-1f8d-4428-b86f-8ae873e618a1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5bdb023574f3e24f086def769c86c15ae3ba89f5f46b2e210476f3cdbe21cc89",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ec68ff95-d750-4e5c-b29a-abe0bcbc7d80",
                "node_type": "1",
                "metadata": {},
                "hash": "9ef7b460b512ada681bc37af12210c548b78af98967ae87967187d71887b715e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo  3  node_id 1b4de3d25e204dbea75f431221c085b8 node_type 1 metadata  hash 4a832c75c87aa0a05a7d111e28ae77f94f2e01e0319ce0a087d0fe698b8a5874 class_name relatednodeinfo   text adaptive retrieval this baseline mallen et al 2023 adaptively augments the llm with the re trieval module only when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xxlfigure 5 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xxl 11b as the base llm trains the llm to adaptively perform retrieval and generation where the retrieval is conducted once it predicts the special retrieval token above a certain threshold and the answer generation follows 5 adaptiverag this is our model that adap tively selects the retrievalaugmented generation strategy smoothly oscillating between the non retrieval singlestep approach and multistep ap proaches4without architectural changes based on the query complexity assessed by the classifier 6 multistep approach this approach trivedi et al 2023 is the multistep retrievalaugmented llm which iteratively accesses both the retriever and llm with interleaved chainofthought rea soning wei et al 2022b repeatedly until it derives the solution or reaches the maximum step number 7 adaptiverag w oracle this is an ideal sce nario of our adaptiverag equipped with an or acle classifier that perfectly categorizes the query complexity a3 implementation details for computing resources we use a100 gpus with 80gb memory in addition due to the sig nificant costs associated with evaluating retrieval augmented generation models we perform experi ments with a single run finally we implemented models using pytorch paszke et al 2019 and transformers library wolf et al 2020 b additional experimental results performance vs time we further provide a com parison of different retrievalaugmented genera tion approaches with flant5xl and flant5 xxl models in figure 4 and figure 5 respectively in the context of performance and efficiency trade offs similar to the observation made from the gpt 35 model in figure 1 our proposed adaptiverag is significantly more effective as well as efficient 4for the multistep approach we use the stateoftheart question answering strategy from ircot trivedi et al 2023 mimetype textplain start_char_idx 0 end_char_idx 4030 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 02915f7962b2419ea9308b2ede23f923 embedding null metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 841548ba97d24301990afffe6b7ed464 node_type 4 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo 3 node_id 33109ec073cd40c78b01d48acc283067 node_type 1 metadata hash 753e2ee125f0bba852233e143c5ba5b6cdc6b38d8d1219e4be7b16df7ee2650d class_name relatednodeinfo text table 7 results on each of a collection of datasets with flant5xxl 11b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 700 1440 840 000 008 1880 2550 2040 000 008 3280 3920 3540 000 008 singlestep approach 2880 4080 3500 100 100 4140 5120 4760 100 100 5600 6470 6180 100 100 adaptiveadaptive retrieval 1560 2560 2000 050 054 3100 3970 3500 050 054 4480 5220 4860 050 054 selfrag160 1190 2080 059 031 3920 4710 4240 075 009 1460 3370 6020 076 022 adaptiverag ours 2780 3980 3400 117 150 4120 5100 4740 100 100 5200 6030 5720 103 133 complex multistep approach 2460 3690 3020 213 383 3960 4960 4640 216 394 5260 6110 5940 217 403 oracle adaptiverag w oracle 3280 4690 3820 085 094 5120 6100 5700 071 091 6340 7130 6820 051 060 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050",
        "mimetype": "text/plain",
        "start_char_idx": 188012,
        "end_char_idx": 192924,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ec68ff95-d750-4e5c-b29a-abe0bcbc7d80",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e68d8a89-4728-410c-8df1-701cf24cee19",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f452829edf21c8238ea15a31bee6f50cdc731028e0e7edb8bdf40fd4650d4246",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6903e1cd-70f2-4f1a-9ca4-91fab30ee28c",
                "node_type": "1",
                "metadata": {},
                "hash": "542936fb594848e60b2e7bbd30ff834151072e29d0e961fcbeac0f7eda440748",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "6110 5940 217 403 oracle adaptiverag w oracle 3280 4690 3820 085 094 5120 6100 5700 071 091 6340 7130 6820 051 060 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050 054 3520 4268 3680 050 054 selfrag120 820 1180 068 027 560 1786 3060 076 026 300 1914 3900 090 025 adaptiverag ours 2060 2850 2320 189 312 4420 5478 mimetype textplain start_char_idx 73382 end_char_idx 78260 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 1b4de3d25e204dbea75f431221c085b8 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 41dcb8ac02db4d6f9106e6a1934a5f7d node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash d60b56c558d3e9e6b4d3212c48e15f3a8e689c0d81505937067501dffd0b49db class_name relatednodeinfo  3  node_id e6205a261cdd4492826daf44e741a245 node_type 1 metadata  hash ff566fcc6c178b8aaca3665c1aa4d104b7411755fa2b74fc795247a36eff8341 class_name relatednodeinfo   text acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050 054 3520 4268 3680 050 054 selfrag120 820 1180 068 027 560 1786 3060 076 026 300 1914 3900 090 025 adaptiverag ours 2060 2850 2320 189 312 4420 5478 4680 158 253 4760 5736 5400 146 255 complex multistep approach 1940 2750 2180 209 366 4700 5781 4940 208 373 5760 6765 6400 217 363 oracle adaptiverag w oracle 2420 3720 2660 122 171 5220 6480 5460 092 133 5920 7040 6860 082 114 table 8 results on each of a collection of datasets with gpt35 turbo as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 1600 2920 2380 000 062 3980 5570 5500 000 056 6400 7560 7580 000 068 singlestep approach 1800 3380 2920 100 100 3240 4680 5480 100 100 5520 6650 6580 100 100 adaptiveadaptive retrieval 1540 3000 2440 050 081 3640 5120 5660 050 078 6200 7190 7220 050 084 selfrag160 1190 2080 059 191 3920 4710 4240 075 052 1460 3370 6020 076 159 adaptiverag ours 1980 3440 3000 087 121 3680 5200 5660 068 086 6240 7380 7380 022 079 complex multistep approach 1740 3150 2620 250 324 3560 4970 5780 258 379 5480 6710 6800 230 265 oracle adaptiverag w oracle 2800 4590 3940 054 093 5000 6540 6700 028 08 7080 8100 8000 011 073 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc",
        "mimetype": "text/plain",
        "start_char_idx": 192446,
        "end_char_idx": 196111,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6903e1cd-70f2-4f1a-9ca4-91fab30ee28c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ec68ff95-d750-4e5c-b29a-abe0bcbc7d80",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "60ab97cd27ee8b66289dde643c328f04576456635a65bba359a5c01f21d16d42",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3d966355-770f-45b2-a486-96399a67d33e",
                "node_type": "1",
                "metadata": {},
                "hash": "a64b8870820377e4a14f2e9f164f3eb1b6ff94bae0980c89fb31af8c5f1f134d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "050 084 selfrag160 1190 2080 059 191 3920 4710 4240 075 052 1460 3370 6020 076 159 adaptiverag ours 1980 3440 3000 087 121 3680 5200 5660 068 086 6240 7380 7380 022 079 complex multistep approach 1740 3150 2620 250 324 3560 4970 5780 258 379 5480 6710 6800 230 265 oracle adaptiverag w oracle 2800 4590 3940 054 093 5000 6540 6700 028 08 7080 8100 8000 011 073 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 2040 3130 2440 000 081 3740 5104 4320 000 074 3700 4850 4340 000 090 singlestep approach 1640 2670 2360 100 100 3960 5044 4560 100 100 4680 5769 5260 100 100 adaptiveadaptive retrieval 1880 3030 2480 050 090 3860 5070 4320 050 087 4420 5511 5060 050 095 selfrag120 820 1180 068 166 560 1786 3060 076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table mimetype textplain start_char_idx 0 end_char_idx 3427 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 33109ec073cd40c78b01d48acc283067 embedding null metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 841548ba97d24301990afffe6b7ed464 node_type 4 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo 2 node_id 02915f7962b2419ea9308b2ede23f923 node_type 1 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 77806 end_char_idx 81525 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ e6205a261cdd4492826daf44e741a245 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 1b4de3d25e204dbea75f431221c085b8 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 10faf69ce80836f40f92aa33f5efc93076d017756637d6c53196eba5194018ef class_name relatednodeinfo  3  node_id 591d6e8a303e4399b313b93373a24d3e node_type 1 metadata  hash 5eabe59fe57f4c2026b13ca77e8bc1cb99e1d98ca9c946a39d536260311cf25e class_name relatednodeinfo   text 4 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 195669,
        "end_char_idx": 199843,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3d966355-770f-45b2-a486-96399a67d33e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6903e1cd-70f2-4f1a-9ca4-91fab30ee28c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e4425fa058e73197326050bb9936ed50dc421e33bed722e871a58c803b1f4fba",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "31df9352-b2f1-4ff7-b729-8c4a9ad1ceeb",
                "node_type": "1",
                "metadata": {},
                "hash": "04ec0f8f3bc9e4f3eb51baa0f347438a4fe9d77d26754444cf4d32a0b951da29",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "creation_date 20241015 last_modified_date 20241021  hash 10faf69ce80836f40f92aa33f5efc93076d017756637d6c53196eba5194018ef class_name relatednodeinfo  3  node_id 591d6e8a303e4399b313b93373a24d3e node_type 1 metadata  hash 5eabe59fe57f4c2026b13ca77e8bc1cb99e1d98ca9c946a39d536260311cf25e class_name relatednodeinfo   text 4 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo 2 node_id 02915f7962b2419ea9308b2ede23f923 node_type 1 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 66533e661a5f9e8c998c35319d30b917ec993d2d0cfe493ae45ab7bd16c147f1 class_name relatednodeinfo text 3060 076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table 2 and table 8 respectively the experimental results show that our adaptiverag consistently balances between efficiency and accuracy it is worth noting that while the gpt35 model performs effectively in addressing straightforward queries even without document retrieval it benefits significantly from our adaptiverag in terms of effectiveness when solving complex multihop queries mimetype textplain start_char_idx 2896 end_char_idx 3807 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2a53635e8ce44b1ea65b69e2173c2b5b embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 3 node_id 562c54e01d3e46f6a4020b36ff1ba5d4 node_type 1 metadata hash 01e03adb18affe52b1c2e05218c1a3aa27f196a56723aa23a4292744b9024796 class_name relatednodeinfo text id_ 9c1288679da044d4aad21327ea64c666 embedding null metadata page_label 1 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id a84b6c1f42924ffdb0db37b36f177c50 node_type 4 metadata page_label 1 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash a4d4760a15fdc371e3a26bd569de54319980a96cddb0372fb9ed0b4446e2f035 class_name relatednodeinfo text adaptiverag learning to adapt retrievalaugmented large language models through question complexity soyeong jeong1jinheon baek2sukmin cho1sung ju hwang12jong c park1 school of computing1graduate school of ai2 korea advanced institute of science and technology12 starsuzijinheonbaeknelllpicsjhwang82jongparkkaistackr abstract retrievalaugmented large language models llms which incorporate the nonparametric knowledge from external knowledge bases into llms have emerged as a promising approach to enhancing response accuracy in several tasks such as questionanswering qa however even though there are various approaches deal ing with queries of different complexities they either handle simple queries with unnecessary computational overhead or fail to adequately address complex multistep queries yet not all user requests fall into only one of the sim ple or complex categories in this work we propose a novel adaptive qa framework that can dynamically select the most suitable strat egy for retrievalaugmented llms from the simplest to the most sophisticated ones based on the query complexity also this selec tion process is operationalized with a classi fier which is a smaller lm trained to predict the complexity level of incoming queries with automatically collected",
        "mimetype": "text/plain",
        "start_char_idx": 199282,
        "end_char_idx": 204286,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "31df9352-b2f1-4ff7-b729-8c4a9ad1ceeb",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3d966355-770f-45b2-a486-96399a67d33e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "a18d0dcfbcdd2a77a384e6622dff16db596d20d0a5b2d9aed10dff31b3830e88",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d2d64da5-841d-4e21-9be9-1f27158be803",
                "node_type": "1",
                "metadata": {},
                "hash": "6654a1a7c07fc38c7c907327388116c954d389e09d0a5d4aeb4458557af8b1e0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "school of computing1graduate school of ai2 korea advanced institute of science and technology12 starsuzijinheonbaeknelllpicsjhwang82jongparkkaistackr abstract retrievalaugmented large language models llms which incorporate the nonparametric knowledge from external knowledge bases into llms have emerged as a promising approach to enhancing response accuracy in several tasks such as questionanswering qa however even though there are various approaches deal ing with queries of different complexities they either handle simple queries with unnecessary computational overhead or fail to adequately address complex multistep queries yet not all user requests fall into only one of the sim ple or complex categories in this work we propose a novel adaptive qa framework that can dynamically select the most suitable strat egy for retrievalaugmented llms from the simplest to the most sophisticated ones based on the query complexity also this selec tion process is operationalized with a classi fier which is a smaller lm trained to predict the complexity level of incoming queries with automatically collected labels obtained from actual predicted outcomes of models and in herent inductive biases in datasets this ap proach offers a balanced strategy seamlessly adapting between the iterative and singlestep retrievalaugmented llms as well as the no retrieval methods in response to a range of query complexities we validate our model on a set of opendomain qa datasets cov ering multiple query complexities and show that ours enhances the overall efficiency and accuracy of qa systems compared to rele vant baselines including the adaptive retrieval approaches code is available at https githubcomstarsuziadaptiverag 1 introduction mimetype textplain start_char_idx 80891 end_char_idx 86222 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 591d6e8a303e4399b313b93373a24d3e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id e6205a261cdd4492826daf44e741a245 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash fabbafddb4f60c2834418551d63fc321b775453255725d7ef69cd8fecc051f25 class_name relatednodeinfo  3  node_id fd052a80a6324d49bcf3d35747c074b6 node_type 1 metadata  hash 2e0b00f818cb996cb6168ef5b9a149df67b458f5b50efa786d81f43bd07208c7 class_name relatednodeinfo   text queries yet not all user requests fall into only one of the sim ple or complex categories in this work we propose a novel adaptive qa framework that can dynamically select the most suitable strat egy for retrievalaugmented llms from the simplest to the most sophisticated ones based on the query complexity also this selec tion process is operationalized with a classi fier which is a smaller lm trained to predict the complexity level of incoming queries with automatically collected labels obtained from actual predicted outcomes of models and in herent inductive biases in datasets this ap proach offers a balanced strategy seamlessly adapting between the iterative and singlestep retrievalaugmented llms as well as the no retrieval methods in response to a range of query complexities we validate our model on a set of opendomain qa datasets cov ering multiple query complexities and show that ours enhances the overall efficiency and accuracy of qa systems compared to rele vant baselines including the adaptive retrieval approaches code is available at https githubcomstarsuziadaptiverag 1 introduction recent large language models llms brown et al 2020 openai 2023 touvron et al 2023 anil et al 2023 have shown overwhelming per formances across diverse tasks including question corresponding author 05 10 15 20 25 30 35 time per query4748495051performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with gpt35figure 1 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the gpt35turboinstruct as the base llm answering qa yang et al 2018 kwiatkowski et al 2019 however they still generate factu ally incorrect answers since their knowledge solely relies on their parametric memory kasai et al 2022 mallen et al 2023 meanwhile memoriz ing all the everchanging world knowledge may not be possible to address this problem retrieval augmented llms borgeaud et al 2022 izacard et al 2023 shi et al 2023 which incorporate nonparametric knowledge into llms with addi tional retrieval modules have gained much increas ing attention specifically these models access a knowledge base which serves as an extensive repository of information across various subjects and disciplines to retrieve information relevant to the given input and then incorporate the retrieved information into llms which enables them to stay accurate and current with the world knowledge a particularly salient application of retrieval augmented llms is to handling qa tasks whose goal is to provide correct answers in response to user queries especially those of high complexity early work on retrievalaugmented llms focuses primarily on singlehop queries lazaridou et al 2022 ram et al 2023 whose answers are typ ically found within a single document therefore this approach involves retrieving a relevant doc ument based on the query and subsequently inte grating this information into qa models to formu late a response however unlike this singlehop qa some queries require connecting and aggregat ing multiple documents which are furthermorearxiv240314403v2 cscl 28 mar 2024 mimetype textplain start_char_idx 0 end_char_idx 3959 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode",
        "mimetype": "text/plain",
        "start_char_idx": 203178,
        "end_char_idx": 209650,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d2d64da5-841d-4e21-9be9-1f27158be803",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "31df9352-b2f1-4ff7-b729-8c4a9ad1ceeb",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9a6cb6868d7e1927dd5e20c2957454dc79fab784af96c4bd75ff8a34121ed2aa",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d61c4d98-dd3d-449c-ad93-9ed5663c1f6e",
                "node_type": "1",
                "metadata": {},
                "hash": "722b41621161a0123292cae546b49f434e066f822b84d4907a654a6161073c54",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "subjects and disciplines to retrieve information relevant to the given input and then incorporate the retrieved information into llms which enables them to stay accurate and current with the world knowledge a particularly salient application of retrieval augmented llms is to handling qa tasks whose goal is to provide correct answers in response to user queries especially those of high complexity early work on retrievalaugmented llms focuses primarily on singlehop queries lazaridou et al 2022 ram et al 2023 whose answers are typ ically found within a single document therefore this approach involves retrieving a relevant doc ument based on the query and subsequently inte grating this information into qa models to formu late a response however unlike this singlehop qa some queries require connecting and aggregat ing multiple documents which are furthermorearxiv240314403v2 cscl 28 mar 2024 mimetype textplain start_char_idx 0 end_char_idx 3959 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 19c22fc3940641ab9d9ddc0f8ca8d386 embedding null metadata page_label 2 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b5c2870314224db8ba426bb50106004b node_type 4 metadata page_label 2 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 568c92023f4d1aceb288cec1f902f0b1b59d687daae4139add5c8a4cd744916e class_name relatednodeinfo text retrievalcomplex query what currency is in billy giles birthplacesimple query when is the birthday of michael f phelpsdocuments answer documents answer a single step approach inaccurate retrieval retrievalsimple query when is the birthday of michael f phelpsdocuments intermediate answers b multi step approach inefficient k times complex query what currency is in billy giles birthplacedocuments intermediate answers k timesstraightforward query paris is the capital of whatc our adaptive approach answer simple query when is the birthday of michael f phelpsdocuments answer complex query what currency is in billy giles birthplacedocuments intermediate answers k times classifier figure 2 a conceptual comparison of different retrievalaugmented llm approaches to question answering a mimetype textplain start_char_idx 2 end_char_idx 6421 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 562c54e01d3e46f6a4020b36ff1ba5d4 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 2a53635e8ce44b1ea65b69e2173c2b5b node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 4eca4eed86cb70d8aa00c311976b4493564253afc70d8378a5e941e41bd6c36a class_name relatednodeinfo 3 node_id mimetype textplain start_char_idx 85114 end_char_idx 91222 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ fd052a80a6324d49bcf3d35747c074b6 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 591d6e8a303e4399b313b93373a24d3e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash d31b00fa2d0d650fe57131df370752bd1f6df064fe5916f939ac1631d85b41ca class_name relatednodeinfo  3  node_id 09a00e05aa064f438978d52e652f510c node_type 1 metadata  hash f8f9b8b8b0b4a9d15219b06caddd4574ecfa5ecd2447994712ddac83b07ffdc5 class_name relatednodeinfo   text applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 208593,
        "end_char_idx": 213914,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d61c4d98-dd3d-449c-ad93-9ed5663c1f6e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d2d64da5-841d-4e21-9be9-1f27158be803",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e03f06ff0e384532615c67cf3acbd4b828936d91cd43201b7cd68fdb6e648add",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "62f39c3a-e469-4669-971d-af49ade12086",
                "node_type": "1",
                "metadata": {},
                "hash": "9fa179f0cac266173b5eae949d90f0e1c5dc01ab429258a82781afcd25094924",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash d31b00fa2d0d650fe57131df370752bd1f6df064fe5916f939ac1631d85b41ca class_name relatednodeinfo  3  node_id 09a00e05aa064f438978d52e652f510c node_type 1 metadata  hash f8f9b8b8b0b4a9d15219b06caddd4574ecfa5ecd2447994712ddac83b07ffdc5 class_name relatednodeinfo   text applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 2a53635e8ce44b1ea65b69e2173c2b5b node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 4eca4eed86cb70d8aa00c311976b4493564253afc70d8378a5e941e41bd6c36a class_name relatednodeinfo 3 node_id bc218e1baa654ac5bc377feca7d552dc node_type 1 metadata hash 3ebd4852b808de61a987d76e9c2deade0ad45a8b80e3f0497dda49ab24eaa9e5 class_name relatednodeinfo text creation_date 20241015 last_modified_date 20241015 hash 568c92023f4d1aceb288cec1f902f0b1b59d687daae4139add5c8a4cd744916e class_name relatednodeinfo text retrievalcomplex query what currency is in billy giles birthplacesimple query when is the birthday of michael f phelpsdocuments answer documents answer a single step approach inaccurate retrieval retrievalsimple query when is the birthday of michael f phelpsdocuments intermediate answers b multi step approach inefficient k times complex query what currency is in billy giles birthplacedocuments intermediate answers k timesstraightforward query paris is the capital of whatc our adaptive approach answer simple query when is the birthday of michael f phelpsdocuments answer complex query what currency is in billy giles birthplacedocuments intermediate answers k times classifier figure 2 a conceptual comparison of different retrievalaugmented llm approaches to question answering a in response to a query this singlestep approach retrieves relevant documents and then generates an answer however it may not be sufficient for complex queries that require multistep reasoning b this multistep approach iteratively retrieves documents and generates intermediate answers which is powerful yet largely inefficient for the simple query since it requires multiple accesses to both llms and retrievers c our adaptive approach can select the most suitable strategy for retrievalaugmented llms ranging from iterative to single to even no retrieval approaches based on the complexity of given queries determined by our classifier often not answerable through a singlestep pro cess of retrievalandresponse an example query is when did the people who captured malakoff come to the region where philipsburg is located which requires four reasoning steps to solve there fore to effectively handle such complex queries recent studies have concentrated largely on multi step and multireasoning qa which requires itera tive accesses to both llms and retrievers multiple times press et al 2023 trivedi et al 2023 at the cost of heavy computational overheads yet we should rethink in a realworld scenario are all the requests from users complex instead users might often ask simple and straightforward questions while only occasionally asking complex ones specifically a query such as paris is the capital of what is likely to be asked more fre quently compared to the aforementioned multi step query and this simpler query might also be easily answered by the llms themselves without accessing external knowledge in other words a multistep qa approach could give rise to unnec essary computational overhead for simple queries even though it would be vital for complex queries see figure 2 a on the other hand handling complex queries with singlestepretrieval or even nonretrieval strategies would be largely insuffi cient figure 2 b this suggests the need for an adaptive qa system which can dynamically adjust the operational strategies of retrievalaugmented llms based on the query complexity while some recent approaches are capable of doing this based on the frequency of entities in queries mallen et al 2023 or on the generated outputs from models for multistep qa trivedi et al 2023 they are still suboptimal the former methods are overly simplistic failing to consider multihop queries meanwhile the latter are excessively complex ter minating answer solving steps after several rounds of module accessin this work considering diverse complexity lev els of realworld queries we argue that previous onesizefitsall approaches might be inadequate to cover all of them instead we propose to select the most suitable strategy from a range of retrieval augmented llms each of which is tailored to the specific complexity of the input query notably a critical step in this process is predefining the query complexity which is instrumental in deter mining the most fitting model to it in this work we operationalize this process with a novel classi fier which is a smaller model trained to predict the complexity level of incoming queries see figure 2 c moreover we automatically collect its training datasets without human labeling by leveraging the predicted outcomes ie which models accurately respond to which queries as well as by capitalizing on the inherent biases in existing datasets ie sam ples in the datasets are designed either for single step or for multistep qa scenarios this proposed method can offer a robust middle ground among the iterative llm augmentation methods for complex queries singlestep methods for simpler queries and even noretrievalaugmented methods for the most straightforward queries answerable by llms themselves thus significantly enhancing the over all efficiency and accuracy as shown in figure 1 we refer to our framework as adaptive retrieval augmented generation adaptiverag we validate adaptiverag using benchmark opendomain qa datasets covering a wide range of query complexity from singlehop rajpurkar et al 2016 joshi et al 2017 kwiatkowski et al 2019 to multihop yang et al 2018 ho et al 2020 trivedi et al 2022b queries the exper imental results show",
        "mimetype": "text/plain",
        "start_char_idx": 213332,
        "end_char_idx": 219674,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "62f39c3a-e469-4669-971d-af49ade12086",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d61c4d98-dd3d-449c-ad93-9ed5663c1f6e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "47da0ba2aa03912f68d2e8c24ff7b541829731dce0c6d7425660c79ba3af6b16",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "fb5db615-09d8-4978-ab7f-cb378a9fc7c5",
                "node_type": "1",
                "metadata": {},
                "hash": "e20303828d9c2e2cb173bdbf5fabdf0739b99d04ec00d33411a5d4f072767c71",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "datasets without human labeling by leveraging the predicted outcomes ie which models accurately respond to which queries as well as by capitalizing on the inherent biases in existing datasets ie sam ples in the datasets are designed either for single step or for multistep qa scenarios this proposed method can offer a robust middle ground among the iterative llm augmentation methods for complex queries singlestep methods for simpler queries and even noretrievalaugmented methods for the most straightforward queries answerable by llms themselves thus significantly enhancing the over all efficiency and accuracy as shown in figure 1 we refer to our framework as adaptive retrieval augmented generation adaptiverag we validate adaptiverag using benchmark opendomain qa datasets covering a wide range of query complexity from singlehop rajpurkar et al 2016 joshi et al 2017 kwiatkowski et al 2019 to multihop yang et al 2018 ho et al 2020 trivedi et al 2022b queries the exper imental results show that ours significantly im proves the overall accuracy and efficiency com pared to the prior adaptive strategies on multiple llms such as gpt35 brown et al 2020 and flant5 series chung et al 2022 mimetype textplain start_char_idx 0 end_char_idx 5180 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ad2f56a0b6754f1eaec87302b0a72e98 embedding null metadata page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys mimetype textplain start_char_idx 90661 end_char_idx 97189 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 09a00e05aa064f438978d52e652f510c embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id fd052a80a6324d49bcf3d35747c074b6 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash bf9a29329a261f5c0ffe2ff83c6e75c0af5c88882995c18e817aca391c9fa28b class_name relatednodeinfo  3  node_id 883ab7f9639b4b289fd4cf0d5f1a02ff node_type 1 metadata  hash 4b4e43f7206c7a32829651153ee160989ffb1f4b0c695daae9d2cb7fdddeff5b class_name relatednodeinfo   text to multihop yang et al 2018 ho et al 2020 trivedi et al 2022b queries the exper imental results show that ours significantly im proves the overall accuracy and efficiency com pared to the prior adaptive strategies on multiple llms such as gpt35 brown et al 2020 and flant5 series chung et al 2022 mimetype textplain start_char_idx 0 end_char_idx 5180 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ad2f56a0b6754f1eaec87302b0a72e98 embedding null metadata page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id d7da543f3c564dc1b8fa885f0b9e50f4 node_type 4 metadata page_label 3 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash b9c303f41aa8e1f6e4537517eb985ec5e1ce8a05aafa63cb05979536dd4643a9 class_name relatednodeinfo text our contributions and findings are threefold we point out the realistic scenario of queries of varying complexities and find out that existing retrievalaugmented generation approaches tend to be overly simple or complex we adapt retrievalaugmented llms to the query complexity assessed by the classifier which en ables the utilization of the most suitable approach tailored to each query we show that our adaptiverag is highly effec tive and efficient balancing between the com plexity and the simplicity for diverse queries 2 related work opendomain qa opendomain qa is the task of accurately answering a query by sourcing for queryrelevant documents mimetype textplain start_char_idx 5480 end_char_idx 12386 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ bc218e1baa654ac5bc377feca7d552dc embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id",
        "mimetype": "text/plain",
        "start_char_idx": 218676,
        "end_char_idx": 224117,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "fb5db615-09d8-4978-ab7f-cb378a9fc7c5",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "62f39c3a-e469-4669-971d-af49ade12086",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "19012ad0b4d80701b85ce44968260453cb6bf0cd444f960de834ec47418f3442",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ff6bebcc-81ab-4dfd-b8f5-3fdabe7936e1",
                "node_type": "1",
                "metadata": {},
                "hash": "90db03260ba3bfb5997547c951bd1bc67fbe53cf0439dfa89da520000b0c9229",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "llms to the query complexity assessed by the classifier which en ables the utilization of the most suitable approach tailored to each query we show that our adaptiverag is highly effec tive and efficient balancing between the com plexity and the simplicity for diverse queries 2 related work opendomain qa opendomain qa is the task of accurately answering a query by sourcing for queryrelevant documents mimetype textplain start_char_idx 5480 end_char_idx 12386 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ bc218e1baa654ac5bc377feca7d552dc embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 562c54e01d3e46f6a4020b36ff1ba5d4 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 4d19fd5858a93328e816ebc8a2e4763c8b685a585cf2be8e067ad4b3ee45420b class_name relatednodeinfo 3 node_id 7c21bad5584f4aa2ab122806918408d2 node_type 1 metadata hash 13aa84d106bd7dc4b942d0567e1eeb769523a9e22fc63c430a06831e0f4f7847 class_name relatednodeinfo text file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash b9c303f41aa8e1f6e4537517eb985ec5e1ce8a05aafa63cb05979536dd4643a9 class_name relatednodeinfo text our contributions and findings are threefold we point out the realistic scenario of queries of varying complexities and find out that existing retrievalaugmented generation approaches tend to be overly simple or complex we adapt retrievalaugmented llms to the query complexity assessed by the classifier which en ables the utilization of the most suitable approach tailored to each query we show that our adaptiverag is highly effec tive and efficient balancing between the com plexity and the simplicity for diverse queries 2 related work opendomain qa opendomain qa is the task of accurately answering a query by sourcing for queryrelevant documents and then interpreting them to provide answers chen et al 2017 zhu et al 2021 which thus generally involves two modules a retriever karpukhin et al 2020 xiong et al 2021 and a reader yang et al 2019 izac ard and grave 2021 jeong et al 2023 along with the emergence of llms with superior rea soning capabilities thanks to their billionsized pa rameters wei et al 2022a a synergy between llms and retrievers has led to significant advance ments lazaridou et al 2022 ram et al 2023 specifically this integration has been shown to enhance opendomain qa by mitigating the hallu cination problem from llms through strengthened reasoning abilities of the reader as well as utiliz ing the retrieved external documents cho et al 2023 despite these advancements for singlehop retrievalaugmented llms however the complex ity of some queries needs a more complex strategy multihop qa multihop qa is an extension of conventional opendomain qa which addition ally requires the system to comprehensively gather and contextualize information from multiple docu ments often iteratively to answer more complex queries trivedi et al 2022a yang et al 2018 in the realm of multihop qa the approach to itera tively access both llms and the retrieval module is generally employed specifically khattab et al 2022 press et al 2023 pereira et al 2023 and khot et al mimetype textplain start_char_idx 96419 end_char_idx 101869 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 883ab7f9639b4b289fd4cf0d5f1a02ff embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 09a00e05aa064f438978d52e652f510c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2796448482105b8967e65e2daa763d400c928f729beda2ca2a9a01f718c75e00 class_name relatednodeinfo  3  node_id",
        "mimetype": "text/plain",
        "start_char_idx": 223207,
        "end_char_idx": 228440,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ff6bebcc-81ab-4dfd-b8f5-3fdabe7936e1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "fb5db615-09d8-4978-ab7f-cb378a9fc7c5",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "806cbd2a97d608ff3e81dd8c168d53ce2dd841724e4be4c6483a31a6437413e9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a79ddd2e-8aca-43d0-8add-6bd6fb3605e6",
                "node_type": "1",
                "metadata": {},
                "hash": "8e20355c992b4583816bcc3c35a4cb1d6c1de8c322b460c0525b20c0a7861e7e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 09a00e05aa064f438978d52e652f510c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2796448482105b8967e65e2daa763d400c928f729beda2ca2a9a01f718c75e00 class_name relatednodeinfo  3  node_id 56c504bae81d4941a14027667cce196e node_type 1 metadata  hash 4b6cb21d8521429962684226bec790da3ada9cb331acd929eb17f118d51dca06 class_name relatednodeinfo   text lazaridou et al 2022 ram et al 2023 specifically this integration has been shown to enhance opendomain qa by mitigating the hallu cination problem from llms through strengthened reasoning abilities of the reader as well as utiliz ing the retrieved external documents cho et al 2023 despite these advancements for singlehop retrievalaugmented llms however the complex ity of some queries needs a more complex strategy multihop qa multihop qa is an extension of conventional opendomain qa which addition ally requires the system to comprehensively gather and contextualize information from multiple docu ments often iteratively to answer more complex queries trivedi et al 2022a yang et al 2018 in the realm of multihop qa the approach to itera tively access both llms and the retrieval module is generally employed specifically khattab et al 2022 press et al 2023 pereira et al 2023 and khot et al 2023 proposed to first decom pose the multihop queries into simpler singlehop queries repeatedly access the llms and retriever to solve these subqueries and merge their solu tions to formulate a complete answer in contrastto this decompositionbased approach other re cent studies such as yao et al 2023 and trivedi et al 2023 explored the interleaving of chainof thought reasoning wei et al 2022b a method where a logical sequence of thoughts is generated with document retrieval repeatedly applying this process until the reasoning chain generates the an swer in addition jiang et al 2023 introduced an approach to repeatedly retrieving new documents if the tokens within generated sentences have low confidence however the aforementioned methods overlooked the fact that in realworld scenarios queries are of a wide variety of complexities there fore it would be largely inefficient to iteratively access llms and retrievers for every query which might be simple enough with a single retrieval step or even only with an llm itself adaptive retrieval to handle queries of varying complexities the adaptive retrieval strategy aims to dynamically decide whether to retrieve documents or not based on each querys complexity in this vein mallen et al 2023 proposed to decide the querys complexity level based on the frequency of its entities and suggested using the retrieval mod ules only when the frequency falls below a cer tain threshold however this approach focusing solely on the binary decision of whether to retrieve or not may not be sufficient for more complex queries that require multiple reasoning steps ad ditionally qi et al 2021 proposed an approach that performs a fixed set of operations retrieving reading and reranking multiple times until the an swer is derived for the given query which is built upon traditional bertlike lms however unlike our adaptiverag which predetermines the query complexity and adapts the operational behavior of any offtheshelf llms accordingly this approach applies the same fixed operations to every query regardless of its complexity but also necessitates additional specific training to lms concurrent to our work asai et al 2024 suggested training a so phisticated model to dynamically retrieve critique and generate the text nevertheless we argue that all the aforementioned adaptive retrieval methods that rely on a single model might be suboptimal in handling a variety of queries of a range of differ ent complexities since they tend to be either overly simple or complex for all the input queries which demands a new approach that can select the most suitable strategy of retrievalaugmented llms tai lored to the query complexity mimetype textplain start_char_idx 0 end_char_idx 4677 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c2968a3d16c8473c959c79083fac1780 embedding null metadata page_label 4 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id bfd28269a547488790e2b46424028521 node_type 4 metadata page_label 4 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 9bf376a169b5989168590a468cae131e5b9f9438867de73331cedc5a364d5dd5 class_name relatednodeinfo text 3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2 x nas an input and then generates a sequence of tokens y y1 y2 y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query q from the user and the generated answer a from the llm respectively qxanday also subsequently the most nau00efve llmpowered qa model can mimetype textplain start_char_idx 11537 end_char_idx 18064 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_",
        "mimetype": "text/plain",
        "start_char_idx": 227869,
        "end_char_idx": 233991,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a79ddd2e-8aca-43d0-8add-6bd6fb3605e6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ff6bebcc-81ab-4dfd-b8f5-3fdabe7936e1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "03da8fc7bfad95542d834e915345e4f6acb9209f84b3253243af3f86e34041e0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "544ffe1d-5082-4c06-9cb1-0310bf25672a",
                "node_type": "1",
                "metadata": {},
                "hash": "ccda3d262dbe8531f707d33dc717c2b2c7c059c42afae22f1966c7d0d3045fc8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "relatednodeinfo text 3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2 x nas an input and then generates a sequence of tokens y y1 y2 y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query q from the user and the generated answer a from the llm respectively qxanday also subsequently the most nau00efve llmpowered qa model can mimetype textplain start_char_idx 11537 end_char_idx 18064 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7c21bad5584f4aa2ab122806918408d2 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id bc218e1baa654ac5bc377feca7d552dc node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size mimetype textplain start_char_idx 100973 end_char_idx 107280 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 56c504bae81d4941a14027667cce196e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 883ab7f9639b4b289fd4cf0d5f1a02ff node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b45369157a86b9c5ff51ec1059a1f9373b688f3955460e15baf75fef8a12ba55 class_name relatednodeinfo  3  node_id 45ad04fad81b46e69d4c13e16ad7561a node_type 1 metadata  hash d6569f316c591a2bcd2f57b1adeee3ca3e0facd24107c51fb9decca3307ae060 class_name relatednodeinfo   text excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id bc218e1baa654ac5bc377feca7d552dc node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 259cc7e7d5b3b492b72d4c3d7b52d199b1cc6b8cb871d5b10d6cf9b994a0a631 class_name relatednodeinfo 3 node_id 8614d31df0d54801aab1dc85dc97ab4d node_type 1 metadata hash fc7910a46ea758372bd0e2ce88515357871d295e3272d078e4a58efa833b4dab class_name relatednodeinfo text class_name relatednodeinfo text 3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2 x nas an input and then generates a sequence of tokens y y1 y2 y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query q from the user and the generated answer a from the llm respectively qxanday also subsequently the most nau00efve llmpowered qa",
        "mimetype": "text/plain",
        "start_char_idx": 233067,
        "end_char_idx": 238000,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "544ffe1d-5082-4c06-9cb1-0310bf25672a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a79ddd2e-8aca-43d0-8add-6bd6fb3605e6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "63539486034494ab576283a3f0cb1f9f13b6ddc94043164cdd62132bb844619a",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c410863f-f4f1-43a2-a539-36c3e5f5e303",
                "node_type": "1",
                "metadata": {},
                "hash": "bb68fed2f5fde807f8676febf6170780974385f9751c541713d84e0e42212a45",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text class_name relatednodeinfo text 3 method in this section we describe our approach to adapt ing retrievalaugmented llms by predetermining the query complexity and then selecting the most fitting strategies for retrievalaugmented llms 31 preliminaries we begin with preliminaries formally introducing different strategies of retrievalaugmented llms non retrieval for qa let us first define an llm as a model llm which takes a sequence of tokens x x1 x2 x nas an input and then generates a sequence of tokens y y1 y2 y nas an out put which is formalized as follows yllmx then in our problem setup for qa xandybe come the input query q from the user and the generated answer a from the llm respectively qxanday also subsequently the most nau00efve llmpowered qa model can be represented as follows allmq ideally ashould match the actual correct answer a this nonretrieval based qa method is highly efficient and could be a somewhat promising approach to handling easy queries as the size of llms becomes extremely large with its effect on storing a large amount of knowledge however this approach is largely prob lematic on queries that require precise or concur rent knowledge of specific people events or any subjects beyond the llms internal knowledge singlestep approach for qa to address the aforementioned scenarios where llmmay struggle with queries that are not answerable by llmitself we can utilize the external knowledge d which includes useful information for queries retrieved from the external knowledge source dthat could be an encyclopedia eg wikipedia consisting of millions of documents specifically to obtain suchdfromd a specific retrieval model is nec essary which returns documents based on their relevance with the given query this process can be formulated as follows dretriever qd where retriever is the retrieval model with d d here we can use any offtheshelf re triever robertson et al 1994 karpukhin et al 2020 after the retrieval step is done we now have a pair of query qand its relevant documents d then in order to augment llms with this retrieved exter nal knowledge we can incorporate it into the input of llms represented as follows allmqdthis process allows llms to gain access to exter nal information contained in d which can provide the supplementary context that the internal knowl edge of llmlacks which can subsequently improve the accuracy and concurrency of llms for qa multistep approach for qa even though the aforementioned singlestep approach offers signif icant improvements over nonretrieval for qthat requires external knowledge it encounters notable limitations particularly when dealing with com plex queries that necessitate synthesizing informa tion from multiple source documents and reasoning over them this is where a multistep approach and reasoning for qa become essential in this multistep approach llminteracts with retriever in several rounds progressively refin ing its understanding of q until it formulates the fi nal answer from findings accumulated across these multiple steps specifically the process begins with the initial query q and at every retrieval step i new documents diare retrieved from dand then incorporated into the input of llms as follows aillmqdici where the additional context cican be composed of previous documents and outcomes d1d2 di1a1a2 ai1 and diretriever qcid1 we would like to note that this iterative multistep process enables llmto construct a more comprehensive and exten sive foundation to solve queries effectively specif ically adept at complex multihop queries where answers depend on interconnected pieces of infor mation however it is important to recognize that this multistep approach can be resourceintensive due to the repeated accesses to retriever andllm which entail substantial computational costs 32 adaptiverag adaptive retrievalaugmented generation we now introduce our adaptive retrievalaugmented llms which are built upon three different strate gies described in the previous section and which are designed to select the most suitable strategy according to the complexity of queries adapting retrievalaugmented llms note that in realworld scenarios not all qfrom users have the same level of complexity necessitating 1it is worth noting that implementations of the llm and retriever vary across different multistep retrievalaugmented llm approaches trivedi et al 2023 press et al 2023 yao et al 2023 therefore the context cimay incorporate none some or all of the previous documents and answers mimetype textplain start_char_idx 0 end_char_idx 4477 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e77e5ddf194c44e4a86869c318038b53 embedding null metadata page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id abdfd9fc27644192a2c567a318b89e50 node_type 4 metadata page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf mimetype textplain start_char_idx 106659 end_char_idx 112852 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 45ad04fad81b46e69d4c13e16ad7561a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 56c504bae81d4941a14027667cce196e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date",
        "mimetype": "text/plain",
        "start_char_idx": 237211,
        "end_char_idx": 243622,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c410863f-f4f1-43a2-a539-36c3e5f5e303",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "544ffe1d-5082-4c06-9cb1-0310bf25672a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4d0199276d0c47270551e56d74962e7cde4d863a4968483c6500565abff65516",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "454e926d-1a4f-4520-8df7-2956e4bcd075",
                "node_type": "1",
                "metadata": {},
                "hash": "626bf676a1b8717ab0ef84ee83dec63ff7e5bda6c833cecf10d1fbf39cd1519a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 56c504bae81d4941a14027667cce196e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash f19e394cbd09664a4990f5c68f3e447b1099006be006833f77291a06cc600855 class_name relatednodeinfo  3  node_id 0f8b0013d120498ca80fca084d041b56 node_type 1 metadata  hash 88d2feb7844067cecbbbffb0bd01dcd52162fa9a27ae8adc5c657f10a59c36de class_name relatednodeinfo   text all of the previous documents and answers mimetype textplain start_char_idx 0 end_char_idx 4477 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e77e5ddf194c44e4a86869c318038b53 embedding null metadata page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id abdfd9fc27644192a2c567a318b89e50 node_type 4 metadata page_label 5 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 49f328238e27c8db80d067ec311a5314d5aaa9a14c38a528995e698391b603ad class_name relatednodeinfo text tailored strategies for handling each query in other words employing the most basic nonretrieval based approach llmqto respond to the complex query qwould be also ineffective figure 2 a conversely using a more elaborate multistep ap proach llmqdcfor simple qwould be ineffi cient figure 2 b therefore our adaptive frame work is designed to dynamically adjust the query handling strategy of retrievalaugmented llms which is achieved by determining the complexity of each query before attempting a solution notably this framework can offer a robust middle ground with a range of solutions from the simplest ap proach for the most straightforward queries to the onestep approach for moderate queries and up to the most comprehensive and rigorous approach for complex queries in addition since the operations ofllmandretriever remain consistent regard less of inputs to them our method can seeming lessly go back and forth across queries of different complexities without changing the internal model architecture or parameters during adaption query complexity assessment to operational ize our adaptive retrievalaugmented llm frame work we should determine the query complexity and to achieve this we propose to model a com plexity classifier whose goal is to return the appro priate complexity level of the given query specif ically given the query q our classifier can be for mulated as follows oclassifier q where classifier is a smaller language model that is trained mimetype textplain start_char_idx 17295 end_char_idx 24191 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 8614d31df0d54801aab1dc85dc97ab4d embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 7c21bad5584f4aa2ab122806918408d2 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash e6cf07266821283dae4f0a2a8078c1fa547923509d9ca09e3c967ea974b45c5a class_name relatednodeinfo 3 node_id f82feed8833b424b8f15ca59bf049cd9 node_type 1 metadata hash 6543b1d8182d934d82e0b5db641ab50d4bb8276c79d3bb85a00758e23d05d196 class_name relatednodeinfo text designed to dynamically adjust the query handling strategy of retrievalaugmented llms which is achieved by determining the complexity of each query before attempting a solution notably this framework can offer a robust middle ground with a range of solutions from the simplest ap proach for the most straightforward queries to the onestep approach for moderate queries and up to the most comprehensive and rigorous approach for complex queries in addition since the operations ofllmandretriever remain consistent regard less of inputs to them our method can seeming lessly go back and forth across queries of different complexities without changing the internal model architecture or parameters during adaption query complexity assessment to operational ize our adaptive retrievalaugmented llm frame work we should determine the query complexity and to achieve this we propose to model a com plexity classifier whose",
        "mimetype": "text/plain",
        "start_char_idx": 243039,
        "end_char_idx": 248625,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "454e926d-1a4f-4520-8df7-2956e4bcd075",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c410863f-f4f1-43a2-a539-36c3e5f5e303",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3f0ecd34ba2ec43a9ffbcf9e4d7c5b6c12331f52af7eaa5d3d57501098dd41a7",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e5c39706-052a-4ad6-be5e-1ce3d1bd63ad",
                "node_type": "1",
                "metadata": {},
                "hash": "d8cc462f133aa7b8e0ab8187cf3c0bb38ea1de5954bfa4f5836e5558805aa55e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text designed to dynamically adjust the query handling strategy of retrievalaugmented llms which is achieved by determining the complexity of each query before attempting a solution notably this framework can offer a robust middle ground with a range of solutions from the simplest ap proach for the most straightforward queries to the onestep approach for moderate queries and up to the most comprehensive and rigorous approach for complex queries in addition since the operations ofllmandretriever remain consistent regard less of inputs to them our method can seeming lessly go back and forth across queries of different complexities without changing the internal model architecture or parameters during adaption query complexity assessment to operational ize our adaptive retrievalaugmented llm frame work we should determine the query complexity and to achieve this we propose to model a com plexity classifier whose goal is to return the appro priate complexity level of the given query specif ically given the query q our classifier can be for mulated as follows oclassifier q where classifier is a smaller language model that is trained to classify one of three different complexity levels and ois its corresponding class label in our classifier design there are three class labels a b and c where a indicates that qis straight forward and answerable by llmqitself b in dicates that qhas the moderate complexity where at least a singlestep approach llmqdis needed and c indicates that qis complex requiring the most extensive solution llmqdc2 training strategy the remaining step is to train the smaller language model for classifier to accurately predict its complexity oin response to the given query q yet there is no annotated dataset available for querycomplexity pairs hence we propose to automatically construct the training dataset with two particular strategies to be specific we first aim at labeling the query 2we consider three levels of query complexity and leave the exploration of more finegrained complexities as future workcomplexity based on the results from three different retrievalaugmented llm strategies in order to determine the label by its needs for example if the simplest nonretrievalbased approach correctly generates the answer the label for its corresponding query is assigned a also to break the tie between different models in providing the label to the query we provide a higher priority to a simpler model mimetype textplain start_char_idx 112075 end_char_idx 118345 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0f8b0013d120498ca80fca084d041b56 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 45ad04fad81b46e69d4c13e16ad7561a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 60639ca8bb5123033ea4fdab430e1dc59bc984a2f7c7121b5a061cd09f9477c0 class_name relatednodeinfo  3  node_id 95607d0d4238436d8b8f5b3ea29f7d40 node_type 1 metadata  hash 067aef6bae7489e34d8ba308f5408ad7d91035ec6defcf0fcd8fde9a5ab704f1 class_name relatednodeinfo   text answerable by llmqitself b in dicates that qhas the moderate complexity where at least a singlestep approach llmqdis needed and c indicates that qis complex requiring the most extensive solution llmqdc2 training strategy the remaining step is to train the smaller language model for classifier to accurately predict its complexity oin response to the given query q yet there is no annotated dataset available for querycomplexity pairs hence we propose to automatically construct the training dataset with two particular strategies to be specific we first aim at labeling the query 2we consider three levels of query complexity and leave the exploration of more finegrained complexities as future workcomplexity based on the results from three different retrievalaugmented llm strategies in order to determine the label by its needs for example if the simplest nonretrievalbased approach correctly generates the answer the label for its corresponding query is assigned a also to break the tie between different models in providing the label to the query we provide a higher priority to a simpler model in other words if both singlestep and multistep approaches produce the same correct answer while the nonretrievalbased approach fails we assign label b to its corresponding query however this labeling strategy has a limita tion in that not all the queries are assigned labels since the three retrievalaugmented approaches may all fail to generate the correct answer on the other hand the benchmark datasets may al ready have meaningful inductive biases about the most appropriate retrievalaugmented llm strate gies for their queries considering the ways they are created eg qa datasets that require sequen tial reasoning usually necessitate a multistep ap proach while queries of those with labeled sin gle documents can be ideally answerable with the singlestep approach therefore for those queries that remain unlabeled after the first labeling step we assign b to queries in singlehop datasets and c to queries in multihop datasets finally we train classifier with these automatically collected querycomplexity pairs3 by using a cross entropy loss then at inference we can deter mine the complexity of the query which is one of a b c by forwarding it to classifier oclassifier q 4 experimental setups in this section we explain datasets models met rics and implementation details we provide addi tional details in appendix a 41 datasets in order to simulate a realistic scenario where dif ferent queries have varying complexities we use both the singlehop and multihop qa datasets si multaneously in the unified experimental setting singlehop qa for simpler queries we use three benchmark singlehop qa datasets which consist 3as we automatically assign classifier labels there",
        "mimetype": "text/plain",
        "start_char_idx": 247677,
        "end_char_idx": 254346,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e5c39706-052a-4ad6-be5e-1ce3d1bd63ad",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "454e926d-1a4f-4520-8df7-2956e4bcd075",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "dc973d1704ba7d07fe8f565077cc6d33f2ff459f2825c8df6a9fabdd8b988d4c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ea9937f8-f07c-498b-b9d7-6a7b50fb3d43",
                "node_type": "1",
                "metadata": {},
                "hash": "27933dbb1b6dc543711d25f1c735de271d46ea87c81e646cd61b920d0985a6a1",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "tial reasoning usually necessitate a multistep ap proach while queries of those with labeled sin gle documents can be ideally answerable with the singlestep approach therefore for those queries that remain unlabeled after the first labeling step we assign b to queries in singlehop datasets and c to queries in multihop datasets finally we train classifier with these automatically collected querycomplexity pairs3 by using a cross entropy loss then at inference we can deter mine the complexity of the query which is one of a b c by forwarding it to classifier oclassifier q 4 experimental setups in this section we explain datasets models met rics and implementation details we provide addi tional details in appendix a 41 datasets in order to simulate a realistic scenario where dif ferent queries have varying complexities we use both the singlehop and multihop qa datasets si multaneously in the unified experimental setting singlehop qa for simpler queries we use three benchmark singlehop qa datasets which consist 3as we automatically assign classifier labels there might be errors in labeling and might be more advanced strategies to automatically assign labels which we leave as future work mimetype textplain start_char_idx 0 end_char_idx 4580 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b40b7befbf1a4c3a88b701ab2d841a97 embedding null metadata page_label 6 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 49ceb3ba71984105aed8006e3b43ea04 node_type 4 metadata page_label 6 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 29564e9a6ac9152d0d321bacbcd25cffe6804717dced9332e54d6947ca60888d class_name relatednodeinfo text table 1 averaged results on a collection of benchmark datasets for opendomain question answering including the singlehop and multihop queries with different llms selfragis trained with a different base llm namely llama2 touvron et al 2023 therefore we compare the results of flant5xl 3b with the results from selfrag with llama2 7b and the results of others with the results from selfrag with llama2 13b we emphasize our results in bold for easy comparisons flant5xl 3b flant5xxl 11b gpt35 turbo types methods em f1 acc step time em f1 acc step time em f1 acc step time simpleno retrieval 1487 2112 1597 000 011 1783 2514 1933 000 008 3577 4856 4427 000 071 singlestep approach 3483 4431 3887 100 100 3787 4763 4190 100 100 3473 4699 4527 100 100 adaptiveadaptive retrieval 2387 3224 2673 050 056 2693 3567 2973 050 054 3590 4820 4530 050 086 selfrag990 2079 3157 072 043 1087 2298 3413 074 023 1087 2298 3413 074 150 adaptiverag ours 3717 4694 4210 217 360 3890 4862 4377 135 200 3797 5091 4897 103 146 complex multistep approach 3900 4885 4370 469 881 4013 5009 4520 213 380 3813 5087 mimetype textplain start_char_idx 23052 end_char_idx 29307 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f82feed8833b424b8f15ca59bf049cd9 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo mimetype textplain start_char_idx 117245 end_char_idx 123017 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 95607d0d4238436d8b8f5b3ea29f7d40 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0f8b0013d120498ca80fca084d041b56 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson",
        "mimetype": "text/plain",
        "start_char_idx": 253273,
        "end_char_idx": 258378,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ea9937f8-f07c-498b-b9d7-6a7b50fb3d43",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e5c39706-052a-4ad6-be5e-1ce3d1bd63ad",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "236c9f6a9f319fe561f8814d2594a2fef294fd9e995fab727e5abdcb5b1153cd",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "5108f90e-d566-4696-b2c2-95e106a5dd4a",
                "node_type": "1",
                "metadata": {},
                "hash": "5e21e0fde821026df6970f44c519f750a7d223e6ab99d760d457c30cba2988b6",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0f8b0013d120498ca80fca084d041b56 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 49b599703cf8626ea22c0dec7f00395f704cb675634998cbecdcf0a80d877c7d class_name relatednodeinfo  3  node_id d242a96573cb4234a2fe8a3f3b82166a node_type 1 metadata  hash d6114999957776a095288c529750616c4404e7a402b0eaa9f180f7bcc8d1f335 class_name relatednodeinfo   text embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 8614d31df0d54801aab1dc85dc97ab4d node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 7375e59ded5c97e1403fc6dd55f75baaef6732f945ef197bb7e2db140b4330f7 class_name relatednodeinfo 3 node_id f645d052bc85481f809046f804ce4b42 node_type 1 metadata hash 8561802d9f7b9c6579e14e82dc24d0327bfcd441b74095a845ba2063b269f51d class_name relatednodeinfo text 3483 4431 3887 100 100 3787 4763 4190 100 100 3473 4699 4527 100 100 adaptiveadaptive retrieval 2387 3224 2673 050 056 2693 3567 2973 050 054 3590 4820 4530 050 086 selfrag990 2079 3157 072 043 1087 2298 3413 074 023 1087 2298 3413 074 150 adaptiverag ours 3717 4694 4210 217 360 3890 4862 4377 135 200 3797 5091 4897 103 146 complex multistep approach 3900 4885 4370 469 881 4013 5009 4520 213 380 3813 5087 4970 281 333 oracle adaptiverag w oracle 4500 5628 4990 128 211 4717 5860 5220 084 110 4770 6280 5857 050 103 of queries and their associated documents contain ing answers namely 1 squad v11 rajpurkar et al 2016 2 natural questions kwiatkowski et al 2019 and 3 triviaqa joshi et al 2017 multihop qa to consider more complex query scenarios we use three benchmark multihop qa datasets which require sequential reasoning over multiple documents namely 1 musique trivedi et al 2022a 2 hotpotqa yang et al 2018 and3 2wikimultihopqa ho et al 2020 42 models we compare our adaptiverag against relevant models including three retrievalaugmented llm strategies in section 31 and the adaptive re trieval approaches mallen et al 2023 asai et al 2024 which can be grouped into one of three cat egories simple adaptive and complex specif ically simple approaches include the 1 no re trieval and2 singlestep approach based meth ods adaptive approaches include the 3 adaptive retrieval mallen et al 2023 4 selfrag asai et al 2024 and our 5 adaptiverag which can adaptively perform retrieval based on the question complexity for the 6 multistep ap proach we use the most sophisticated stateof theart method trivedi et al 2023 iteratively accessing both the retriever and llm with chain ofthought reasoning wei et al 2022b for every query note that models across different categories are not directly comparable yet in the ideal set ting adaptive approaches should be more effective than those in the simple category while simultane ously being more efficient than the complex one therefore we also report the performance in an ideal scenario 7 adaptiverag w oracle using the oracle classifier with our adaptiverag 43 evaluation metrics when it comes to evaluating adaptive models it is essential to simultaneously consider both thetask performance and efficiency along with their tradeoffs thus we report the results with five metrics where three of them measure the effective ness and the other two measure the efficiency in particular for effectiveness we use f1 em and accuracy acc following the standard evaluation protocol mallen et al 2023 baek et al 2023 asai et al 2024",
        "mimetype": "text/plain",
        "start_char_idx": 257793,
        "end_char_idx": 262504,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5108f90e-d566-4696-b2c2-95e106a5dd4a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ea9937f8-f07c-498b-b9d7-6a7b50fb3d43",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f95a237bc0b901d197590ab6048e45bab35c9ebf22bd97c281887bc9500be2f3",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "11bfe368-67dd-4e4b-980e-3d46facdde89",
                "node_type": "1",
                "metadata": {},
                "hash": "e121a92437c414655fe4dc90db8275e2a8e18a4244c1793e8b11b083863e6962",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "proach we use the most sophisticated stateof theart method trivedi et al 2023 iteratively accessing both the retriever and llm with chain ofthought reasoning wei et al 2022b for every query note that models across different categories are not directly comparable yet in the ideal set ting adaptive approaches should be more effective than those in the simple category while simultane ously being more efficient than the complex one therefore we also report the performance in an ideal scenario 7 adaptiverag w oracle using the oracle classifier with our adaptiverag 43 evaluation metrics when it comes to evaluating adaptive models it is essential to simultaneously consider both thetask performance and efficiency along with their tradeoffs thus we report the results with five metrics where three of them measure the effective ness and the other two measure the efficiency in particular for effectiveness we use f1 em and accuracy acc following the standard evaluation protocol mallen et al 2023 baek et al 2023 asai et al 2024 where f1 measures the number of overlapping words between the predicted an swer and the ground truth em measures whether they are the same and acc measures whether the predicted answer contains the groundtruth answer for efficiency we measure the number of retrieval andgenerate steps and the average time for answer ing each query relative to the onestep approach 44 implementation details for a fair comparison and following mallen et al 2023 and trivedi et al 2023 we use the same re triever a termbased sparse retrieval model known as bm25 robertson et al 1994 across all differ ent models for the external document corpus we use different sources depending on the dataset type the wikipedia corpus preprocessed by karpukhin et al 2020 for singlehop datasets and the pre processed corpus by trivedi et al 2023 for multi hop datasets regarding the llms that are used to generate answers we use the flant5 series models chung et al 2022 of xl with 3b pa rameters and xxl with 11b parameters and the gpt35 model gpt35turboinstruct for the retrievalaugmented llm design we follow the implementation details from trivedi et al 2023 which include input prompts instructions and the number of test samples for evaluation eg 500 samples per dataset in our adaptiverag for the querycomplexity classifier we use and train the t5large model raffel et al 2020 specifically the classifier is trained using the epoch that shows the best performance until 100 training iterations from the validation set with the learning rate of mimetype textplain start_char_idx 122349 end_char_idx 127647 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d242a96573cb4234a2fe8a3f3b82166a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 95607d0d4238436d8b8f5b3ea29f7d40 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c5d9a94019471f14fd13f15af937a180f64901ec8d210c7c6f6bc226c9d6dd44 class_name relatednodeinfo  3  node_id 5a118edd34694fe18d1cf2b88072224c node_type 1 metadata  hash 2ff98ae84c39479f7e2a0075bb60ba0333cae803c09ba8dcc9a9fcde8e3bb69a class_name relatednodeinfo   text external document corpus we use different sources depending on the dataset type the wikipedia corpus preprocessed by karpukhin et al 2020 for singlehop datasets and the pre processed corpus by trivedi et al 2023 for multi hop datasets regarding the llms that are used to generate answers we use the flant5 series models chung et al 2022 of xl with 3b pa rameters and xxl with 11b parameters and the gpt35 model gpt35turboinstruct for the retrievalaugmented llm design we follow the implementation details from trivedi et al 2023 which include input prompts instructions and the number of test samples for evaluation eg 500 samples per dataset in our adaptiverag for the querycomplexity classifier we use and train the t5large model raffel et al 2020 specifically the classifier is trained using the epoch that shows the best performance until 100 training iterations from the validation set with the learning rate of 3e mimetype textplain start_char_idx 0 end_char_idx 4774 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 388cccb9a5f44a178f8c0107ada86bc4 embedding null metadata page_label 7 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id dbd36194c0b149678be493cbfe5c1f28 node_type 4 metadata page_label 7 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 261475,
        "end_char_idx": 267165,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "11bfe368-67dd-4e4b-980e-3d46facdde89",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "5108f90e-d566-4696-b2c2-95e106a5dd4a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b053a590370e9e73c00b5cd6d20fc08e621ff545758355e0cde5839f926fdc43",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "cb5f6d73-fda8-452e-a9ea-bf4eed092f97",
                "node_type": "1",
                "metadata": {},
                "hash": "a5980e65d2434b4276b53b5b046a168b18aead1122d4fba3f970a0187632bda5",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 388cccb9a5f44a178f8c0107ada86bc4 embedding null metadata page_label 7 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id dbd36194c0b149678be493cbfe5c1f28 node_type 4 metadata page_label 7 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash bf7f9056f4d4d18b2daadc46b1af32359ded02722d32ff2be5164ef629a93f3d class_name relatednodeinfo text table 2 results on each of a collection of datasets with flant5xl 3b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 360 1050 500 000 011 1420 1900 1560 000 013 2500 3180 2700 000 013 singlestep approach 2780 3930 3400 100 100 3780 4730 4460 100 mimetype textplain start_char_idx 28899 end_char_idx 34293 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f645d052bc85481f809046f804ce4b42 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id f82feed8833b424b8f15ca59bf049cd9 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash c3c2fc87cca6d4d2f501afcdd79a2cf9c1f93e8dd107dfdb93178f1b0c636d73 class_name relatednodeinfo 3 node_id 87d7b9c9a26749e7bf33a0f22261915c node_type 1 metadata hash f0a2a19d17de246e3deac975367fb495489cb4f1b6db91a8c0884a4d12af9a9d class_name relatednodeinfo text file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash bf7f9056f4d4d18b2daadc46b1af32359ded02722d32ff2be5164ef629a93f3d class_name relatednodeinfo text table 2 results on each of a collection of datasets with flant5xl 3b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 360 1050 500 000 011 1420 1900 1560 000 013 2500 3180 2700 000 013 singlestep approach 2780 3930 3400 100 100 3780 4730 4460 100 100 5360 6240 6020 100 100 adaptiveadaptive retrieval 1340 2310 1760 050 055 2820 3600 3300 050 056 3840 4690 4260 050 056 selfrag220 1120 1840 063 050 3140 3900 3360 063 017 1280 2930 5700 068 045 adaptiverag ours 2680 3830 3300 137 202 3780 4730 4460 100 100 5220 6070 5820 123 154 complex multistep approach 2440 3560 2960 452 903 3860 4780 4420 504 1018 5380 6240 6020 528 mimetype textplain start_char_idx 126731 end_char_idx 131305 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5a118edd34694fe18d1cf2b88072224c embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 266425,
        "end_char_idx": 270774,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cb5f6d73-fda8-452e-a9ea-bf4eed092f97",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "11bfe368-67dd-4e4b-980e-3d46facdde89",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "7c7b13385ec9fd95813d911e92622ff2978cddd41d769ee80df5af1e9c5de916",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "62ac1a7e-cfb8-4251-ad02-eb27295a1afb",
                "node_type": "1",
                "metadata": {},
                "hash": "0eb1c37ff523288038f8ec2996718577211625f5451bc48e987ac6bbafc122dc",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "131305 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5a118edd34694fe18d1cf2b88072224c embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id d242a96573cb4234a2fe8a3f3b82166a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 34da2d4a5aa15c5e7783934efe211a33b58ad548f92aa03092d0759cf63bbf47 class_name relatednodeinfo  3  node_id 2f0a56b4482e445aacc9cf8431bb8087 node_type 1 metadata  hash a542b867f7fd87f3519f86dc7234b788164efa3cbc9208c0311212a2b91ebc66 class_name relatednodeinfo   text 3400 100 100 3780 4730 4460 100 100 5360 6240 6020 100 100 adaptiveadaptive retrieval 1340 2310 1760 050 055 2820 3600 3300 050 056 3840 4690 4260 050 056 selfrag220 1120 1840 063 050 3140 3900 3360 063 017 1280 2930 5700 068 045 adaptiverag ours 2680 3830 3300 137 202 3780 4730 4460 100 100 5220 6070 5820 123 154 complex multistep approach 2440 3560 2960 452 903 3860 4780 4420 504 1018 5380 6240 6020 528 922 oracle adaptiverag w oracle 3200 4560 3820 124 160 4740 5710 5360 110 155 6160 7020 6640 079 110 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 240 1070 320 000 011 1660 2271 1720 000 011 2740 3204 2780 000 010 singlestep approach 1380 2280 1520 100 100 3440 4615 3640 100 100 4160 4790 4280 100 100 adaptiveadaptive retrieval 640 1580 800 050 055 2360 3222 2500 050 055 3320 3944 3420 050 055 selfrag160 810 1200 073 051 680 1753 2960 073 045 460 1959 3880 093 049 adaptiverag ours 2360 3180 2600 322 661 4200 5382 4440 355 599 4060 4975 4640 263 468 complex multistep approach 2300 3190 2580 360 758 4460 5654 4700 553 938 4960 5885 5540 417 737 oracle adaptiverag w oracle 2480 3850 2700 198 399 5120 6400 5480 159 277 5300 6230 5940 101 169 f1102030405060adaptive retrieval selfrag adaptiverag ours classifier acc3540455055flant5xl f1102030405060adaptive retrieval selfrag adaptiverag ours classifier acc3540455055flant5xxl no one multino one multi031 047 022 01 066 023 003 031 065 020406confusion matrix figure 3 performance on qa and querycomplexity assessment of different adaptive approaches for retrievalaugmented llms with flant5 xl left and xxl center for labeling the complexity of queries we use the silver data annotated from the prediction outcomes of models described in section 32 we also provide the confusion matrix across three labels right 5 and the adamw loshchilov and hutter 2019 as an optimizer regarding its training data we sample and annotate 400 queries from 6 datasets based on its inductive bias singlehop for onestep approach and multihop for multistep in addition we use predicted outcomes of three different strate gies over 400 queries sampled from each dataset note that those queries used for classifier training do not overlap with the testing queries for qa 5 experimental results and analyses in this section we show the overall experimental results and offer indepth analyses of our method main results first of all table 1 shows our main results averaged over all considered datasets which corroborate our hypothesis that simple retrieval augmented strategies are less effective than the complex strategy while the complex one is sig nificantly more expensive than the simple ones in addition we report the more granular results with flant5xl on each of the singlehop and multi hop datasets in table 2 and more with different llms in table 7 and table 8 of appendix which are consistent with the results observed in table 1 however in a realworld scenario not all users ask queries with the same level of complexity which emphasizes the importance of the need for adaptive strategies note that among the adaptive strategies our adaptiverag shows",
        "mimetype": "text/plain",
        "start_char_idx": 270047,
        "end_char_idx": 274600,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "62ac1a7e-cfb8-4251-ad02-eb27295a1afb",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "cb5f6d73-fda8-452e-a9ea-bf4eed092f97",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2c9192680a6027db3d9c4e460432191308e599da79b22a749f259cc0bb5bb0f3",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9a42661f-1b08-4d59-9447-b08e26982995",
                "node_type": "1",
                "metadata": {},
                "hash": "ed15dfcaaee91aa8cc3cafa7b46738e53ea5fa06b7e92c843bea6922b1d90550",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "we use predicted outcomes of three different strate gies over 400 queries sampled from each dataset note that those queries used for classifier training do not overlap with the testing queries for qa 5 experimental results and analyses in this section we show the overall experimental results and offer indepth analyses of our method main results first of all table 1 shows our main results averaged over all considered datasets which corroborate our hypothesis that simple retrieval augmented strategies are less effective than the complex strategy while the complex one is sig nificantly more expensive than the simple ones in addition we report the more granular results with flant5xl on each of the singlehop and multi hop datasets in table 2 and more with different llms in table 7 and table 8 of appendix which are consistent with the results observed in table 1 however in a realworld scenario not all users ask queries with the same level of complexity which emphasizes the importance of the need for adaptive strategies note that among the adaptive strategies our adaptiverag shows remarkableeffectiveness over the competitors table 1 this indicates that merely focusing on the decision of whether to retrieve or not is suboptimal also as shown in table 2 such simple adaptive strategies are particularly inadequate for handling complex queries in multihop datasets which require ag gregated information and reasoning over multiple documents meanwhile our approach can consider a more finegrained query handling strategy by fur ther incorporating an iterative module for complex queries furthermore in a realistic setting we should take into account not only effectiveness but also efficiency as shown in table 1 compared to the complex multistep strategy our proposed adap tive strategy is significantly more efficient across all model sizes this is meaningful in this era of llms where the cost of accessing them is a critical factor for practical applications and scalability fi nally to see the upper bound of our adaptiverag we report its performances with the oracle classifier where the classification performance is perfect as shown in table 1 and table 2 we observe that it achieves the best performance while being much more efficient than our adaptiverag without the oracle classifier these results support the valid ity and significance of our proposal for adapting retrievalaugmented llm strategies based on query complexity and further suggest the direction to de velop more improved classifiers to achieve optimal performance mimetype textplain start_char_idx 0 end_char_idx 5004 text_template metadata_strnncontent mimetype textplain start_char_idx 33713 end_char_idx 39005 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 87d7b9c9a26749e7bf33a0f22261915c embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path mimetype textplain start_char_idx 130897 end_char_idx 136221 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2f0a56b4482e445aacc9cf8431bb8087 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 5a118edd34694fe18d1cf2b88072224c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 22caac56f5b24cfe3391428306169e7aa2a3cca500bcff6168e7f08401f3a0dd class_name relatednodeinfo  3  node_id 0efd97ae18df4754886f132500312eb2 node_type 1 metadata  hash bb1a2c321d2839907337a95ae5b1483c9a917c1abe534fe607a725070f9fa1ac class_name relatednodeinfo   text on query complexity and further suggest the direction to de velop more improved classifiers to achieve optimal performance mimetype textplain start_char_idx 0 end_char_idx 5004 text_template metadata_strnncontent mimetype textplain start_char_idx 33713 end_char_idx 39005 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 87d7b9c9a26749e7bf33a0f22261915c embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id f645d052bc85481f809046f804ce4b42 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type",
        "mimetype": "text/plain",
        "start_char_idx": 273510,
        "end_char_idx": 279392,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9a42661f-1b08-4d59-9447-b08e26982995",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "62ac1a7e-cfb8-4251-ad02-eb27295a1afb",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "33d9ae8cbbaa536c92abba2dab202aa8c108ab6e2609f04ef440b18609d638ca",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "18c018a0-67e2-4869-a70b-e13beb2f6c47",
                "node_type": "1",
                "metadata": {},
                "hash": "8c11e3afffa1ba3078728c8c226c8073593ba8028d24fea04cec94d385373c95",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id f645d052bc85481f809046f804ce4b42 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 831edf3386052001a5eae28a37cc924fae13f55837d34f6afb7e10ed7b567ff1 class_name relatednodeinfo 3 node_id 23b376d53c154fcca3b50301ddebe64f node_type 1 metadata hash 9ab8355ab0ca10bde1ddcf215132a158c94bd999ab2a2a72ec07078415b2bdbd class_name relatednodeinfo text query handling strategy by fur ther incorporating an iterative module for complex queries furthermore in a realistic setting we should take into account not only effectiveness but also efficiency as shown in table 1 compared to the complex multistep strategy our proposed adap tive strategy is significantly more efficient across all model sizes this is meaningful in this era of llms where the cost of accessing them is a critical factor for practical applications and scalability fi nally to see the upper bound of our adaptiverag we report its performances with the oracle classifier where the classification performance is perfect as shown in table 1 and table 2 we observe that it achieves the best performance while being much more efficient than our adaptiverag without the oracle classifier these results support the valid ity and significance of our proposal for adapting retrievalaugmented llm strategies based on query complexity and further suggest the direction to de velop more improved classifiers to achieve optimal performance mimetype textplain start_char_idx 0 end_char_idx 5004 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2182678eb2c44e70b14610285eada3c0 embedding null metadata page_label 8 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id dc9fb8b997524d56a2f9269f03b47f4c node_type 4 metadata page_label 8 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 9a4434a9e9b5c116305be338fa9a863f5bee7a2eb1a73bce93461bff3eb55f0e class_name relatednodeinfo text table 3 the exact elapsed time per query and the percentage of the predicted labels from the classifier over all samples labels timequery sec percentage no a 035 860 one b 308 5333 multi c 2718 3807 classifier performance to understand how the proposed classifier works we analyze its perfor mance across different complexity labels as fig ure 3 left and center shows the classification accuracy of our adaptiverag is better than those of the other adaptive retrieval baselines which leads to overall qa performance improvements in other words this result indicates that our adaptive rag is capable of more accurately classifying the complexity levels with various granularities which include not performing retrieval performing re trieval only once and performing retrieval multiple times in addition to the true positive performance of our classifier averaged over all those three la bels in figure 3 left and center we further re port its confusion matrix in figure 3 right we note that the confusion matrix reveals some notable trends c multi is sometimes misclassified as b one about 31 and b one as c multi about 23 a no is misclassified often as b one about 47 and less frequently as c multi about 22 while the overall results in figure 3 show that our classifier effectively cate gorizes the three labels further refining it based on such misclassification would be a meaningful direction for future work analyses on efficiency for classifier while ta ble 1 shows the relative elapsed time for each of the three different rag strategies we further provide the exact elapsed time per query for our adaptive rag and the distribution for predicted labels from our querycomplexity classifier in table 3 similar to the results of the elapsed time in table 1 relative time table 3 exact time shows that efficiency can be substantially improved by identifying sim ple or straightforward queries analyses on training data for classifier we have shown that the classifier plays an important role in adaptive retrieval here we further analyze the different strategies for training the classifier by ablating our full training strategy which includes two approaches generating silver data from pre dicted outcomes of models and utilizing inductivetable 4 results on qa and complexity classification with varying the data annotation strategies for training the classifier qa classifier accuracy training strategies f1 step all no one multi adaptiverag ours 4694 1084 5452 3052 6628 6545 wo binary 4343 640 6030 6219 6570 3955 wo silver 4879 mimetype textplain start_char_idx 135428 end_char_idx 141538 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0efd97ae18df4754886f132500312eb2 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path",
        "mimetype": "text/plain",
        "start_char_idx": 278748,
        "end_char_idx": 284809,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "18c018a0-67e2-4869-a70b-e13beb2f6c47",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9a42661f-1b08-4d59-9447-b08e26982995",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "a3168419bde151b49e9ba5fb73d00b040ab972e0f27c957629cedcbe6c11e4ab",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "49102f93-25e3-442d-a560-1ed26d14df13",
                "node_type": "1",
                "metadata": {},
                "hash": "7c702adcb70a0f08e079554ed6cdd57417f954a0cb6c4a9a9b8fd19d1e88b5dd",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "ours 4694 1084 5452 3052 6628 6545 wo binary 4343 640 6030 6219 6570 3955 wo silver 4879 mimetype textplain start_char_idx 135428 end_char_idx 141538 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0efd97ae18df4754886f132500312eb2 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 2f0a56b4482e445aacc9cf8431bb8087 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash ee18c1ad9134cf056edd2007c183a8ad3fc2099b7105cd743590a698e9f3a23c class_name relatednodeinfo  3  node_id 866fcf8cb649427194af1f02e683b286 node_type 1 metadata  hash c9ebb522b4ab685e6f24efb920aac879ca091bfea21b8396b5e268cdecfaed96 class_name relatednodeinfo   text the three different rag strategies we further provide the exact elapsed time per query for our adaptive rag and the distribution for predicted labels from our querycomplexity classifier in table 3 similar to the results of the elapsed time in table 1 relative time table 3 exact time shows that efficiency can be substantially improved by identifying sim ple or straightforward queries analyses on training data for classifier we have shown that the classifier plays an important role in adaptive retrieval here we further analyze the different strategies for training the classifier by ablating our full training strategy which includes two approaches generating silver data from pre dicted outcomes of models and utilizing inductivetable 4 results on qa and complexity classification with varying the data annotation strategies for training the classifier qa classifier accuracy training strategies f1 step all no one multi adaptiverag ours 4694 1084 5452 3052 6628 6545 wo binary 4343 640 6030 6219 6570 3955 wo silver 4879 1464 4000 000 5398 7591 bias in datasets see section 32 as table 4 shows compared to the training strategy relying solely on the data derived from inductive bias ours is sig nificantly more efficient this efficiency is partly because ours also takes into account the case that does not consider any documents at all as also implied by the classification accuracy meanwhile queries in the existing datasets do not capture the information on whether the retrieval is required or not on the other hand in the case of only using the silver data annotated from the correct predictions while its overall classification accuracy is high the overall qa performance implies that relying on the silver data may not be optimal this may be because this silver data does not cover complex ity labels over incorrectly predicted queries which leads to lower generalization effect on queries rel evant to them meanwhile by also incorporating complexity labels from dataset bias singlehop vs multihop the classifier becomes more accurate in predicting multihop queries leading to the better performance it is worth noting that our automatic labeling strategies are two particular instantiations for training the classifier and that there could be other instantiations which we leave as future work analyses on classifier size to investigate the sensitivity of our classifier according to its varying sizes we conducted further experiments as shown in table 6 we observe no significant performance differences among classifiers of various sizes even with reduced complexity and fewer parameters in smaller classifiers this indicates that our proposed classifier can contribute to resourceefficient set tings in realuse cases with smaller sizes without compromising the performance case study we conduct a case study to qualita tively compare our adaptiverag against adap tive retrieval table 5 shows the classified com plexity and the query handling patterns for both simple and complex questions first for the simple singlehop question our adaptiverag identifies that it is answerable by only using the llms para metric knowledge about google by contrast mimetype textplain start_char_idx 0 end_char_idx 4675 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d270a854d5bc42488abe4e0cf8f3d318 embedding null metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 mimetype textplain start_char_idx 37872 end_char_idx 44905 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 23b376d53c154fcca3b50301ddebe64f embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id",
        "mimetype": "text/plain",
        "start_char_idx": 284138,
        "end_char_idx": 290070,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "49102f93-25e3-442d-a560-1ed26d14df13",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "18c018a0-67e2-4869-a70b-e13beb2f6c47",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9899c312c77e7f5b5412134c6b8a03aac68f7a5bea84ceb1718deccbcc60ba5b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "94831cfb-8c6e-4e07-a13a-d7dd3153f956",
                "node_type": "1",
                "metadata": {},
                "hash": "d30dd24f20f3815c0325e3a6272c80ac13f93458afb221662764ecaf1a04e8b6",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 87d7b9c9a26749e7bf33a0f22261915c node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash fce487a29281c829b753cb7ce436f526e598fea87ac62973e9a9896e6408cc19 class_name relatednodeinfo 3 node_id 5af2efe8edcc44d88c0dc8e0d6df1c25 node_type 1 metadata hash 17e242f482eb32b98076f4bdec18a40d0394fc0bdb52822565ed004e0f5803d4 class_name relatednodeinfo text proposed classifier can contribute to resourceefficient set tings in realuse cases with smaller sizes without compromising the performance case study we conduct a case study to qualita tively compare our adaptiverag against adap tive retrieval table 5 shows the classified com plexity and the query handling patterns for both simple and complex questions first for the simple singlehop question our adaptiverag identifies that it is answerable by only using the llms para metric knowledge about google by contrast mimetype textplain start_char_idx 0 end_char_idx 4675 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d270a854d5bc42488abe4e0cf8f3d318 embedding null metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 69f492c986c641f584ce7f3771415305 node_type 4 metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf mimetype textplain start_char_idx 140512 end_char_idx 146731 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 866fcf8cb649427194af1f02e683b286 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0efd97ae18df4754886f132500312eb2 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash d67cec8a4d1094a3e0472def358bed21d5d2c3a4fb0de1a96f64e53eca633bfb class_name relatednodeinfo  3  node_id bac4e2c23a02433490bcaac89b9154ac node_type 1 metadata  hash f16f2888dea154e6632e51e3776da3ce8cb416673d54b787bebd9c1998b99ce2 class_name relatednodeinfo   text metric knowledge about google by contrast mimetype textplain start_char_idx 0 end_char_idx 4675 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d270a854d5bc42488abe4e0cf8f3d318 embedding null metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 69f492c986c641f584ce7f3771415305 node_type 4 metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash ab57a9315c5139a49739ea12498ea2b36607244219a38eedf795f8c9210fe756 class_name relatednodeinfo text table 5 case study with gpt35 turbo where we represent the factual error in red and the accurate information in blue dataset question adaptive retrieval adaptiverag ours nq",
        "mimetype": "text/plain",
        "start_char_idx": 289400,
        "end_char_idx": 294374,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "94831cfb-8c6e-4e07-a13a-d7dd3153f956",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "49102f93-25e3-442d-a560-1ed26d14df13",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5f2dce2cf3131490f2b00fd7b7a046d064e4c44dd5521bd48c3b82c6dec05a02",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ff49934c-4b0b-42e7-8835-e38c78300817",
                "node_type": "1",
                "metadata": {},
                "hash": "e2e1adba296a27f540c813b21d9973b6ad4a2fad26decc5984d272035238bcd8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 69f492c986c641f584ce7f3771415305 node_type 4 metadata page_label 9 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash ab57a9315c5139a49739ea12498ea2b36607244219a38eedf795f8c9210fe756 class_name relatednodeinfo text table 5 case study with gpt35 turbo where we represent the factual error in red and the accurate information in blue dataset question adaptive retrieval adaptiverag ours nq singlehopwhich famous corpo rate logo changed to a flat colourcolor sans serif font in its first ma jor change since 1999query type b singlestep approach reasoning the famous corporate logo that changed to a flat color sansserif font in its first major change since 1999 is microsoft microsoft changed its logo in 2012 replacing the italicized multicolored font with a simple flat grey font so the answer is microsoftquery type a non retrieval reasoning the famous corporate logo that changed to a flat color sans serif font in its first ma jor change since 1999 is google google changed its logo in 2015 so the answer is google musique multihopwho is the child of the italian navigator who explored the eastern coast of the continent cu00e9sar gaytan was born in for the englishquery type a non retrieval reasoning cu00e9sar gaytan was born in the conti nent of north america the italian navigator who explored the eastern coast of north america for the english was giovanni caboto also known as john cabot so the answer is giovanni cabotojohn cabotquery type c multistep approach reasoning cu00e9sarr gaytan was born in guadalajara jalisco mexico the italian navigator who explored the eastern coast of the continent for the english is john cabot john cabots son is sebastian cabot so the answer is sebastian cabot table 6 results with varying model sizes for classifiers qa classifier accuracy sizes f1 step all no one multi small 60m 4583 964 5348 2665 7062 5318 base 223m 4597 983 5341 2642 6946 5682 large 770m 4694 1084 5452 3052 6628 6545 adaptive retrieval fetches additional documents leading to longer processing times and occasion ally producing incorrect responses due to the inclu sion of partially irrelevant information about mi crosoft meanwhile faced with a complex ques tion adaptiverag seeks out relevant information including details like a son of john cabot which may not have been stored in llms while adaptive retrieval fails to request such information from external sources resulting in inaccurate answers 6 conclusion in this work we proposed the adaptive retrieval augmented generation framework referred to as adaptiverag to handle queries of various complexities specifically adaptiverag is de signed to dynamically adjust its query handling strategies in the unified retrievalaugmented llm based on the complexity of queries that they en counter which spans across a spectrum of the non retrievalbased approach for the most straightfor ward queries to the singlestep approach for the queries of moderate complexity and finally to the multistep approach for the complex queries the core step of our adaptiverag lies in determin ing the complexity of the given query which is instrumental in selecting the most suitable strat egy for its answer to operationalize this process we trained a smaller language model with query complexity pairs which are automatically anno tated from the predicted outcomes and the inductive biases in datasets we validated our adaptiveragon a collection of opendomain qa datasets cover ing the multiple query complexities including both the single and multihop questions the results demonstrate that our adaptiverag enhances the overall accuracy and efficiency of qa systems al locating more resources to handle complex queries while efficiently handling simpler queries com pared to the existing onesizefitsall approaches that tend to be either minimalist or maximalist over varying query complexities limitations while our adaptiverag shows clear advantages in effectiveness and efficiency by determining the query complexity and then leveraging the most suitable approach for tackling it it is important to recognize that there still exist potential avenues for improving the classifier from the perspectives of its training datasets and architecture specifi cally as there are no available datasets for training the querycomplexity classifier we automatically create new data based on the model prediction out comes and the inductive dataset biases however our labeling process is one specific instantiation of labeling the query complexity and it may have the potential to label queries incorrectly despite its effectiveness therefore future work may create new datasets that are annotated with a diverse range of query complexities in addition to the labels of questionanswer pairs also as the performance gap between the ideal classifier in table 1 and the current classifier in figure 3 indicates there is still room to improve the effectiveness of the classifier in other words our classifier design based on the smaller lm is the initial simplest instantiation for classifying the query complexity and based upon it future work may improve the classifier archi tecture and its performance which will positively contribute to the overall qa performance mimetype textplain start_char_idx 0 end_char_idx 4981 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 779229b05ebb4f2e8b8d100f6ee36a6e embedding null metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 mimetype textplain start_char_idx 43995 end_char_idx 50841 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5af2efe8edcc44d88c0dc8e0d6df1c25 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date mimetype textplain start_char_idx 145954 end_char_idx 152707 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ bac4e2c23a02433490bcaac89b9154ac embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date",
        "mimetype": "text/plain",
        "start_char_idx": 293648,
        "end_char_idx": 300400,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ff49934c-4b0b-42e7-8835-e38c78300817",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "94831cfb-8c6e-4e07-a13a-d7dd3153f956",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c1fcb2b720c4452c9f83cca3a45d1ebc789ce109cb8af6a8dbf659c4c37a4ffb",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f2482318-263e-4e9a-aa24-df0b144fd86e",
                "node_type": "1",
                "metadata": {},
                "hash": "1fecf9c693f17b12a9d4712fbac61c1b81331d233f887f96d7d1e0cf5b969263",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "start_char_idx 43995 end_char_idx 50841 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5af2efe8edcc44d88c0dc8e0d6df1c25 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date mimetype textplain start_char_idx 145954 end_char_idx 152707 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ bac4e2c23a02433490bcaac89b9154ac embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 866fcf8cb649427194af1f02e683b286 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash d15dabaa1b3e44c1f450ba00a37a1d91d427f8e489fae452a697910208023fc3 class_name relatednodeinfo  3  node_id 57de619b9f5f424e9e2ae59c7def7ce8 node_type 1 metadata  hash d5c0bd75d6751ff2809168ba670ea53b3d7604133736974c1c94c00caf12ed87 class_name relatednodeinfo   text metadata_template key value metadata_seperator n class_name textnode id_ 779229b05ebb4f2e8b8d100f6ee36a6e embedding null metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 mimetype textplain start_char_idx 43995 end_char_idx 50841 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5af2efe8edcc44d88c0dc8e0d6df1c25 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 23b376d53c154fcca3b50301ddebe64f node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 6adcf7c92830b6cc21ef2d765b2034fc27ce16b68a0227edcf2b84accab86aea class_name relatednodeinfo 3 node_id fd2da238abaf48afba858bfd36638aef node_type 1 metadata hash 269dc266413e83ff82483ff948350d99919b2c5d6d5f278975e3af08c2a4a72d class_name relatednodeinfo text of questionanswer pairs also as the performance gap between the ideal classifier in table 1 and the current classifier in figure 3 indicates there is still room to improve the effectiveness of the classifier in other words our classifier design based on the smaller lm is the initial simplest instantiation for classifying the query complexity and based upon it future work may improve the classifier archi tecture and its performance which will positively contribute to the overall qa performance mimetype textplain start_char_idx 0 end_char_idx 4981 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 779229b05ebb4f2e8b8d100f6ee36a6e embedding null metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 6156336029fe43508f60f8c1e448ecfe node_type 4 metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 299633,
        "end_char_idx": 304446,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f2482318-263e-4e9a-aa24-df0b144fd86e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ff49934c-4b0b-42e7-8835-e38c78300817",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9847a53777a27ce0a75893832ec1ad830a390fae08ba57480fe69f430382741b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e9a28fbb-9c99-46de-981e-c8ea3cd2c1a3",
                "node_type": "1",
                "metadata": {},
                "hash": "a8d0db979ad1a6c59d7c550635650b7a934538d75ceb04eb3ff302fe91f51b82",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "metadata_template key value metadata_seperator n class_name textnode id_ 779229b05ebb4f2e8b8d100f6ee36a6e embedding null metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 6156336029fe43508f60f8c1e448ecfe node_type 4 metadata page_label 10 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 3fd224ab45f3ceef3ab0ccd94fe104951e81351f0cf52f0ea7f935248a7be289 class_name relatednodeinfo text ethics statement the experimental results on adaptiverag vali date its applicability in realistic scenarios where a wide range of diverse user queries exist nonethe less given the potential diversity of realworld user inputs it is crucial to also consider scenarios where these inputs might be offensive or harmful we should be aware that such inputs could lead to the retrieval of offensive documents and the genera tion of inappropriate responses by the retrieval augmented llms to address this challenge de veloping methods to detect and manage offensive or inappropriate content in both user inputs and re trieved documents within the retrievalaugmented framework is essential we believe that this is a critical area for future work acknowledgements this work was supported by institute for informa tion and communications technology promotion iitp grant funded by the korea government no 2018000582 prediction and augmentation of the credibility distribution via linguistic analysis and automated evidence document collection basic science research program through the national research foundation of korea nrf funded by the ministry of education rs202300275747 and the artificial intelligence industrial convergence cluster development project funded by the ministry of science and ict msit korea gwangju metropolitan city references rohan anil andrew m dai orhan firat melvin john son dmitry lepikhin alexandre passos siamak shakeri emanuel taropa paige bailey zhifeng chen eric chu jonathan h clark laurent el shafey yanping huang kathy meierhellstern gau rav mishra erica moreira mark omernick kevin robinson sebastian ruder yi tay kefan xiao yuanzhong xu yujing zhang gustavo hernu00e1ndez u00e1brego junwhan ahn jacob austin paul barham jan a botha james bradbury siddhartha brahma kevin brooks michele catasta yong cheng colin cherry christopher a choquettechoo aakanksha chowdhery clu00e9ment crepy shachi dave mostafa dehghani sunipa dev jacob devlin mark du00edaz nan du ethan dyer vladimir feinberg fangxi aoyu feng vlad fienber markus freitag xavier garcia sebastian gehrmann lucas gonzalez and et al 2023 palm 2 technical report arxiv preprint arxiv230510403 akari asai zeqiu wu yizhong wang avirup sil andhannaneh hajishirzi 2024 mimetype textplain start_char_idx 151986 end_char_idx 157379 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 57de619b9f5f424e9e2ae59c7def7ce8 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id bac4e2c23a02433490bcaac89b9154ac node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b19b7a5ed8f8b74b5754d37e23d01e05ccfb391d8836de2b2ae0ef9a04afbc83 class_name relatednodeinfo  3  node_id f7e5393114d344afa7bba9bbc249a77a node_type 1 metadata  hash 399400aa99809266463cca691be86db4ca2c7da2c1c422e2228e123a7357abfd class_name relatednodeinfo   text zhang gustavo hernu00e1ndez u00e1brego junwhan ahn jacob austin paul barham jan a botha james bradbury siddhartha brahma kevin brooks michele catasta yong cheng colin cherry christopher a choquettechoo aakanksha chowdhery clu00e9ment crepy shachi dave mostafa dehghani sunipa dev jacob devlin mark du00edaz nan du ethan dyer vladimir feinberg fangxi aoyu feng vlad fienber markus freitag xavier garcia sebastian gehrmann lucas gonzalez and et al 2023 palm 2 technical report arxiv preprint arxiv230510403 akari asai zeqiu wu yizhong wang avirup sil andhannaneh",
        "mimetype": "text/plain",
        "start_char_idx": 303726,
        "end_char_idx": 308766,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e9a28fbb-9c99-46de-981e-c8ea3cd2c1a3",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f2482318-263e-4e9a-aa24-df0b144fd86e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f53b7fc8b91e9cf2fe3f82ba2a3bcf460aa28b4c8c0507380d6c07c4f94a5fcc",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4dc7a505-f585-42ed-889d-00776d6697ba",
                "node_type": "1",
                "metadata": {},
                "hash": "179fb798cc22052603b5fbd72bd04448ef30d39ef4652ebfb2edb33fe4404039",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo   text zhang gustavo hernu00e1ndez u00e1brego junwhan ahn jacob austin paul barham jan a botha james bradbury siddhartha brahma kevin brooks michele catasta yong cheng colin cherry christopher a choquettechoo aakanksha chowdhery clu00e9ment crepy shachi dave mostafa dehghani sunipa dev jacob devlin mark du00edaz nan du ethan dyer vladimir feinberg fangxi aoyu feng vlad fienber markus freitag xavier garcia sebastian gehrmann lucas gonzalez and et al 2023 palm 2 technical report arxiv preprint arxiv230510403 akari asai zeqiu wu yizhong wang avirup sil andhannaneh hajishirzi 2024 selfrag learning to retrieve generate and critique through selfreflection inthe twelfth international conference on learning representations jinheon baek soyeong jeong minki kang jong park and sung ju hwang 2023 knowledgeaugmented language model verification in proceedings of the 2023 conference on empirical methods in natural language processing emnlp 2023 singapore de cember 610 2023 pages 17201736 association for computational linguistics sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza rutherford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen si monyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international conference on machine learning icml 2022 1723 july 2022 bal timore maryland usa volume 162 of proceedings of machine learning research pages 22062240 pmlr tom b brown benjamin mann nick ryder melanie subbiah jared kaplan prafulla dhariwal arvind neelakantan pranav shyam girish sastry amanda askell sandhini agarwal ariel herbertv oss gretchen krueger tom henighan rewon child aditya ramesh daniel m ziegler jeffrey wu clemens winter christopher hesse mark chen eric sigler mateusz litwin scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon seo mimetype textplain start_char_idx 49923 end_char_idx 55694 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fd2da238abaf48afba858bfd36638aef embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 5af2efe8edcc44d88c0dc8e0d6df1c25 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash cc86842044adc0ca06e2ed90ae5ba3c487150a322fbdb4c22b2e2fe6faf16c60 class_name relatednodeinfo 3 node_id cafdfcb2aabc40e798b320edab733985 node_type 1 metadata hash 988e37a942e6395d8b088d186473c605a9b61dfb1e95daecba32a65e8bda52a7 class_name relatednodeinfo text tom henighan rewon child aditya ramesh daniel m ziegler jeffrey wu clemens winter christopher hesse mark chen eric sigler mateusz litwin scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon seo soyeong jeong and jong c park 2023 improving zeroshot reader by reducing distractions from irrelevant documents in opendomain question answering in findings of the association for mimetype textplain start_char_idx 156803",
        "mimetype": "text/plain",
        "start_char_idx": 308172,
        "end_char_idx": 313303,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4dc7a505-f585-42ed-889d-00776d6697ba",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e9a28fbb-9c99-46de-981e-c8ea3cd2c1a3",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "1d5a68b51c1ad283b6c1fb1852648f43ab772c0d8e1eec394e711af2d6ac4e70",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6d5fe4a0-e80f-4145-82a0-0a931535018f",
                "node_type": "1",
                "metadata": {},
                "hash": "ed3c517abad3985b82b8fae0282e981811cbbe9aefb79882d1deeda62a338aba",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon seo soyeong jeong and jong c park 2023 improving zeroshot reader by reducing distractions from irrelevant documents in opendomain question answering in findings of the association for mimetype textplain start_char_idx 156803 end_char_idx 161878 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f7e5393114d344afa7bba9bbc249a77a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 57de619b9f5f424e9e2ae59c7def7ce8 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6eebf9d9ee572dd289fee667964bf99439ea3c20fed36b9dd205f64c4e541f5a class_name relatednodeinfo  3  node_id ce83e21d2f8d4effa055c09e67927d65 node_type 1 metadata  hash 633879c30da9b5e1741fd7c52e590be06be246f562f14ffbfc27e14f32056dfd class_name relatednodeinfo   text eric sigler mateusz litwin scott gray benjamin chess jack clark christopher berner sam mccandlish alec radford ilya sutskever and dario amodei 2020 language models are fewshot learners in ad vances in neural information processing systems 33 annual conference on neural information process ing systems 2020 neurips 2020 december 612 2020 virtual danqi chen adam fisch jason weston and antoine bordes 2017 reading wikipedia to answer open domain questions in proceedings of the 55th annual meeting of the association for computational lin guistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 18701879 association for computational linguistics sukmin cho jeongyeon seo soyeong jeong and jong c park 2023 improving zeroshot reader by reducing distractions from irrelevant documents in opendomain question answering in findings of the association for computational linguistics emnlp 2023 singapore december 610 2023 pages 3145 3157 association for computational linguistics hyung won chung le hou shayne longpre barret zoph yi tay william fedus eric li xuezhi wang mostafa dehghani siddhartha brahma albert web son shixiang shane gu zhuyun dai mirac suz gun xinyun chen aakanksha chowdhery sharan mimetype textplain start_char_idx 0 end_char_idx 4873 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 6b9ff72804ae4cff9bd847e38a1d0359 embedding null metadata page_label 11 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id bb080a648bb94ed1892b066eb7fed56c node_type 4 metadata page_label 11 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 107987f8b7f01cdecb07c1296485ce34918d5882bcc9ba95c8ed1460690913db class_name relatednodeinfo text narang gaurav mishra adams yu vincent y zhao yanping huang andrew m dai hongkun yu slav petrov ed h chi jeff dean jacob devlin adam roberts denny zhou quoc v le and jason wei 2022 scaling instructionfinetuned language models arxiv preprint arxiv221011416 xanh ho anhkhoa duong nguyen saku sugawara and akiko aizawa 2020 constructing a multihop qa dataset for comprehensive evaluation of reason ing steps in proceedings of the 28th international conference on computational linguistics coling 2020 barcelona spain online december 813 2020 pages 66096625 international committee on computational linguistics gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open do main question answering in proceedings of the 16th conference of the european chapter of the associ ation for computational linguistics main volume eacl 2021 online april 19",
        "mimetype": "text/plain",
        "start_char_idx": 312417,
        "end_char_idx": 317685,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6d5fe4a0-e80f-4145-82a0-0a931535018f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4dc7a505-f585-42ed-889d-00776d6697ba",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4afc01b605dc98aea2ea65471bb07e9813262cda91d12ceb6957db533477cabf",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "5123fb2c-3348-44bb-8cdf-cd2c6334ab8e",
                "node_type": "1",
                "metadata": {},
                "hash": "50eed94427126e76857e3b999655394136e6b9b5726bfed0e9c219fe28d9946c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "zhao yanping huang andrew m dai hongkun yu slav petrov ed h chi jeff dean jacob devlin adam roberts denny zhou quoc v le and jason wei 2022 scaling instructionfinetuned language models arxiv preprint arxiv221011416 xanh ho anhkhoa duong nguyen saku sugawara and akiko aizawa 2020 constructing a multihop qa dataset for comprehensive evaluation of reason ing steps in proceedings of the 28th international conference on computational linguistics coling 2020 barcelona spain online december 813 2020 pages 66096625 international committee on computational linguistics gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open do main question answering in proceedings of the 16th conference of the european chapter of the associ ation for computational linguistics main volume eacl 2021 online april 19 23 2021 pages 874 880 association for computational linguistics gautier izacard patrick s h lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave 2023 atlas fewshot learning with retrieval augmented language models j mach learn res 24251125143 soyeong jeong jinheon baek sukmin cho sung ju hwang and jong park 2023 testtime selfadaptive small language models for question answering in findings of the association for computational lin guistics emnlp 2023 singapore december 610 2023 pages 1545915469 association for computa tional linguistics zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig 2023 active retrieval augmented generation in emnlp 2023 mandar joshi eunsol choi daniel s weld and luke zettlemoyer 2017 triviaqa a large scale distantly supervised challenge dataset for reading comprehen sion in proceedings of the 55th annual meeting of the association for computational linguistics acl 2017 vancouver canada july 30 august 4 volume 1 long papers pages 16011611 association for computational linguistics vladimir karpukhin barlas oguz sewon min patrick s h lewis ledell wu sergey edunov danqi chen and wentau yih 2020 dense passage retrieval for opendomain question answering in proceedings of the 2020 conference on empirical methods in natu ral language processing emnlp 2020 november 1620 2020 association for computational linguis tics jungo kasai keisuke sakaguchi yoichi takahashi ro nan le bras akari asai xinyan yu dragomir r radev noah a smith yejin choi and kentaro inui2022 realtime qa whats the answer right now arxiv preprint arxiv220713332 omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023 openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins mimetype textplain start_char_idx 54892 end_char_idx 60329 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ mimetype textplain start_char_idx 161006 end_char_idx 166491 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ ce83e21d2f8d4effa055c09e67927d65 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id f7e5393114d344afa7bba9bbc249a77a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 9de6788cf07f567b7f2450403be03fba95f5878fb335b644c8a3b0716c448600 class_name relatednodeinfo  3  node_id 0ebf52ad36644c259c4d360d88235f05 node_type 1 metadata  hash 200df3b5f5c6d255247b338a9a4c39014c028eb6b95a5f9b4f2bfa21e301a46f class_name relatednodeinfo   text preprint arxiv220713332 omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the",
        "mimetype": "text/plain",
        "start_char_idx": 316843,
        "end_char_idx": 322020,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5123fb2c-3348-44bb-8cdf-cd2c6334ab8e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6d5fe4a0-e80f-4145-82a0-0a931535018f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b5453539a89e5e20305ce8394f511029ab1296e3ab347848384d1e7c104f42fb",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c6ae6be2-5530-4048-92bd-a3e0c787b0f7",
                "node_type": "1",
                "metadata": {},
                "hash": "3b4e6dd7be2c1ba8a9355afd7724bc32f1887c745a5e3cc252b0908fb1bedd5a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "3  node_id 0ebf52ad36644c259c4d360d88235f05 node_type 1 metadata  hash 200df3b5f5c6d255247b338a9a4c39014c028eb6b95a5f9b4f2bfa21e301a46f class_name relatednodeinfo   text preprint arxiv220713332 omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023 openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins mimetype textplain start_char_idx 54892 end_char_idx 60329 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ cafdfcb2aabc40e798b320edab733985 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id fd2da238abaf48afba858bfd36638aef node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 829602fcdc6fb8ed0a6e8ede23a1b881064f0ebcd2574c0678b6a82d2975012f class_name relatednodeinfo 3 node_id 446978c1bc474624af775a421736246a node_type 1 metadata hash 8c03eece305a03bc92e67dc8f195f989871ede84d14aacd3ca8743de92902f3d class_name relatednodeinfo text xinyan yu dragomir r radev noah a smith yejin choi and kentaro inui2022 realtime qa whats the answer right now arxiv preprint arxiv220713332 omar khattab keshav santhanam xiang lisa li david hall percy liang christopher potts and matei zaharia 2022 demonstratesearch predict composing retrieval and language mod els for knowledgeintensive nlp arxiv preprint arxiv221214024 abs221214024 tushar khot harsh trivedi matthew finlayson yao fu kyle richardson peter clark and ashish sab harwal 2023 decomposed prompting a modular approach for solving complex tasks in the eleventh international conference on learning representa tions iclr 2023 kigali rwanda may 15 2023 openreviewnet tom kwiatkowski jennimaria palomaki olivia red field michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin ken ton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natu ral questions a benchmark for question answering research transactions of the association for compu tational linguistics 7452466 angeliki lazaridou elena gribovskaya wojciech stokowiec and nikolai grigorev 2022 internet augmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115 belinda z li sewon min srinivasan iyer yashar mehdad and wentau yih 2020 efficient onepass endtoend entity linking for questions in proceed ings of the 2020 conference on empirical methods in natural language processing emnlp 2020 online november 1620 2020 pages 64336441 associa tion for computational linguistics ilya loshchilov and frank hutter 2019 decoupled weight decay regularization in 7th international conference on learning representations iclr 2019 new orleans la usa may 69 2019 openre viewnet alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi 2023 when not to trust language models investigating effectiveness of parametric and nonparametric mem ories in proceedings of the 61st annual meeting of the association for computational linguistics vol ume 1 long papers acl 2023 toronto canada july 914 2023 pages 98029822 association for computational linguistics openai 2023 gpt4 technical report arxiv preprint arxiv230308774 adam paszke sam gross francisco massa adam lerer james bradbury gregory chanan trevor killeen zeming lin natalia gimelshein luca antiga alban desmaison andreas ku00f6pf edward z mimetype textplain start_char_idx 0 end_char_idx 4905 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fe1def8a3bd84a5d90950397c338e0e1 embedding null metadata page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size",
        "mimetype": "text/plain",
        "start_char_idx": 321403,
        "end_char_idx": 326429,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c6ae6be2-5530-4048-92bd-a3e0c787b0f7",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "5123fb2c-3348-44bb-8cdf-cd2c6334ab8e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e9c18b3679bf4a25e69b14c7b73aba190239597fc44f7b3acbd292b77b63fe32",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "93a32f54-b297-407c-8d17-d9371a6437e0",
                "node_type": "1",
                "metadata": {},
                "hash": "afbface60821abf590df591961ce61764fb5aed9531845363cec27c9989db041",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "papers acl 2023 toronto canada july 914 2023 pages 98029822 association for computational linguistics openai 2023 gpt4 technical report arxiv preprint arxiv230308774 adam paszke sam gross francisco massa adam lerer james bradbury gregory chanan trevor killeen zeming lin natalia gimelshein luca antiga alban desmaison andreas ku00f6pf edward z mimetype textplain start_char_idx 0 end_char_idx 4905 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fe1def8a3bd84a5d90950397c338e0e1 embedding null metadata page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id f4fbd1a4610846e29507c202bff7cc42 node_type 4 metadata page_label 12 file_name adaptiveragpdf file_path mimetype textplain start_char_idx 165692 end_char_idx 170808 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0ebf52ad36644c259c4d360d88235f05 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id ce83e21d2f8d4effa055c09e67927d65 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 70dfd84eaa698579f7a44b2e03cb84bd34bf197d242d44859d1ba5e76be517eb class_name relatednodeinfo  3  node_id 5812f1a90db14705be2d4fc93febeb24 node_type 1 metadata  hash e4f233c4c89aaede894d308813165962740272147b885f945ff02e68a267725d class_name relatednodeinfo   text trevor killeen zeming lin natalia gimelshein luca antiga alban desmaison andreas ku00f6pf edward z mimetype textplain start_char_idx 0 end_char_idx 4905 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fe1def8a3bd84a5d90950397c338e0e1 embedding null metadata page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id f4fbd1a4610846e29507c202bff7cc42 node_type 4 metadata page_label 12 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 5dee5eae552d28ff34d2c92383cdb36304f9601681fdb1c57d774ea176b9e217 class_name relatednodeinfo text yang zachary devito martin raison alykhan te jani sasank chilamkurthy benoit steiner lu fang junjie bai and soumith chintala 2019 pytorch an imperative style highperformance deep learning li brary in advances in neural information processing systems 32 annual conference on neural informa tion processing systems 2019 pages 80248035 jayr alencar pereira robson do nascimento fidalgo roberto de alencar lotufo and rodrigo frassetto nogueira 2023 visconde multidocument qa with gpt3 and neural reranking in advances in informa tion retrieval 45th european conference on infor mation retrieval ecir 2023 dublin ireland april 26 2023 proceedings part ii volume 13981 of lecture notes in computer science pages 534543 springer ofir press muru zhang sewon min ludwig schmidt noah a smith and mike lewis 2023 measuring and narrowing the compositionality gap in language models in findings of the association for computa tional linguistics emnlp 2023 peng qi haejun lee tg sido and christopher d man ning 2021 answering opendomain questions of varying reasoning steps from text in proceedings of the 2021 conference on empirical methods in natural language processing emnlp 2021 vir tual event punta cana dominican republic 711 november 2021 pages 35993614 association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the",
        "mimetype": "text/plain",
        "start_char_idx": 325698,
        "end_char_idx": 330760,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "93a32f54-b297-407c-8d17-d9371a6437e0",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c6ae6be2-5530-4048-92bd-a3e0c787b0f7",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2fb05d2778f7dd9d1c4a35a8fd7bb9f81658d7839de13e269f5b048451821b92",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "5bca1016-990d-4de4-a57a-194d6e14033a",
                "node_type": "1",
                "metadata": {},
                "hash": "039cbec7a42170715d1b3ef184e5dd494f0611328ba0edf0015ff936bc5492ca",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "the compositionality gap in language models in findings of the association for computa tional linguistics emnlp 2023 peng qi haejun lee tg sido and christopher d man ning 2021 answering opendomain questions of varying reasoning steps from text in proceedings of the 2021 conference on empirical methods in natural language processing emnlp 2021 vir tual event punta cana dominican republic 711 november 2021 pages 35993614 association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016 pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham 2023 incontext retrievalaugmented lan guage models transactions of the association for computational linguistics stephen e robertson mimetype textplain start_char_idx 59583 end_char_idx 65022 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 446978c1bc474624af775a421736246a embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id cafdfcb2aabc40e798b320edab733985 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 994d0219f0e5cca43934a3ff141850c124c1ab76a71d73fa39bf0d09454403b8 class_name relatednodeinfo 3 node_id 4f3ae93a3b0a41c18703c3ecfbc315c7 node_type 1 metadata hash c4254537f97317f61c97ab381c4f0a86ca107923736a8a2ef2ef4e0aa55811eb class_name relatednodeinfo text association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016 pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav mimetype textplain start_char_idx 170081 end_char_idx 175255 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5812f1a90db14705be2d4fc93febeb24 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0ebf52ad36644c259c4d360d88235f05 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash edf7a7cda11ad21af40a5b266d74d94d1cc972818af5a4caf561d48214dfe047 class_name relatednodeinfo  3  node_id 5e4e754ec26c43fa9dc248ca6d94020a node_type 1 metadata  hash 79e1c57e496d8cf4341ed03166843640b9e6bacc01b1816e1c6ec15366af27b7 class_name relatednodeinfo   text class_name relatednodeinfo text association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext",
        "mimetype": "text/plain",
        "start_char_idx": 329917,
        "end_char_idx": 334915,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5bca1016-990d-4de4-a57a-194d6e14033a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "93a32f54-b297-407c-8d17-d9371a6437e0",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "93278299d6628d85aa925bd179ecd74441852231af8cfaf5a68796e8e73e2156",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b3d0ae05-b21f-48c2-9c59-956f02065dd8",
                "node_type": "1",
                "metadata": {},
                "hash": "9d61231a30ee1b502637fb3aa0d82b7b37a884d1435ba459443b1b4ad18a3500",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "938164 creation_date 20241015 last_modified_date 20241021  hash edf7a7cda11ad21af40a5b266d74d94d1cc972818af5a4caf561d48214dfe047 class_name relatednodeinfo  3  node_id 5e4e754ec26c43fa9dc248ca6d94020a node_type 1 metadata  hash 79e1c57e496d8cf4341ed03166843640b9e6bacc01b1816e1c6ec15366af27b7 class_name relatednodeinfo   text class_name relatednodeinfo text association for computational linguistics colin raffel noam shazeer adam roberts katherine lee sharan narang michael matena yanqi zhou wei li and peter j liu 2020 exploring the limits of transfer learning with a unified texttotext trans former j mach learn res 21140114067 pranav rajpurkar jian zhang konstantin lopyrev and percy liang 2016 squad 100 000 questions for machine comprehension of text in proceedings of the 2016 conference on empirical methods in natural language processing emnlp 2016 austin texas usa november 14 2016 pages 23832392 the association for computational linguistics ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham 2023 incontext retrievalaugmented lan guage models transactions of the association for computational linguistics stephen e robertson steve walker susan jones micheline hancockbeaulieu and mike gatford 1994 okapi at trec3 in proceedings of the third text retrieval conference trec 1994 gaithers burg maryland usa november 24 1994 volume 500225 of nist special publication pages 109 126 national institute of standards and technology nist weijia shi sewon min michihiro yasunaga min joon seo rich james mike lewis luke zettle moyer and wentau yih 2023 replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652 hugo touvron louis martin kevin stone peter al bert amjad almahairi yasmine babaei nikolay bashlykov soumya batra prajjwal bhargava shruti bhosale dan bikel lukas blecher cristian canton ferrer moya chen guillem cucurull david esiobu jude fernandes jeremy fu wenyin fu brian fuller cynthia gao vedanuj goswami naman goyal an thony hartshorn saghar hosseini rui hou hakan inan marcin kardas viktor kerkez madian khabsa isabel kloumann artem korenev punit singh koura marieanne lachaux thibaut lavril jenya lee di ana liskovich yinghai lu yuning mao xavier mar tinet todor mihaylov pushkar mishra igor moly bog yixin nie andrew poulton jeremy reizen stein rashi rungta kalyan saladi alan schelten ruan silva eric michael smith ranjan subrama nian xiaoqing ellen tan binh tang ross tay lor adina williams jian xiang kuan puxin xu zheng yan iliyan zarov yuchen zhang angela fan melanie kambadur sharan narang auru00e9lien ro driguez robert stojnic sergey edunov and thomas scialom 2023 llama 2 open foundation and fine tuned chat models arxiv preprint arxiv230709288 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2022a musique multi hop questions via singlehop question composition trans assoc comput linguistics 10539554 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2022b musique multi hop questions via singlehop question composition transactions of the association for computational linguistics 10539554 harsh trivedi niranjan balasubramanian tushar khot and ashish sabharwal 2023 interleaving retrieval with chainofthought reasoning for knowledge intensive multistep questions in proceedings of the 61st annual meeting of the association for com putational linguistics volume 1 long papers acl 2023 toronto canada july 914 2023 pages 1001410037 association for computational lin guistics jason wei yi tay rishi bommasani colin raffel barret zoph sebastian borgeaud dani yogatama maarten bosma denny zhou donald metzler ed h chi tatsunori hashimoto oriol vinyals percy liang jeff dean and william fedus 2022a emer gent abilities of large language models trans mach learn res 2022 jason wei xuezhi wang dale schuurmans maarten bosma brian ichter fei xia ed h chi quoc v le and denny zhou 2022b chainofthought prompt ing elicits reasoning in large language models in neurips thomas wolf lysandre debut victor sanh julien chaumond clement delangue anthony moi pier ric cistac tim rault ru00e9mi louf morgan funtowicz mimetype textplain start_char_idx 0 end_char_idx 5048 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b8e943c3ccc14104b4baf91f487c1cd7 embedding null metadata page_label 13 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 6dde4955a4134134bec7e198e288531d node_type 4 metadata page_label 13 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 334326,
        "end_char_idx": 339283,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b3d0ae05-b21f-48c2-9c59-956f02065dd8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "5bca1016-990d-4de4-a57a-194d6e14033a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4db345b21dcff1fb2f4fe3312cc244e637dca9641695a8e93fcef61c2c0e05b8",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4df3baea-8c62-47d8-998d-c70ec9291ef7",
                "node_type": "1",
                "metadata": {},
                "hash": "75efe92ca67ad248e02556b95e0795c4eedb001e063d8ea6c5420b5bbfef4fb9",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b8e943c3ccc14104b4baf91f487c1cd7 embedding null metadata page_label 13 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 6dde4955a4134134bec7e198e288531d node_type 4 metadata page_label 13 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe class_name relatednodeinfo text joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020 demos pages 38 45 association for computational linguistics lee xiong chenyan mimetype textplain mimetype textplain start_char_idx 174538 end_char_idx 179716 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5e4e754ec26c43fa9dc248ca6d94020a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 5812f1a90db14705be2d4fc93febeb24 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 0de605370515986403448602dad895dfeea96349c1f5f800272c181ecc138b48 class_name relatednodeinfo  3  node_id 101f4b05222b40f78410f6b9e3f5080c node_type 1 metadata  hash b48d228b08e55280de3675bbdc66848c2f76932a5c9cf20027fab1d196303595 class_name relatednodeinfo   text file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe class_name relatednodeinfo text joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020 demos pages 38 45 association for computational linguistics lee xiong chenyan mimetype textplain start_char_idx 64199 end_char_idx 69336 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 4f3ae93a3b0a41c18703c3ecfbc315c7 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 446978c1bc474624af775a421736246a node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 29cf27b73fa6efe7e0fa73028fc78f74a19da5db32c48fa3508bf56d34ae7199 class_name relatednodeinfo 3 node_id f25a545ee29e48af9fe7e3b7f899aab6 node_type 1 metadata hash 3543abc946307164f863b28ddbac660400ddf45b94953058ccaac0382c78b34e class_name relatednodeinfo text file_type applicationpdf file_size 577416 creation_date",
        "mimetype": "text/plain",
        "start_char_idx": 338527,
        "end_char_idx": 343315,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4df3baea-8c62-47d8-998d-c70ec9291ef7",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b3d0ae05-b21f-48c2-9c59-956f02065dd8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5ce73fd955ce885d228f07266d88a790d8b113df1e6f3de0d03f426dd9aea2c1",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2d44792a-9820-4f2b-ae23-cd83c3bf50a1",
                "node_type": "1",
                "metadata": {},
                "hash": "6585a18e65680f9c88f8d78faf6bae8c9748901558a332687357c35f15d3f698",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "relatednodeinfo 2 node_id 446978c1bc474624af775a421736246a node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 29cf27b73fa6efe7e0fa73028fc78f74a19da5db32c48fa3508bf56d34ae7199 class_name relatednodeinfo 3 node_id f25a545ee29e48af9fe7e3b7f899aab6 node_type 1 metadata hash 3543abc946307164f863b28ddbac660400ddf45b94953058ccaac0382c78b34e class_name relatednodeinfo text file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 2c76ac03a4c64e1af926a99a70667180a42b41264d788a21d70cf7b04ce835fe class_name relatednodeinfo text joe davison sam shleifer patrick von platen clara ma yacine jernite julien plu canwen xu teven le scao sylvain gugger mariama drame quentin lhoest and alexander m rush 2020 transform ers stateoftheart natural language processing in proceedings of the 2020 conference on empirical methods in natural language processing system demonstrations emnlp 2020 demos pages 38 45 association for computational linguistics lee xiong chenyan xiong ye li kwokfung tang jialin liu paul n bennett junaid ahmed and arnold overwijk 2021 approximate nearest neigh bor negative contrastive learning for dense text re trieval in 9th international conference on learning representations iclr 2021 virtual event austria may 37 2021 openreviewnet wei yang yuqing xie aileen lin xingyu li luchen tan kun xiong ming li and jimmy lin 2019 endtoend opendomain question answering with bertserini in proceedings of the 2019 conference of the north american chapter of the association for computational linguistics human language technologies naaclhlt 2019 minneapolis mn usa june 27 2019 demonstrations pages 7277 association for computational linguistics zhilin yang peng qi saizheng zhang yoshua bengio william cohen ruslan salakhutdinov and christo pher d manning 2018 hotpotqa a dataset for diverse explainable multihop question answering inproceedings of the 2018 conference on empiri cal methods in natural language processing pages 23692380 brussels belgium association for com putational linguistics shunyu yao jeffrey zhao dian yu nan du izhak shafran karthik r narasimhan and yuan cao 2023 react synergizing reasoning and acting in language models in the eleventh international conference on learning representations iclr 2023 kigali rwanda may 15 2023 openreviewnet fengbin zhu wenqiang lei chao wang jianming zheng soujanya poria and tatseng chua 2021 retrieving and reading a comprehensive survey on opendomain question answering arxiv preprint arxiv210100774 mimetype textplain start_char_idx 0 end_char_idx 1949 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e9a85a0f4e234231acd7c7b137eead7f embedding null metadata page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b4208c1c85564f1ebf298e6c25bcb784 node_type 4 metadata page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 179073 end_char_idx 184058 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 101f4b05222b40f78410f6b9e3f5080c embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 5e4e754ec26c43fa9dc248ca6d94020a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash f5696a574eb73207de6a82026d8ccdc6411cc08689291a0df85810bcb65ada8d class_name relatednodeinfo  3  node_id 356f05e94c6141f5bf76b534e077bb82 node_type 1 metadata  hash 48d7f48c5e59b3fce6cb45fe765ac4f2c74ee6807f8b3368c0f86bac394661f7 class_name",
        "mimetype": "text/plain",
        "start_char_idx": 342714,
        "end_char_idx": 347599,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2d44792a-9820-4f2b-ae23-cd83c3bf50a1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4df3baea-8c62-47d8-998d-c70ec9291ef7",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "24a53f182a73aa4df0e1372041f8e69f055b22596fcad91a5b681e6b20d31207",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "692a23ee-62ba-4e53-8206-3b657a46fddf",
                "node_type": "1",
                "metadata": {},
                "hash": "d6f7bda827f892432047b6b71abf2d507fd24d6889a91f4ba131878cb01986dd",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "2  node_id 5e4e754ec26c43fa9dc248ca6d94020a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash f5696a574eb73207de6a82026d8ccdc6411cc08689291a0df85810bcb65ada8d class_name relatednodeinfo  3  node_id 356f05e94c6141f5bf76b534e077bb82 node_type 1 metadata  hash 48d7f48c5e59b3fce6cb45fe765ac4f2c74ee6807f8b3368c0f86bac394661f7 class_name relatednodeinfo   text metadata_template key value metadata_seperator n class_name textnode id_ e9a85a0f4e234231acd7c7b137eead7f embedding null metadata page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b4208c1c85564f1ebf298e6c25bcb784 node_type 4 metadata page_label 14 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 0d3e39c992af9ce5e47c3b9a9db57d38dcd8a6eb565ef6c3ad1e6e976287b57c class_name relatednodeinfo text 0 2 4 6 8 10 time per query20304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xlfigure 4 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xl 3b as the base llm a additional experimental setups a1 datasets we use publicly open datasets for both single hop and multihop qa datasets referring to as karpukhin et al 2020 and trivedi et al 2023 respectively we describe the characteristics of each dataset 1 squad v11 rajpurkar et al 2016 is created through a process where annotators write questions based on the documents they read 2 natural questions kwiatkowski et al 2019 is constructed by real user queries on google search 3 triviaqa joshi et al 2017 comprises trivia questions sourced from various quiz websites 4 musique trivedi et al 2022a is collected by compositing multiple singlehop queries to form queries spanning 24 hops 5 hotpotqa yang et al 2018 is constructed by having annotators create questions that link multi ple wikipedia articles 6 2wikimultihopqa ho et al 2020 is derived from wikipedia and its associated knowledge graph path needing 2hops a2 models we describe the details of models as follows 1 no retrieval this approach uses only the llm itself to generate the answer to the given query 2 singlestep approach this approach first re trieves the relevant knowledge with the given query from the external knowledge sources and then aug ments the llm with this retrieved knowledge to generate the answer which iterates only once 3 adaptive retrieval this baseline mallen et al 2023 adaptively augments the llm with the re trieval module only when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xxlfigure 5 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xxl 11b as the base llm trains the llm to adaptively perform retrieval and generation where the retrieval is conducted once it predicts the special retrieval token above a certain threshold and the answer generation follows 5 adaptiverag this is our model that adap tively selects the retrievalaugmented generation strategy smoothly oscillating between the non retrieval singlestep approach and multistep ap proaches4without architectural mimetype textplain start_char_idx 68709 end_char_idx 74437 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f25a545ee29e48af9fe7e3b7f899aab6 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 4f3ae93a3b0a41c18703c3ecfbc315c7 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 6c3d46c28f72ae7daa703ddba07f8b7eab4f3475fc44e2725bedebbc97ff00d2 class_name relatednodeinfo 3 node_id",
        "mimetype": "text/plain",
        "start_char_idx": 347085,
        "end_char_idx": 352343,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "692a23ee-62ba-4e53-8206-3b657a46fddf",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2d44792a-9820-4f2b-ae23-cd83c3bf50a1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9f6f5c52777b25840d2d0993c61b6105c3f295d1f150d6a04b696e4fe311b927",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ebd11a9d-7642-498c-a15a-23a7587f5ab6",
                "node_type": "1",
                "metadata": {},
                "hash": "84ac668fc159ea0450cb7200d7090e5c0721dcb17e47843d26ef7d09ac354120",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 4f3ae93a3b0a41c18703c3ecfbc315c7 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 6c3d46c28f72ae7daa703ddba07f8b7eab4f3475fc44e2725bedebbc97ff00d2 class_name relatednodeinfo 3 node_id f5e226c1b10f42a295a24365e3dc2846 node_type 1 metadata hash 4d890db5b86c93b06825b698b99fa4dcddd77ea7183314bbcfacfeed79ae8342 class_name relatednodeinfo text only when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xxlfigure 5 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xxl 11b as the base mimetype textplain start_char_idx 183338 end_char_idx 188764 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 356f05e94c6141f5bf76b534e077bb82 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 101f4b05222b40f78410f6b9e3f5080c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 04e3d31dec21a64784d0917dd65cd219faa9f564e0e905335eb09740f7c98c0d class_name relatednodeinfo  3  node_id 4cf9876414a3499380bbdc1f4c93f416 node_type 1 metadata  hash 89baea91606590ee9d8ca59cddb510b8095ee295209206e92d5cfc5599014146 class_name relatednodeinfo   text 3 node_id f5e226c1b10f42a295a24365e3dc2846 node_type 1 metadata hash 4d890db5b86c93b06825b698b99fa4dcddd77ea7183314bbcfacfeed79ae8342 class_name relatednodeinfo text only when the entities appearing in queries are less popular to extract entities we use the available entitylinking method li et al 2020 namely blink for questions 4 selfrag this baseline asai et al 2024 00 05 10 15 20 25 30 35 40 time per query304050performance f1 no retrieval singlestep approach adaptive retrieval multistep approach adaptiverag oursperformance vs time with flant5xxlfigure 5 qa performance f1 and efficiency timequery for different retrievalaugmented generation approaches we use the flant5xxl 11b as the base llm trains the llm to adaptively perform retrieval and generation where the retrieval is conducted once it predicts the special retrieval token above a certain threshold and the answer generation follows 5 adaptiverag this is our model that adap tively selects the retrievalaugmented generation strategy smoothly oscillating between the non retrieval singlestep approach and multistep ap proaches4without architectural changes based on the query complexity assessed by the classifier 6 multistep approach this approach trivedi et al 2023 is the multistep retrievalaugmented llm which iteratively accesses both the retriever and llm with interleaved chainofthought rea soning wei et al 2022b repeatedly until it derives the solution or reaches the maximum step number 7 adaptiverag w oracle this is an ideal sce nario of our adaptiverag equipped with an or acle classifier that perfectly categorizes the query complexity a3 implementation details for computing resources we use a100 gpus with 80gb memory in addition due to the sig nificant costs associated with evaluating retrieval augmented generation models we perform experi ments with a single run finally we implemented models using pytorch paszke et al 2019 and transformers library wolf et al 2020 b additional experimental results performance vs time we further provide a com parison of different retrievalaugmented genera tion approaches with flant5xl and flant5 xxl models in figure 4 and figure 5 respectively in the context of performance and efficiency trade offs similar to the observation made from the gpt 35 model in figure 1 our proposed adaptiverag is significantly more effective as well as efficient 4for the multistep approach we use the stateoftheart question answering strategy from ircot trivedi et al 2023 mimetype textplain start_char_idx 0 end_char_idx 4030",
        "mimetype": "text/plain",
        "start_char_idx": 351779,
        "end_char_idx": 356977,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ebd11a9d-7642-498c-a15a-23a7587f5ab6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "692a23ee-62ba-4e53-8206-3b657a46fddf",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "0738b1062c1fb7ad45d5adfd48df853133ace22600030a42a360ff21a5b5fb4e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a9f6a312-8be0-4d20-a77f-710098bc99f2",
                "node_type": "1",
                "metadata": {},
                "hash": "df631068ae5f83b5796fbf25d308470a31b8b6bff032531aebbf78edeb4bdbf5",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "classifier that perfectly categorizes the query complexity a3 implementation details for computing resources we use a100 gpus with 80gb memory in addition due to the sig nificant costs associated with evaluating retrieval augmented generation models we perform experi ments with a single run finally we implemented models using pytorch paszke et al 2019 and transformers library wolf et al 2020 b additional experimental results performance vs time we further provide a com parison of different retrievalaugmented genera tion approaches with flant5xl and flant5 xxl models in figure 4 and figure 5 respectively in the context of performance and efficiency trade offs similar to the observation made from the gpt 35 model in figure 1 our proposed adaptiverag is significantly more effective as well as efficient 4for the multistep approach we use the stateoftheart question answering strategy from ircot trivedi et al 2023 mimetype textplain start_char_idx 0 end_char_idx 4030 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ cfe597d561d74f208d7c9932ed0514ad embedding null metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id fd141d5f1a6648ca84df8ea27b6e8721 node_type 4 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo 3 node_id 4bfd003ab7894e8bae43f2c08e7544c0 node_type 1 metadata hash 753e2ee125f0bba852233e143c5ba5b6cdc6b38d8d1219e4be7b16df7ee2650d class_name relatednodeinfo text table 7 results on each of a collection of datasets with flant5xxl 11b as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 700 1440 840 000 008 1880 2550 2040 000 008 3280 3920 3540 000 008 singlestep approach 2880 4080 3500 100 100 4140 5120 4760 100 100 5600 6470 6180 100 100 adaptiveadaptive retrieval 1560 2560 2000 050 054 3100 3970 3500 050 054 4480 5220 4860 050 054 selfrag160 1190 2080 059 031 3920 4710 4240 075 009 1460 3370 6020 076 022 adaptiverag ours 2780 3980 3400 117 150 4120 5100 4740 100 100 5200 6030 5720 103 133 complex multistep approach 2460 3690 3020 213 383 3960 4960 4640 216 394 5260 6110 5940 217 403 oracle adaptiverag w oracle 3280 4690 3820 085 094 5120 6100 5700 071 091 6340 7130 6820 051 060 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050 054 3520 4268 3680 050 054 selfrag120 820 1180 068 027 560 mimetype textplain start_char_idx 188064 end_char_idx 192901 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4cf9876414a3499380bbdc1f4c93f416 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 356f05e94c6141f5bf76b534e077bb82 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash ad364a1d898a6ec2399ccb96abe14fb77ee0d8326179b873640477c4b5969821 class_name",
        "mimetype": "text/plain",
        "start_char_idx": 356002,
        "end_char_idx": 360503,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a9f6a312-8be0-4d20-a77f-710098bc99f2",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ebd11a9d-7642-498c-a15a-23a7587f5ab6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "cef56969eb486e7edb5baaf2ba6424a2339096865de50452dd1a49653aa93520",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a12d75b1-1b15-4917-ab05-8c523a558599",
                "node_type": "1",
                "metadata": {},
                "hash": "0ae5f5941a4dd2e9ade6948c3a8902553bb5f447b2348e7c6208eb838615b8fc",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 356f05e94c6141f5bf76b534e077bb82 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash ad364a1d898a6ec2399ccb96abe14fb77ee0d8326179b873640477c4b5969821 class_name relatednodeinfo  3  node_id b3f519fcaa084c2e995500ed75aec75f node_type 1 metadata  hash 54d3d3bdd616b475e5ac67d570429aff6a1aa69b43838c62985bcf236cab993e class_name relatednodeinfo   text 5120 6100 5700 071 091 6340 7130 6820 051 060 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050 054 3520 4268 3680 050 054 selfrag120 820 1180 068 027 560 1786 3060 076 026 300 1914 3900 090 025 adaptiverag ours 2060 2850 2320 189 312 4420 5478 4680 158 253 4760 5736 5400 mimetype textplain start_char_idx 73488 end_char_idx 78288 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f5e226c1b10f42a295a24365e3dc2846 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id f25a545ee29e48af9fe7e3b7f899aab6 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 10e59500de4478d4822cf570febb0e7aefb00fbd98f96654935fa19c7e1ec130 class_name relatednodeinfo 3 node_id f17c6f054ab74addb43aa05ef87e49ed node_type 1 metadata hash 8f6d33c2cf93500f5358285f1fab427a596c3e12c093863c632385c48bb4d8a7 class_name relatednodeinfo text retrieval 420 1340 540 000 008 1740 2544 1840 000 009 2680 3293 2800 000 008 singlestep approach 1680 2570 1920 100 100 3760 4927 3960 100 100 4660 5413 4820 100 100 adaptiveadaptive retrieval 840 1780 1020 050 054 2660 3601 2780 050 054 3520 4268 3680 050 054 selfrag120 820 1180 068 027 560 1786 3060 076 026 300 1914 3900 090 025 adaptiverag ours 2060 2850 2320 189 312 4420 5478 4680 158 253 4760 5736 5400 146 255 complex multistep approach 1940 2750 2180 209 366 4700 5781 4940 208 373 5760 6765 6400 217 363 oracle adaptiverag w oracle 2420 3720 2660 122 171 5220 6480 5460 092 133 5920 7040 6860 082 114 table 8 results on each of a collection of datasets with gpt35 turbo as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 1600 2920 2380 000 062 3980 5570 5500 000 056 6400 7560 7580 000 068 singlestep approach 1800 3380 2920 100 100 3240 4680 5480 100 100 5520 6650 6580 100 100 adaptiveadaptive retrieval 1540 3000 2440 050 081 3640 5120 5660 050",
        "mimetype": "text/plain",
        "start_char_idx": 359940,
        "end_char_idx": 363762,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a12d75b1-1b15-4917-ab05-8c523a558599",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a9f6a312-8be0-4d20-a77f-710098bc99f2",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3fc08853dc67602b1d28eda0708006aa57a9a1997a748b08208b88d6ded079f6",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b00f938d-5cd7-492f-9817-dfff4f37e85b",
                "node_type": "1",
                "metadata": {},
                "hash": "1f9770d167ec048d224f98e5f431f7f5ca2471118155203c0b78ee45b028ac54",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "2660 122 171 5220 6480 5460 092 133 5920 7040 6860 082 114 table 8 results on each of a collection of datasets with gpt35 turbo as the llm we emphasize our results in bold squad natural questions triviaqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time singlestepsimpleno retrieval 1600 2920 2380 000 062 3980 5570 5500 000 056 6400 7560 7580 000 068 singlestep approach 1800 3380 2920 100 100 3240 4680 5480 100 100 5520 6650 6580 100 100 adaptiveadaptive retrieval 1540 3000 2440 050 081 3640 5120 5660 050 078 6200 7190 7220 050 084 selfrag160 1190 2080 059 191 3920 4710 4240 075 052 1460 3370 6020 076 159 adaptiverag ours 1980 3440 3000 087 121 3680 5200 5660 068 086 6240 7380 7380 022 079 complex multistep approach 1740 3150 2620 250 324 3560 4970 5780 258 379 5480 6710 6800 230 265 oracle adaptiverag w oracle 2800 4590 3940 054 093 5000 6540 6700 028 08 7080 8100 8000 011 073 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 2040 3130 2440 000 081 3740 5104 4320 000 mimetype textplain start_char_idx 192433 end_char_idx 196085 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b3f519fcaa084c2e995500ed75aec75f embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 4cf9876414a3499380bbdc1f4c93f416 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 737a1fa201daa5daa604faa29de49838e35d083439f6e7f78d45992faa69d9ec class_name relatednodeinfo  3  node_id bbfbd476377e49679287292d85044fb6 node_type 1 metadata  hash 6f19a79ef8df88e92918f4cca5109707db63f7416afac2331fae34ebc6b64446 class_name relatednodeinfo   text 076 159 adaptiverag ours 1980 3440 3000 087 121 3680 5200 5660 068 086 6240 7380 7380 022 079 complex multistep approach 1740 3150 2620 250 324 3560 4970 5780 258 379 5480 6710 6800 230 265 oracle adaptiverag w oracle 2800 4590 3940 054 093 5000 6540 6700 028 08 7080 8100 8000 011 073 musique hotpotqa 2wikimultihopqa data types methods em f1 acc step time em f1 acc step time em f1 acc step time multistepsimpleno retrieval 2040 3130 2440 000 081 3740 5104 4320 000 074 3700 4850 4340 000 090 singlestep approach 1640 2670 2360 100 100 3960 5044 4560 100 100 4680 5769 5260 100 100 adaptiveadaptive retrieval 1880 3030 2480 050 090 3860 5070 4320 050 087 4420 5511 5060 050 095 selfrag120 820 1180 068 166 560 1786 3060 076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table mimetype textplain",
        "mimetype": "text/plain",
        "start_char_idx": 363223,
        "end_char_idx": 367005,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b00f938d-5cd7-492f-9817-dfff4f37e85b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a12d75b1-1b15-4917-ab05-8c523a558599",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ad523541355ef60f32b67bd5319134916d6ab75e87ffd29e7be18b26524cd6d7",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "71229b37-8cfc-47d0-a626-de020a8a4e8e",
                "node_type": "1",
                "metadata": {},
                "hash": "2284e51961a08c3a02080a19f3e306c54fe68f85a05f8c248e33dfba62abe817",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table mimetype textplain start_char_idx 0 end_char_idx 3427 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 4bfd003ab7894e8bae43f2c08e7544c0 embedding null metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id fd141d5f1a6648ca84df8ea27b6e8721 node_type 4 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo 2 node_id cfe597d561d74f208d7c9932ed0514ad node_type 1 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 66533e661a5f9e8c998c35319d30b917ec993d2d0cfe493ae45ab7bd16c147f1 class_name mimetype textplain start_char_idx 77878 end_char_idx 81601 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f17c6f054ab74addb43aa05ef87e49ed embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id f5e226c1b10f42a295a24365e3dc2846 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash d1ba5efbe7a3d1f57a566d017da3dcc3d489cfe747f60b246b502d98f671b911 class_name relatednodeinfo 3 node_id 124f0d68e70244f6b17af3c9a4dabca5 node_type 1 metadata hash 8b89372b714f105c30f3d75b0e9ded930f9a1e08d1e99c413b392620aa0b3362 class_name relatednodeinfo text file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 195618 end_char_idx 199649 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ bbfbd476377e49679287292d85044fb6 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id b3f519fcaa084c2e995500ed75aec75f node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 366460,
        "end_char_idx": 370900,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "71229b37-8cfc-47d0-a626-de020a8a4e8e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b00f938d-5cd7-492f-9817-dfff4f37e85b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2cd5eac7fb97f54d118deadba4da7d48dd40de1bebb5220d15931524f1e28f48",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c2d92178-6eb3-4de1-b362-3dc1c5155769",
                "node_type": "1",
                "metadata": {},
                "hash": "9ebc3e4518982fc5f43aea12bba6e57cd9ec73d1cb8a877b6bc9759ae67537c2",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id b3f519fcaa084c2e995500ed75aec75f node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6d07b37449a92ae7ec98c70e23d0e304b2bfaaa98cc3dfc66266467d4e2d6f18 class_name relatednodeinfo  3  node_id 3273df9bc44b404aa3e5ccbda2e6dac5 node_type 1 metadata  hash 5275a29b3bb55c785898ca890892ce28f810a212d1a5e6655fd7100276f1bff4 class_name relatednodeinfo   text file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash d1ba5efbe7a3d1f57a566d017da3dcc3d489cfe747f60b246b502d98f671b911 class_name relatednodeinfo 3 node_id 124f0d68e70244f6b17af3c9a4dabca5 node_type 1 metadata hash 8b89372b714f105c30f3d75b0e9ded930f9a1e08d1e99c413b392620aa0b3362 class_name relatednodeinfo text file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 5daf21599b917b292a34ca7b71a5aa7057bf331c6cd89afe60ceef7d1aecd100 class_name relatednodeinfo 2 node_id cfe597d561d74f208d7c9932ed0514ad node_type 1 metadata page_label 15 file_name adaptiveragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataadaptiveragpdf file_type applicationpdf file_size 577416 creation_date 20241015 last_modified_date 20241015 hash 66533e661a5f9e8c998c35319d30b917ec993d2d0cfe493ae45ab7bd16c147f1 class_name relatednodeinfo text 3060 076 167 300 1914 3900 090 181 adaptiverag ours 2180 3260 2960 190 229 4040 5256 4700 093 148 4660 6009 5680 159 223 complex multistep approach 2300 3250 3160 341 361 4580 5836 5220 273 318 5220 6608 6240 336 335 oracle adaptiverag w oracle 2960 4470 3560 090 145 5560 6990 6280 054 108 5220 6990 6660 065 121 performance per dataset in addition to detail ing the performance of each dataset with the flan t5xl model as shown in table 2 we also present the results for each dataset with the flant5 xxl and gpt35 models in table 2 and table 8 respectively the experimental results show that our adaptiverag consistently balances between efficiency and accuracy it is worth noting that while the gpt35 model performs effectively in addressing straightforward queries even without document retrieval it benefits significantly from our adaptiverag in terms of effectiveness when solving complex multihop queries mimetype textplain start_char_idx 2896 end_char_idx 3807 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5852840ea35e4cffaad25268e15c70ca embedding null metadata page_label 1 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8cd000237fd54223983eb23a51523e63 node_type 4 metadata page_label 1 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 2ccf488eee56df61048e0b929bbf35d5d33da60b4cbafe5c96728dca051a3e1a class_name relatednodeinfo text preprint under review raft adapting language model to domain specific rag tianjun zhang department of computer science uc berkeley berkeley ca 94720 usa tianjunzberkeleyedushishir g patil naman jain sheng shen department of computer science uc berkeley berkeley ca 94720 usa shishirpatilnaman_jainshengsberkeleyedu matei zaharia ion stoica joseph e gonzalez department of computer science uc berkeley berkeley ca 94720 usa mateiistoicajegonzalberkeleyedu abstract pretraining large language models llms on large corpora of textual data is now a standard paradigm when using these llms for many downstream applications it is common to additionally incorporate new in formation into the pretrained model either through ragbasedprompting or finetuning however the best methodology to incorporate information remains an open question in this paper we present retrieval augmented fine tuning raft a training recipe which improves the models ability to answer questions in openbook indomain settings in training raft given a question and a set of retrieved documents we train the model to ignore those documents that dont help in answering the question which we call distractor documents raft accomplishes this by citing verbatim the",
        "mimetype": "text/plain",
        "start_char_idx": 370302,
        "end_char_idx": 375143,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c2d92178-6eb3-4de1-b362-3dc1c5155769",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "71229b37-8cfc-47d0-a626-de020a8a4e8e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4f4c35aba945d52d89cbf966e81e3686019684dc4045a0a9986e2362e3f1fc7e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0ae6fb09-2d0c-453d-9ec5-f0504a20963c",
                "node_type": "1",
                "metadata": {},
                "hash": "0514411d76bbcc713ffbbe7dde4e4dc6d1631ebd326a306f7ea976ffcaf3beef",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "department of computer science uc berkeley berkeley ca 94720 usa shishirpatilnaman_jainshengsberkeleyedu matei zaharia ion stoica joseph e gonzalez department of computer science uc berkeley berkeley ca 94720 usa mateiistoicajegonzalberkeleyedu abstract pretraining large language models llms on large corpora of textual data is now a standard paradigm when using these llms for many downstream applications it is common to additionally incorporate new in formation into the pretrained model either through ragbasedprompting or finetuning however the best methodology to incorporate information remains an open question in this paper we present retrieval augmented fine tuning raft a training recipe which improves the models ability to answer questions in openbook indomain settings in training raft given a question and a set of retrieved documents we train the model to ignore those documents that dont help in answering the question which we call distractor documents raft accomplishes this by citing verbatim the right sequence from the relevant document to help answer the question this coupled with rafts chainofthoughtstyle response helps improve the models ability to reason in domain specific rag raft consistently improves the models performance across pubmed hotpotqa and gorilla datasets presenting a posttraining recipe to improve pretrained llms to indomain rag 1 introduction trained on vast quantities of public data large language models llms have achieved significant advances in a wide range of general knowledge reasoning tasks brown et al 2020 wei et al 2022 however increasingly llms are being employed in specialized domains to support tasks ranging from code completion for specific software frameworks to question answering on specific document collections eg legal or medical documents in these settings general knowledge reasoning is less critical and instead the primary goal is to maximize accuracy based on a given set of documents indeed adapting llms to the specialized domains eg recent news enterprise private documents or program resources constructed after the training cutoff is essential to many emerging applications vu et al 2023 lazaridou et al 2022 and is the focus of this work this paper studies the following question how do we adapt pretrained llms for retrieval augmented generation rag in specialized domains when it comes to adapting llms to specialized domains we consider the following two candidates incontext learning through retrievalaugmented generation rag and super vised finetuning rag based methods allow the llm to reference the documents when corresponding author personal website tianjunzgithubio 1arxiv240310131v2 cscl 5 jun 2024 mimetype textplain mimetype textplain start_char_idx 199169 end_char_idx 204849 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3273df9bc44b404aa3e5ccbda2e6dac5 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id bbfbd476377e49679287292d85044fb6 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash a9b8550e146970ca81137c5cc6f10ed2f09eeec26d8c06cd97ef07ad7cdbf912 class_name relatednodeinfo  3  node_id 3362b5f0f4c44f1f99e89ad81116e0af node_type 1 metadata  hash 03342b20c093802d6d966f35f41eaabd44884b6f18a1ee7bfdd3319ec9454eb4 class_name relatednodeinfo   text are being employed in specialized domains to support tasks ranging from code completion for specific software frameworks to question answering on specific document collections eg legal or medical documents in these settings general knowledge reasoning is less critical and instead the primary goal is to maximize accuracy based on a given set of documents indeed adapting llms to the specialized domains eg recent news enterprise private documents or program resources constructed after the training cutoff is essential to many emerging applications vu et al 2023 lazaridou et al 2022 and is the focus of this work this paper studies the following question how do we adapt pretrained llms for retrieval augmented generation rag in specialized domains when it comes to adapting llms to specialized domains we consider the following two candidates incontext learning through retrievalaugmented generation rag and super vised finetuning rag based methods allow the llm to reference the documents when corresponding author personal website tianjunzgithubio 1arxiv240310131v2 cscl 5 jun 2024 mimetype textplain start_char_idx 0 end_char_idx 2904 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e643ff48c6c64b23950da1f4e964f896 embedding null metadata page_label 2 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id mimetype textplain start_char_idx 81036 end_char_idx 86852 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 124f0d68e70244f6b17af3c9a4dabca5 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id",
        "mimetype": "text/plain",
        "start_char_idx": 374126,
        "end_char_idx": 380357,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0ae6fb09-2d0c-453d-9ec5-f0504a20963c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c2d92178-6eb3-4de1-b362-3dc1c5155769",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bdcd3bec53a93140316025028ea52e61dd76c0624c6a01a1e64eb1730bb7d1f6",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "dda95657-ad3c-40d3-973c-57cd5d07e27a",
                "node_type": "1",
                "metadata": {},
                "hash": "4a823f339af3de20d2eedfccb7c4455d86ae7795dda6528b55a380981a4adb33",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "null metadata page_label 2 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id mimetype textplain start_char_idx 81036 end_char_idx 86852 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 124f0d68e70244f6b17af3c9a4dabca5 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id f17c6f054ab74addb43aa05ef87e49ed node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 593cb49548f277cba152699785052de8f2bf14dbd33fef4a4d9ca1fbc26d448c class_name relatednodeinfo 3 node_id 30372efe8a7749c798ee95df68c641d0 node_type 1 metadata hash 7ec1bf985b29f1f92106d691f4b17e8c618c246cb8b4cc78292aed1470286f5c class_name relatednodeinfo text to specialized domains we consider the following two candidates incontext learning through retrievalaugmented generation rag and super vised finetuning rag based methods allow the llm to reference the documents when corresponding author personal website tianjunzgithubio 1arxiv240310131v2 cscl 5 jun 2024 mimetype textplain start_char_idx 0 end_char_idx 2904 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e643ff48c6c64b23950da1f4e964f896 embedding null metadata page_label 2 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 7ddf406210404eec9930fdfb4be8c5dc node_type 4 metadata page_label 2 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 49da6baf6dac54ab69f939ea7aa23ed9c3276eed2dc91ba05e2d3f4cffad302d class_name relatednodeinfo text preprint under review open book query answerclosed book query answerbake in knowledge at train timemodel can use external docs at test raft proposed query answerteach model to use external docs at test figure 1 how best to prepare for an exam a finetuning based approaches implement studying by either directly memorizing the input documents or answering practice qa without referencing the documents b alternatively incontext retrieval methods fail to leverage the learning opportunity afforded by the fixed domain and are equivalent to taking an openbook exam without studying in contrast our approach c raft leverages finetuning with questionanswer pairs while referencing the documents in a simulated imperfect retrieval setting thereby effectively preparing for the openbook exam setting answering questions however rag based incontext learning methods fail to leverage the learning opportunity afforded by the fixed domain setting and early access to the test documents alternatively supervised finetuning offers the opportunity to learn more general patterns in the documents and better align to end tasks and user preferences zhou et al 2023 however existing finetuning based approaches either fail to leverage the documents at test time dont incorporate rag or fail to account for the imperfections in retrieval process during training we can draw an analogy to an openbook exam existing incontext retrieval methods are equivalent to taking an openbook exam without studying alternatively existing fine tuning based approaches implement studying by either directly memorizing xiong et al 2023 the input documents or answering practice questions wang et al 2022 without referencing the documents while these approaches leverage indomain learning they fail to prepare for the openbook nature of the test setting in this paper we study how to combine instruction finetuning mimetype textplain start_char_idx 203744 end_char_idx 209815 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3362b5f0f4c44f1f99e89ad81116e0af embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id",
        "mimetype": "text/plain",
        "start_char_idx": 379545,
        "end_char_idx": 385190,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "dda95657-ad3c-40d3-973c-57cd5d07e27a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0ae6fb09-2d0c-453d-9ec5-f0504a20963c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "34d97763c9bb237e3e15b3fdfe244a80886aeb3d925f763fa321f52853479c2c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6578bfec-41bb-4d8e-acf0-b3be6bd2eefc",
                "node_type": "1",
                "metadata": {},
                "hash": "4d9b6f3416f872ff0e29a1c04762dd91ca95622bf73bd7a16bb5c370eb3b69aa",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 3273df9bc44b404aa3e5ccbda2e6dac5 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 04e1dacc70d71e865c051f068f46bed113579806038ffbe2d4b5ba09a6325544 class_name relatednodeinfo  3  node_id c742abbfc61c4a9abc9a915403a72878 node_type 1 metadata  hash 9421270a687927747ccae20c74f6dc2ee541d10f3e895b3d18944db25a4f678c class_name relatednodeinfo   text simulated imperfect retrieval setting thereby effectively preparing for the openbook exam setting answering questions however rag based incontext learning methods fail to leverage the learning opportunity afforded by the fixed domain setting and early access to the test documents alternatively supervised finetuning offers the opportunity to learn more general patterns in the documents and better align to end tasks and user preferences zhou et al 2023 however existing finetuning based approaches either fail to leverage the documents at test time dont incorporate rag or fail to account for the imperfections in retrieval process during training we can draw an analogy to an openbook exam existing incontext retrieval methods are equivalent to taking an openbook exam without studying alternatively existing fine tuning based approaches implement studying by either directly memorizing xiong et al 2023 the input documents or answering practice questions wang et al 2022 without referencing the documents while these approaches leverage indomain learning they fail to prepare for the openbook nature of the test setting in this paper we study how to combine instruction finetuning ift with retrieval aug mented generation rag we propose a novel adaptation strategy retrievalaugmented fine tuning raft raft specifically addresses the challenge of finetuning llms to both incorporate domain knowledge while also improving indomain rag performance raft aims to not only enable models to learn domainspecific knowledge through finetuning but also to ensure robustness against distracting retrieved information this is achieved by training the models to understand the dynamics between the question prompt the domainspecific documents retrieved and the right answer going back to our analogy to the open book exam our approach is analogous to studying for an openbook exam by recognizing relevant and irrelevant retrieved documents in raft we train the model to answer the question q from documents d to generate answer a where a includes chainofthought reasoning wei et al 2022 anthropic 2023 and in the presence of distractor documents dk we explain the methodology in section 3 and analyze the sensitivity to the number of distractor documents k at train and test time in section 5 raft consistently outperforms supervisedfinetuning both with and without rag across pubmed dernoncourt lee 2017 hotpot qa yang et al 2018 and huggingface hub torch hub and tensorflow hub gorilla datasets patil et al 2023 presenting a novel yet simple technique to improve pretrained llms for indomain rag our code is available at httpsgithubcomshishirpatilgorilla 2 llms for openbook exam to understand our goal better we expand on our analogy between training an llm with the realworld setting of prepararing for an exam closedbook exam a closed book exam often refers to the scenario where the llms do not have access to any additional documents or references to answer the questions during 2 mimetype textplain start_char_idx 0 end_char_idx 3679 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5814b0664e364860a2971c36a0bc5763 embedding null metadata page_label 3 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id fc064c40de094ac7acc8c76c93ea8299 node_type 4 metadata page_label 3 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 3095e2292be19d045960a06018239f5fe92d7535ff5316e4845308895c85e8ed class_name relatednodeinfo text preprint under review figure 2 overview of our raft method the topleft figure depicts our approach of adapting llms to reading solution from a set of positive and distractor documents in contrast to standard rag setup where models are trained based on the retriever outputs which is a mixture of both memorization and reading at test time all methods follow the standard rag setting provided with a topk retrieved documents in the context the exam for llms this is equivalent to the scenario for example in which the llm is used as a chatbot in this scenario the llm draws from the knowledge baked in during pretraining and supervisedfinetuning to respond to the users prompt open book exam in contrast we liken the openbook exam setting to the scenario in which the llm can refer to external sources of information eg a website or mimetype textplain start_char_idx 86029 end_char_idx 92619 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 30372efe8a7749c798ee95df68c641d0 embedding null metadata file_path",
        "mimetype": "text/plain",
        "start_char_idx": 384545,
        "end_char_idx": 390641,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6578bfec-41bb-4d8e-acf0-b3be6bd2eefc",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "dda95657-ad3c-40d3-973c-57cd5d07e27a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "408f165117d1c444ad2e73d4d093d0d6196e5403e69a1ca11cad9bf17640afef",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6e549963-2e27-4509-a044-eddb4c4f4ca1",
                "node_type": "1",
                "metadata": {},
                "hash": "940408b50b86fe8f5d2e0f6a5e74a919f38e507239be3363bff9f45df03b6794",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "adapting llms to reading solution from a set of positive and distractor documents in contrast to standard rag setup where models are trained based on the retriever outputs which is a mixture of both memorization and reading at test time all methods follow the standard rag setting provided with a topk retrieved documents in the context the exam for llms this is equivalent to the scenario for example in which the llm is used as a chatbot in this scenario the llm draws from the knowledge baked in during pretraining and supervisedfinetuning to respond to the users prompt open book exam in contrast we liken the openbook exam setting to the scenario in which the llm can refer to external sources of information eg a website or mimetype textplain start_char_idx 86029 end_char_idx 92619 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 30372efe8a7749c798ee95df68c641d0 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 124f0d68e70244f6b17af3c9a4dabca5 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 349964b4a1cb323f2f841b9f7565691d93651220e5a572e6d17a5ddfd888f735 class_name relatednodeinfo 3 node_id 1bcdec9b06064fcf8afb8306b3c96147 node_type 1 metadata hash 3dbe5f24f15277e60ab13a9ddf0700c4af854df096cac56242f992d6b483bc9c class_name relatednodeinfo text class_name relatednodeinfo mimetype textplain start_char_idx 208631 end_char_idx 214757 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c742abbfc61c4a9abc9a915403a72878 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 3362b5f0f4c44f1f99e89ad81116e0af node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 24ad6de9452168fa922479c08bad14da069067cfb514570ae361b1ccd4a04605 class_name relatednodeinfo  3  node_id 5540213b8fd54d6cab0904bef8126fe5 node_type 1 metadata  hash b4a0609ca0de872e15a1c64a7fddaf97ff69a2cbca19032251fa6aba563f3115 class_name relatednodeinfo   text node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 349964b4a1cb323f2f841b9f7565691d93651220e5a572e6d17a5ddfd888f735 class_name relatednodeinfo 3 node_id 1bcdec9b06064fcf8afb8306b3c96147 node_type 1 metadata hash 3dbe5f24f15277e60ab13a9ddf0700c4af854df096cac56242f992d6b483bc9c class_name relatednodeinfo text class_name relatednodeinfo text preprint under review figure 2 overview of our raft method the topleft figure depicts our approach of adapting llms to reading solution from a set of positive and distractor documents in contrast to standard rag setup where models are trained based on the retriever outputs which is a mixture of both memorization and reading at test time all methods follow the standard rag setting provided with a topk retrieved documents in the context the exam for llms this is equivalent to the scenario for example in which the llm is used as a chatbot in this scenario the llm draws from the knowledge baked in during pretraining and supervisedfinetuning to respond to the users prompt open book exam in contrast we liken the openbook exam setting to the scenario in which the llm can refer to external sources of information eg a website or a book chapter in such scenarios typically the llm is paired with retriever which retrieves k documents or specific segments of the document which are appended to the users prompt it is only through these documents retrieved",
        "mimetype": "text/plain",
        "start_char_idx": 389677,
        "end_char_idx": 394814,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6e549963-2e27-4509-a044-eddb4c4f4ca1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6578bfec-41bb-4d8e-acf0-b3be6bd2eefc",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2faf8569c7aa8e9af95e5bdf6981ca7ffbf734c3b544b215a33d4030adf89d47",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "236bf63d-308c-4101-b715-93bb5a862fee",
                "node_type": "1",
                "metadata": {},
                "hash": "8830ab1c1463a3d2d055648f0e04b2e5c462c8d7f7bcc9e50a29948305e8250b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "under review figure 2 overview of our raft method the topleft figure depicts our approach of adapting llms to reading solution from a set of positive and distractor documents in contrast to standard rag setup where models are trained based on the retriever outputs which is a mixture of both memorization and reading at test time all methods follow the standard rag setting provided with a topk retrieved documents in the context the exam for llms this is equivalent to the scenario for example in which the llm is used as a chatbot in this scenario the llm draws from the knowledge baked in during pretraining and supervisedfinetuning to respond to the users prompt open book exam in contrast we liken the openbook exam setting to the scenario in which the llm can refer to external sources of information eg a website or a book chapter in such scenarios typically the llm is paired with retriever which retrieves k documents or specific segments of the document which are appended to the users prompt it is only through these documents retrieved that the llm gains access to domainspecific information as a result we argue that the llms performance in these settings where it is trained as a generalpurpose llm is largely dependent on the quality of the retriever and how accurately the retriever can identify the most relevant piece of information domainspecific openbook exam in this paper we focus on the narrower but increas ingly popular domain than the general open book exam which we call the domainspecific openbook exam here we know apriori the domain in which the llm will be tested the llm can respond to the users prompt using use any and all information from this specific domain which it has been finetuned on examples of domain specific examples include enterprise documents code repositories belonging to an organization etc in all these scenarios the llm will be used to respond to the questions whose answers can be found within a collection of documents the retrieval technique itself has little to noimpact on the mechanism though it may impact the accuracy this paper studies the domainspecific openbook setting and how to adapt a pretrained llm to this specific domain including how to make it more robust to a varying number of retrieved documents and distractors 3 raft in this section we present raft a novel way of training llms for domainspecific open book exams we first introduce the classical technique of supervised finetuning followed with the key takeaways from our experiments then we introduce raft a modified version of general instruction tuning lastly we provide an overview of the experiments to expect in the later sections supervised finetuning consider the supervised finetuning sft setting for a questionanswer dataset the formulation consists of the dataset d from which a set of question q and corresponding answer a pairs are derived or already available in the classical sft setting the model is trained to improve its ability to answer the questions based on its knowledge obtained either during pretraining or during the sft training phase the model so trained can also 3 mimetype textplain start_char_idx 0 end_char_idx 3136 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fbaaee7389f2428ba0cce2caf9f28b84 embedding null metadata page_label 4 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id ed7644721bb14ce2a26f82b23ffe0b46 node_type 4 metadata page_label 4 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 52dd61275c10480377711a57a4c6d68698db46224b09c99da29df2309b846e5a class_name relatednodeinfo text preprint under review be used at testtime with retrieval augmented generation rag setting where additional documents can be introduced in the prompt to help the model answer the question this can be represented as follows train qa 0shot inference qa rag inference qda raft retrieval augmented finetuning raft presents a novel recipe to prepare fine tuning data to tailor the models for domainspecific openbook setting equivalent to in domain rag in raft we prepare the training data such that each data point contains a question q a set of documents dk and a corresponding chainofthough style answer a generated from one of the document d we differentiate between two types of documents golden documents d ie the documents from which the answer to the question can be deduced and distractor documents di that do not contain answer relevant information as an implementation detail the golden document doesnt need to be a single document but can be more than one document as is the case in hotpotqa yang et al 2018 then for pfraction of the questions qi in the dataset we retain the golden document d i along with distractor documents dk1 for 1pfraction of the questions qi in the dataset we include no golden document and only include distractor documents dk we then finetune the language model using standard supervised training sft technique training it to generate answers from the provided documents and question fig 2 illustrates the highlevel design principal for raft we demonstrate that our rag approach trains the model to perform better rag on the set of documents it is trained on ie indomain by removing the golden documents in some instances we are compelling the model to memorize answers instead of deriving them from the context the training data for raft is as follows and an example training data can be seen in fig 3 p of data qdd1d2 dka 1p of data qd1d2 dka subsequently for the test scenario the model is provided with the q and topk documents retrieved by the rag pipeline note that raft is independent of the retriever used a key factor in enhancing training quality mimetype textplain start_char_idx 214237 end_char_idx 220861 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5540213b8fd54d6cab0904bef8126fe5 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name",
        "mimetype": "text/plain",
        "start_char_idx": 393767,
        "end_char_idx": 400528,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "236bf63d-308c-4101-b715-93bb5a862fee",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6e549963-2e27-4509-a044-eddb4c4f4ca1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "431459d3b3b75d915b894dffdf2a7a222a1bb659da849bb292c7a1aa6ca5d02e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "79ea4f48-95d7-4cd9-8cb6-0ad9613252dc",
                "node_type": "1",
                "metadata": {},
                "hash": "12fdd20930311955d8b8519c41685f7d0007754b13cd5efaab109a4bf5d1df91",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "raft is independent of the retriever used a key factor in enhancing training quality mimetype textplain start_char_idx 214237 end_char_idx 220861 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5540213b8fd54d6cab0904bef8126fe5 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id c742abbfc61c4a9abc9a915403a72878 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash cc42bbdfd46ff8376688de7e2c731545c08f8a93a0072c8691762cc9b385215b class_name relatednodeinfo  3  node_id 78311041f37f496e868317c950749ffc node_type 1 metadata  hash 18151f9f194c62a36ba6f0b6b4714c5a7599f1bacc915d54840d3f4cbabdf25f class_name relatednodeinfo   text document d i along with distractor documents dk1 for 1pfraction of the questions qi in the dataset we include no golden document and only include distractor documents dk we then finetune the language model using standard supervised training sft technique training it to generate answers from the provided documents and question fig 2 illustrates the highlevel design principal for raft we demonstrate that our rag approach trains the model to perform better rag on the set of documents it is trained on ie indomain by removing the golden documents in some instances we are compelling the model to memorize answers instead of deriving them from the context the training data for raft is as follows and an example training data can be seen in fig 3 p of data qdd1d2 dka 1p of data qd1d2 dka subsequently for the test scenario the model is provided with the q and topk documents retrieved by the rag pipeline note that raft is independent of the retriever used a key factor in enhancing training quality is the generation of a reasoning process such as chainofthought to explain the provided answers raft approach is similar we demonstrate that creating a full reasoning chain and inaddition clearly citing sources enhances the models accuracy in answering questions in fig 3 we illustrate this set up generating the training data in this fashion involves presenting the model with a question context and verified answers and then requesting it to form a reasoning chain that appropriately references the original context for all the datasets in our experiments we generate the answers using the technique described above note that the gorilla apibench dataset already includes reasoning in the answers we provide an example of the generation step in fig 3 the detailed reasoning answer includes a citation from the original context inside begin_quote and end_quote as well as the detailed explanation on how to reach the conclusion based on the citations we demonstrate that adding mimetype textplain start_char_idx 91754 end_char_idx 98877 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 1bcdec9b06064fcf8afb8306b3c96147 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 30372efe8a7749c798ee95df68c641d0 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 85554e0ef292c1e24ddf694d27204b3ab0fbd9e3974d099ddb53341cc71a3b66 class_name relatednodeinfo 3 node_id 9ac4188f430e42ef8438e8db61d0bb67 node_type 1 metadata hash 15f5796539a3e2afa4bae1c9b30f430fc962aaf74f498d26548e973409273ae0 class_name relatednodeinfo text test scenario the model is provided with the q and topk documents retrieved by the rag pipeline note that raft is independent of the retriever used a key factor in enhancing training quality is the generation of a reasoning process such as chainofthought to explain the provided answers raft approach is similar we demonstrate that creating a full reasoning chain and inaddition clearly citing sources enhances the models accuracy in answering questions in fig 3 we illustrate this set up generating the training data in this fashion involves presenting the model with a question context and verified answers and then requesting it to form a reasoning chain that appropriately references the original context for all the datasets in our experiments we generate the answers using the technique described above note that the gorilla apibench dataset already includes reasoning in",
        "mimetype": "text/plain",
        "start_char_idx": 399772,
        "end_char_idx": 405519,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "79ea4f48-95d7-4cd9-8cb6-0ad9613252dc",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "236bf63d-308c-4101-b715-93bb5a862fee",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f406ed9e3c400103f6317a5b11fc8ae9055665a0d9c5091bf7b4e111a4d8e11b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "dffb9102-8b44-4671-ad85-bf2b54525deb",
                "node_type": "1",
                "metadata": {},
                "hash": "5d90a2b7fcb6031dcfb6f5309b684599d9db159e2422112c9dbc9bb4ba5b61cb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 1 metadata hash 15f5796539a3e2afa4bae1c9b30f430fc962aaf74f498d26548e973409273ae0 class_name relatednodeinfo text test scenario the model is provided with the q and topk documents retrieved by the rag pipeline note that raft is independent of the retriever used a key factor in enhancing training quality is the generation of a reasoning process such as chainofthought to explain the provided answers raft approach is similar we demonstrate that creating a full reasoning chain and inaddition clearly citing sources enhances the models accuracy in answering questions in fig 3 we illustrate this set up generating the training data in this fashion involves presenting the model with a question context and verified answers and then requesting it to form a reasoning chain that appropriately references the original context for all the datasets in our experiments we generate the answers using the technique described above note that the gorilla apibench dataset already includes reasoning in the answers we provide an example of the generation step in fig 3 the detailed reasoning answer includes a citation from the original context inside begin_quote and end_quote as well as the detailed explanation on how to reach the conclusion based on the citations we demonstrate that adding detailed reasoning paragraphs can help boost the models performance in our experiment section 4 evaluation we design our experiments to study how well raft performs compared to various base lines we find that the raft7b model a finetuned version of llama2 is better at reading and extracting information from indomain documents than domainspecific finetuned model and generalpurpose model with rag as an ablation we also demonstrate how important it is for the model to learn with chainofthought responses in this section we will first introduce all the datasets we used in the experiments then all the baseline modelfinetuning techniques that we benchmark against 4 mimetype textplain start_char_idx 0 end_char_idx 3753 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 1c553105c1da4a1a990468532939cc39 embedding null metadata page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 7e1d3e28aa4a4000b61ed1a7b2f33372 node_type 4 metadata page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash e6630670f60dd706978c644d85ff75105f78782ca76a05a9049278f7cfd5b283 class_name relatednodeinfo text preprint under review question the oberoi family is part of a hotel company that has a head office in what city context the mimetype textplain start_char_idx 219861 end_char_idx 226090 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 78311041f37f496e868317c950749ffc embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 5540213b8fd54d6cab0904bef8126fe5 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2c4dd74e9169f08a1794b15c0ffda39de80db0ba74f4d8ea3de712818863c12f class_name relatednodeinfo  3  node_id 739d8fc864f240b69d1348b28ab6400e node_type 1 metadata  hash adac70f552f4e4625b46f4d1c37a10745b072a2adc1779918a18b9eaaaf07db3 class_name relatednodeinfo   text file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 7e1d3e28aa4a4000b61ed1a7b2f33372 node_type 4 metadata page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash e6630670f60dd706978c644d85ff75105f78782ca76a05a9049278f7cfd5b283 class_name relatednodeinfo text preprint under review question the oberoi family is part of a hotel company that has a head office in what city context the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi groupit is located in city center of jakarta near mega kuningan adjacent to the sister jw marriott hotel it is operated by the ritzcarlton hotel company the complex has two towers that comprises a hotel and the airlangga apartment respectivelythe oberoi group is a hotel company with its head office in delhi instruction given the question context and answer above provide a logical reasoning for that answer please use the format of reason reason answer answer cot answer reason the document begin_quote the oberoi family is an indian",
        "mimetype": "text/plain",
        "start_char_idx": 404519,
        "end_char_idx": 410198,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "dffb9102-8b44-4671-ad85-bf2b54525deb",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "79ea4f48-95d7-4cd9-8cb6-0ad9613252dc",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ef5cd0c039c012d97ef4693628f6bd73f3551abaa063c002b1f58b6e22476935",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c8733773-acc8-475f-b1a0-3f629d55c990",
                "node_type": "1",
                "metadata": {},
                "hash": "3b15091270e8ce0f6611638f099b3676217ea2c6254d60e07778a40ad8abe7ab",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "last_modified_date 20241015 hash e6630670f60dd706978c644d85ff75105f78782ca76a05a9049278f7cfd5b283 class_name relatednodeinfo text preprint under review question the oberoi family is part of a hotel company that has a head office in what city context the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi groupit is located in city center of jakarta near mega kuningan adjacent to the sister jw marriott hotel it is operated by the ritzcarlton hotel company the complex has two towers that comprises a hotel and the airlangga apartment respectivelythe oberoi group is a hotel company with its head office in delhi instruction given the question context and answer above provide a logical reasoning for that answer please use the format of reason reason answer answer cot answer reason the document begin_quote the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi group end_quote establishes that the oberoi family is involved in the oberoi group and the document begin_quote the oberoi group is a hotel company with its head office in delhi end_quote establishes the head office of the oberoi group therefore the oberoi family is part of a hotel company whose head office is in delhi answer delhi figure 3 raft prompt to help llm evaluate its own generated reasoning and answers contrasting them with the correct reasoning and answers the llm is prompted to identify errors in its reasoning and extract key insights for improvement this figure specifically represents the generateexplanation step in the raft algorithm section 3 table 1 raft improves rag performance for all specialized domains across pubmed hotpot huggingface torch hub and tensorflow hub we see that domainspecific fine tuning improves significantly of the performance of the base model raft consistently outperforms the existing domainspecific finetuning method with or without rag this suggests the need to train the model with context we compare our model with llama finetuning receipes and provide gpt35 for reference pubmed hotpot huggingface torch hub tensorflow gpt35 rag 7160 415 2908 6021 6559 llama27b 565 054 022 0 0 llama27b rag 588 003 2643 0860 4306 dsf 597 638 6106 8494 8656 dsf rag 716 441 4259 8280 6029 raft llama27b 7330 3528 7400 8495 8686 datasets in our experiments we use the following datasets to evaluate our model and all baselines we selected these datasets to represent both popular and diverse domains including wikipedia codingapi documents and questionanswering on medical docu ments natural questions nq kwiatkowski et al 2019 trivia qa joshi et al 2017 and hotpotqa yang et al 2018 are the opendomain questionanswers based on wikipedia mainly focused on common knowledge eg movies sports etc huggingface torch hub and tensorflow hub are from the apibench patil et al 2023 proposed in the gorilla paper these benchmarks measure how to generate the correct functional and executable api calls based on the documentation pubmed qa jin et al 2019 is a questionanswering dataset tailored only for biomedicalresearch questionanswering it mainly focuses on answering medical and biology questions based on a given set of documents we would 5 mimetype textplain start_char_idx 0 end_char_idx 3122 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3989c0b7e29f461eafbebe901ca63b87 embedding null metadata page_label 6 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b75c9bab361e40e293ca5c055550c661 node_type 4 metadata page_label 6 file_name raftpdf file_path mimetype textplain start_char_idx 97708 end_char_idx 104167 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 9ac4188f430e42ef8438e8db61d0bb67 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 1bcdec9b06064fcf8afb8306b3c96147 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 9814acc7fd9a601c00e4450e69d7cf7df5c1703c00f17161674deed9f0365356 class_name relatednodeinfo 3 node_id 53ff538ceb4c4a299d6e6cf81d8f29d4 node_type 1 metadata hash mimetype textplain start_char_idx 225427 end_char_idx 231003 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 739d8fc864f240b69d1348b28ab6400e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id",
        "mimetype": "text/plain",
        "start_char_idx": 409304,
        "end_char_idx": 414971,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c8733773-acc8-475f-b1a0-3f629d55c990",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "dffb9102-8b44-4671-ad85-bf2b54525deb",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "59a610d7504d6700771890fa1922970555e0cf6793d1f29c08ec08904b2a0181",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6d908015-9d84-4ef0-a3ef-72df1e9f06c9",
                "node_type": "1",
                "metadata": {},
                "hash": "aa6263f404501fb752d4efde34a6e6a85515f5624eb15f67c89ddc83669d9272",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo 3 node_id 53ff538ceb4c4a299d6e6cf81d8f29d4 node_type 1 metadata hash mimetype textplain start_char_idx 225427 end_char_idx 231003 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 739d8fc864f240b69d1348b28ab6400e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 78311041f37f496e868317c950749ffc node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 65ac228d649dca59d597abde195ad60fcc569efb940a60c3b5ccdca8dbac4591 class_name relatednodeinfo  3  node_id ec528b7f6c3842f7addc10f9815446d7 node_type 1 metadata  hash bd588de8fef532dce87a03e29eacf30febbbe952f68176ec370d2ed6afd40429 class_name relatednodeinfo   text class_name relatednodeinfo 2 node_id 1bcdec9b06064fcf8afb8306b3c96147 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 9814acc7fd9a601c00e4450e69d7cf7df5c1703c00f17161674deed9f0365356 class_name relatednodeinfo 3 node_id 53ff538ceb4c4a299d6e6cf81d8f29d4 node_type 1 metadata hash 9d7d93e1605465d4b1af1d02f51cb92f39fd9d667171fbd44bc806b362d35183 class_name relatednodeinfo text dataset tailored only for biomedicalresearch questionanswering it mainly focuses on answering medical and biology questions based on a given set of documents we would 5 mimetype textplain start_char_idx 0 end_char_idx 3122 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3989c0b7e29f461eafbebe901ca63b87 embedding null metadata page_label 6 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b75c9bab361e40e293ca5c055550c661 node_type 4 metadata page_label 6 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 541c13842a8d06a26f11203fdccdb13211b94a3e197b5c42a0fdcf65c56b927f class_name relatednodeinfo text preprint under review like to highlight that nq trivia qa and hotpotqa are relatively general domain whereas the latter two domains are on domainspecific documents baselines we consider the following baselines for our experiments llama27bchat model with 0shot prompting this is the commonly used instructionfinetuned model for qa tasks where we provide clearly written instruc tions but no reference documentation llama27bchat model with rag llama2 rag similar to the previous setting except here we include reference documents this is a popular technique when dealing with domainspecific qa tasks domainspecific finetuning with 0shot prompting dsf standard supervised finetuning without documents in context we find that its mostly useful to align the answering style of the model as well as get familiar with the domain context domainspecific finetuning with rag dsf rag equip a domainspecific finetunedmodel with external knowledge using rag so for the knowledge the model does not know it can still refer to the context 41 results using the above datasets and baselines we evaluate our model raft and demonstrate the effectiveness of raft in tab 1 we see that raft consistently and significantly outperforms the baselines compared with the base llama2 instructiontuned model raft with rag does much better in terms of extracting information as well as being robust towards distractors the gain can be as big as 3525 on hotpot qa and 7635 on torch hub evaluation compared with dsf on the specific dataset our model does better at relying on the provided context to solve the problem raft does much better on the tasks like hotpot and huggingface datasets 3087 on hotpot and 3141 on huggingface note that for pubmed qa since it is a binary yesno question we dont observe significant gains when we compare our model with dsf rag even compared with a much larger and better model gpt35 raft demonstrates significant advantages overall the llama7b model both with and without the rag performs poorly due to its answering style not aligning with the ground truth by applying domainspecific tuning we significantly enhance its performance this process enables the model to learn and adopt the appropriate style of answering however introducing rag to a domainspecifically finetuned dsf model doesnt invariably lead to better outcomes",
        "mimetype": "text/plain",
        "start_char_idx": 414358,
        "end_char_idx": 419801,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6d908015-9d84-4ef0-a3ef-72df1e9f06c9",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c8733773-acc8-475f-b1a0-3f629d55c990",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4d44b8ec1ffc30b739e283ce2bcdd233b4ba665b94ec32601a88eda149d922f1",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d6799a87-1f99-4100-8fa7-855f819c7ca2",
                "node_type": "1",
                "metadata": {},
                "hash": "eafc715296a73dcbee920e2cc108f9dbf44ae2a879d4eae1448151275c6b39f6",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "in terms of extracting information as well as being robust towards distractors the gain can be as big as 3525 on hotpot qa and 7635 on torch hub evaluation compared with dsf on the specific dataset our model does better at relying on the provided context to solve the problem raft does much better on the tasks like hotpot and huggingface datasets 3087 on hotpot and 3141 on huggingface note that for pubmed qa since it is a binary yesno question we dont observe significant gains when we compare our model with dsf rag even compared with a much larger and better model gpt35 raft demonstrates significant advantages overall the llama7b model both with and without the rag performs poorly due to its answering style not aligning with the ground truth by applying domainspecific tuning we significantly enhance its performance this process enables the model to learn and adopt the appropriate style of answering however introducing rag to a domainspecifically finetuned dsf model doesnt invariably lead to better outcomes this might indicate that the model lacks training in context processing and extracting useful information from it by incorporating our method raft we train the model not only to match its answering style with that required but also to improve its document processing capabilities consequently our approach outperforms all others 42 effect of cot we also conduct an analysis to evaluate the effectiveness of the chainofthought approach in enhancing the models performance as indicated in table 2 simply providing the answer to a question may not always be adequate this approach can lead to a rapid decrease in loss resulting in the model beginning to overfit incorporating a reasoning chain that not only guides the model to the answer but also enriches the models understanding can improve the overall accuracy and prevent overfitting to concise answers in our experiments integrating the chainofthought significantly enhances training robustness we employ gpt41106 to generate our chainofthought prompts and include an example of the prompt we used in figure 3 43 qualitative analysis to illustrate the potential advantages of raft over the domainspecifically finetuned dsf approach we present a comparative example in figure 4 this example qualitatively 6 mimetype textplain start_char_idx 0 end_char_idx 3593 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 4d0701e9098a48c6bf882407694e2578 embedding null metadata page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 833e9ed516fc48fc8d665554b226d7aa node_type 4 metadata page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 1a9d45a5b993abc7a04a2252ae969b380d322f21ce8daccf6a593a421e47ef6a class_name relatednodeinfo text mimetype textplain start_char_idx 230537 end_char_idx 236617 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ ec528b7f6c3842f7addc10f9815446d7 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 739d8fc864f240b69d1348b28ab6400e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b48d1af442bb8c95ab72794cd5637c97b1dad8d4d8bf870360ed655ea033e299 class_name relatednodeinfo  3  node_id 2f9475d975234eb485be1b88a87a2ed7 node_type 1 metadata  hash ebd3998a143a1942b1479393681e42fb6454e42d1d137db9841a01792fd166ca class_name relatednodeinfo   text null metadata page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 833e9ed516fc48fc8d665554b226d7aa node_type 4 metadata page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 1a9d45a5b993abc7a04a2252ae969b380d322f21ce8daccf6a593a421e47ef6a class_name relatednodeinfo text preprint under review table 2 ablation on chainofthought the numbers of raft and raft without cot results on various datasets show that adding cot can significantly improve the performance of the finetuned model with a gains of 966 and 1493 in the hotpot qa and huggingface datasets respectively pubmed hotpotqa huggingface torch hub tensorflow raft wo cot 6830 2562 5907 8656",
        "mimetype": "text/plain",
        "start_char_idx": 418781,
        "end_char_idx": 424400,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d6799a87-1f99-4100-8fa7-855f819c7ca2",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6d908015-9d84-4ef0-a3ef-72df1e9f06c9",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ba269d542b3914601a0c599598765145b05aedbb0a0caf91747a20457252862d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6c01612b-bf16-47d5-9d3e-94c2d3957b38",
                "node_type": "1",
                "metadata": {},
                "hash": "f6fd3d036c3d37a5c2c28d05d650fcc5391cc202a0c6fbce3ffd90fe54516aff",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 1a9d45a5b993abc7a04a2252ae969b380d322f21ce8daccf6a593a421e47ef6a class_name relatednodeinfo text preprint under review table 2 ablation on chainofthought the numbers of raft and raft without cot results on various datasets show that adding cot can significantly improve the performance of the finetuned model with a gains of 966 and 1493 in the hotpot qa and huggingface datasets respectively pubmed hotpotqa huggingface torch hub tensorflow raft wo cot 6830 2562 5907 8656 8321 raft 7330 3528 7400 8495 8686 demonstrates a scenario where the dsf model becomes confused by a question asking for the identity of a screenwriter instead of providing the correct name it mistakenly cites one of the films written by the screenwriter in contrast the raft model accurately answers the question this discrepancy suggests that training a model solely with questionanswer pairs may impair its ability to derive relevant context from provided documents the comparison underscores the importance of incorporating both standard instructional tuning and context comprehension mimetype textplain start_char_idx 103384 end_char_idx 109888 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 53ff538ceb4c4a299d6e6cf81d8f29d4 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 9ac4188f430e42ef8438e8db61d0bb67 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash de53c9938b7ca434dc4d6411f6cb1280766d9d67eb5d57fac95c987335512139 class_name relatednodeinfo 3 node_id c43acc78fbed4feab6bde4478fd117a5 node_type 1 metadata hash f0516beef26cdf23118c79969e97f7db781b3c965825c09c4b43bde26e468dd9 class_name relatednodeinfo text class_name relatednodeinfo text preprint under review table 2 ablation on chainofthought the numbers of raft and raft without cot results on various datasets show that adding cot can significantly improve the performance of the finetuned model with a gains of 966 and 1493 in the hotpot qa and huggingface datasets respectively pubmed hotpotqa huggingface torch hub tensorflow raft wo cot 6830 2562 5907 8656 8321 raft 7330 3528 7400 8495 8686 demonstrates a scenario where the dsf model becomes confused by a question asking for the identity of a screenwriter instead of providing the correct name it mistakenly cites one of the films written by the screenwriter in contrast the raft model accurately answers the question this discrepancy suggests that training a model solely with questionanswer pairs may impair its ability to derive relevant context from provided documents the comparison underscores the importance of incorporating both standard instructional tuning and context comprehension into the training dataset to preserve and enhance the models ability to process text effectively hotpot qa question what screenwriter with credits for evolution01879e a film starring nicolas cage and tu00e9a leoni documents david weiss man is a screen writer and director his film credits include the family man 2000 evo lution 2001 and when in rome 2010 the family man is a 2000 american romantic comedydrama film directed by brett ratner written by david diamond and david weissman and starring nico lascage and tu00e9aleoni raft reason the screenwriter with credits for the film evolution starring nicolas cage and tu00e9a leoni is david weissman this information is provided in the reference documents where it mentions david weissman as a screenwriter with film credits including the family man 2000 evolution 2001 and when in rome 2010 therefore the screenwriter for evolution is david weissman answer david weiss man dsf the fam ilyman figure 4 comparison of raft and dsf on the hotpot qa dataset we can see that dsf model extracts the wrong information from the context when the question is asking who is the screen writer and it answers a film name raft manages to get the accurate results 44 should we train the llm always with the golden context for rag in our exploration of whether large language models llms should always be trained with the golden context for retrievalaugmented generation rag we address a key question what proportion p of the training data should include golden documents intuitively one might assume that for effective training in reading and extracting information from context eg rag tasks the golden document should always be included during training p 100 however our findings challenge this assumption incorporating a portion of the training data without the golden document in the context p 80 appears to enhance the mimetype textplain start_char_idx 235946 end_char_idx 241852 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2f9475d975234eb485be1b88a87a2ed7 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date",
        "mimetype": "text/plain",
        "start_char_idx": 423690,
        "end_char_idx": 429663,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6c01612b-bf16-47d5-9d3e-94c2d3957b38",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d6799a87-1f99-4100-8fa7-855f819c7ca2",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e3bc732f569562be8469c43f9cd10525371723dc4b4f5485e76a4e2b2d144536",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f53f773e-f7c7-4fe3-bc62-e8bde9270d54",
                "node_type": "1",
                "metadata": {},
                "hash": "1cd00ccd9982c1ff8fbaed8082534372a633a396837170b220e7d101c78fee2e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "models llms should always be trained with the golden context for retrievalaugmented generation rag we address a key question what proportion p of the training data should include golden documents intuitively one might assume that for effective training in reading and extracting information from context eg rag tasks the golden document should always be included during training p 100 however our findings challenge this assumption incorporating a portion of the training data without the golden document in the context p 80 appears to enhance the mimetype textplain start_char_idx 235946 end_char_idx 241852 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2f9475d975234eb485be1b88a87a2ed7 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id ec528b7f6c3842f7addc10f9815446d7 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 056f8b564ba50eabba5ac0456a9d4de1e46c2a7a94e8209472dd384f755093cd class_name relatednodeinfo  3  node_id 4b4b0f46fdd742c8bff5c43a6253d60c node_type 1 metadata  hash 1b359c6e5fa59a340e58de584389f9740b1a314451ce6cb2c7a3ec2cee614201 class_name relatednodeinfo   text evolution 2001 and when in rome 2010 therefore the screenwriter for evolution is david weissman answer david weiss man dsf the fam ilyman figure 4 comparison of raft and dsf on the hotpot qa dataset we can see that dsf model extracts the wrong information from the context when the question is asking who is the screen writer and it answers a film name raft manages to get the accurate results 44 should we train the llm always with the golden context for rag in our exploration of whether large language models llms should always be trained with the golden context for retrievalaugmented generation rag we address a key question what proportion p of the training data should include golden documents intuitively one might assume that for effective training in reading and extracting information from context eg rag tasks the golden document should always be included during training p 100 however our findings challenge this assumption incorporating a portion of the training data without the golden document in the context p 80 appears to enhance the models performance on rag tasks 7 mimetype textplain start_char_idx 0 end_char_idx 2860 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b315185d6f5b4f8a93d216fb74078e25 embedding null metadata page_label 8 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 098a8aa848b3442d8450ce0c3c497895 node_type 4 metadata page_label 8 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 2a78a850fcd7bcbbcbbea85872d5cb2f360921535cd38bd91d65eddb61f56484 class_name relatednodeinfo text preprint under review 0 20 40 60 80 100 p golden retrieved context at training025030035040045final accuracy t est domain nq 0 20 40 60 80 100 golden retrieved context at training050055060065final accuracy t est domain tqa 0 20 40 60 80 100 p golden retrieved context at training040045050055060final accuracy t est domain hopo figure 5 how many golden documents to involve we study the hyperparameter p where it indicates how much portion of training data is with golden document results on nq tqa and hotpotqa suggest that mixing some amount of data that the golden document is not put in the context is helpful for indomain rag figure 5 presents our investigation into the hyperparameter p which represents the percentage of training instances that should include golden documents we find that the optimal proportion varies across datasets with p ranging from 40 60 and 100 this indicates that training your llm without the correct corresponding context at times can be beneficial for the downstream task of answering questions related to the documents in our training setup we include four distractor documents alongside the golden document and at test time we maintain this format by providing the golden document with four distractors our findings suggest that for domainspecific rag tasks including a certain percentage of training data without the golden documents in the context proves to be advantageous 5 raft generalizes to topk rag we now study another important problem how does the number of distractor documents in raft affect the models performance when augmented with topk rag results during evaluation previous research has highlighted the vulnerability of llms to irrelevant text see studies shi et al 2023a weston sukhbaatar 2023 liu et al 2023 this issue is particularly critical for llms rag since topk rag is frequently employed at test time to ensure high recall such a scenario necessitates the model to have the ability to discern and disregard irrelevant content focusing solely on pertinent information",
        "mimetype": "text/plain",
        "start_char_idx": 428692,
        "end_char_idx": 434647,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f53f773e-f7c7-4fe3-bc62-e8bde9270d54",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6c01612b-bf16-47d5-9d3e-94c2d3957b38",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "37dbe5416a545b704b155ba569f9d22cb88c001b875accba9f95e0fba138a461",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "968b4f2b-5862-49f7-a7ab-ae7477d08cae",
                "node_type": "1",
                "metadata": {},
                "hash": "50a015c33c86c90e5d6560f1b54d18b5fd4228fa9576a7cf71e624b62bf6bd6d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "without the correct corresponding context at times can be beneficial for the downstream task of answering questions related to the documents in our training setup we include four distractor documents alongside the golden document and at test time we maintain this format by providing the golden document with four distractors our findings suggest that for domainspecific rag tasks including a certain percentage of training data without the golden documents in the context proves to be advantageous 5 raft generalizes to topk rag we now study another important problem how does the number of distractor documents in raft affect the models performance when augmented with topk rag results during evaluation previous research has highlighted the vulnerability of llms to irrelevant text see studies shi et al 2023a weston sukhbaatar 2023 liu et al 2023 this issue is particularly critical for llms rag since topk rag is frequently employed at test time to ensure high recall such a scenario necessitates the model to have the ability to discern and disregard irrelevant content focusing solely on pertinent information 51 making model robust to topk rag to tackle the challenge of enhancing large language models llms ability to sift through irrelevant text within the retrieval pipeline our analysis revealed that training solely with golden highly relevant documents can inadvertently diminish the models ability to dis cern and disregard irrelevant information to address this our algorithm raft adopts a strategy that integrates golden documents with a mix of irrelevant ones this method ology prompts us to investigate the ideal fraction of distractor irrelevant documents to incorporate throughout the training process and to assess how well this training approach adapts to different volumes of documents encountered by the retrievalaugmented gen eration rag during the test phase our aim is to refine the balance between relevant and irrelevant information to strenghten the models efficiency in identifying and utilizing pertinent content notice that sec 44 looked what what p of training data should include distractors while in this section mimetype textplain start_char_idx 108889 end_char_idx 115733 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c43acc78fbed4feab6bde4478fd117a5 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 53ff538ceb4c4a299d6e6cf81d8f29d4 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 1b0be11007673a4874545b9af1b020250b2b39d880e42000f3bfabdce2c052d0 class_name relatednodeinfo 3 node_id mimetype textplain start_char_idx 240800 end_char_idx 247081 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4b4b0f46fdd742c8bff5c43a6253d60c embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 2f9475d975234eb485be1b88a87a2ed7 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 02a2a8595c1ef2333a039e2a4a18bba0850d489be0fc6886e4630f093a8b2ea2 class_name relatednodeinfo  3  node_id 4234213142af452da18e3c6a64543761 node_type 1 metadata  hash 3e6a71632a10a670c8cd560ea2064f69064e16bd6b4ca004a42d3e405f7912eb class_name relatednodeinfo   text file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 53ff538ceb4c4a299d6e6cf81d8f29d4 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 1b0be11007673a4874545b9af1b020250b2b39d880e42000f3bfabdce2c052d0 class_name relatednodeinfo 3 node_id",
        "mimetype": "text/plain",
        "start_char_idx": 433531,
        "end_char_idx": 438870,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "968b4f2b-5862-49f7-a7ab-ae7477d08cae",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f53f773e-f7c7-4fe3-bc62-e8bde9270d54",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e30c14d9c147df9932ff15db5bdcb0016062006e62546b03e19763f8a17b6189",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d68130fa-5d52-41ec-9fa7-9d30c8b0ff59",
                "node_type": "1",
                "metadata": {},
                "hash": "384c11c71c156495788d50ac7ad008e464d290d3eb6d960555baff45d7f5f5d5",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo   text file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 53ff538ceb4c4a299d6e6cf81d8f29d4 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 1b0be11007673a4874545b9af1b020250b2b39d880e42000f3bfabdce2c052d0 class_name relatednodeinfo 3 node_id d245f4752c4a4b7992756070036cf1dc node_type 1 metadata hash 5ae998cac32e4cff171a66364cf052a4e14c5ff12ee0b24398c9b1394cbb909a class_name relatednodeinfo text at test time to ensure high recall such a scenario necessitates the model to have the ability to discern and disregard irrelevant content focusing solely on pertinent information 51 making model robust to topk rag to tackle the challenge of enhancing large language models llms ability to sift through irrelevant text within the retrieval pipeline our analysis revealed that training solely with golden highly relevant documents can inadvertently diminish the models ability to dis cern and disregard irrelevant information to address this our algorithm raft adopts a strategy that integrates golden documents with a mix of irrelevant ones this method ology prompts us to investigate the ideal fraction of distractor irrelevant documents to incorporate throughout the training process and to assess how well this training approach adapts to different volumes of documents encountered by the retrievalaugmented gen eration rag during the test phase our aim is to refine the balance between relevant and irrelevant information to strenghten the models efficiency in identifying and utilizing pertinent content notice that sec 44 looked what what p of training data should include distractors while in this section we study testtime scenarios training with distractor documents to enhance the robustness of llms against irrelevant text in retrieved documents we adopted a finetuning approach that incorporates both golden highly relevant documents and distractor irrelevant documents the model was trained with varying numbers of distractor documents but consistently evaluated using the top3 documents obtained from the retriever not to be confused with p our findings detailed in fig 6 reveal that finetuning with only the golden document frequently results in inferior performance compared to configurations that include a greater number of distractor documents as we can see in the figure the better performance for natural questions is 8 mimetype textplain start_char_idx 0 end_char_idx 3797 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 04f5970e9b404fb787fd8bff945e65c6 embedding null metadata page_label 9 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 773b6129b6ab4da8876c8e246ee68c75 node_type 4 metadata page_label 9 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash a8f24b1693432140f9687debf705c45b6f3e810a1a3562b3831c2698254b07c1 class_name relatednodeinfo text preprint under review 2 4 6 8 10 t est documents t opk022024026028030032final accuracy natural questions train d train d 1d train d 2d train d 3d 2 4 6 8 10 t est documents t opk012501500175020002250250final accuracy hotpot qa train d train d 1d train d 2d train d 3d figure 6 testtime documents varying to analyze how robust raft is to varying number of testtime documents we study three domains nq trivia qa and hotpot qa in nq we find that training with 4 documents leads to optimal performance and this changes to 3 and 2 for for trivia qa and hotpot qa respectively however we see that training with only golden documents leads to poor performance training with d3dand it is d1ddocuments with hotpot qa this insight has been particularly beneficial for our algorithm raft in our experiments we consistently employ a training setup consisting of one golden document alongside four distractor documents generalization to a variable number of testtime documents we extended our research to examine the impact of different quantities of testtime documents on the models per formance specifically our experiments focused on assessing how models trained with varying numbers of distractor documents respond to changes in the number of documents presented at test time the results illustrated in fig 6 confirm that the inclusion of distrac tor documents during training indeed makes the model more resilient to fluctuations in the number of documents encountered during testing this ability to maintain consistent perfor mance despite variations in testtime document numbers further validates the robustness of our approach raft this finding underscores the importance of a wellcalibrated training environment to prepare the model for a range of scenarios it may encounter in realworld 6 related works retrievalaugmented language models retrievalaugmented language models ralms enhance llms by integrating a retrieval module that sources relevant information from external knowledge bases significantly improving performance across various nlp tasks including language modeling guu et al 2020 borgeaud et al 2022 khandelwal et al 2019 shi et al 2023d lin et al 2023b shi et al 2023c asai et al 2023 xu et al 2023 wang et al 2023 and opendomain question answering izacard et al 2023 lewis et al 2020 for instance atlas izacard et al 2023 finetunes t5 models with the retriever treating documents as latent variables while retro borgeaud et al 2022 modifies the decoderonly architecture to include retrieved texts and conducts pretraining from scratch knnlm khandelwal et al 2019 interpolates between the lms next token distribution and distributions computed from retrieved tokens at inference shi et mimetype",
        "mimetype": "text/plain",
        "start_char_idx": 438298,
        "end_char_idx": 444551,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d68130fa-5d52-41ec-9fa7-9d30c8b0ff59",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "968b4f2b-5862-49f7-a7ab-ae7477d08cae",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d84895b8c9c0c21e146405144be9134b4ac03d3f54124f65d7b9f5c5c84d2fa5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c26a2b39-7387-497c-97a4-6fb34e697dc8",
                "node_type": "1",
                "metadata": {},
                "hash": "c8633939b4d48f1c8a503c5beaf535ec31f74f001c2abb07f653be4f3923e907",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "enhance llms by integrating a retrieval module that sources relevant information from external knowledge bases significantly improving performance across various nlp tasks including language modeling guu et al 2020 borgeaud et al 2022 khandelwal et al 2019 shi et al 2023d lin et al 2023b shi et al 2023c asai et al 2023 xu et al 2023 wang et al 2023 and opendomain question answering izacard et al 2023 lewis et al 2020 for instance atlas izacard et al 2023 finetunes t5 models with the retriever treating documents as latent variables while retro borgeaud et al 2022 modifies the decoderonly architecture to include retrieved texts and conducts pretraining from scratch knnlm khandelwal et al 2019 interpolates between the lms next token distribution and distributions computed from retrieved tokens at inference shi et mimetype textplain start_char_idx 246536 end_char_idx 252756 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4234213142af452da18e3c6a64543761 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 4b4b0f46fdd742c8bff5c43a6253d60c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4948647d458dc9d1962bf7fd5b0f5a7985952e88d28db9e6e678681a9d2c5d87 class_name relatednodeinfo  3  node_id 95aa395bec3742f39cdca103dbcaa586 node_type 1 metadata  hash fe4c4ec2db4f727ca7c68e7496ab5ce7e5176ca4098fe025509bbdcfe7a2cb4a class_name relatednodeinfo   text ralms enhance llms by integrating a retrieval module that sources relevant information from external knowledge bases significantly improving performance across various nlp tasks including language modeling guu et al 2020 borgeaud et al 2022 khandelwal et al 2019 shi et al 2023d lin et al 2023b shi et al 2023c asai et al 2023 xu et al 2023 wang et al 2023 and opendomain question answering izacard et al 2023 lewis et al 2020 for instance atlas izacard et al 2023 finetunes t5 models with the retriever treating documents as latent variables while retro borgeaud et al 2022 modifies the decoderonly architecture to include retrieved texts and conducts pretraining from scratch knnlm khandelwal et al 2019 interpolates between the lms next token distribution and distributions computed from retrieved tokens at inference shi et al 2023d ram et al 2023 assume blackbox access to an llm combining it with either offtheshelf or finetuned retriever memorization a key question around large neural language models is whether they truly understand text feldman 2020 power et al 2022 or simply rely on surface pattern memorization carlini et al 2019 tu00e4nzer et al 2022 feldman 2020 carlini et al 2019 2022 develop methodologies to quantify the extent of memorization in neural models brown et al 2020 power et al 2022 liu et al 2022 further explored how memorization impacts the models generalization capabilities carlini et al 2021 shi et al 2023b demonstrated the ability of language models to memorize and regurgitate training data raising significant privacy concerns kandpal et al 2022 pan et al 2020 finetuning for rag more recently several papers have been exploring the idea of fine tuning a pretrained llm to be better at rag tasks lin et al 2023a wang et al 2023 xu 9 mimetype textplain start_char_idx 0 end_char_idx 3651 text_template mimetype textplain start_char_idx 114522 end_char_idx 121063 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d245f4752c4a4b7992756070036cf1dc embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id c43acc78fbed4feab6bde4478fd117a5 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size",
        "mimetype": "text/plain",
        "start_char_idx": 443721,
        "end_char_idx": 448870,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c26a2b39-7387-497c-97a4-6fb34e697dc8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d68130fa-5d52-41ec-9fa7-9d30c8b0ff59",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6fb0198c9d5878a80b78a02bde0c1d79df123e8a594991864ef4a15db46c7dce",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a03aa4f8-fcf4-4da7-be70-912a12014f25",
                "node_type": "1",
                "metadata": {},
                "hash": "500b9be4b54018b7c4d56cefc034163f21ecedc84b609585ea48a78a873732ca",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id c43acc78fbed4feab6bde4478fd117a5 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash a51572c3738127b38dc42ec7a0553e0b5e7dedb5adffb628f901199152a08de0 class_name relatednodeinfo 3 node_id ce5d111e617a4d6e994ad3e9722b9a23 node_type 1 metadata hash 9aacc95179c56c00e6740e86adc3125f5929094c8f052656fbbbafdd8c9b0100 class_name relatednodeinfo text power et al 2022 or simply rely on surface pattern memorization carlini et al 2019 tu00e4nzer et al 2022 feldman 2020 carlini et al 2019 2022 develop methodologies to quantify the extent of memorization in neural models brown et al 2020 power et al 2022 liu et al 2022 further explored how memorization impacts the models generalization capabilities carlini et al 2021 shi et al 2023b demonstrated the ability of language models to memorize and regurgitate training data raising significant privacy concerns kandpal et al 2022 pan et al 2020 finetuning for rag more recently several papers have been exploring the idea of fine tuning a pretrained llm to be better at rag tasks lin et al 2023a wang et al 2023 xu 9 mimetype textplain start_char_idx 0 end_char_idx 3651 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2f6cd63f0f14489c81f4cbf65f0c2886 embedding null metadata page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 58958c18f8c742dab0892df85de31300 node_type 4 metadata page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 6f802d080246f5ef17b35e81ac6e4ad9a8c4e6753d6769bcc867746c86ef2953 class_name relatednodeinfo text preprint under review et al 2023 liu et al 2024 these works focus on constructing a combination of finetuning dataset for rag and train a model to perform well on these tasks in particular in their settings at test time the domain or documents can be different than the training time whereas our paper studies a slightly opposite scenario where we only care mimetype textplain start_char_idx 251929 end_char_idx 257135 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 95aa395bec3742f39cdca103dbcaa586 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 4234213142af452da18e3c6a64543761 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6c105df1529464029667c46f0c4764e599211d19b979fbd17c250851ec5be2f9 class_name relatednodeinfo  3  node_id 07a9556a6105489da79bd22aef054c87 node_type 1 metadata  hash bde509e71c630f464de8f851d23cc84c3addd0fe596e8b562a7a4bcd80da19f7 class_name relatednodeinfo   text node_id 58958c18f8c742dab0892df85de31300 node_type 4 metadata page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 6f802d080246f5ef17b35e81ac6e4ad9a8c4e6753d6769bcc867746c86ef2953 class_name",
        "mimetype": "text/plain",
        "start_char_idx": 448219,
        "end_char_idx": 452911,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a03aa4f8-fcf4-4da7-be70-912a12014f25",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c26a2b39-7387-497c-97a4-6fb34e697dc8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "0d04ba5f1dea9bbab5cc5a3aff836bf884e3528e284967659a40f63b0d0c1f1b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d80d4e51-3a86-42a4-91f6-ec27f8cbee13",
                "node_type": "1",
                "metadata": {},
                "hash": "edba52376766b3c7ad3f5da3040502dcfdc109b4633a357c94e10138be9bbc09",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "3  node_id 07a9556a6105489da79bd22aef054c87 node_type 1 metadata  hash bde509e71c630f464de8f851d23cc84c3addd0fe596e8b562a7a4bcd80da19f7 class_name relatednodeinfo   text node_id 58958c18f8c742dab0892df85de31300 node_type 4 metadata page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 6f802d080246f5ef17b35e81ac6e4ad9a8c4e6753d6769bcc867746c86ef2953 class_name relatednodeinfo text preprint under review et al 2023 liu et al 2024 these works focus on constructing a combination of finetuning dataset for rag and train a model to perform well on these tasks in particular in their settings at test time the domain or documents can be different than the training time whereas our paper studies a slightly opposite scenario where we only care about testing the llm on the same set of documents 7 conclusion raft is a training strategy designed to enhance the models performance in answering questions within a specific domain in openbook settings we highlight several crucial design decisions such as training the model alongside distractor documents organizing the dataset so a portion lacks golden documents in their context and formulating answers in a chainofthought manner with direct quotations from the relevant text our evaluations on pubmed hotpotqa and gorilla api bench underline rafts significant potential references anthropic prompt engineering for claudes long context window 2023 asai a wu z wang y sil a and hajishirzi h selfrag learning to retrieve generate and critique through selfreflection arxiv preprint arxiv231011511 2023 borgeaud s mensch a hoffmann j cai t rutherford e millican k van den driess che g b lespiau jb damoc b clark a et al improving language models by retrieving from trillions of tokens in international conference on machine learning pp 22062240 pmlr 2022 brown t mann b ryder n subbiah m kaplan j d dhariwal p neelakantan a shyam p sastry g askell a et al language models are fewshot learners advances in neural information processing systems 3318771901 2020 carlini n liu c erlingsson u00fa kos j and song d the secret sharer evaluating and testing unintended memorization in neural networks in 28th usenix security symposium usenix security 19 pp 267284 2019 carlini n tramer f wallace e jagielski m herbertvoss a lee k roberts a brown t song d erlingsson u et al extracting training data from large language models in 30th usenix security symposium usenix security 21 pp 26332650 2021 carlini n ippolito d jagielski m lee k tramer f and zhang c quantifying memorization across neural language models in the eleventh international conference on learning representations 2022 dernoncourt f and lee j y pubmed 200k rct a dataset for sequential sentence classification in medical abstracts arxiv preprint arxiv171006071 2017 feldman v does learning require memorization a short tale about a long tail in proceedings of the 52nd annual acm sigact symposium on theory of computing pp 954959 2020 guu k lee k tung z pasupat p and chang m retrieval augmented language model pretraining in international conference on machine learning pp 39293938 pmlr 2020 izacard g lewis p lomeli m hosseini l petroni f schick t dwivediyu j joulin a riedel s and grave e atlas fewshot learning with retrieval augmented language models journal of machine learning research 24251143 2023 url http jmlrorgpapersv24230037html jin q dhingra b liu z cohen w w and lu x pubmedqa a dataset for biomedical research question answering arxiv preprint arxiv190906146 2019 10 mimetype textplain start_char_idx 0 end_char_idx 3113 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ca27a79bc3bd4f168d3c1153f08a89f6 embedding null metadata page_label 11 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id ca832d06c7ff4f4785f0198bf1a662f5 node_type 4 metadata page_label 11 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 120282 end_char_idx 125781 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ce5d111e617a4d6e994ad3e9722b9a23 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id d245f4752c4a4b7992756070036cf1dc node_type",
        "mimetype": "text/plain",
        "start_char_idx": 452387,
        "end_char_idx": 457733,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d80d4e51-3a86-42a4-91f6-ec27f8cbee13",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a03aa4f8-fcf4-4da7-be70-912a12014f25",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "568cef2d29140658021539aa98e52e33318122d343f00e73d8b8abfae9682cef",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "da5ba0f9-558a-4f30-b1f6-8551ab574892",
                "node_type": "1",
                "metadata": {},
                "hash": "b278082dc0277c1d36936f01bfcbb0dca090241b988f835d9d40feb5aaf4f111",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id d245f4752c4a4b7992756070036cf1dc node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 256402 end_char_idx 261811 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 07a9556a6105489da79bd22aef054c87 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 95aa395bec3742f39cdca103dbcaa586 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash e94bcdf904d63d5ba24eb088d17a6b0035fe72ed07dcfb4800e6c8159fc84a98 class_name relatednodeinfo  3  node_id d8032134d1ba41cda11b0f476fb8aed8 node_type 1 metadata  hash 55d1782caf3ff29fe8ac9bd6d58e2f3f0e8ad660d2a6e546030f918ff38dd162 class_name relatednodeinfo   text node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id d245f4752c4a4b7992756070036cf1dc node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 8aaca990fe9c1996ed6db1ab81ffb4c865f131e4ac973463d7dfaca00664a985 class_name relatednodeinfo 3 node_id 03f8cd903f25467ab3fdb4cd15c6c556 node_type 1 metadata hash 28cbc8a0a2f37eacc5fd22a5c38078bab41eec3b7e8070839a8532efbd487813 class_name relatednodeinfo text key value metadata_seperator n class_name textnode id_ ca27a79bc3bd4f168d3c1153f08a89f6 embedding null metadata page_label 11 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id ca832d06c7ff4f4785f0198bf1a662f5 node_type 4 metadata page_label 11 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash d31cb2933df85c461600b4aef036b940079342594df045fd359209ca3a888d12 class_name relatednodeinfo text preprint under review joshi m choi e weld d s and zettlemoyer l triviaqa a large scale distantly supervised challenge dataset for reading comprehension arxiv preprint arxiv170503551 2017 kandpal n wallace e and raffel c deduplicating training data mitigates privacy risks in language models in international conference on machine learning pp 1069710707 pmlr 2022 khandelwal u levy o jurafsky d zettlemoyer l and lewis m general ization through memorization nearest neighbor language models arxiv preprint arxiv191100172 2019 kwiatkowski t palomaki j redfield o collins m parikh a alberti c epstein d polosukhin i devlin j lee k et al natural questions a benchmark for question answering research transactions of the association for computational linguistics 7453466 2019 lazaridou a gribovskaya e stokowiec w and",
        "mimetype": "text/plain",
        "start_char_idx": 457133,
        "end_char_idx": 461801,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "da5ba0f9-558a-4f30-b1f6-8551ab574892",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d80d4e51-3a86-42a4-91f6-ec27f8cbee13",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6f4fbd5b56a24e52e17ebaf521e083026954069fd6ccb5852ea69765c71be66d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e81b9ab7-91e0-4da7-bd29-f0df6ee011e2",
                "node_type": "1",
                "metadata": {},
                "hash": "d8df9fbad06ab2cf69ec34f133332ba6e9ac2daf4251b3d14439a081f20388b6",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "joshi m choi e weld d s and zettlemoyer l triviaqa a large scale distantly supervised challenge dataset for reading comprehension arxiv preprint arxiv170503551 2017 kandpal n wallace e and raffel c deduplicating training data mitigates privacy risks in language models in international conference on machine learning pp 1069710707 pmlr 2022 khandelwal u levy o jurafsky d zettlemoyer l and lewis m general ization through memorization nearest neighbor language models arxiv preprint arxiv191100172 2019 kwiatkowski t palomaki j redfield o collins m parikh a alberti c epstein d polosukhin i devlin j lee k et al natural questions a benchmark for question answering research transactions of the association for computational linguistics 7453466 2019 lazaridou a gribovskaya e stokowiec w and grigorev n internetaugmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115 2022 lewis p perez e piktus a petroni f karpukhin v goyal n ku00fcttler h lewis m yih wt rocktu00e4schel t et al retrievalaugmented generation for knowledgeintensive nlp tasks advances in neural information processing systems 3394599474 2020 lin x v chen x chen m shi w lomeli m james r rodriguez p kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352 2023a lin x v chen x chen m shi w lomeli m james r rodriguez p kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352 2023b liu n f lin k hewitt j paranjape a bevilacqua m petroni f and liang p lost in the middle how language models use long contexts arxiv preprint arxiv230703172 2023 liu z kitouni o nolte n s michaud e tegmark m and williams m towards understanding grokking an effective theory of representation learning advances in neural information processing systems 353465134663 2022 liu z ping w roy r xu p shoeybi m and catanzaro b chatqa building gpt4 level conversational qa models arxiv preprint arxiv240110225 2024 pan x zhang m ji s and yang m privacy risks of generalpurpose language models in2020 ieee symposium on security and privacy sp pp 13141331 ieee 2020 patil s g zhang t wang x and gonzalez j e gorilla large language model connected with massive apis arxiv preprint arxiv230515334 2023 power a burda y edwards h babuschkin i and misra v grokking generalization beyond overfitting on small algorithmic datasets arxiv preprint arxiv220102177 2022 ram o levine y dalmedigos i muhlgay d shashua a leytonbrown k and shoham y incontext retrievalaugmented language models arxiv preprint arxiv230200083 2023 shi f chen x misra k scales n dohan d chi e h schu00e4rli n and zhou d large language models can be easily distracted by irrelevant context in international conference on machine learning pp 3121031227 pmlr 2023a shi w ajith a xia m huang y liu d blevins t chen d and zettlemoyer l detecting pretraining data from large language models arxiv preprint arxiv231016789 2023b 11 mimetype textplain start_char_idx 0 end_char_idx 3029 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5b16539361b9416991116a4042452df1 embedding null metadata page_label 12 file_name raftpdf file_path mimetype textplain start_char_idx 261213 end_char_idx 266124 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d8032134d1ba41cda11b0f476fb8aed8 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 07a9556a6105489da79bd22aef054c87 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c74a8e9150687ad292bd3b86cd29578b2e485f884659c3cc06ba12afdce3bce2 class_name relatednodeinfo  3  node_id d0214fe7e0334f5e9be5f520da1f9356 node_type 1 metadata  hash 6eb741d4127ce22d1dcd01aeca9cbbf2ef1ce362b88d2fab71259d92ebcb61d6 class_name relatednodeinfo   text leytonbrown k and shoham y incontext retrievalaugmented language models arxiv preprint arxiv230200083 2023 shi f chen x misra k scales n dohan d chi e h schu00e4rli n and zhou d large language models can be easily distracted by irrelevant context in international conference on machine learning",
        "mimetype": "text/plain",
        "start_char_idx": 461011,
        "end_char_idx": 465974,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e81b9ab7-91e0-4da7-bd29-f0df6ee011e2",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "da5ba0f9-558a-4f30-b1f6-8551ab574892",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "32ae74457dfcc17b2e390d309abeb3cc446ff0f081bf782a918f294770ae17b7",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "60ed4f38-5b36-4365-9b68-68030e856c98",
                "node_type": "1",
                "metadata": {},
                "hash": "c20aaeb9fbf54da0026535844267e2958844a79572f5a6b4287c8224c3a4e6e8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "hash c74a8e9150687ad292bd3b86cd29578b2e485f884659c3cc06ba12afdce3bce2 class_name relatednodeinfo  3  node_id d0214fe7e0334f5e9be5f520da1f9356 node_type 1 metadata  hash 6eb741d4127ce22d1dcd01aeca9cbbf2ef1ce362b88d2fab71259d92ebcb61d6 class_name relatednodeinfo   text leytonbrown k and shoham y incontext retrievalaugmented language models arxiv preprint arxiv230200083 2023 shi f chen x misra k scales n dohan d chi e h schu00e4rli n and zhou d large language models can be easily distracted by irrelevant context in international conference on machine learning pp 3121031227 pmlr 2023a shi w ajith a xia m huang y liu d blevins t chen d and zettlemoyer l detecting pretraining data from large language models arxiv preprint arxiv231016789 2023b 11 mimetype textplain start_char_idx 0 end_char_idx 3029 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5b16539361b9416991116a4042452df1 embedding null metadata page_label 12 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8a3ad05ec10a424888ab0bac000ab670 node_type 4 metadata page_label 12 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 9b3f2861df120138de8b77925ef76a031e4723c31fa02ec1d082727d01c90ae6 class_name relatednodeinfo text preprint under review shi w min s lomeli m zhou c li m lin v smith n a zettlemoyer l yih s and lewis m incontext pretraining language modeling beyond document boundaries arxiv preprint arxiv231010638 2023c shi w min s yasunaga m seo m james r lewis m zettlemoyer l and yih wt replug retrievalaugmented blackbox language models arxiv preprint mimetype textplain start_char_idx 125097 end_char_idx 130130 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 03f8cd903f25467ab3fdb4cd15c6c556 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id ce5d111e617a4d6e994ad3e9722b9a23 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 32f4ae14e792ad2554f151cc12392b6dd963282a0e6cbdb72fadb460151cc1ff class_name relatednodeinfo 3 node_id 92cabf4b6ffc41d4a0323c19f02cf26a node_type 1 metadata hash 7c7da0601354989b242ed40aa735168a11652fcca548ce1287b87974ec0c89b4 class_name relatednodeinfo text page_label 12 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 9b3f2861df120138de8b77925ef76a031e4723c31fa02ec1d082727d01c90ae6 class_name relatednodeinfo text preprint under review shi w min s lomeli m zhou c li m lin v smith n a zettlemoyer l yih s and lewis m incontext pretraining language modeling beyond document boundaries arxiv preprint arxiv231010638 2023c shi w min s yasunaga m seo m james r lewis m zettlemoyer l and yih wt replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652 2023d tu00e4nzer m ruder s and rei m memorisation versus generalisation in pretrained lan guage models in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers pp 75647578 2022 vu t iyyer m wang x constant n wei j wei j tar c sung yh zhou d le q et al freshllms refreshing large language models with search engine augmentation arxiv preprint arxiv231003214 2023 wang b ping w mcafee l xu p li b shoeybi m and catanzaro b instructretro instruction tuning post retrievalaugmented pretraining arxiv preprint arxiv231007713 2023 wang y kordi y mishra s liu a smith n a khashabi d and hajishirzi h",
        "mimetype": "text/plain",
        "start_char_idx": 465412,
        "end_char_idx": 470096,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "60ed4f38-5b36-4365-9b68-68030e856c98",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e81b9ab7-91e0-4da7-bd29-f0df6ee011e2",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2d78d5558328b0c00c920f7cc2e97b48807bcfa91bbe7c1c684f20b39ccdd9d5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "55b5ad30-ba4e-42a3-a724-92d783a84a18",
                "node_type": "1",
                "metadata": {},
                "hash": "24ff5d101004dbdaf5d194802dab1013fcbd6209d2abb09d3d0217e5c594d8e7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "l and yih wt replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652 2023d tu00e4nzer m ruder s and rei m memorisation versus generalisation in pretrained lan guage models in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers pp 75647578 2022 vu t iyyer m wang x constant n wei j wei j tar c sung yh zhou d le q et al freshllms refreshing large language models with search engine augmentation arxiv preprint arxiv231003214 2023 wang b ping w mcafee l xu p li b shoeybi m and catanzaro b instructretro instruction tuning post retrievalaugmented pretraining arxiv preprint arxiv231007713 2023 wang y kordi y mishra s liu a smith n a khashabi d and hajishirzi h selfinstruct aligning language models with selfgenerated instructions arxiv preprint arxiv221210560 2022 wei j wang x schuurmans d bosma m xia f chi e le q v zhou d et al chainofthought prompting elicits reasoning in large language models advances in neural information processing systems 352482424837 2022 weston j and sukhbaatar s system 2 attention is something you might need too arxiv preprint arxiv231111829 2023 xiong w mimetype textplain start_char_idx 265381 end_char_idx 270243 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d0214fe7e0334f5e9be5f520da1f9356 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id d8032134d1ba41cda11b0f476fb8aed8 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b00442e534c084897d9c3748b6e3c0f0771581ec9ed941d2acb0e12e0c436afc class_name relatednodeinfo  3  node_id e2fc21f7ad7e4275a46f0175d4b16229 node_type 1 metadata  hash 01943e4da3f449fc0eb2186af8036110d638c436177412675da4e05880e3f7b9 class_name relatednodeinfo   text freshllms refreshing large language models with search engine augmentation arxiv preprint arxiv231003214 2023 wang b ping w mcafee l xu p li b shoeybi m and catanzaro b instructretro instruction tuning post retrievalaugmented pretraining arxiv preprint arxiv231007713 2023 wang y kordi y mishra s liu a smith n a khashabi d and hajishirzi h selfinstruct aligning language models with selfgenerated instructions arxiv preprint arxiv221210560 2022 wei j wang x schuurmans d bosma m xia f chi e le q v zhou d et al chainofthought prompting elicits reasoning in large language models advances in neural information processing systems 352482424837 2022 weston j and sukhbaatar s system 2 attention is something you might need too arxiv preprint arxiv231111829 2023 xiong w liu j molybog i zhang h bhargava p hou r martin l rungta r sankararaman k a oguz b et al effective longcontext scaling of foundation models arxiv preprint arxiv230916039 2023 xu p ping w wu x mcafee l zhu c liu z subramanian s bakhturina e shoeybi m and catanzaro b retrieval meets long context large language models arxiv preprint arxiv231003025 2023 yang z qi p zhang s bengio y cohen w w salakhutdinov r and manning c d hotpotqa a dataset for diverse explainable multihop question answering arxiv preprint arxiv180909600 2018 zhou c liu p xu p iyer s sun j mao y ma x efrat a yu p yu l et al lima less is more for alignment arxiv preprint arxiv230511206 2023 12 mimetype textplain start_char_idx 0 end_char_idx 2113 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3fdc2afca0d74c1ba2f4ebd4af90baec embedding null metadata page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 61dbc9b798e24cd88328f59a72de6cf7 node_type 4 metadata page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 469355,
        "end_char_idx": 474184,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "55b5ad30-ba4e-42a3-a724-92d783a84a18",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "60ed4f38-5b36-4365-9b68-68030e856c98",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "db79feda780d6d27870ac7ce25dd339e01c9ca93a4d2e5866b9e7ff9e595a060",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "68f57c54-303e-4c9a-a5d0-aac03b503386",
                "node_type": "1",
                "metadata": {},
                "hash": "9af55f658bf73759dea7d227252af7e6d0ad8efa8d30e424b47297df848a5e39",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "3fdc2afca0d74c1ba2f4ebd4af90baec embedding null metadata page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 61dbc9b798e24cd88328f59a72de6cf7 node_type 4 metadata page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash d551ead61e972aa3eec2d5b0e3b9756b5b0e7c728303090c29e483a7efb82a84 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track ronak pradeep university of waterloo waterloo canadanandan thakur university of waterloo waterloo canadasahel sharifymoghaddam university of waterloo waterloo canadaeric zhang university of waterloo waterloo canada ryan nguyen university of waterloo waterloo canadadaniel campos snowflake inc new york usanick craswell microsoft seattle usajimmy lin university of waterloo waterloo canada abstract did you try out the new bing search or maybe you fiddled around with google ai overviews these might sound familiar because the modernday search stack has recently evolved to include retrieval augmented generation rag systems they allow searching and incorporating realtime data into large language models llms to provide a wellinformed attributed concise summary in contrast to the traditional search paradigm that relies on displaying a ranked list of documents therefore given these recent advancements it is crucial to have an arena to build test visualize and systematically evaluate ragbased search systems with this in mind we propose the trec 2024 rag track to foster innovation in evaluating rag systems in our work we lay out the steps weve made towards making this track a reality we describe the details of our reusable framework ragnaru00f6k explain the curation of the new ms marco v21 collection choice release the development topics for the track and standardize the io definitions which assist the end user next using ragnaru00f6k we identify and provide key industrial baselines such as openais gpt4o or coheres command r further we introduce a webbased user interface for an interactive arena allow ing benchmarking pairwise rag systems by crowdsourcing we opensource our ragnaru00f6k framework and baselines to achieve a unified standard for future rag systems httpsgithubcomcastoriniragnarok 1 introduction retrieval augmented generation rag 10212229 has emerged as a popular technique to augment large language model llm gen eration for knowledgeintensive tasks such as opendomain ques mimetype textplain start_char_idx 129472 end_char_idx 134917 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 92cabf4b6ffc41d4a0323c19f02cf26a embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 03f8cd903f25467ab3fdb4cd15c6c556 node_type 1 metadata file_path mimetype textplain start_char_idx 269476 end_char_idx 274879 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ e2fc21f7ad7e4275a46f0175d4b16229 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id d0214fe7e0334f5e9be5f520da1f9356 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2240f628371fac6e47a3c98d63692167aa5863b5f16812d65efbbf57e59c1f23 class_name relatednodeinfo  3  node_id 65e08caed23447d28f69bd7c349a8ffe node_type 1 metadata  hash 3138234fa11a043315361ce955b39ba835d87ec3b06bccb412749324a4e64fd3 class_name relatednodeinfo   text file_name nodesjson file_type applicationjson file_size",
        "mimetype": "text/plain",
        "start_char_idx": 473533,
        "end_char_idx": 478796,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "68f57c54-303e-4c9a-a5d0-aac03b503386",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "55b5ad30-ba4e-42a3-a724-92d783a84a18",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f5ba5aaccbb5f937663817b8db4dece884a7064557073ae52c746a952bf4314c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "90476d03-7fce-4596-858c-ade23aa51078",
                "node_type": "1",
                "metadata": {},
                "hash": "16cdc8d58089a3f40f11b6eb6893ac7440cb4dfa69477946820a4fa19163925e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2240f628371fac6e47a3c98d63692167aa5863b5f16812d65efbbf57e59c1f23 class_name relatednodeinfo  3  node_id 65e08caed23447d28f69bd7c349a8ffe node_type 1 metadata  hash 3138234fa11a043315361ce955b39ba835d87ec3b06bccb412749324a4e64fd3 class_name relatednodeinfo   text file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 03f8cd903f25467ab3fdb4cd15c6c556 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 03ecebebc740b9d38eb3bed49532fdb6f158686907adec033b192f0ebbb3f638 class_name relatednodeinfo 3 node_id cd3e9fbfd26e4dc5bca5196416e49989 node_type 1 metadata hash 457a9c8d158d7e2925d1a1ffeccd23d3bc6e729c551a92741053bdb331d07c0c class_name relatednodeinfo text rag track to foster innovation in evaluating rag systems in our work we lay out the steps weve made towards making this track a reality we describe the details of our reusable framework ragnaru00f6k explain the curation of the new ms marco v21 collection choice release the development topics for the track and standardize the io definitions which assist the end user next using ragnaru00f6k we identify and provide key industrial baselines such as openais gpt4o or coheres command r further we introduce a webbased user interface for an interactive arena allow ing benchmarking pairwise rag systems by crowdsourcing we opensource our ragnaru00f6k framework and baselines to achieve a unified standard for future rag systems httpsgithubcomcastoriniragnarok 1 introduction retrieval augmented generation rag 10212229 has emerged as a popular technique to augment large language model llm gen eration for knowledgeintensive tasks such as opendomain ques tion answering or fact verification 44 using the top ud835udc58retrieved segments from a suitable retrieval system rag systems output an answer summary grounded on the relevant context rag systems mitigate factual inconsistencies in llm outputs 19262934 and enhance interpretability 21 and generalization 20 thus facilitat ing a wider adoption across several domains like medicine 55 and finance 23 several companies provide endtoend rag frameworks such as bing search 39 or google gemini 5 most of these systems are either proprietary or offer limited user customization likewise the absence of a standardized rag framework makes implementing both authors contributed equally to the paper correspondence to ronak pradeep rpradeepuwaterlooca and nandan thakur nandanthakuruwaterloocarag at a large scale challenging implementing atop existing frame works requires custom code for multiple steps including retrieval reranking and generation to promote wider adoption of rag in academia we develop ragnaru00f6k a userfriendly reusable end toend rag framework offering code for customizable retrievers rerankers and generation models ragnaru00f6k comprises two key modules r retrieval and ag augmented generation the retrieval module incorporates both the retrieval and reranking stages to yield the top ud835udc58retrieved seg ments for an input user topic next the augmented generation module uses the userprovided topic and retrieved segments to produce an rag answer formatted into individual sentences cit ing the relevant information from the top ud835udc58retrieved segments ragnaru00f6k is deeply integrated with existing python frameworks such as pyserini 31 and rank_llm 4647 and can be easily in stalled via pypi using pip install pyragnarok the framework offers easytouse rest apis and an integrated webui to enhance userfriendliness and improve the human evaluation experience the ragnaru00f6k framework will be used for providing baselines in the upcoming trec 2024 retrieval augmented generation rag track1an ideal framework should include a sufficiently large doc ument collection covering diverse information and nonfactoid decompositional topics requiring longform answers in our frame work we deduplicate the existing ms marco v2 document col lection in addition we provide a segment collection using a slidingwindow chunking technique discussed in section 4 fur ther we release two sets of development topics i trecraggy 2024 a filtered subset of topics with longform answers from trec deep learning 202123 1517 and ii trecresearchy 2024 a subset of the researchy questions introduced in rosset et al 51 our ragnaru00f6k framework supports a headtohead rag battle arena for the answer evaluation heavily inspired by recent work such as the chatbot arena 1358 we include key industrial base lines such as cohere command r 14 and openai gpt4o 41 and evaluate both the baselines using the retrieval setup involving bm25 49 and rankzephyr 47 with human preferences overall we observe gpt4o to provide more detailed answers over com mand r on the development set of topics discussed in section 6 finally we opensource ragnaru00f6k and make it publicly available at the following url httpsgithubcomcastoriniragnarok in the future we will include a wider variety of llms as baselines and continue to improve our framework 1trec",
        "mimetype": "text/plain",
        "start_char_idx": 478247,
        "end_char_idx": 484108,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "90476d03-7fce-4596-858c-ade23aa51078",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "68f57c54-303e-4c9a-a5d0-aac03b503386",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ad0886e59ac0811b35a180caca18d531478f9301d99a217c086957ade0ca0bb1",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "de7c55d0-ecf7-4d89-9a0c-a765452b3c66",
                "node_type": "1",
                "metadata": {},
                "hash": "6f85fb278bbb7229486d229c000ed4176d3bc075259ed33a1df0b4c5a34a6ed8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "from trec deep learning 202123 1517 and ii trecresearchy 2024 a subset of the researchy questions introduced in rosset et al 51 our ragnaru00f6k framework supports a headtohead rag battle arena for the answer evaluation heavily inspired by recent work such as the chatbot arena 1358 we include key industrial base lines such as cohere command r 14 and openai gpt4o 41 and evaluate both the baselines using the retrieval setup involving bm25 49 and rankzephyr 47 with human preferences overall we observe gpt4o to provide more detailed answers over com mand r on the development set of topics discussed in section 6 finally we opensource ragnaru00f6k and make it publicly available at the following url httpsgithubcomcastoriniragnarok in the future we will include a wider variety of llms as baselines and continue to improve our framework 1trec 2024 retrieval augmented generation rag track httpstrecraggithubioarxiv240616828v1 csir 24 jun 2024 mimetype textplain start_char_idx 0 end_char_idx 5495 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ba2440b4ef174484b907146378deedfb embedding null metadata page_label 2 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 mimetype textplain start_char_idx 274248 end_char_idx 280251 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 65e08caed23447d28f69bd7c349a8ffe embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id e2fc21f7ad7e4275a46f0175d4b16229 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash a11629fd0cffd44c2df0d5c61eccaa7e1f364d6737af2f60df6745cdbbc73bd0 class_name relatednodeinfo  3  node_id 7bd30ee03a3f450d8dfc9ffb863cfce6 node_type 1 metadata  hash 6d1c19e1822eca66820f4fc77707fda273320c75187ca88d2fde437d94168e84 class_name relatednodeinfo   text at the following url httpsgithubcomcastoriniragnarok in the future we will include a wider variety of llms as baselines and continue to improve our framework 1trec 2024 retrieval augmented generation rag track httpstrecraggithubioarxiv240616828v1 csir 24 jun 2024 mimetype textplain start_char_idx 0 end_char_idx 5495 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ba2440b4ef174484b907146378deedfb embedding null metadata page_label 2 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3b6d19eb79ab4892a52b66ca667399de node_type 4 metadata page_label 2 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 9f49aa60ee4bfdc59735aaa351bfd9ba63f3d626f875f719adfd4ade63aca6e4 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al r retrieval module bm25 rankzephyr user topic how often should you take your toddler to the potty when potty training referencesdoc0 doc1 doc19 response_length 728 answer text the frequency with which you should take your toddler to the potty depends on their readiness for potty training citations 0 1 12 13 19 text if they are reluctant to use the potty dont force them citations 6 8 doc0 how often should i take my toddler to the potty doc1 how to potty train your kid doc19 potty training how to get the job done topk segments ag augmented generation module command r gpt4orag output json prompting llm retrieval rerank rag retrievalaugmented generation module figure 1 schematic diagram of the ragnaru00f6k framework given a user topic left the process consists of two steps 1 r retrieval rerank where the topic yields the top ud835udc58relevant segments from our document collection eg potty mimetype textplain start_char_idx 133966 end_char_idx 140243 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_",
        "mimetype": "text/plain",
        "start_char_idx": 483264,
        "end_char_idx": 488451,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "de7c55d0-ecf7-4d89-9a0c-a765452b3c66",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "90476d03-7fce-4596-858c-ade23aa51078",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "a02336ef754341f792840681ac0140691db3b8fa64430c23b4084272b04b8911",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d16a08da-d48d-4a4c-8037-dd83861f32ed",
                "node_type": "1",
                "metadata": {},
                "hash": "f4da95bfa2f589b95de849abc8588d31e4b782af19dd174809fd0fd7b27b2e05",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "answer text the frequency with which you should take your toddler to the potty depends on their readiness for potty training citations 0 1 12 13 19 text if they are reluctant to use the potty dont force them citations 6 8 doc0 how often should i take my toddler to the potty doc1 how to potty train your kid doc19 potty training how to get the job done topk segments ag augmented generation module command r gpt4orag output json prompting llm retrieval rerank rag retrievalaugmented generation module figure 1 schematic diagram of the ragnaru00f6k framework given a user topic left the process consists of two steps 1 r retrieval rerank where the topic yields the top ud835udc58relevant segments from our document collection eg potty mimetype textplain start_char_idx 133966 end_char_idx 140243 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ cd3e9fbfd26e4dc5bca5196416e49989 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 92cabf4b6ffc41d4a0323c19f02cf26a node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 03a95f3fd72501fdb8ea0366d8042bcca35e71981323ee285033dae4be0e6f97 class_name relatednodeinfo 3 node_id 105fd359bf76406a9a2a94f5b9f10f4b node_type 1 metadata hash 8474a3c6a04f6901ca7f01641e47a4a336cd990ba8b9e1387397ceb748208612 class_name relatednodeinfo text module bm25 rankzephyr user topic how often should you take your toddler to the potty when potty training referencesdoc0 doc1 doc19 response_length 728 answer text the frequency with which you should take your toddler to the potty depends on their readiness for potty training citations 0 1 12 13 19 text if they are reluctant to use the potty dont force them citations 6 8 doc0 how often should i take my toddler to the potty doc1 how to potty train your kid doc19 potty training how to get the job done topk segments ag augmented generation module command r gpt4orag output json prompting llm retrieval rerank rag retrievalaugmented generation module figure 1 schematic diagram of the ragnaru00f6k framework given a user topic left the process consists of two steps 1 r retrieval rerank where the topic yields the top ud835udc58relevant segments from our document collection eg potty training articles and 2 ag augmentedgeneration where the retrieved segments with a suitable prompt template is fed to the large language model llm to generate the postprocessed answer response json containing individual sentencelevel citations 2 related work rag frameworks existing rag systems are primarily closed source and difficult to reproduce opensource frameworks such as langchain 12 and llamaindex 33 while available are not researchfriendly and lack proper evaluation and benchmarking flashrag 24 a concurrent work is a similarly motivated toolkit to improve the rag experience for researchers while the frame work is extensive and designed for pipeline flexibility ragnaru00f6k offers a few additional capabilities a webui serving a rag battle arena easytouse rest apis a standardized io definition working with sentencelevel citations and a tight integration with popular retrieval reranking frameworks like pyserini 31 and rankllm collection selection current rag datasets are constructed using the english wikipedia as the document collection however their scale is limited to provide rich and comprehensive information to support rag systems in addition clueweb22 42 offers mimetype textplain start_char_idx 279468 end_char_idx 285096 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7bd30ee03a3f450d8dfc9ffb863cfce6 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 65e08caed23447d28f69bd7c349a8ffe node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 630fd30ef1d8a37e1bd5443c80a16127257655476636ccc1413a3c5f4029d156 class_name relatednodeinfo  3  node_id e96b567e8d794a6682a1532d1f17b13e",
        "mimetype": "text/plain",
        "start_char_idx": 487548,
        "end_char_idx": 493038,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d16a08da-d48d-4a4c-8037-dd83861f32ed",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "de7c55d0-ecf7-4d89-9a0c-a765452b3c66",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "1a23c0b791028527f6118a6a5a9fa58fac292e954c41e89078ad8db28e8d347a",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "635f38ad-935d-4b94-9073-ad0a7c655bb7",
                "node_type": "1",
                "metadata": {},
                "hash": "25aefb15f935813fda5a0bc02566590c5d204109a86629228f66aa0e5c657c4f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 65e08caed23447d28f69bd7c349a8ffe node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 630fd30ef1d8a37e1bd5443c80a16127257655476636ccc1413a3c5f4029d156 class_name relatednodeinfo  3  node_id e96b567e8d794a6682a1532d1f17b13e node_type 1 metadata  hash b93512553086f82b1f5b9b05451a55325bb435f4fd5492899d77f301552b156c class_name relatednodeinfo   text augmentedgeneration where the retrieved segments with a suitable prompt template is fed to the large language model llm to generate the postprocessed answer response json containing individual sentencelevel citations 2 related work rag frameworks existing rag systems are primarily closed source and difficult to reproduce opensource frameworks such as langchain 12 and llamaindex 33 while available are not researchfriendly and lack proper evaluation and benchmarking flashrag 24 a concurrent work is a similarly motivated toolkit to improve the rag experience for researchers while the frame work is extensive and designed for pipeline flexibility ragnaru00f6k offers a few additional capabilities a webui serving a rag battle arena easytouse rest apis a standardized io definition working with sentencelevel citations and a tight integration with popular retrieval reranking frameworks like pyserini 31 and rankllm collection selection current rag datasets are constructed using the english wikipedia as the document collection however their scale is limited to provide rich and comprehensive information to support rag systems in addition clueweb22 42 offers an exten sive collection of 22 billion curated web pages previously utilized in trec tracks such as the trec conversational assistance track cast 43 and the forthcoming trec interactive knowledge as sistance track ikat 3 another alternative is the ms marco v2 document collection used in the trec deep learning dl track topic selection recently there has been a surge in datasets pro viding topics with longform answers for evaluating rag systems asqa 52 eli5 18 and qampari 4 were utilized for evaluation in the automatic llms citation evaluation alce framework 19 similarly related longform qa datasets include aquamuse 27 expertqa 36 and truthfulqa 32 another recently introduced dataset is clapnq 50 created from the subset of natural ques tions nq 28 and hagrid 25 built on a subset of ms marco dev 8 almost all previous datasets are built on english wikipedia in contrast our work deliberately avoids english wikipedia to pre vent the overfitting commonly seen in existing benchmarks 4054 in our work we reutilize topics from previous trec tracks such as the deep learning dl track because human judgments are available on the ms marco v2 corpora and researchy questions 51 as it covers a wide range of topics based on clueweb22 423 our framework ragnaru00f6k is an opensource reproducible and reusable framework implementing an endtoend retrievalaugmented generation rag pipeline comprising two modules applied sequentially 1 r re trieval and 2 ag augmented generation through the ragnaru00f6k framework we will provide several baselines to all participants in the upcoming trec 2024 rag track an overview of the frame work is provided in figure 1 we first describe both modules and expand on the io specifications in our framework retrieval module this module retrieves the relevant segments for a user topic as the input it supports i firststage lexical re trieval models such as bm25 49 and ii reranking models such as rankzephyr 47 the retrieval system searches for relevant segments in the document collection and retrieves the top 100seg ments further reranked by the reranker model to filter out the top20relevant segments for the next stage augmented generation module this module takes in the user topic and the top 20retrieved segments from the retrieval module as the input and a prompting strategy to the large language model llm to generate the answer response with incontext citations for the topic the answer response is divided into individual sentences each sentence within the answer contains text and is grounded on retrieved documents provided as references 31 rag inputoutput definitions rag input the input specifications are straightforward as the user can formulate any question they wish to ask provide the user topic and call our ragnaru00f6k restapi framework rag output the user receives a json output in response to their topic from the ragnaru00f6k framework the first key in the output json schema references provides an ordered list of the top 20 ranked segment ids from our retrieval module next answer pro vides the llmgenerated rag answer to the user topic presented as a toptobottom list of sentencelevel texts with corresponding seg ment citations all citations are zerobased indexed indicating the exact position of the segment id from the references list finally response_length provides the total count of the text characters present in the output rag answer mimetype textplain start_char_idx 0 end_char_idx 5569 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 75ffb78f09784611b7bdbe7a93f83a6c embedding null metadata page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 1183b50b2a624851bcfcbdc5b3d0864b node_type 4 metadata page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash aee8796a813c0b2082673989703925c24697f589646b776db4a8600124dea651 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024",
        "mimetype": "text/plain",
        "start_char_idx": 492529,
        "end_char_idx": 498711,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "635f38ad-935d-4b94-9073-ad0a7c655bb7",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d16a08da-d48d-4a4c-8037-dd83861f32ed",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e86c8b16f4dd879ab803bb3158aebc1d295c6777097edba380c2340528bcd33e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "aa0d4a8b-7cfa-483f-a37e-1792154fc1a6",
                "node_type": "1",
                "metadata": {},
                "hash": "cd3a97ba9382afa8ae358c68eea66825b86cda06e3f11a8500782974e86bd6cb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 1183b50b2a624851bcfcbdc5b3d0864b node_type 4 metadata page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash aee8796a813c0b2082673989703925c24697f589646b776db4a8600124dea651 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa table 1 comparison of document and segment counts be tween versions v2 and v21 mimetype textplain start_char_idx 139358 end_char_idx 145985 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 105fd359bf76406a9a2a94f5b9f10f4b embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 283934 end_char_idx 290418 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ e96b567e8d794a6682a1532d1f17b13e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7bd30ee03a3f450d8dfc9ffb863cfce6 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash f78206977a64d1691e7ff32bae8ee5bedc95891c32c866a5af68969d1ebf9bb1 class_name relatednodeinfo  3  node_id bae1d0d27d0641bfb2f223d84469993c node_type 1 metadata  hash 638e40d8a5980b28c34f33f96e9aa908fab85300a48df77e8b618103189846a7 class_name relatednodeinfo   text text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 105fd359bf76406a9a2a94f5b9f10f4b embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id cd3e9fbfd26e4dc5bca5196416e49989 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 201eefbdb5ffa3c45ca60add7a200c907d067c893a0420c1c1af8322bd929e0f class_name relatednodeinfo 3 node_id da5a88803e1c4d15b08417e39cec21b7 node_type 1 metadata hash 7b32e11269258d73cc0e5843ceac01520ace9aaa328d432f765c5d696f7c308b class_name relatednodeinfo text relationships 1 node_id 1183b50b2a624851bcfcbdc5b3d0864b node_type 4 metadata page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 498088,
        "end_char_idx": 502696,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "aa0d4a8b-7cfa-483f-a37e-1792154fc1a6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "635f38ad-935d-4b94-9073-ad0a7c655bb7",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "db7a73b4979709a9066214b628e527a07a8611fcfc0e6a4ad28235aedf1c442f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "64190caa-acfe-494d-8b77-a9c907159e5a",
                "node_type": "1",
                "metadata": {},
                "hash": "8ba3742aefe1115d06f7e98ee26311a8f2ef1d69cd0bf007da0375ec26982102",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo 3 node_id da5a88803e1c4d15b08417e39cec21b7 node_type 1 metadata hash 7b32e11269258d73cc0e5843ceac01520ace9aaa328d432f765c5d696f7c308b class_name relatednodeinfo text relationships 1 node_id 1183b50b2a624851bcfcbdc5b3d0864b node_type 4 metadata page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash aee8796a813c0b2082673989703925c24697f589646b776db4a8600124dea651 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa table 1 comparison of document and segment counts be tween versions v2 and v21 our version after removing near duplicates of the ms marco collection collection version v2 version v21 ours ms marco document 11959635 10960555 ms marco segment 124131414 113520750 4 document collection the ms marco v2 document collection earlier used in the trec dl tracks contains a substantial overlap of nearduplicates docu ments with sufficiently similar text information within the collec tion 1617 when left intact these nearduplicates degrade the downstream retrieval accuracy and reduce the diversity of the col lected documents potentially impacting the effectiveness of rag systems in addition chunking which breaks down a long verbose document into smaller compact representations is a key challenge in rag as the retrieved chunk representations correlate with the rag answer quality 34 ms marco v21 document collection we conduct a deduplica tion strategy in the ms marco v2 document collection to avoid nearduplicates in two stages in the first stage we establish an equivalence class of the documents using locality sensitive hashing lsh with minhash 11 and 9gram shingles next we selected a representative document for each equivalence class for our refined ms marco v21 document collection2reducing the duplicates in the original ms marco v2 document collection by 835 as shown in table 1 ms marco v21 segment collection we segment the ms marco v21 document collection into overlapping segments or chunks and develop the ms marco v21 segment collection3with more than 113 million text segments table 1 we utilize a sliding window technique to generate the segments by fixing the sliding window size of 10 sentences and a stride of 5 sentences to create each seg ment roughly on average between 5001000 characters long to easily map each segment back to the document every segment contains the document id within the segment id further two new fields start_char andend_char indicate the start and the end position character of where the segment begins and ends in the mapped ms marco v21 document collection 5 topic collection topics ie user queries are crucial for robust evaluation of rag systems traditionally popular retrieval and traditional qa bench marks primarily consist of factoid queries where answers are typi cally found within a single sentence or paragraph however these topics lack complexity leading to short answers that can be easily memorized by llms for instance ms marco 8 surprisingly con tains up to 55 factoid queries 951 to avoid shortform answers in rag we utilize two collections containing nonfactoid topics covering information about diverse topics and requiring longform answers we describe these collections below 2ms marco v21 document collection msmarco_v21_doctar 3ms marco v21 segment collection msmarco_v21_doc_segmentedtartable 2 trecraggy and trecresearchy 2024 topic dis tribution the table shows the top 5categories in topic clas sification for trecraggy intrinsic attributes for trec researchy and the first word in all topics definitions in more detail can be found in appendix a b trecraggy 2024 trecresearchy 2024 topic category first word intrinsic attributes first word aggregation 242 what 375 knowledgeintensive 798 how 410 simple w cond 233 how 275 multifaceted 757 why 255 set 208 why 33 reasoningintensive 755 what 150 simple 100 is 25 subjective 485 is 52 comparison 67 when 17 assumptive 257 should 22 trecraggy 2024 we develop trecraggy 2024 a collection with topics filtered from trec deep learning 20212023 tracks 15 17 based on topic category and generatedanswer classification we classify each available topic into seven categories described in appendix a and filter out a subset of topics that either have a long form answer or require information aggregation across multiple sources of information out of the 210 original topics available we filter and include mimetype textplain start_char_idx 289698 end_char_idx 295518 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ bae1d0d27d0641bfb2f223d84469993c embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id e96b567e8d794a6682a1532d1f17b13e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 502193,
        "end_char_idx": 508004,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "64190caa-acfe-494d-8b77-a9c907159e5a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "aa0d4a8b-7cfa-483f-a37e-1792154fc1a6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5346e59af342ca59aba016ff7a743c2d053b06440f9cf828317e30b2d75b1778",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "fd643c56-2497-489b-a872-a7af7800e4bd",
                "node_type": "1",
                "metadata": {},
                "hash": "c879db32c41d2a3af36dfb3ca8be7a67d16233a289646a7d2f65dab4d762b764",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id e96b567e8d794a6682a1532d1f17b13e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 215c0e76ca7c68f5afcec8eb3f6192555df781748a6dad1e9ea4760b701e8c02 class_name relatednodeinfo  3  node_id 0b8a381c45284dcbb7b08129007c836c node_type 1 metadata  hash 1ee390ba69cea462157151f358cff02416138dd57a132221e186319c938b6724 class_name relatednodeinfo   text and the first word in all topics definitions in more detail can be found in appendix a b trecraggy 2024 trecresearchy 2024 topic category first word intrinsic attributes first word aggregation 242 what 375 knowledgeintensive 798 how 410 simple w cond 233 how 275 multifaceted 757 why 255 set 208 why 33 reasoningintensive 755 what 150 simple 100 is 25 subjective 485 is 52 comparison 67 when 17 assumptive 257 should 22 trecraggy 2024 we develop trecraggy 2024 a collection with topics filtered from trec deep learning 20212023 tracks 15 17 based on topic category and generatedanswer classification we classify each available topic into seven categories described in appendix a and filter out a subset of topics that either have a long form answer or require information aggregation across multiple sources of information out of the 210 original topics available we filter and include 120 topics 571 in the trecraggy 2024 topic collection4from table 2 we observe 242 of the topics included are aggregation indicating rag systems require to aggregate information from multiple retrieved segments to generate an accu rate longform answer similarly 65 of the topics start with what or how overall a majority of the topics are useful for evaluation containing diverse topic categories requiring a longform answer trecresearchy 2024 researchy questions introduced in ros set et al 51 contains 102k nonfactoid topics with longform answers these topics were curated from bing search logs and eval uated by gpt4 on a scale of 010 based on eight intrinsic attributes such as subjectivity and multifacetedness definitions provided in appendix b notably unlike trecraggy 2024 these queries lack relevance judgments to curate a smaller development subset for a faster evaluation of rag systems we employ a sampler designed to maximize diversity based on the eight intrinsic attributes this is achieved by iteratively selecting the query with the highest ud835udc591 norm in the intrinsic attribute space of all eight dimensions rela tive to the alreadysampled set the resultant topic set we dub as trecresearchy 20245from table 2 about 80 of the topics are knowledgeintensive and about 76 are multifaceted highlighting the need for effective rag systems additionally 665 of topics start with how or why emphasizing explanatory questions these distributions suggest that trecresearchy 2024 prioritizes complex and multidimensional topics 6 trec 2024 rag baselines retrieval our retrieval module integrates both firststage retriev ers and rerankers we use bm25 available in anserini 57 with the following default parameters ud835udc58109andud835udc4f04 to retrieve the top 100segments for a given topic next rankzephyr 47 a stateoftheart listwise reranker is used to rerank the top 100can didates we use rankzephyr ud835udf0c a variant that reranks the candidates progressively ie makes three passes iteratively refining the final 4trecraggy mimetype textplain start_char_idx 145350 end_char_idx 151867 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ da5a88803e1c4d15b08417e39cec21b7 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 105fd359bf76406a9a2a94f5b9f10f4b node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 6d90e5afa3ec38d67b2b6a3f22943a21e956e055426b3567f8776eebe529e140 class_name relatednodeinfo 3 node_id 867a70b2c1934519a81fcfba9bfe2ef3 node_type 1 metadata hash 959b38e71cb48598e46e4e5a906dbd1ba11b661debd09e61f3d112dd478ee4ba class_name relatednodeinfo text set we dub as trecresearchy 20245from table 2 about 80 of the topics are knowledgeintensive and about 76 are multifaceted highlighting the need for",
        "mimetype": "text/plain",
        "start_char_idx": 507406,
        "end_char_idx": 512738,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "fd643c56-2497-489b-a872-a7af7800e4bd",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "64190caa-acfe-494d-8b77-a9c907159e5a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "fa62e9a91a4c4a1da3267d708be623b84b04e13d2467dcdf87c4f7c58d5f8f45",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6bf8a04a-396d-411b-92e8-280a7b598a70",
                "node_type": "1",
                "metadata": {},
                "hash": "3e135be41d10cff175d688981aefd935aa9ed06537f2b1ceb70dd6ecdc8303fe",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 6d90e5afa3ec38d67b2b6a3f22943a21e956e055426b3567f8776eebe529e140 class_name relatednodeinfo 3 node_id 867a70b2c1934519a81fcfba9bfe2ef3 node_type 1 metadata hash 959b38e71cb48598e46e4e5a906dbd1ba11b661debd09e61f3d112dd478ee4ba class_name relatednodeinfo text set we dub as trecresearchy 20245from table 2 about 80 of the topics are knowledgeintensive and about 76 are multifaceted highlighting the need for effective rag systems additionally 665 of topics start with how or why emphasizing explanatory questions these distributions suggest that trecresearchy 2024 prioritizes complex and multidimensional topics 6 trec 2024 rag baselines retrieval our retrieval module integrates both firststage retriev ers and rerankers we use bm25 available in anserini 57 with the following default parameters ud835udc58109andud835udc4f04 to retrieve the top 100segments for a given topic next rankzephyr 47 a stateoftheart listwise reranker is used to rerank the top 100can didates we use rankzephyr ud835udf0c a variant that reranks the candidates progressively ie makes three passes iteratively refining the final 4trecraggy 2024 topic collection topicsrag24raggydevtxt 5trecresearchy 2024 topic collection topicsrag24researchydevtxt mimetype textplain start_char_idx 0 end_char_idx 6185 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 0801ed8c0de3436b8fadc2e79d6e4858 embedding null metadata page_label 4 file_name ragnaru00f6kpdf file_path mimetype textplain start_char_idx 294633 end_char_idx 300208 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0b8a381c45284dcbb7b08129007c836c embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id bae1d0d27d0641bfb2f223d84469993c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 0874708b67b2778b5dcdf2aad7466eff610198c9940b48481921da09e1f13865 class_name relatednodeinfo  3  node_id 287e914313cd4ec78bf9ca411cdd37eb node_type 1 metadata  hash f9aa622f0abfd099fe34fe46722f9b4581126e9df11c85ec8dc50a70d3b988ae class_name relatednodeinfo   text 57 with the following default parameters ud835udc58109andud835udc4f04 to retrieve the top 100segments for a given topic next rankzephyr 47 a stateoftheart listwise reranker is used to rerank the top 100can didates we use rankzephyr ud835udf0c a variant that reranks the candidates progressively ie makes three passes iteratively refining the final 4trecraggy 2024 topic collection topicsrag24raggydevtxt 5trecresearchy 2024 topic collection topicsrag24researchydevtxt mimetype textplain start_char_idx 0 end_char_idx 6185 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 0801ed8c0de3436b8fadc2e79d6e4858 embedding null metadata page_label 4 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 09d8203fc20c42fe954f5f512567f27f node_type 4 metadata page_label 4 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash c088c4fa2fc2d9855a0f32eb54622c9b4aa101b1237679c5c8184be7cab18d65 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al ranked candidate list to achieve better precision an easytouse implementation of rankzephyr is available via the rank_llm pack age along with various other rerankers like rankgpt 53 which we provide as secondary baselines finally the top 20reranked documents from the document collection are passed onto the next stage for rag generation augmented generation our generation module integrates two popular and commercially available llms i command r is coheres instruction following llm developed",
        "mimetype": "text/plain",
        "start_char_idx": 512214,
        "end_char_idx": 517178,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6bf8a04a-396d-411b-92e8-280a7b598a70",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "fd643c56-2497-489b-a872-a7af7800e4bd",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "57a6148231d303ea056fe243a4ec742899a83bcaa18e3b42fcf411339eaf6f2c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9444d57b-2500-4f2f-a195-9bc3bf008131",
                "node_type": "1",
                "metadata": {},
                "hash": "49497aea51616ae9a0f2d66361d7111d99e91b7acd1775178fb54e37883ae017",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash c088c4fa2fc2d9855a0f32eb54622c9b4aa101b1237679c5c8184be7cab18d65 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al ranked candidate list to achieve better precision an easytouse implementation of rankzephyr is available via the rank_llm pack age along with various other rerankers like rankgpt 53 which we provide as secondary baselines finally the top 20reranked documents from the document collection are passed onto the next stage for rag generation augmented generation our generation module integrates two popular and commercially available llms i command r is coheres instruction following llm developed for complex rag pipelines 14 ii gpt4o is the latest gpt version from ope nai 41 given that command r cites in a span level we map the citations to their parent sentences for gpt4o we follow the zeroshot chatqa prompt template 35 and cite relevant segments within the text inline using the ieee format an example of the prompt template is shown in figure 2 in the appendix ragbench evaluation evaluating different rag answers is chal lenging as multiple factors within the output response are crucial for effectiveness evaluation to combat this recent works rely on an llmasajudge setup 58 where strong llm assessors judge the raggenerated output in a pairwise evaluation style sidebyside in a headon tournament in our work we briefly overview our baseline techniques using human evaluators a complete illustra tion can be found in table 4 in the appendix the command r baseline outputs shorter answers and cites more relevant segments whereas the gpt4o baseline outputs longer and more detailed answers and cites fewer segments therefore for topics in both trecraggy and trecresearchy 2024 gpt4o intuitively is the better choice for rag answer generation we leave it for future work to empirically compute the win rates in between our baselines in the ragbench evaluation 61 ragnaru00f6k system arena heavily inspired by the success of chatbot arena 1358 a crowd sourcing benchmark webui featuring anonymous battles we ex tend the concept to multistage configurable rag pipelines with ragnaru00f6k in the arena users interact with two unblindedblinded rag systems simultaneously issuing the same topic to both the participants evaluate and select the pipeline that delivers their most preferred response with the identities of the modules in the endto end pipeline revealed after the voting process in the blinded case we leverage gradio 1 to build the webui for ragnaru00f6k each step of the pipeline uses rest apis for intercommunication enabling easy module switching within the pipeline this modular design simplifies the integration of different retrieval and llm configura tions enhancing scalability and maintainability figure 3 in the appendix illustrates an example topic what inspired pink floyds the wall processed by two different pipelines pipeline a comprising bm25 rankzephyrgpt4o left and pipeline b comprising bm25 rankgpt4ocommand r right in the unblinded tab the outputs generated by each pipeline are compared allowing users to discern which system provided a more satisfactory answer note that when the user hovers the mouse over a citation they can preview the cited segment further in appendix c we discuss the blinded pairwise evaluation and the responses json output tab available in the webui for ragnaru00f6k7 ongoing work ragnaru00f6k is the first step for the ongoing work in the trec 2024 rag track by releasing the document collections development topics and baseline strategies for participants we will continue to update the pipelines to include more diverse retrieval models including stateoftheart dual encoders such as articembed 38 and effective pointwisepairwise rerankers 45 we plan to add additional support for more advanced rag techniques like self rag 7 and crag 56 for the trec 2024 rag track test topics we plan to conduct a new and fresh scrape of the bing search logs closer to the submission period this approach will compile a fresh and recent set of topics similar to rosset et al 51 thereby mini mizing the risk of data leakage and ensuring a fair evaluation with existing commercially available llms the next phase of our efforts will focus on finalizing the eval uation methodology using an automatic nuggetbased evaluation following earlier work in lin and demnerfushman 30 and first discussed in the trec rag 2024 presentation deck6the nugget based evaluation is recently gaining popularity 263748 and is becoming the de facto strategy for rag evaluation 8 conclusion mimetype textplain start_char_idx 151012 end_char_idx 157384 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 867a70b2c1934519a81fcfba9bfe2ef3 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 mimetype textplain start_char_idx 299472 end_char_idx 305768 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 287e914313cd4ec78bf9ca411cdd37eb embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0b8a381c45284dcbb7b08129007c836c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 516422,
        "end_char_idx": 522681,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9444d57b-2500-4f2f-a195-9bc3bf008131",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6bf8a04a-396d-411b-92e8-280a7b598a70",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "8bc79f05ca3a56c35e4aaed2fe99a9d58c23c5ba9d462265fd54da316da1af60",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a8e9186c-55f4-4991-a851-d5455a19e02a",
                "node_type": "1",
                "metadata": {},
                "hash": "673284de83a8a2312b3889fed7ca13ee74c136b4aa77b585602144b97ac61a39",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0b8a381c45284dcbb7b08129007c836c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash bf82f48b293074295e35254b108c0f4e66ce96eec7043c64afa81e491f9cf3d7 class_name relatednodeinfo  3  node_id 8cab9ff6606e4b93be4febe777c6c613 node_type 1 metadata  hash bc5d5c0f1b2dc517b21b5be8b91fa8884586eb71948c537863a53c5eb09f99fd class_name relatednodeinfo   text and ensuring a fair evaluation with existing commercially available llms the next phase of our efforts will focus on finalizing the eval uation methodology using an automatic nuggetbased evaluation following earlier work in lin and demnerfushman 30 and first discussed in the trec rag 2024 presentation deck6the nugget based evaluation is recently gaining popularity 263748 and is becoming the de facto strategy for rag evaluation 8 conclusion mimetype textplain start_char_idx 151012 end_char_idx 157384 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 867a70b2c1934519a81fcfba9bfe2ef3 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id da5a88803e1c4d15b08417e39cec21b7 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 04441e562c748d1ad6ceb1f92459dd4376a44f72d1fbccba3947e0968d32e1a5 class_name relatednodeinfo 3 node_id 3cec131de33846afa61d4d0f9741e28c node_type 1 metadata hash d3944536cf0ccc98c841328ef76befcb30fedb5f8bd6bb11197f2b987a3fa3c6 class_name relatednodeinfo text update the pipelines to include more diverse retrieval models including stateoftheart dual encoders such as articembed 38 and effective pointwisepairwise rerankers 45 we plan to add additional support for more advanced rag techniques like self rag 7 and crag 56 for the trec 2024 rag track test topics we plan to conduct a new and fresh scrape of the bing search logs closer to the submission period this approach will compile a fresh and recent set of topics similar to rosset et al 51 thereby mini mizing the risk of data leakage and ensuring a fair evaluation with existing commercially available llms the next phase of our efforts will focus on finalizing the eval uation methodology using an automatic nuggetbased evaluation following earlier work in lin and demnerfushman 30 and first discussed in the trec rag 2024 presentation deck6the nugget based evaluation is recently gaining popularity 263748 and is becoming the de facto strategy for rag evaluation 8 conclusion the emergence of retrievalaugmented generation rag has rev olutionized modern search systems by allowing realtime data in corporation into large language models llms in our work we develop a reusable endtoend framework ragnaru00f6k providing reproducible baselines and a webui serving a rag battle arena for retriever reranker and generation models we also introduce the ms marco v21 collection carefully curated topics from the trecdl 20212023 queries and researchy questions and io defi nitions to assist users in the rag paradigm additionally the paper identifies key industrial baselines such as coheres command r and openais gpt4o and includes a qualitative analysis of the baselines on the development topics by opensourcing this frame work we aim to standardize rag applications in preparation for the upcoming trec 2024 rag challenge acknowledgments we thank ian soboroff for the ms marco v2 document collection deduplication for our trec 2024 rag track cohere for providing us with the necessary credits to evaluate commandr and mi crosoft for providing azure credits to evaluate gpt4o additionally we thank corby rosset for the discussions surrounding researchy questions 51 references 1abubakar abid ali abdalla ali abid dawood khan abdulrahman alfozan and james y zou 2019 gradio hasslefree sharing and testing of ml models in the wild corr abs190602569 2019 arxiv190602569 httparxivorgabs 190602569 2marwah alaofi negar arabzadeh charles l a clarke and mark sanderson 2024 generative information retrieval evaluation corr abs240408137 2024 httpsdoiorg1048550arxiv240408137 arxiv240408137 3mohammad aliannejadi zahra abbasiantaeb",
        "mimetype": "text/plain",
        "start_char_idx": 522083,
        "end_char_idx": 527400,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a8e9186c-55f4-4991-a851-d5455a19e02a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9444d57b-2500-4f2f-a195-9bc3bf008131",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5963c13b3258bd849728eb43258dd1adde186f384d2aed19c3c608ce9cfec895",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ce800f9e-1aa9-416a-88df-bc9a0da0cc2f",
                "node_type": "1",
                "metadata": {},
                "hash": "8287a221f60cec81032f92fd8d3c7febb66727675ddf72796a7d7611e372fc3b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "collection deduplication for our trec 2024 rag track cohere for providing us with the necessary credits to evaluate commandr and mi crosoft for providing azure credits to evaluate gpt4o additionally we thank corby rosset for the discussions surrounding researchy questions 51 references 1abubakar abid ali abdalla ali abid dawood khan abdulrahman alfozan and james y zou 2019 gradio hasslefree sharing and testing of ml models in the wild corr abs190602569 2019 arxiv190602569 httparxivorgabs 190602569 2marwah alaofi negar arabzadeh charles l a clarke and mark sanderson 2024 generative information retrieval evaluation corr abs240408137 2024 httpsdoiorg1048550arxiv240408137 arxiv240408137 3mohammad aliannejadi zahra abbasiantaeb shubham chatterjee jeffery dal ton and leif azzopardi 2024 trec ikat 2023 the interactive knowledge assistance track overview corr abs240101330 2024 httpsdoiorg10 48550arxiv240101330 arxiv240101330 6httpscsuwaterlooca jimmylinpublicationslin_etal_trec2023planningpdf mimetype textplain start_char_idx 0 end_char_idx 6383 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 9e29491fc0de4f22b453b9b69d2361b6 embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 49d4dc894e1a44cc83b89bffa3136455 node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf mimetype textplain start_char_idx 304892 end_char_idx 310349 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 8cab9ff6606e4b93be4febe777c6c613 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 287e914313cd4ec78bf9ca411cdd37eb node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b39da9c83a6e3f3534b02c7e3fc1190682b23b8c4f3fd9afc2ade19ceef2f029 class_name relatednodeinfo  3  node_id 7522f546af3d4cf2bd79a83cf07d1293 node_type 1 metadata  hash 0b793a07bdabd8797773f46abafa52ad6255495427f86f6b8d31ea2de2390f41 class_name relatednodeinfo   text 6383 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 9e29491fc0de4f22b453b9b69d2361b6 embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 49d4dc894e1a44cc83b89bffa3136455 node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo 3 node_id bae04d04fc9c414ebf4cd7941842a168 node_type 1 metadata hash f8592af8718ae1fd9c1dd37d50dc4c967a34a1117643ba1765806e6da549d0d9 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa 4samuel joseph amouyal ohad rubin ori yoran tomer wolfson jonathan herzig and jonathan berant 2022 qampari an opendomain question answering benchmark for questions with many answers from multiple para graphs corr abs220512665 2022 httpsdoiorg1048550arxiv220512665 arxiv220512665 5rohan anil sebastian borgeaud yonghui wu jeanbaptiste",
        "mimetype": "text/plain",
        "start_char_idx": 526668,
        "end_char_idx": 531297,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ce800f9e-1aa9-416a-88df-bc9a0da0cc2f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a8e9186c-55f4-4991-a851-d5455a19e02a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "504d684d681a9bd2dd5d98e3bfa7988565aca41acbef397e2583e9ff776c513f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9e9a8e32-ae26-4df1-9576-5055033b9849",
                "node_type": "1",
                "metadata": {},
                "hash": "c2e6889d875792d2f0984992c48d3c74bf97cc20d0abac222b78819f6b958770",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "bae04d04fc9c414ebf4cd7941842a168 node_type 1 metadata hash f8592af8718ae1fd9c1dd37d50dc4c967a34a1117643ba1765806e6da549d0d9 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa 4samuel joseph amouyal ohad rubin ori yoran tomer wolfson jonathan herzig and jonathan berant 2022 qampari an opendomain question answering benchmark for questions with many answers from multiple para graphs corr abs220512665 2022 httpsdoiorg1048550arxiv220512665 arxiv220512665 5rohan anil sebastian borgeaud yonghui wu jeanbaptiste alayrac jiahui yu radu soricut johan schalkwyk andrew m dai anja hauth katie mil lican david silver slav petrov melvin johnson ioannis antonoglou julian schrittwieser amelia glaese jilin chen emily pitler timothy p lillicrap ange liki lazaridou orhan firat james molloy michael isard paul ronald barham tom hennigan benjamin lee fabio viola malcolm reynolds yuanzhong xu ryan doherty eli collins clemens meyer eliza rutherford erica moreira ka reem ayoub megha goel george tucker enrique piqueras maxim krikun iain barr nikolay savinov ivo danihelka becca roelofs anau00efs white an ders andreassen tamara von glehn lakshman yagati mehran kazemi lu cas gonzalez misha khalman jakub sygnowski and et al 2023 gemini a family of highly capable multimodal models corr abs231211805 2023 httpsdoiorg1048550arxiv231211805 arxiv231211805 mimetype textplain start_char_idx 156409 end_char_idx 161688 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3cec131de33846afa61d4d0f9741e28c embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 867a70b2c1934519a81fcfba9bfe2ef3 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash df3ca09c545a41d353ec529a6366eec396df2293f3260199e6f5a04fc8d9b33e class_name relatednodeinfo 3 node_id c8a02b4a58414769bfd4dda459305f28 node_type 1 metadata hash af1283b9b42c213177c615d49a017f4781b1e773845f71ebf5e2aa2cb0bf0eef class_name relatednodeinfo text chen emily pitler timothy p lillicrap ange liki lazaridou orhan firat james molloy michael isard paul ronald barham tom hennigan benjamin lee fabio viola malcolm reynolds yuanzhong xu ryan doherty eli collins clemens meyer eliza rutherford erica moreira ka reem ayoub megha goel george tucker enrique piqueras maxim krikun iain barr nikolay savinov ivo danihelka becca roelofs anau00efs white an ders andreassen tamara von glehn lakshman yagati mehran kazemi lu cas gonzalez misha khalman jakub sygnowski and et al 2023 gemini a family of highly capable multimodal models corr abs231211805 2023 httpsdoiorg1048550arxiv231211805 arxiv231211805 6negar arabzadeh and charles l a clarke 2024 a comparison of methods for evaluating generative ir corr abs240404044 2024 mimetype textplain start_char_idx 309683 end_char_idx 314190 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7522f546af3d4cf2bd79a83cf07d1293 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 8cab9ff6606e4b93be4febe777c6c613 node_type 1",
        "mimetype": "text/plain",
        "start_char_idx": 530665,
        "end_char_idx": 535216,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9e9a8e32-ae26-4df1-9576-5055033b9849",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ce800f9e-1aa9-416a-88df-bc9a0da0cc2f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "1f53308ff32ad5760aaece91249335df3de7ecd53d6a52e87edd43c2092abad5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2dcb0959-0371-42e8-9c6b-975a7478e8b8",
                "node_type": "1",
                "metadata": {},
                "hash": "013d02fe1d133996b4bdc412a4b2b7f9f33ee0538d31225364972423fd9d8142",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 8cab9ff6606e4b93be4febe777c6c613 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 765f3e8746b04ce1762118f7d044962343fd482bd91a6ff09f688bd8293e8bd8 class_name relatednodeinfo  3  node_id bdca4aa96f494aa5b31937081051ada4 node_type 1 metadata  hash 6dac312a3a060ff02104dcd26fa998a0572d7b553fd3e6dd4dea7a4ffa23b07e class_name relatednodeinfo   text hennigan benjamin lee fabio viola malcolm reynolds yuanzhong xu ryan doherty eli collins clemens meyer eliza rutherford erica moreira ka reem ayoub megha goel george tucker enrique piqueras maxim krikun iain barr nikolay savinov ivo danihelka becca roelofs anau00efs white an ders andreassen tamara von glehn lakshman yagati mehran kazemi lu cas gonzalez misha khalman jakub sygnowski and et al 2023 gemini a family of highly capable multimodal models corr abs231211805 2023 httpsdoiorg1048550arxiv231211805 arxiv231211805 6negar arabzadeh and charles l a clarke 2024 a comparison of methods for evaluating generative ir corr abs240404044 2024 httpsdoiorg1048550 arxiv240404044 arxiv240404044 7akari asai zeqiu wu yizhong wang avirup sil and hannaneh hajishirzi 2023 selfrag learning to retrieve generate and critique through self reflection corr abs231011511 2023 httpsdoiorg1048550arxiv2310 11511 arxiv231011511 8payal bajaj daniel campos nick craswell li deng jianfeng gao xiaodong liu rangan majumder andrew mcnamara bhaskar mitra tri nguyen mir rosenberg xia song alina stoica saurabh tiwary and tong wang 2016 ms marco a human generated machine reading comprehension dataset corr abs161109268 2016 arxiv161109268 httparxivorgabs161109268 9valeria bolotova vladislav blinov falk scholer w bruce croft and mark sander son 2022 a nonfactoid questionanswering taxonomy in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 11961207 httpsdoiorg10114534774953531926 10 sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza ruther ford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen simonyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international con ference on machine learning icml 2022 1723 july 2022 baltimore maryland usa proceedings of machine learning research vol 162 kamalika chaudhuri stefanie jegelka le song csaba szepesvu00e1ri gang niu and sivan sabato eds pmlr 22062240 httpsproceedingsmlrpressv162borgeaud22ahtml 11 andrei z broder 1997 on the resemblance and containment of documents incompression and complexity of sequences 1997 positano amalfitan coast salerno italy june 1113 1997 proceedings bruno carpentieri alfredo de santis ugo vaccaro and james a storer eds ieee 2129 httpsdoiorg101109 sequen1997666900 12 harrison chase 2022 langchain httpsgithubcomlangchainailangchain 13 weilin chiang lianmin zheng ying sheng anastasios nikolas angelopoulos tianle li dacheng li hao zhang banghua zhu michael i jordan joseph e gonzalez and ion stoica 2024 chatbot arena an open platform for evaluating llms by human preference corr abs240304132 2024 httpsdoiorg10 48550arxiv240304132 arxiv240304132 14 cohere 2024 introducing command r a scalable llm built for business https coherecomblogcommandrplusmicrosoftazure 15 nick craswell bhaskar mitra emine yilmaz daniel campos and jimmy lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela ellis eds national institute of standards and",
        "mimetype": "text/plain",
        "start_char_idx": 534605,
        "end_char_idx": 539269,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2dcb0959-0371-42e8-9c6b-975a7478e8b8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9e9a8e32-ae26-4df1-9576-5055033b9849",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3c0ce6281f29b0e24861ec13c7c003284a7eed5f15ee6d3ded65b195078b1f65",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b4d58534-27d6-4b19-b187-8e6642bc5ea6",
                "node_type": "1",
                "metadata": {},
                "hash": "aa9f0d72bba31851a6eeffa1dcb4550c32c3324eaac012203167bd38f4fccae2",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "zheng ying sheng anastasios nikolas angelopoulos tianle li dacheng li hao zhang banghua zhu michael i jordan joseph e gonzalez and ion stoica 2024 chatbot arena an open platform for evaluating llms by human preference corr abs240304132 2024 httpsdoiorg10 48550arxiv240304132 arxiv240304132 14 cohere 2024 introducing command r a scalable llm built for business https coherecomblogcommandrplusmicrosoftazure 15 nick craswell bhaskar mitra emine yilmaz daniel campos and jimmy lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell mimetype textplain start_char_idx 0 end_char_idx 4847 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ bae04d04fc9c414ebf4cd7941842a168 embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 49d4dc894e1a44cc83b89bffa3136455 node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path mimetype textplain start_char_idx 161046 end_char_idx 165876 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c8a02b4a58414769bfd4dda459305f28 embedding null metadata file_path mimetype textplain start_char_idx 313547 end_char_idx 318488 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ bdca4aa96f494aa5b31937081051ada4 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7522f546af3d4cf2bd79a83cf07d1293 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c47f6bcf4a5f5cfcfc26af0ddf27678b3414f43bbbce119d51770324f7b4c0a1 class_name relatednodeinfo  3  node_id 0b51087bafe14f7ab73083888e553cfe node_type 1 metadata  hash ae93cf92db6fa613817b2a9c3de6f0256074d481a03262bc4a5b8db000706d46 class_name relatednodeinfo   text embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 49d4dc894e1a44cc83b89bffa3136455 node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path mimetype textplain start_char_idx 161046 end_char_idx 165876 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c8a02b4a58414769bfd4dda459305f28 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 3cec131de33846afa61d4d0f9741e28c node_type 1 metadata file_path",
        "mimetype": "text/plain",
        "start_char_idx": 538540,
        "end_char_idx": 543423,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b4d58534-27d6-4b19-b187-8e6642bc5ea6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2dcb0959-0371-42e8-9c6b-975a7478e8b8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "cf6d427a3ce6f54cdae060d8a03e4b0d1f6a1d027a7013e5e9e9a533895fb5b3",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b07847d5-15b7-4357-924a-277ee0778198",
                "node_type": "1",
                "metadata": {},
                "hash": "aea5539c5b7fa22c5bd578a38d614a801aa854343b9af3e71f4df8c064740dc7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 3cec131de33846afa61d4d0f9741e28c node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash e50af1cf9eed439368e32b591b88250f6a9b89ffe113ed7f94b674efb6c37cfb class_name relatednodeinfo 3 node_id 26914565e5e94e9982ac2d3d9a7d8e94 node_type 1 metadata hash 1dfedf4a4f9d67c3268cfc0cd680c4ab07db8e7797fe4a307c1c100f1698f007 class_name relatednodeinfo text 17 nick craswell mimetype textplain start_char_idx 0 end_char_idx 4847 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ bae04d04fc9c414ebf4cd7941842a168 embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 49d4dc894e1a44cc83b89bffa3136455 node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo 2 node_id 9e29491fc0de4f22b453b9b69d2361b6 node_type 1 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash e3c9e6911f1a65c49be2daa61a96c88d2e00e1f22394c8f60d869027a943298b class_name relatednodeinfo 3 node_id 43082da4b921431a8d6447ba3c1b66ca node_type 1 metadata hash 65cf89cac13ee655fadab85d4f6f66a8c2838dcfefd6a42951ee29e278141a8f class_name relatednodeinfo text lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell bhaskar mitra emine yilmaz hossein a rahmani daniel cam pos jimmy lin ellen m voorhees and ian soboroff 2024 overview of the trec 2023 deep learning track in text retrieval conference trec nist trec httpswwwmicrosoftcomenusresearchpublicationoverviewofthe trec2023deeplearningtrack18 angela fan yacine jernite ethan perez david grangier jason weston and michael auli 2019 eli5 long form question answering in proceedings of the 57th conference of the association for computational linguistics acl 2019 florence italy july mimetype textplain start_char_idx 317814 end_char_idx 322417 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0b51087bafe14f7ab73083888e553cfe embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 542802,
        "end_char_idx": 547417,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b07847d5-15b7-4357-924a-277ee0778198",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b4d58534-27d6-4b19-b187-8e6642bc5ea6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9ae7007052f15b903e8ee77509fe5f05a14eb19f03da4008f8fe049e3d3f033f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "68121b0f-8c32-4465-a3fb-13438c252c49",
                "node_type": "1",
                "metadata": {},
                "hash": "9af01a8459f868ff82427fbccb5bd056bfdecdbbc450b3be699ba2cd4dc025e0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "322417 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0b51087bafe14f7ab73083888e553cfe embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id bdca4aa96f494aa5b31937081051ada4 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b750b3750c11ff7e6f2ac1fb011f35e56a1d1c8f9ab5446b9ec938648179a515 class_name relatednodeinfo  3  node_id 446dd35888ca49248df0c41a53eeb6c2 node_type 1 metadata  hash f7e4384175bff28bef2a171617d641a1546b54747daefe17b77d32557ecf0a88 class_name relatednodeinfo   text trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell bhaskar mitra emine yilmaz hossein a rahmani daniel cam pos jimmy lin ellen m voorhees and ian soboroff 2024 overview of the trec 2023 deep learning track in text retrieval conference trec nist trec httpswwwmicrosoftcomenusresearchpublicationoverviewofthe trec2023deeplearningtrack18 angela fan yacine jernite ethan perez david grangier jason weston and michael auli 2019 eli5 long form question answering in proceedings of the 57th conference of the association for computational linguistics acl 2019 florence italy july 28 august 2 2019 volume 1 long papers anna korhonen david r traum and lluu00eds mu00e0rquez eds association for computational lin guistics 35583567 httpsdoiorg1018653v1p191346 19 tianyu gao howard yen jiatong yu and danqi chen 2023 enabling large language models to generate text with citations in proceedings of the 2023 conference on empirical methods in natural language processing emnlp 2023 singapore december 610 2023 houda bouamor juan pino and kalika bali eds association for computational linguistics 64656488 httpsdoiorg1018653 v12023emnlpmain398 20 yunfan gao yun xiong xinyu gao kangxiang jia jinliu pan yuxi bi yi dai jiawei sun qianyu guo meng wang and haofen wang 2023 retrievalaugmented generation for large language models a survey corr abs231210997 2023 httpsdoiorg1048550arxiv231210997 arxiv231210997 21 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang 2020 retrieval augmented language model pretraining in proceedings of the 37th international conference on machine learning icml 2020 1318 july 2020 virtual event proceedings of machine learning research vol 119 pmlr 39293938 httpproceedingsmlrpressv119guu20ahtml 22 gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open domain question answering in proceedings of the 16th conference of the european chapter of the association for computational linguistics main volume eacl 2021 online april 19 23 2021 paola merlo ju00f6rg tiedemann and reut tsarfaty eds association for computational linguistics 874880 httpsdoiorg1018653v12021eaclmain74 23 antonio jimenoyepes yao you jan milczek sebastian laverde and renyu li 2024 financial report chunking for effective retrieval augmented genera tion corr abs240205131 2024 httpsdoiorg1048550arxiv240205131 arxiv240205131 24 jiajie jin yutao zhu xinyu yang chenghao zhang and zhicheng dou 2024 flashrag a modular toolkit for efficient retrievalaugmented generation research corr abs240513576 2024 arxiv240513576 httpsarxivorgabs 240513576 25 ehsan kamalloo aref jafari mimetype textplain start_char_idx 165220 end_char_idx 170040 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 26914565e5e94e9982ac2d3d9a7d8e94 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 546690,
        "end_char_idx": 551612,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "68121b0f-8c32-4465-a3fb-13438c252c49",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b07847d5-15b7-4357-924a-277ee0778198",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "731178bbe750afe89fa834bb8450a14ce073766cb5d3cce1a11e3ce5d5b408ac",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2d6184b1-42b9-4977-96ce-6f1daf6e44e3",
                "node_type": "1",
                "metadata": {},
                "hash": "9ffed5f329f8a2b6894602147f92e4c7a9d97c538199734571cc806b58985a11",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "165220 end_char_idx 170040 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 26914565e5e94e9982ac2d3d9a7d8e94 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id c8a02b4a58414769bfd4dda459305f28 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash bf6a807c09cf9d1dbf8306ea53dea42d3f2974bb93022b1d52e8fdd5bef652d1 class_name relatednodeinfo 3 node_id e0a08f5f680c4fb7b6af6c33a3f9dc04 node_type 1 metadata hash 5e09c4e633624b29752a73b5be9e784f3c4b5af186fc5b6795b172a5de504e37 class_name relatednodeinfo text association for computational linguistics main volume eacl 2021 online april 19 23 2021 paola merlo ju00f6rg tiedemann and reut tsarfaty eds association for computational linguistics 874880 httpsdoiorg1018653v12021eaclmain74 23 antonio jimenoyepes yao you jan milczek sebastian laverde and renyu li 2024 financial report chunking for effective retrieval augmented genera tion corr abs240205131 2024 httpsdoiorg1048550arxiv240205131 arxiv240205131 24 jiajie jin yutao zhu xinyu yang chenghao zhang and zhicheng dou 2024 flashrag a modular toolkit for efficient retrievalaugmented generation research corr abs240513576 2024 arxiv240513576 httpsarxivorgabs mimetype textplain start_char_idx 321672 end_char_idx 326530 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 446dd35888ca49248df0c41a53eeb6c2 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0b51087bafe14f7ab73083888e553cfe node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 3fb3f84e5da671f24a4e012b4d5307af9e2b75d219a8734308d4cbe80c1b0851 class_name relatednodeinfo  3  node_id 5e149a86e8c641f3b892846b8f69a447 node_type 1 metadata  hash 61fe3985a0bcf7da4c980a79e335aeece1f8a384b9cdcd8e0be7c048da46e16f class_name relatednodeinfo   text class_name relatednodeinfo text association for computational linguistics main volume eacl 2021 online april 19 23 2021 paola merlo ju00f6rg tiedemann and reut tsarfaty eds association for computational linguistics 874880 httpsdoiorg1018653v12021eaclmain74 23 antonio jimenoyepes yao you jan milczek sebastian laverde and renyu li 2024 financial report chunking for effective retrieval augmented genera tion corr abs240205131 2024 httpsdoiorg1048550arxiv240205131 arxiv240205131 24 jiajie jin yutao zhu xinyu yang chenghao zhang and zhicheng dou 2024 flashrag a modular toolkit for efficient retrievalaugmented generation research corr abs240513576 2024 arxiv240513576 httpsarxivorgabs 240513576 25 ehsan kamalloo aref jafari xinyu zhang nandan thakur and jimmy lin 2023 hagrid a humanllm collaborative dataset for generative information seeking with attribution corr abs230716883 2023 httpsdoiorg1048550 arxiv230716883 arxiv230716883 26 urvashi khandelwal omer levy dan jurafsky luke zettlemoyer and mike lewis 2020 generalization through memorization nearest neighbor language models in 8th international conference on learning representations iclr 2020 addis ababa ethiopia april",
        "mimetype": "text/plain",
        "start_char_idx": 550875,
        "end_char_idx": 555484,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2d6184b1-42b9-4977-96ce-6f1daf6e44e3",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "68121b0f-8c32-4465-a3fb-13438c252c49",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e408052f00f32fa32e554fdd85be526d73582633d2a2a631def80c2d2614fd4d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9ec43afb-4762-416a-a73e-c8c0999678fa",
                "node_type": "1",
                "metadata": {},
                "hash": "1b77fffa2cfca7af92a1ccdbcafd0d1a908e3c242f1d9553eb5d51a563bc1762",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "arxiv240205131 24 jiajie jin yutao zhu xinyu yang chenghao zhang and zhicheng dou 2024 flashrag a modular toolkit for efficient retrievalaugmented generation research corr abs240513576 2024 arxiv240513576 httpsarxivorgabs 240513576 25 ehsan kamalloo aref jafari xinyu zhang nandan thakur and jimmy lin 2023 hagrid a humanllm collaborative dataset for generative information seeking with attribution corr abs230716883 2023 httpsdoiorg1048550 arxiv230716883 arxiv230716883 26 urvashi khandelwal omer levy dan jurafsky luke zettlemoyer and mike lewis 2020 generalization through memorization nearest neighbor language models in 8th international conference on learning representations iclr 2020 addis ababa ethiopia april 2630 2020 openreviewnet httpsopenreview netforumidhklbjcekvh 27 sayali kulkarni sheide chammas wan zhu fei sha and eugene ie 2020 aqua muse automatically generating datasets for querybased multidocument summarization corr abs201012694 2020 arxiv201012694 httpsarxivorg abs201012694 28 tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur p parikh chris alberti danielle epstein illia polosukhin jacob de vlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natural questions a benchmark for question answering research trans assoc comput linguistics 7 2019 452466 httpsdoiorg101162tacl_a_00276 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval mimetype textplain start_char_idx 4091 end_char_idx 9223 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 43082da4b921431a8d6447ba3c1b66ca embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 49d4dc894e1a44cc83b89bffa3136455 node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo 2 node_id bae04d04fc9c414ebf4cd7941842a168 node_type 1 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 47ee7bae968976d7d2b42316c1e90976f16600339bade6c2fe3b81d86b80a949 class_name relatednodeinfo text 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval uating answers to complex questions inf retr 9 5 2006 565587 https doiorg101007s1079100690037 31 jimmy lin xueguang ma shengchieh lin jhenghong yang ronak pradeep and rodrigo nogueira 2021 pyserini a python toolkit for reproducible informa tion retrieval research with sparse and dense representations in proceedings of the mimetype textplain start_char_idx mimetype textplain start_char_idx 325843 end_char_idx 330719 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5e149a86e8c641f3b892846b8f69a447 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships",
        "mimetype": "text/plain",
        "start_char_idx": 554766,
        "end_char_idx": 559682,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9ec43afb-4762-416a-a73e-c8c0999678fa",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2d6184b1-42b9-4977-96ce-6f1daf6e44e3",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ab3ed80e7678e3760c07691c19f0931f5f45e83fce033fef25aaa3f82cf8b75e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c80e6090-9751-4b72-ad3f-c9291d3f12a2",
                "node_type": "1",
                "metadata": {},
                "hash": "39dcd18d52454f7975273fe307c25420b245c9fe6b3f7e8ce43cbe130a0a0e9c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "31 jimmy lin xueguang ma shengchieh lin jhenghong yang ronak pradeep and rodrigo nogueira 2021 pyserini a python toolkit for reproducible informa tion retrieval research with sparse and dense representations in proceedings of the mimetype textplain start_char_idx mimetype textplain start_char_idx 325843 end_char_idx 330719 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5e149a86e8c641f3b892846b8f69a447 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 446dd35888ca49248df0c41a53eeb6c2 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 0523e176bd9949acd4cbdabb44409503b79bc1fbe8b702d2086d57f7fb2c0c82 class_name relatednodeinfo  3  node_id 70ff77388a1342b4801f4de6eb165942 node_type 1 metadata  hash 8b1eaddb4cfb956ca1debc5995fbcce6c2f95da451731e9a51c8618ddc66aecb class_name relatednodeinfo   text systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval uating answers to complex questions inf retr 9 5 2006 565587 https doiorg101007s1079100690037 31 jimmy lin xueguang ma shengchieh lin jhenghong yang ronak pradeep and rodrigo nogueira 2021 pyserini a python toolkit for reproducible informa tion retrieval research with sparse and dense representations in proceedings of the mimetype textplain start_char_idx 169347 end_char_idx 174171 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e0a08f5f680c4fb7b6af6c33a3f9dc04 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 26914565e5e94e9982ac2d3d9a7d8e94 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash b4e6636fd19abe2bdcb9d08c893e4c4e1d1a847bc1fc7e449e2d158cbc743a4e class_name relatednodeinfo 3 node_id 520ffa0128c8408392a55bb3e2fd5b0f node_type 1 metadata hash 949d2ac48e014cba94d6f8222e9a77958ed751ea3673d875b58772ec66bf98b3 class_name relatednodeinfo text advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval uating answers to complex questions inf retr 9 5 2006 565587 https doiorg101007s1079100690037 31 jimmy lin xueguang ma shengchieh lin jhenghong yang ronak pradeep and rodrigo nogueira 2021 pyserini a python toolkit for reproducible informa tion retrieval research with sparse and dense representations in proceedings of the 44th annual international acm sigir conference on research and development in information retrieval sigir 2021 23562362 32 stephanie lin jacob hilton and owain evans 2022 truthfulqa measuring how models",
        "mimetype": "text/plain",
        "start_char_idx": 558913,
        "end_char_idx": 563599,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c80e6090-9751-4b72-ad3f-c9291d3f12a2",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9ec43afb-4762-416a-a73e-c8c0999678fa",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4a9a1d7ec4b77c59ce64a8cc95f6ae04809ef027b2a49e274636ef9ddc2df9b3",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b848181f-3fa0-4e78-8e05-a6e1d6b032e1",
                "node_type": "1",
                "metadata": {},
                "hash": "cdba36ec34de076acb68c4d9d4bfd3d81ac6ddee65d9f7553757905c0dd7dacd",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval uating answers to complex questions inf retr 9 5 2006 565587 https doiorg101007s1079100690037 31 jimmy lin xueguang ma shengchieh lin jhenghong yang ronak pradeep and rodrigo nogueira 2021 pyserini a python toolkit for reproducible informa tion retrieval research with sparse and dense representations in proceedings of the 44th annual international acm sigir conference on research and development in information retrieval sigir 2021 23562362 32 stephanie lin jacob hilton and owain evans 2022 truthfulqa measuring how models mimic human falsehoods in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers acl 2022 dublin ireland may 2227 2022 smaranda muresan preslav nakov and aline villavicencio eds association for computational linguistics 32143252 httpsdoiorg1018653v12022acllong229 mimetype textplain start_char_idx 8564 end_char_idx 10070 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3ab4aeb13fce42299c7dba38d738ba13 embedding null metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id a81c450acafb4957aa42395cfa9bb781 node_type 4 metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60 class_name relatednodeinfo 3 node_id 0ce6e3e1def34eaaafe27a378513b7aa node_type 1 metadata hash 857a050bc031171988069793554b08f82d61fcd1046738fda54cfe8d2ad87560 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al 33 jerry liu 2022 llamaindex httpswwwllamaindexai 34 nelson f liu kevin lin john hewitt ashwin paranjape michele bevilacqua fabio petroni and percy liang 2024 lost in the mid dle how language models use long contexts mimetype textplain start_char_idx 330001 end_char_idx 334707 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 70ff77388a1342b4801f4de6eb165942 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 5e149a86e8c641f3b892846b8f69a447 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash aa9f3897fcfc7fcaf34ea13f0ad428b8521808876dec67da649a4ab11acf4abb class_name relatednodeinfo  3  node_id b8096d1cba5d4ccdb74ec0d9b0ca7159 node_type 1 metadata  hash 0953cc221c80463c7db5204e1c7aff3d6bcca2ea9cb4264689a4968af73b5a3f class_name relatednodeinfo   text class_name relatednodeinfo 3 node_id 0ce6e3e1def34eaaafe27a378513b7aa node_type 1 metadata hash 857a050bc031171988069793554b08f82d61fcd1046738fda54cfe8d2ad87560 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al 33 jerry liu 2022 llamaindex httpswwwllamaindexai 34 nelson f liu kevin lin john hewitt ashwin paranjape michele bevilacqua fabio petroni and percy liang 2024 lost in the mid dle how language models use long contexts transactions of the association for computational linguistics 12 02 2024 157173 httpsdoiorg101162tacl_a_00638 arxivhttpsdirectmitedutaclarticle pdfdoi101162tacl_a_006382336043tacl_a_00638pdf 35 zihan liu wei ping rajarshi roy peng xu chankyu lee mohammad shoeybi and bryan catanzaro",
        "mimetype": "text/plain",
        "start_char_idx": 562888,
        "end_char_idx": 567449,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b848181f-3fa0-4e78-8e05-a6e1d6b032e1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c80e6090-9751-4b72-ad3f-c9291d3f12a2",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "34e374531ccf4443d7e93eaa1c73d534a460e129b73b201ddb9047b56b2c47ed",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "379c8e30-6756-43c4-9122-083df4a6baba",
                "node_type": "1",
                "metadata": {},
                "hash": "602306dd6b4b139ec74ff79aafad7c780b012a04981195b450180e85e850208e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al 33 jerry liu 2022 llamaindex httpswwwllamaindexai 34 nelson f liu kevin lin john hewitt ashwin paranjape michele bevilacqua fabio petroni and percy liang 2024 lost in the mid dle how language models use long contexts transactions of the association for computational linguistics 12 02 2024 157173 httpsdoiorg101162tacl_a_00638 arxivhttpsdirectmitedutaclarticle pdfdoi101162tacl_a_006382336043tacl_a_00638pdf 35 zihan liu wei ping rajarshi roy peng xu chankyu lee mohammad shoeybi and bryan catanzaro 2024 chatqa building gpt4 level conversational qa models corr abs240110225 2024 httpsdoiorg1048550arxiv240110225 arxiv240110225 36 chaitanya malaviya subin lee sihao chen elizabeth sieber mark yatskar and dan roth 2023 expertqa expertcurated questions and attributed an swers corr abs230907852 2023 httpsdoiorg1048550arxiv230907852 arxiv230907852 37 james mayfield eugene yang dawn lawrie sean macavaney paul mcnamee douglas w oard luca soldaini ian soboroff orion weller efsun kayi kate sanders marc mason and noah hibbler 2024 on the evaluation of machine generated reports in proceedings of the 47th international acm sigir conference on research and development in information retrieval 38 luke merrick danmei xu gaurav nuti and daniel campos 2024 arcticembed scalable efficient and accurate text embedding models arxiv240505374 cscl 39 microsoft 2023 reinventing search with a new aipowered microsoft bing and edge your copilot for the web httpsblogsmicrosoftcomblog20230207reinventing searchwithanewaipoweredmicrosoftbingandedgeyourcopilotfor theweb 40 niklas muennighoff nouamane tazi lou00efc magne and nils reimers 2023 mteb massive text embedding benchmark in proceedings of the 17th conference of the european chapter of the association for computational linguistics eacl 2023 dubrovnik croatia may 26 2023 andreas vlachos and isabelle augenstein eds association for computational linguistics 20062029 httpsdoiorg10 18653v12023eaclmain148 41 openai 2024 hello gpt4o httpsopenaicomindexhellogpt4o 42 arnold overwijk chenyan xiong and jamie callan 2022 clueweb22 10 billion web documents with rich information in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 33603362 httpsdoiorg10114534774953536321 43 paul owoicho jeff dalton mohammad aliannejadi leif azzopardi johanne r trippas and mimetype textplain start_char_idx 173444 end_char_idx 178342 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 520ffa0128c8408392a55bb3e2fd5b0f embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id e0a08f5f680c4fb7b6af6c33a3f9dc04 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 93f2c052f1e84f94506dafdc1147ce24f2da3de0c6882edb39727af9717e9015 class_name relatednodeinfo 3 node_id 932650e02715469a991e8ef00f09fc73 node_type 1 metadata hash 977afcf11a7a9da622ea36731c073b7d3714f44c450b40ab098dc361068f0c0c class_name relatednodeinfo text and isabelle augenstein eds association for computational linguistics 20062029 httpsdoiorg10 18653v12023eaclmain148 41 openai 2024 hello gpt4o httpsopenaicomindexhellogpt4o 42 arnold overwijk chenyan xiong and jamie callan 2022 clueweb22 10 billion web documents with rich information in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm mimetype textplain start_char_idx 334232 end_char_idx 338926 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b8096d1cba5d4ccdb74ec0d9b0ca7159 embedding null metadata  file_path",
        "mimetype": "text/plain",
        "start_char_idx": 566852,
        "end_char_idx": 571606,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "379c8e30-6756-43c4-9122-083df4a6baba",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b848181f-3fa0-4e78-8e05-a6e1d6b032e1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "533d37220374d5c364f2936f2a2a0530fb1095fe792de352e0b4f51a1d41ef20",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "87e4275f-b7dd-430e-821a-631015794cdd",
                "node_type": "1",
                "metadata": {},
                "hash": "f12e4a2832c7f59620beb7906e4b4e4e3d84003a678e4a556dbf0b2ce8ddc4cf",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "18653v12023eaclmain148 41 openai 2024 hello gpt4o httpsopenaicomindexhellogpt4o 42 arnold overwijk chenyan xiong and jamie callan 2022 clueweb22 10 billion web documents with rich information in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm mimetype textplain start_char_idx 334232 end_char_idx 338926 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b8096d1cba5d4ccdb74ec0d9b0ca7159 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 70ff77388a1342b4801f4de6eb165942 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash f2a8e381ec8df5739a29af342156ad37c814f34fba46bf8ab154f26349a55019 class_name relatednodeinfo  3  node_id c342620da03e4074bab0e8a74152c8dc node_type 1 metadata  hash 244b89ec26e78dc50e074dc7e427f10b23ebf4785da671a6f17bdb81e09e4e18 class_name relatednodeinfo   text hash 977afcf11a7a9da622ea36731c073b7d3714f44c450b40ab098dc361068f0c0c class_name relatednodeinfo text and isabelle augenstein eds association for computational linguistics 20062029 httpsdoiorg10 18653v12023eaclmain148 41 openai 2024 hello gpt4o httpsopenaicomindexhellogpt4o 42 arnold overwijk chenyan xiong and jamie callan 2022 clueweb22 10 billion web documents with rich information in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 33603362 httpsdoiorg10114534774953536321 43 paul owoicho jeff dalton mohammad aliannejadi leif azzopardi johanne r trippas and svitlana vakulenko 2022 trec cast 2022 going beyond user ask and system retrieve with initiative and response generation in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgov pubstrec31papersoverview_castpdf 44 fabio petroni aleksandra piktus angela fan patrick s h lewis majid yaz dani nicola de cao james thorne yacine jernite vladimir karpukhin jean maillard vassilis plachouras tim rocktu00e4schel and sebastian riedel 2021 kilt a benchmark for knowledge intensive language tasks in proceedings of the 2021 conference of the north american chapter of the association for compu tational linguistics human language technologies naaclhlt 2021 online june 611 2021 kristina toutanova anna rumshisky luke zettlemoyer dilek hakkanitu00fcr iz beltagy steven bethard ryan cotterell tanmoy chakraborty and yichao zhou eds association for computational linguistics 25232544 httpsdoiorg1018653v12021naaclmain200 45 ronak pradeep rodrigo nogueira and jimmy lin 2021 the expandomono duo design pattern for text ranking with pretrained sequencetosequence models arxiv210105667 2021 46 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankvicuna zeroshot listwise document reranking with opensource large language models corr abs230915088 2023 httpsdoiorg1048550arxiv230915088 arxiv230915088 47 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankzephyr ef fective and robust zeroshot listwise reranking is a breeze corr abs231202724 2023 httpsdoiorg1048550arxiv231202724 arxiv231202724 48 vatsal raina and mark gales 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103",
        "mimetype": "text/plain",
        "start_char_idx": 570929,
        "end_char_idx": 575661,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "87e4275f-b7dd-430e-821a-631015794cdd",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "379c8e30-6756-43c4-9122-083df4a6baba",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "a4ee760e954ce38b0255526b55beb972640439a6d21ee905fafa906005a899f9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "364f7c83-41f6-45a1-9b27-fd16c5da1f19",
                "node_type": "1",
                "metadata": {},
                "hash": "00bc2e8306dd7d601f9e4989e21f5ddc8b7420478ad8162dc79d12139bd8a66c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "arxiv230915088 47 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankzephyr ef fective and robust zeroshot listwise reranking is a breeze corr abs231202724 2023 httpsdoiorg1048550arxiv231202724 arxiv231202724 48 vatsal raina and mark gales 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 httpsdoiorg1048550arxiv240402103 arxiv24040210351 corby rosset holam chung guanghui qin ethan c chau zhuo feng ahmed awadallah jennifer neville and nikhil rao 2024 researchy ques tions a dataset of multiperspective decompositional questions for llm web agents corr abs240217896 2024 mimetype textplain start_char_idx 0 end_char_idx 4960 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 0ce6e3e1def34eaaafe27a378513b7aa embedding null metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id a81c450acafb4957aa42395cfa9bb781 node_type 4 metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60 class_name relatednodeinfo 2 node_id 3ab4aeb13fce42299c7dba38d738ba13 node_type 1 metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 9ad18c07c68d9b02585d1b884b392d14033691bd0d80a0b34a2ccd970c6e756a class_name relatednodeinfo text 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim mimetype textplain start_char_idx 338292 end_char_idx 343069 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c342620da03e4074bab0e8a74152c8dc embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id b8096d1cba5d4ccdb74ec0d9b0ca7159 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash bb43d17071e9f73970f0224a3631cc2bae934bd060bd5a65af5616331da57f5a class_name relatednodeinfo  3  node_id 7cba763959d94bfeaefc79ff22bc60c7 node_type 1 metadata  hash 7e08d2d8759d5294dc867d6964038be4a1bbc76bb69c9ca2505e5faa66f8638b class_name relatednodeinfo   text page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 9ad18c07c68d9b02585d1b884b392d14033691bd0d80a0b34a2ccd970c6e756a class_name relatednodeinfo text 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389",
        "mimetype": "text/plain",
        "start_char_idx": 574994,
        "end_char_idx": 579523,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "364f7c83-41f6-45a1-9b27-fd16c5da1f19",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "87e4275f-b7dd-430e-821a-631015794cdd",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f76a338606d9fb66a872760feba34a2db44e055989ebc13508b2cdac8684ca4b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f62df129-0d1e-4da0-8f6d-f4ddb9def76c",
                "node_type": "1",
                "metadata": {},
                "hash": "47d0bccb4059831cc177dd2d84f788e2a5ce7ed991306c47673fd805c8fa4b5c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo   text page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 9ad18c07c68d9b02585d1b884b392d14033691bd0d80a0b34a2ccd970c6e756a class_name relatednodeinfo text 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 mimetype textplain start_char_idx 177685 end_char_idx 182493 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 932650e02715469a991e8ef00f09fc73 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 520ffa0128c8408392a55bb3e2fd5b0f node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash d9d82fa755213c41b033b858f86d35ad1da68ba23b24d59d3a49e7bbb04095ba class_name relatednodeinfo 3 node_id 5ccd5a1b1d0d4356b8f9ab9963cc33f5 node_type 1 metadata hash 9afb5b93f130eba79fa9b31b0ad1c4e3a6c79ccaed70a594fbaa1c984291f445 class_name relatednodeinfo text file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 9ad18c07c68d9b02585d1b884b392d14033691bd0d80a0b34a2ccd970c6e756a class_name relatednodeinfo text 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 httpsdoiorg1048550arxiv240402103 arxiv24040210351 corby rosset holam chung guanghui qin ethan c chau zhuo feng ahmed awadallah jennifer neville and nikhil rao 2024 researchy ques tions a dataset of multiperspective decompositional questions for llm web agents corr abs240217896 2024 httpsdoiorg1048550arxiv240217896 arxiv240217896 52 ivan stelmakh yi luan bhuwan dhingra and mingwei chang 2022 asqa factoid questions meet longform answers in proceedings of the 2022 conference on empirical methods in natural language processing emnlp 2022 abu dhabi united arab emirates december 711 2022 yoav goldberg zornitsa kozareva and yue zhang eds association for computational linguistics 82738288 httpsdoiorg1018653v12022emnlpmain566 53 weiwei sun lingyong yan xinyu ma pengjie ren dawei yin and zhaochun ren 2023 is chatgpt good at search investigating large language models as reranking agent arxiv230409542 2023 54 nandan thakur nils reimers andreas ru00fccklu00e9 abhishek srivastava and iryna gurevych 2021 beir a heterogeneous benchmark for zeroshot evalua tion of information retrieval models in proceedings of the neural information processing systems track on datasets and benchmarks 1 neurips datasets and benchmarks 2021 december 2021 virtual joaquin vanschoren and saikit yeung eds httpsdatasetsbenchmarksproceedingsneuripsccpaper2021hash 65b9eea6e1cc6bb9f0cd2a47751a186fabstractround2html 55 guangzhi xiong qiao jin zhiyong lu and aidong zhang 2024 benchmarking retrievalaugmented generation for medicine corr abs240213178 2024 httpsdoiorg1048550arxiv240213178 arxiv240213178 56 shiqi yan jiachen gu yun zhu and zhenhua ling 2024 corrective retrieval augmented generation corr abs240115884 2024 httpsdoiorg1048550 arxiv240115884 arxiv240115884 57 peilin yang hui fang and jimmy lin 2017 anserini enabling the use of lucene for information retrieval research in international conference on research and development in information retrieval sigir mimetype textplain start_char_idx 342435 end_char_idx",
        "mimetype": "text/plain",
        "start_char_idx": 578935,
        "end_char_idx": 583741,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f62df129-0d1e-4da0-8f6d-f4ddb9def76c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "364f7c83-41f6-45a1-9b27-fd16c5da1f19",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "75257563309ea0c398c84dc999c502d6d137312e1ca26ffc5f1d8b19e7b99102",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4bae5bcc-8cb9-4bbc-8c7f-5098deebf841",
                "node_type": "1",
                "metadata": {},
                "hash": "27c4a7d3f140a7c772b4adbb6c8978369c1de8fc6077c3b95b50bda5cbf78b05",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "65b9eea6e1cc6bb9f0cd2a47751a186fabstractround2html 55 guangzhi xiong qiao jin zhiyong lu and aidong zhang 2024 benchmarking retrievalaugmented generation for medicine corr abs240213178 2024 httpsdoiorg1048550arxiv240213178 arxiv240213178 56 shiqi yan jiachen gu yun zhu and zhenhua ling 2024 corrective retrieval augmented generation corr abs240115884 2024 httpsdoiorg1048550 arxiv240115884 arxiv240115884 57 peilin yang hui fang and jimmy lin 2017 anserini enabling the use of lucene for information retrieval research in international conference on research and development in information retrieval sigir mimetype textplain start_char_idx 342435 end_char_idx 347172 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7cba763959d94bfeaefc79ff22bc60c7 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id c342620da03e4074bab0e8a74152c8dc node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 27dd606ac1de19aaa55cd25bdade4acb423931b9d143d75a6c3f3491531fb3a5 class_name relatednodeinfo  3  node_id e3d328e021b64ec4a99cbba564c8487b node_type 1 metadata  hash 6735b96110743cbb5ad1c27eb0d8ecf6dd0f2985029422f4dcaefa680e908706 class_name relatednodeinfo   text vanschoren and saikit yeung eds httpsdatasetsbenchmarksproceedingsneuripsccpaper2021hash 65b9eea6e1cc6bb9f0cd2a47751a186fabstractround2html 55 guangzhi xiong qiao jin zhiyong lu and aidong zhang 2024 benchmarking retrievalaugmented generation for medicine corr abs240213178 2024 httpsdoiorg1048550arxiv240213178 arxiv240213178 56 shiqi yan jiachen gu yun zhu and zhenhua ling 2024 corrective retrieval augmented generation corr abs240115884 2024 httpsdoiorg1048550 arxiv240115884 arxiv240115884 57 peilin yang hui fang and jimmy lin 2017 anserini enabling the use of lucene for information retrieval research in international conference on research and development in information retrieval sigir httpsdoiorg1011453077136 3080721 58 lianmin zheng weilin chiang ying sheng siyuan zhuang zhanghao wu yonghao zhuang zi lin zhuohan li dacheng li eric p xing hao zhang joseph e gonzalez and ion stoica 2023 judging llmasajudge with mtbench and chatbot arena in advances in neural information pro cessing systems 36 annual conference on neural information processing sys tems 2023 neurips 2023 new orleans la usa december 10 16 2023 alice oh tristan naumann amir globerson kate saenko moritz hardt and sergey levine eds httppapersnipsccpaper_filespaper2023hash 91f18a1287b398d378ef22505bf41832abstractdatasets_and_benchmarkshtml mimetype textplain start_char_idx 4254 end_char_idx 7251 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c032365d8eb64ea485ea3058d8efad21 embedding null metadata page_label 7 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 9fae07f1d27e4872a0cd47f9ba021ac0 node_type 4 metadata page_label 7 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 41d73e731716400566f38f37375fb72cb2bb5dcca2da6d0f2f25964bb931aecc class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa a trecraggy 2024 additional details we manually classify each available topic in trec deep learn ing tracks 20212023 131516 into one of the seven different topic categories we manually labeled each topic following the guidelines7mentioned below simple topic asking for information about a simple fact eg how to emulsion a house simple with condition topic asking for information about a topic with an imposed condition eg how to cook thinly sliced home fries set a",
        "mimetype": "text/plain",
        "start_char_idx": 583081,
        "end_char_idx": 587945,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4bae5bcc-8cb9-4bbc-8c7f-5098deebf841",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f62df129-0d1e-4da0-8f6d-f4ddb9def76c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d707482dcf941e94014dd4a19be0547a2a764b4015743acd90406e4f7fd139d7",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ea9497ac-e201-4e3f-8b11-f335b735d12e",
                "node_type": "1",
                "metadata": {},
                "hash": "9873240ab2c1c73e66444e54e4cd33b5c9e87b21b24fd4206d0bac83468d6808",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 41d73e731716400566f38f37375fb72cb2bb5dcca2da6d0f2f25964bb931aecc class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa a trecraggy 2024 additional details we manually classify each available topic in trec deep learn ing tracks 20212023 131516 into one of the seven different topic categories we manually labeled each topic following the guidelines7mentioned below simple topic asking for information about a simple fact eg how to emulsion a house simple with condition topic asking for information about a topic with an imposed condition eg how to cook thinly sliced home fries set a topic containing multiple short entities in the answer eg what themes are in action movies aggregation a topic that requires aggregation of multiple retrieved segments eg how to put together a scuba regu lator comparison a topic that requires comparison of the retrieved segments eg does light intensity or concentration of car bon dioxide have a higher rate of photosynthesis multihop a topic that requires to chain multiple information from different retrieved segments eg the population of kings grant fayetteville mimetype textplain start_char_idx 181871 end_char_idx 187123 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5ccd5a1b1d0d4356b8f9ab9963cc33f5 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 932650e02715469a991e8ef00f09fc73 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 12c46ce11a18214e513460d469da34f6486b273104f2f230b54426ebd64fb711 class_name relatednodeinfo 3 node_id 3342677693124b2fb2c1ff91afa2dd2b node_type 1 metadata hash afc35a8efe7b5a317a222135af62a42f6f706299bd87223f6c39b7f436df3ad6 class_name relatednodeinfo text baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa a trecraggy 2024 additional details we manually classify each available topic in trec deep learn ing tracks 20212023 131516 into one of the seven different topic categories we manually labeled each topic following the guidelines7mentioned below simple topic asking for information about a simple fact eg how to emulsion a mimetype textplain start_char_idx 346477 end_char_idx 351675 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ e3d328e021b64ec4a99cbba564c8487b embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7cba763959d94bfeaefc79ff22bc60c7 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 27171693341078ad00cd346f9124e86704685e81a681f01b8144d4f18b83840e class_name relatednodeinfo  3  node_id 7f3dbc7ae25641be984d81e15cb86e0c node_type 1 metadata  hash d5891d643557eabc809946f7278adfcd665c13f03c6b7b6b57671e4fab1fe5c9 class_name relatednodeinfo   text class_name relatednodeinfo 3 node_id 3342677693124b2fb2c1ff91afa2dd2b node_type 1 metadata hash afc35a8efe7b5a317a222135af62a42f6f706299bd87223f6c39b7f436df3ad6 class_name relatednodeinfo text baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa a trecraggy 2024 additional details we manually classify each available topic in trec deep learn ing tracks 20212023 131516 into one of the seven different topic categories we manually labeled each topic following the guidelines7mentioned below simple topic asking for information about a simple fact eg how to",
        "mimetype": "text/plain",
        "start_char_idx": 587142,
        "end_char_idx": 592298,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ea9497ac-e201-4e3f-8b11-f335b735d12e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4bae5bcc-8cb9-4bbc-8c7f-5098deebf841",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6fcae6b2bfe3dfdac6e5c46ed9ea31be6aa140fad9ef7545eecb92225ed6a70c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d2044314-0065-48ee-8d8c-ac09bfd184ce",
                "node_type": "1",
                "metadata": {},
                "hash": "541b656eb0d43f02b2c956753768d0fd3d8649dd95df588eb0a0628bd8c9ec95",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo   text class_name relatednodeinfo 3 node_id 3342677693124b2fb2c1ff91afa2dd2b node_type 1 metadata hash afc35a8efe7b5a317a222135af62a42f6f706299bd87223f6c39b7f436df3ad6 class_name relatednodeinfo text baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa a trecraggy 2024 additional details we manually classify each available topic in trec deep learn ing tracks 20212023 131516 into one of the seven different topic categories we manually labeled each topic following the guidelines7mentioned below simple topic asking for information about a simple fact eg how to emulsion a house simple with condition topic asking for information about a topic with an imposed condition eg how to cook thinly sliced home fries set a topic containing multiple short entities in the answer eg what themes are in action movies aggregation a topic that requires aggregation of multiple retrieved segments eg how to put together a scuba regu lator comparison a topic that requires comparison of the retrieved segments eg does light intensity or concentration of car bon dioxide have a higher rate of photosynthesis multihop a topic that requires to chain multiple information from different retrieved segments eg the population of kings grant fayetteville prior to liberty hills false premise a topic that has a false preposition or assump tion eg do larger lobsters become tougher when cooked b trecresearchy 2024 additional details note that for researchy questions 51 the following eight intrinsic attributes were measured by gpt4 on a scale of 010 ambiguity checks if the questions intent is moderately ambiguous suggesting multiple interpretations incompleteness checks if the question is difficult to answer due to missing crucial context or details assumptive checks if the question has some builtin assump tions that may influence the answer multifaceted checks if the question requires considering multiple perspectives to provide a comprehensive answer knowledgeintensive checks if the question demands spe cialized knowledge and extensive research to answer thor oughly subjective measures if the question contains some level of subjectivity with potential for varying opinions reasoningintensive checks if the question requires signifi cant reasoning and synthesis of information to answer harmful checks to what extent the question is harmful or inappropriate it is worth noting that all the questions provided scored 0 in harm fulness and a tiny fraction scored highly on ambiguity we used a score of 5as the threshold to label the query for that intrinsic attribute c ragnaru00f6k system arena figure 4 showcases the ragnaru00f6k webui dark mode and the user query why have used car prices increased from trec2024 re searchy issued to two blinded systems this blind setup enables 7guidelines have been inspired from the 2024 meta comprehensive rag benchmarksystem this is a chat between a user and an artificial intelligence assistant the assistant gives helpful detailed and polite answers to the users questions based on the context the assistant should also indicate when the answer cannot be found in the context instruction please give a complete answer to the question cite each context document that supports your answer within brackets using the ieee format question query contexts 1 passage title passage text 2 passage title passage text 20 passage title passage text instruction please give a complete answer to the question cite each context document that supports your answer within brackets using the ieee format figure 2 chatqa prompt template 35 used for rag gen eration with intext citations with gpt4o in our ragnaru00f6k framework fair leaderboards especially when incentives to game leaderboards are huge in this competitive proprietary llm space the output displays the answers in humanreadable form allowing users to assess the quality of responses without bias figure 5 demonstrates the responses tab for the example in fig ure 4 the responses tab reformats the final answers into the json output expected by the io definitions of the trec 2024 rag track this feature is particularly useful for developers and researchers who need to ensure that their systems outputs conform to specific standards and formats required by evaluation frameworks by incorporating both humanreadable and jsonformatted out puts ragnaru00f6k provides a comprehensive evaluation platform that caters to a wide range of needs in the research and development community the ability to toggle between different views and for mats ensures that users can efficiently analyze and interpret the effectiveness of various rag systems mimetype textplain start_char_idx 0 end_char_idx 4500 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 4030376b869749a29cdddc1ce76f23f1 embedding null metadata page_label 8 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8c94d79e398046b683d66c3db2be3069 node_type 4 metadata page_label 8 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 048b5c673dec02a492a52693af73ad855a9cda6fffe250f3f842507ccc71c4c4 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al figure 3 webui showcasing the ragnaru00f6k system arena and the user query what inspired pink floyds the wall with answers from two pipelines sidebyside comparing gpt4o answer left and command r answer right table 3 an example of the first segment of two nearduplicate documents present in the ms marco v2 segment collection during the deduplication procedure the segments of one of the documents is kept in the ms marco v21 segment collection msmarco_doc_00_9951701740 whereas the other segment is discarded as a duplicate msmarco_doc_00_9951711910 segment id url title segment ms marco v21 segment discarded msmarco_doc_00 _9951711910httpcenterserveorgtt fp_tipshtmlserve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations",
        "mimetype": "text/plain",
        "start_char_idx": 591660,
        "end_char_idx": 598433,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d2044314-0065-48ee-8d8c-ac09bfd184ce",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ea9497ac-e201-4e3f-8b11-f335b735d12e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2ff5958d53ac99749a25554c2bea8a4bc256123bd09e9d5c6a147684f850fec9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2b8f2142-920f-4fa4-9559-64aac799d5db",
                "node_type": "1",
                "metadata": {},
                "hash": "fa9c885b49269004d265ee8a20db3d1cb22f5c18c3895ac3d5110b5cb9fe9e49",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "the wall with answers from two pipelines sidebyside comparing gpt4o answer left and command r answer right table 3 an example of the first segment of two nearduplicate documents present in the ms marco v2 segment collection during the deduplication procedure the segments of one of the documents is kept in the ms marco v21 segment collection msmarco_doc_00_9951701740 whereas the other segment is discarded as a duplicate msmarco_doc_00_9951711910 segment id url title segment ms marco v21 segment discarded msmarco_doc_00 _9951711910httpcenterserveorgtt fp_tipshtmlserve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history mimetype textplain start_char_idx 351055 end_char_idx 357827 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7f3dbc7ae25641be984d81e15cb86e0c embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id e3d328e021b64ec4a99cbba564c8487b node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash fc74e1237d0d2e4776e139dbbffbdb9b1fb6f5ddefff3636802984373655ac02 class_name relatednodeinfo  3  node_id 902d65dc94c747b59e9a4caf47157501 node_type 1 metadata  hash 9e8c7e7b021875f89dc05af7545b374b2e541590ff33d226c3bbceccb3e1fd1b class_name relatednodeinfo   text from two pipelines sidebyside comparing gpt4o answer left and command r answer right table 3 an example of the first segment of two nearduplicate documents present in the ms marco v2 segment collection during the deduplication procedure the segments of one of the documents is kept in the ms marco v21 segment collection msmarco_doc_00_9951701740 whereas the other segment is discarded as a duplicate msmarco_doc_00_9951711910 segment id url title segment ms marco v21 segment discarded msmarco_doc_00 _9951711910httpcenterserveorgtt fp_tipshtmlserve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner ms marco v21 segment kept mimetype textplain start_char_idx 186040 end_char_idx 193019 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3342677693124b2fb2c1ff91afa2dd2b embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 5ccd5a1b1d0d4356b8f9ab9963cc33f5 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 15dfa63a9fdef5aaf3418405bfb59e114bf00d69bdeab0e1f603ec5bee0e6166 class_name relatednodeinfo 3 node_id 7d83f9a2e1074d9aac749a3708317f47 node_type 1 metadata hash 091b499996e1bac7e7cafcf0219e480ca56dda7f790a73f9004fc39b2d1550a4 class_name relatednodeinfo text msmarco_doc_00_9951701740 whereas the other segment is discarded as a duplicate msmarco_doc_00_9951711910 segment id url title segment ms marco v21 segment discarded",
        "mimetype": "text/plain",
        "start_char_idx": 597433,
        "end_char_idx": 602834,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2b8f2142-920f-4fa4-9559-64aac799d5db",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d2044314-0065-48ee-8d8c-ac09bfd184ce",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6083318ad817055dff233080e414bb22f07f9bae7e3fb6164d40fa9a16f5e398",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9be0423d-7e4b-4458-99ff-2f6f0406b5db",
                "node_type": "1",
                "metadata": {},
                "hash": "844a96720cee034b005985bbd432114b5980fe6ccf28db5f3d1dfdb22c920771",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 15dfa63a9fdef5aaf3418405bfb59e114bf00d69bdeab0e1f603ec5bee0e6166 class_name relatednodeinfo 3 node_id 7d83f9a2e1074d9aac749a3708317f47 node_type 1 metadata hash 091b499996e1bac7e7cafcf0219e480ca56dda7f790a73f9004fc39b2d1550a4 class_name relatednodeinfo text msmarco_doc_00_9951701740 whereas the other segment is discarded as a duplicate msmarco_doc_00_9951711910 segment id url title segment ms marco v21 segment discarded msmarco_doc_00 _9951711910httpcenterserveorgtt fp_tipshtmlserve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner ms marco v21 segment kept msmarco_doc_00 _9951701740httpcenterserveorgtt serve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner mimetype textplain start_char_idx 0 end_char_idx 2460 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 48f69abeda634beeb6c1db4cc1810afe embedding null metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8b4e823add8b4fc2a921ac706ace1226 node_type 4 metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 32edabda4ac9d5e48b23dd420dcb5b6d02ec13e88a61d4045b46c4dbfdf1d27d class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa figure 4 webui dark mode showcasing the ragnaru00f6k system arena for the user query on why have used car prices increased from mimetype textplain start_char_idx 356821 end_char_idx 362771 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 902d65dc94c747b59e9a4caf47157501 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7f3dbc7ae25641be984d81e15cb86e0c node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 693ecedd342a2f6a966d7acf5704c9dd463530cdc591f916a02a4b4a689cdcc9 class_name relatednodeinfo  3  node_id 21d26ffa74cb43838aa6c03f2e3e716e node_type 1 metadata  hash 0aa9121f315bb47ce49d0d1939f0abb716be60f736a3fb57ef884be93fe04dc1 class_name relatednodeinfo   text node_type 4 metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 32edabda4ac9d5e48b23dd420dcb5b6d02ec13e88a61d4045b46c4dbfdf1d27d class_name relatednodeinfo text ragnaru00f6k",
        "mimetype": "text/plain",
        "start_char_idx": 602292,
        "end_char_idx": 607583,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9be0423d-7e4b-4458-99ff-2f6f0406b5db",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2b8f2142-920f-4fa4-9559-64aac799d5db",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "195a1101f6a968be0b839300e097c075bd2f3674c5bf7a82ae844f44ebe2e88e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0b551adb-698d-4d08-aa94-b38342d7020d",
                "node_type": "1",
                "metadata": {},
                "hash": "5c13a28fa228e3a15bda46c971b6909a0df43d90de1655914e8bec7e87018166",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "21d26ffa74cb43838aa6c03f2e3e716e node_type 1 metadata  hash 0aa9121f315bb47ce49d0d1939f0abb716be60f736a3fb57ef884be93fe04dc1 class_name relatednodeinfo   text node_type 4 metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 32edabda4ac9d5e48b23dd420dcb5b6d02ec13e88a61d4045b46c4dbfdf1d27d class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa figure 4 webui dark mode showcasing the ragnaru00f6k system arena for the user query on why have used car prices increased from trec2024 researchy with two different blinded pipelines the output tab displays the answers in humanreadable form figure 5 the responses tab for the example in figure 4 note that the responses tab reformats the final answers into the json format expected by the io definitions of the trec 2024 rag track mimetype textplain start_char_idx 0 end_char_idx 566 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 65dee924ceb44e8587d96cf594a16f14 embedding null metadata page_label 10 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8b223f30c8744d139a77a5d4188d3489 node_type 4 metadata page_label 10 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash adaf4afaff3e974bed55e81a336c89054330ab4a4cc3dc951a43e566cae79562 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al table 4 an endtoend rag example for a randomly sampled topic topic id 2027497 in the trecraggy 2024 collection how often should you take your toddler to the potty when potty training 1 top10 retrieved segments from the r retrieval stage ordered from top to bottom in terms of relevancy segment id title segment 1 msmarco_v21_doc_51_766815931 2_1606878413how often should i take my tod dler to the potty there are some guidelines to followselfesteem can be fragile at this time so its important to toilet train gently letting your child lead the way additionally its unwise to begin potty training unless your child is truly ready take this potty training readiness quiz featured in parents before you begin elizabeth pantley and you still must be on the lookout for signs your toddler has to go ahead of schedule 2 msmarco_v21_doc_51_766815931 6_1606884302how often should i take my tod dler to the potty there are some guidelines to followdavis and keyser stressed the importance of keeping your own emotions in check throughout the toilet training process the bottom line when it comes to potty time theres no magic number youll just have that much longer to plan a good one 3 msmarco_v21_doc_08_935420812 8_1683502976qa know your childs level of readiness for potty training par entsstart by sitting on the toilet the first thing in the morning after taking off the overnight diaper make it funsing songs read a book drink some juice and see what happens dr carrie m brown my 3yearold is adamant about not using the potty how can i motivate her mimetype textplain start_char_idx 191941 end_char_idx 197933 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7d83f9a2e1074d9aac749a3708317f47 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 3342677693124b2fb2c1ff91afa2dd2b node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 32962c7da4ff2eb2f42b07c176730db6d94e3b69c49d5615f42292dfe5759d40 class_name relatednodeinfo 3 node_id 332eb61fb8594b29b5826d2b7460bfed node_type 1 metadata hash 610b7911290b57c8c538cde11ffe049ff98c68bb9d84426eac40eaff378b0981 class_name relatednodeinfo text you begin elizabeth pantley and you still must be on the lookout for",
        "mimetype": "text/plain",
        "start_char_idx": 607061,
        "end_char_idx": 612135,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0b551adb-698d-4d08-aa94-b38342d7020d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9be0423d-7e4b-4458-99ff-2f6f0406b5db",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "749c1df9297e49bbea14c8c51ab2f54cd730e3496de468a0c118ae2214cbceb1",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "58967d89-1df7-4ef0-8aa1-2db3bf8c3a38",
                "node_type": "1",
                "metadata": {},
                "hash": "fbe990dacf3a3448530cef5c87bf3259c11dc5cc7ef297c999703c272089819f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 32962c7da4ff2eb2f42b07c176730db6d94e3b69c49d5615f42292dfe5759d40 class_name relatednodeinfo 3 node_id 332eb61fb8594b29b5826d2b7460bfed node_type 1 metadata hash 610b7911290b57c8c538cde11ffe049ff98c68bb9d84426eac40eaff378b0981 class_name relatednodeinfo text you begin elizabeth pantley and you still must be on the lookout for signs your toddler has to go ahead of schedule 2 msmarco_v21_doc_51_766815931 6_1606884302how often should i take my tod dler to the potty there are some guidelines to followdavis and mimetype textplain start_char_idx 362150 end_char_idx 367268 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 21d26ffa74cb43838aa6c03f2e3e716e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 902d65dc94c747b59e9a4caf47157501 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash cac9f7bbf24d4eb7e8c30a525afde90af31c5efb2f598658c32a9e503d9bf1e2 class_name relatednodeinfo  3  node_id 9cd2c78863c14218b82379b4517ad3c4 node_type 1 metadata  hash 9fb71d1a9cd7fac3920d4918120222172f079d4e18377f454f51feedc44b4892 class_name relatednodeinfo   text 20241015 last_modified_date 20241015 hash 32962c7da4ff2eb2f42b07c176730db6d94e3b69c49d5615f42292dfe5759d40 class_name relatednodeinfo 3 node_id 332eb61fb8594b29b5826d2b7460bfed node_type 1 metadata hash 610b7911290b57c8c538cde11ffe049ff98c68bb9d84426eac40eaff378b0981 class_name relatednodeinfo text you begin elizabeth pantley and you still must be on the lookout for signs your toddler has to go ahead of schedule 2 msmarco_v21_doc_51_766815931 6_1606884302how often should i take my tod dler to the potty there are some guidelines to followdavis and keyser stressed the importance of keeping your own emotions in check throughout the toilet training process the bottom line when it comes to potty time theres no magic number youll just have that much longer to plan a good one 3 msmarco_v21_doc_08_935420812 8_1683502976qa know your childs level of readiness for potty training par entsstart by sitting on the toilet the first thing in the morning after taking off the overnight diaper make it funsing songs read a book drink some juice and see what happens dr carrie m brown my 3yearold is adamant about not using the potty how can i motivate her 4 msmarco_v21_doc_08_935420812 0_1683481876qa know your childs level of readiness for potty training par entsqa know your childs level of readiness for potty training parents home toddlers preschoolers potty training potty training tips qa have your child sit on the potty soon after shes finished breakfast and again after dinner 5 msmarco_v21_doc_28_472446307 23_1012991039potty trained toddler having acci dents on purposebut dont feel disappointed if most of these tries end up with no pee in the pottyyou wouldnt be able to pee get more tips on how to ease your childs potty training poop anxiety 6 msmarco_v21_doc_28_472446307 22_1012988885potty trained toddler having acci dents on purposeget tips on what to do when your 4 year old wont poop on potty routines give him the predictability he needs so he knows exactly what to do and when you might use the potty after waking up before leaving the house or after eating meals 7 msmarco_v21_doc_57_1222573163 16_2241797192tips on starting potty training how to potty train your toddlerteach him to check for dryness this offers him an added sense of control if hes dry give him a pat on the back or a big hug but dont criticize him if hes wet if you overreact you might discourage your toddlers future attempts 8 msmarco_v21_doc_57_1222573163 15_2241795642tips on starting potty training how to potty train your toddlereven if youre too late and hes already done the deed have him sit on the potty anyway to reinforce the connection keep her motivated even the most enthu siastic toddler can take several weeks",
        "mimetype": "text/plain",
        "start_char_idx": 611580,
        "end_char_idx": 616449,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "58967d89-1df7-4ef0-8aa1-2db3bf8c3a38",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0b551adb-698d-4d08-aa94-b38342d7020d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b6103593c7eee8af5d231886865a1f18357a1641f7d4ae426ac735550f67b5f2",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ee451b85-e300-4393-a6b4-c7d952a70b22",
                "node_type": "1",
                "metadata": {},
                "hash": "1ca123e6a1aaae7632d3ecc98b4b3199e75983a9fdacdae478df4c2a5628be67",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "year old wont poop on potty routines give him the predictability he needs so he knows exactly what to do and when you might use the potty after waking up before leaving the house or after eating meals 7 msmarco_v21_doc_57_1222573163 16_2241797192tips on starting potty training how to potty train your toddlerteach him to check for dryness this offers him an added sense of control if hes dry give him a pat on the back or a big hug but dont criticize him if hes wet if you overreact you might discourage your toddlers future attempts 8 msmarco_v21_doc_57_1222573163 15_2241795642tips on starting potty training how to potty train your toddlereven if youre too late and hes already done the deed have him sit on the potty anyway to reinforce the connection keep her motivated even the most enthu siastic toddler can take several weeks to master potty training proficiency often with as many steps backward as forward 9 msmarco_v21_doc_51_766815931 5_1606882767how often should i take my tod dler to the potty there are some guidelines to followaccording to becoming the parent you want to be by laura davis and janis keyser its common for children to go back and forth somedays preferring diapers and other days selecting to use the toilet you can only take your child to the bathroom too much if it begins to feel stressful or punitive 10 msmarco_v21_doc_51_766815931 0_1606874600how often should i take my tod dler to the potty there are some guidelines to followhow often should i take my toddler to the potty there are some guidelines to follow life ashley batzromper how often should i take my toddler to the potty there are some guidelines to follow by kelly mullenmcwilliams july 22 2017 i dont know about you but im personally super pumped for that perfect day he article noted that toilet training is also one of the most difficult milestones for children and their parents and that it can become highly emotional 2 results from the ag augmented generation stage using top10 retrieved segments model rag answer command r text there is no magic number for how often you should take your toddler to the potty when potty training citations 1 8 text however it is recommended to take them frequently especially after waking up before leaving the house after eating meals or before bath time citations 0 1 2 3 4 5 8 text you can also use a timer and set it to every 30 minutes to an hour for a potty break citations 5 text it is important to be patient and gentle throughout the process as it can be emotionally challenging for both the child and the parent citations 0 1 3 6 7 8 9 gpt4o text when potty training your toddler it is recommended to take them to the potty frequently to increase the chances of success citations text according to elizabeth pantley author of the nocry potty training solution most toddlers pee four to eight times per day and have one or two bowel movements daily citations text she suggests setting up a potty routine such as taking your toddler to the potty first thing in the morning after eating and before activities like riding in the car or going to sleep citations 0 text additionally davis and keyser emphasize the importance of following a schedule such as morning pee and before nap time while also being attentive to signs that your toddler needs to go citations text they caution against making the process stressful or punitive as negative emotions can hinder progress citations 1 text dr carrie m brown recommends planning bathroom trips every 90120 minutes during the day and remaining calm and consistent even if accidents occur citations text this approach helps toddlers learn the routine and increases the likelihood of successful potty use citations 2 mimetype textplain start_char_idx 0 end_char_idx 6093 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5536c674ec614197a2aa0f72746b70e7 embedding null metadata page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf mimetype textplain start_char_idx 366710 end_char_idx 372648 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 9cd2c78863c14218b82379b4517ad3c4 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 21d26ffa74cb43838aa6c03f2e3e716e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6cbcbc9c0f3747a1744007fb20341cafaa15ce21e626fc09636ed7548371c831 class_name relatednodeinfo  3  node_id 81a5a0b314724bbea2a2c61c5de323a0 node_type 1 metadata  hash bcf9d061c2fb1de6d7c0b0d897257f9d31d3e831d17bb1580eb7b7af33fec9e8 class_name relatednodeinfo   text going to sleep citations 0 text additionally davis and keyser emphasize the importance of following a schedule such as morning pee and before nap time while also being attentive to signs that your toddler needs to go citations text they caution against making the process stressful or punitive as negative emotions can hinder",
        "mimetype": "text/plain",
        "start_char_idx": 615615,
        "end_char_idx": 621404,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ee451b85-e300-4393-a6b4-c7d952a70b22",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "58967d89-1df7-4ef0-8aa1-2db3bf8c3a38",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5092e6751aa4ff02b4f1300786f075380d9770144ce178981fbe27fd3208383a",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2ab658f0-a105-4ca5-9837-3db666497fe7",
                "node_type": "1",
                "metadata": {},
                "hash": "73c1d44befd7a0e88f0ee85614cef3ed53b0ff651c96393ee70586b0803a8bf2",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "938164 creation_date 20241015 last_modified_date 20241021  hash 6cbcbc9c0f3747a1744007fb20341cafaa15ce21e626fc09636ed7548371c831 class_name relatednodeinfo  3  node_id 81a5a0b314724bbea2a2c61c5de323a0 node_type 1 metadata  hash bcf9d061c2fb1de6d7c0b0d897257f9d31d3e831d17bb1580eb7b7af33fec9e8 class_name relatednodeinfo   text going to sleep citations 0 text additionally davis and keyser emphasize the importance of following a schedule such as morning pee and before nap time while also being attentive to signs that your toddler needs to go citations text they caution against making the process stressful or punitive as negative emotions can hinder progress citations 1 text dr carrie m brown recommends planning bathroom trips every 90120 minutes during the day and remaining calm and consistent even if accidents occur citations text this approach helps toddlers learn the routine and increases the likelihood of successful potty use citations 2 mimetype textplain start_char_idx 0 end_char_idx 6093 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5536c674ec614197a2aa0f72746b70e7 embedding null metadata page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 51e293be004a4cc09d90f0a1d19802df node_type 4 metadata page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 197083 end_char_idx 203176 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 332eb61fb8594b29b5826d2b7460bfed embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 7d83f9a2e1074d9aac749a3708317f47 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 6304466e6d9a1794d40aa364b4fd4ab6b7bc139be57ad3f0634e6593d8681f00 class_name relatednodeinfo 3 node_id 023a7b988a6a469697b8511f9952057c node_type 1 metadata hash fbcff17850d3d420afb99f035e258470ec5395be82c70ccb4eb505d581bd9907 class_name relatednodeinfo text metadata_seperator n class_name textnode id_ 5536c674ec614197a2aa0f72746b70e7 embedding null metadata page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 51e293be004a4cc09d90f0a1d19802df node_type 4 metadata page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash c0b57e683f5230839d8ab5bf00b429f96f65ff2bbc69947a19155d1e41924bb9 class_name relatednodeinfo text preprint selfrag learning to retrieve generate and critique through selfreflection akari asai zeqiu wu yizhong wang avirup sil hannaneh hajishirzi university of washingtonallen institute for aiibm research ai akarizeqiuwuyizhongwhannaneh cswashingtonedu aviusibmcom abstract despite their remarkable capabilities large language models llms often produce responses containing factual inaccuracies due to their sole reliance on the paramet ric knowledge they encapsulate retrievalaugmented generation rag an ad hoc approach that augments lms with retrieval of relevant knowledge decreases such issues however indiscriminately retrieving and incorporating a fixed number of retrieved passages regardless of whether retrieval is necessary or passages are relevant diminishes lm versatility or can lead to unhelpful response generation we introduce a new framework called selfreflective retrievalaugmented gen eration selfragthat enhances an lms quality and factuality through retrieval and selfreflection our framework trains a single arbitrary lm that adaptively retrieves passages ondemand and generates and reflects on retrieved passages and its own generations using special tokens called reflection tokens generating reflection tokens makes the lm controllable during the inference phase enabling it to tailor its behavior to diverse task requirements experiments show that self rag7b and 13b parameters significantly outperforms stateoftheart llms and retrievalaugmented models on a diverse set of tasks specifically selfrag outperforms",
        "mimetype": "text/plain",
        "start_char_idx": 620752,
        "end_char_idx": 626205,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2ab658f0-a105-4ca5-9837-3db666497fe7",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ee451b85-e300-4393-a6b4-c7d952a70b22",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c3beaa7158056ab7d5175f8938d02b879c5891b74adaeee956264bfcfd5af597",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2ea1f0b5-e52a-4fbf-8a99-65e0f177e758",
                "node_type": "1",
                "metadata": {},
                "hash": "bd922d9c1d72cf3619e44b13ce55901f0e5a5a4aec1fcc656126125ac44acf0b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "responses containing factual inaccuracies due to their sole reliance on the paramet ric knowledge they encapsulate retrievalaugmented generation rag an ad hoc approach that augments lms with retrieval of relevant knowledge decreases such issues however indiscriminately retrieving and incorporating a fixed number of retrieved passages regardless of whether retrieval is necessary or passages are relevant diminishes lm versatility or can lead to unhelpful response generation we introduce a new framework called selfreflective retrievalaugmented gen eration selfragthat enhances an lms quality and factuality through retrieval and selfreflection our framework trains a single arbitrary lm that adaptively retrieves passages ondemand and generates and reflects on retrieved passages and its own generations using special tokens called reflection tokens generating reflection tokens makes the lm controllable during the inference phase enabling it to tailor its behavior to diverse task requirements experiments show that self rag7b and 13b parameters significantly outperforms stateoftheart llms and retrievalaugmented models on a diverse set of tasks specifically selfrag outperforms chatgpt and retrievalaugmented llama2chat on opendomain qa reasoning and fact verification tasks and it shows significant gains in improving factuality and citation accuracy for longform generations relative to these models1 1 i ntroduction stateoftheart llms continue to struggle with factual errors mallen et al 2023 min et al 2023 despite their increased model and data scale ouyang et al 2022 retrievalaugmented generation rag methods figure 1 left lewis et al 2020 guu et al 2020 augment the input of llms with relevant retrieved passages reducing factual errors in knowledgeintensive mimetype textplain start_char_idx 371680 end_char_idx 377415 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 81a5a0b314724bbea2a2c61c5de323a0 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 9cd2c78863c14218b82379b4517ad3c4 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash bf1125fdde68ee7cddb6ee36518515da9a4fc579a36f3916ee96fde1e45102d7 class_name relatednodeinfo  3  node_id 566625d488fa422796a916d28c6049c9 node_type 1 metadata  hash 64bea537949a3b4d818f937c10959b820a5fd773c05d5dfcf547a316f02362d3 class_name relatednodeinfo   text on retrieved passages and its own generations using special tokens called reflection tokens generating reflection tokens makes the lm controllable during the inference phase enabling it to tailor its behavior to diverse task requirements experiments show that self rag7b and 13b parameters significantly outperforms stateoftheart llms and retrievalaugmented models on a diverse set of tasks specifically selfrag outperforms chatgpt and retrievalaugmented llama2chat on opendomain qa reasoning and fact verification tasks and it shows significant gains in improving factuality and citation accuracy for longform generations relative to these models1 1 i ntroduction stateoftheart llms continue to struggle with factual errors mallen et al 2023 min et al 2023 despite their increased model and data scale ouyang et al 2022 retrievalaugmented generation rag methods figure 1 left lewis et al 2020 guu et al 2020 augment the input of llms with relevant retrieved passages reducing factual errors in knowledgeintensive tasks ram et al 2023 asai et al 2023a however these methods may hinder the versatility of llms or introduce unnecessary or offtopic passages that lead to lowquality generations shi et al 2023 since they retrieve passages indiscriminately regardless of whether the factual grounding is helpful moreover the output is not guaranteed to be consistent with retrieved relevant passages gao et al 2023 since the models are not explicitly trained to leverage and follow facts from provided passages this work introduces selfreflective retrievalaugmented generation selfragto improve an llms generation quality including its factual accuracy without hurting its versatility via ondemand retrieval and selfreflection we train an arbitrary lm in an endtoend manner to learn to reflect on its own generation process given a task input by generating both task output and intermittent special tokens ie reflection tokens reflection tokens are categorized into retrieval andcritique tokens to indicate the need for retrieval and its generation quality respectively figure 1 right in particular given an input prompt and preceding generations selfragfirst determines if augmenting the continued generation with retrieved passages would be helpful if so it outputs a retrieval token that calls a retriever model on demand step 1 subsequently selfragconcurrently processes multiple retrieved passages evaluating their relevance and then generating corresponding task outputs step 2 it then generates critique tokens to criticize its own output and choose best one step 3 in terms of factuality and overall quality this process differs from conventional rag figure 1 left which 1our code and trained models are available at httpsselfraggithubio 1arxiv231011511v1 cscl 17 oct 2023 mimetype textplain start_char_idx 0 end_char_idx 3895 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2631fc6ff5d7409080305f81c101da77 embedding null metadata page_label 2 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date",
        "mimetype": "text/plain",
        "start_char_idx": 625021,
        "end_char_idx": 631413,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2ea1f0b5-e52a-4fbf-8a99-65e0f177e758",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2ab658f0-a105-4ca5-9837-3db666497fe7",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e78970b1054ebe2b7498fa47491bc6967ab618dbbe57bc6b0ccdd6aa20fbd754",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a63d9a5d-e8e7-48e0-8689-acdd7e7e219e",
                "node_type": "1",
                "metadata": {},
                "hash": "695905c8f03e3a78b3726e90f2e5fed2680e5cf1b73add09a2cb420945ac6941",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "subsequently selfragconcurrently processes multiple retrieved passages evaluating their relevance and then generating corresponding task outputs step 2 it then generates critique tokens to criticize its own output and choose best one step 3 in terms of factuality and overall quality this process differs from conventional rag figure 1 left which 1our code and trained models are available at httpsselfraggithubio 1arxiv231011511v1 cscl 17 oct 2023 mimetype textplain start_char_idx 0 end_char_idx 3895 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2631fc6ff5d7409080305f81c101da77 embedding null metadata page_label 2 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id be1a7980976f472e890579412c27f0d8 node_type 4 metadata page_label 2 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 87aee53fa089bb7906356c1bcfcfc27c7e6a2c26bdf4065705eccf0010103bac class_name relatednodeinfo text preprint step 1 retrieve k documentscalifornia was named after a ufb01ctional island in a spanish book prompt how did us states get their names us states got their names from a variety of sources eleven states are named after an individual person eg california was named after christopher columbus some states including texas and utah are named after native american tribe retrievalaugmented generation ragours selfreufb02ective retrievalaugmented generation selfrag popular names by states in texas emma is a popular baby name of the ufb01fty states eleven are named after an individual person prompt how did us states get their names step 2 prompt lm with k docs and generateretriever lm prompt how did us states get their names us states got their names from a variety of sources retrievestep 1 retrieve on demand prompt 11 of 50 state namesrelevant step 2 generate mimetype textplain start_char_idx 202490 end_char_idx 208939 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 023a7b988a6a469697b8511f9952057c embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 332eb61fb8594b29b5826d2b7460bfed node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash a06f29124bb8d8c7b38e592b0842486bafed2dbc915635b527dfec38ed1f6b51 class_name relatednodeinfo 3 node_id b0fc81d871ae49249a7b431004ad264d node_type 1 metadata hash e40aa3bbc63c75b3490dbe4a9f7e31c472597476374153288f4004103050b4a2 class_name relatednodeinfo text class_name relatednodeinfo text preprint step 1 retrieve k documentscalifornia mimetype textplain start_char_idx 376402 end_char_idx 382430 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 566625d488fa422796a916d28c6049c9 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 81a5a0b314724bbea2a2c61c5de323a0 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 982c203d87ac24ee361a054771a6092f5eca730eedb9826ba76a7275d36f95c3 class_name relatednodeinfo  3  node_id 5b2c1093f5504ff0a7754927ee1322db node_type 1 metadata  hash 5a1213606cf839a6ad7708ffe71c377b9870c065214e1a3623e9de754479a0c8",
        "mimetype": "text/plain",
        "start_char_idx": 630536,
        "end_char_idx": 635597,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a63d9a5d-e8e7-48e0-8689-acdd7e7e219e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2ea1f0b5-e52a-4fbf-8a99-65e0f177e758",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4dbc0337e9e5106c099d88866d55feff71a5364cccb45ef0a2df7450e32e3acd",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e5f62445-0b7c-48b8-9bf2-0360640a58b4",
                "node_type": "1",
                "metadata": {},
                "hash": "f62693731c1c3ebaaff2cd017baf36553443da454fc7f22872fc1fa758ce8d02",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "2  node_id 81a5a0b314724bbea2a2c61c5de323a0 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 982c203d87ac24ee361a054771a6092f5eca730eedb9826ba76a7275d36f95c3 class_name relatednodeinfo  3  node_id 5b2c1093f5504ff0a7754927ee1322db node_type 1 metadata  hash 5a1213606cf839a6ad7708ffe71c377b9870c065214e1a3623e9de754479a0c8 class_name relatednodeinfo   text node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash a06f29124bb8d8c7b38e592b0842486bafed2dbc915635b527dfec38ed1f6b51 class_name relatednodeinfo 3 node_id b0fc81d871ae49249a7b431004ad264d node_type 1 metadata hash e40aa3bbc63c75b3490dbe4a9f7e31c472597476374153288f4004103050b4a2 class_name relatednodeinfo text class_name relatednodeinfo text preprint step 1 retrieve k documentscalifornia was named after a ufb01ctional island in a spanish book prompt how did us states get their names us states got their names from a variety of sources eleven states are named after an individual person eg california was named after christopher columbus some states including texas and utah are named after native american tribe retrievalaugmented generation ragours selfreufb02ective retrievalaugmented generation selfrag popular names by states in texas emma is a popular baby name of the ufb01fty states eleven are named after an individual person prompt how did us states get their names step 2 prompt lm with k docs and generateretriever lm prompt how did us states get their names us states got their names from a variety of sources retrievestep 1 retrieve on demand prompt 11 of 50 state namesrelevant step 2 generate segment in parallel come from personssupportedirrelevanttexas is namedafter a native american tribe step 3 critique outputs and select best segmentorigins in a 16thcentury novel las sergas de esplandiu00e1n californias name has itsrelevantpartially us states got their names from a variety of sources 11 of 50 states names are come from persons 26 states are named after native americans including utah prompt write an essay of your best summer vacation prompt write an essay of your best summer vacation no retrievalmy best summer vacation is when my family and i embarked on a road trip along my best repeat no information in passagescontradictoryprompt prompt retrieve figure 1 overview of selfragselfraglearns to retrieve critique and generate text passages to enhance overall generation quality factuality and verifiability consistently retrieves a fixed number of documents for generation regardless of the retrieval necessity eg the bottom figure example does not require factual knowledge and never second visits the generation quality moreover selfragprovides citations for each segment with its selfassessment of whether the output is supported by the passage leading to easier fact verification selfragtrains an arbitrary lm to generate text with reflection tokens by unifying them as the next token prediction from the expanded model vocabulary we train our generator lm on a diverse collection of text interleaved with reflection tokens and retrieved passages reflection tokens inspired by reward models used in reinforcement learning ziegler et al 2019 ouyang et al 2022 are inserted offline into the original corpus by a trained critic model this eliminates the need to host a critic model during training reducing overhead the critic model in part is supervised on a dataset of input output and corresponding reflection tokens collected by prompting a propriety lm ie gpt4 openai 2023 while we draw inspiration from studies that use control tokens to start and guide text generation lu et al 2022 keskar et al 2019 our trained lm uses critique tokens to assess its own predictions after each generated segment as an integral part of the generation output selfragfurther enables a customizable decoding algorithm to satisfy hard or soft constraints which are defined by reflection token predictions in particular our inferencetime algorithm enables us to 1 flexibly adjust retrieval frequency for different downstream applications and 2 customize models behaviors to user preferences by leveraging reflection tokens through segmentlevel beam search using the weighted linear sum of the reflection token probabilities as segment score empirical results on six tasks including reasoning and longform generation demonstrate that self ragsignificantly outperforms pretrained and instructiontuned llms that have more parameters and widely adopted rag approaches with higher citation accuracy in particular selfragoutperforms retrievalaugmented chatgpt on four tasks llama2chat touvron et al 2023 and alpaca dubois et al 2023 on all tasks our analysis demonstrates the effectiveness of training and inference with reflection tokens for overall performance improvements as well as testtime model customizations eg balancing the tradeoff between citation previsions and completeness 2 r elated work retrievalaugmented generation retrievalaugmented generation rag augments the input space of lms with retrieved text passages guu et al 2020 lewis et al 2020 leading to large improvements in knowledgeintensive tasks after finetuning or used with offtheshelf lms ram et al 2023 a more recent work luo et al 2023 instructiontunes an lm with a fixed number 2 mimetype textplain start_char_idx 0 end_char_idx 4517 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 50eb1d4bd8b0458c955c6ab69df8b214 embedding null metadata page_label 3 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 4c8a3957751e4059ad56314f717b8f21 node_type 4 metadata page_label 3 file_name selfragpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 635094,
        "end_char_idx": 641296,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e5f62445-0b7c-48b8-9bf2-0360640a58b4",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a63d9a5d-e8e7-48e0-8689-acdd7e7e219e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6c9b1e33da347672cea7c29be10a4be49e9663ac0038ed31e485df68510587bc",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "15451ec0-91df-48db-a2bf-519f7b8513d6",
                "node_type": "1",
                "metadata": {},
                "hash": "c506de2740d029c960a11425502b3b596061b1c3a1fc96a10c4111f98a9acc5d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "lms ram et al 2023 a more recent work luo et al 2023 instructiontunes an lm with a fixed number 2 mimetype textplain start_char_idx 0 end_char_idx 4517 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 50eb1d4bd8b0458c955c6ab69df8b214 embedding null metadata page_label 3 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 4c8a3957751e4059ad56314f717b8f21 node_type 4 metadata page_label 3 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash d48ff1c873ae1d6fc4594d474e82561524d7c1ac635373f967ce61c5158f894b class_name relatednodeinfo text preprint of retrieved passages prepended to input or pretrain a retriever and lm jointly followed by few shot finetuning on task datasets izacard et al 2022b while prior work often retrieves only once at the beginning jiang et al 2023 propose to adaptively retrieve passages for generation on top of a proprietary llm or schick et al 2023 train an lm to generate api calls for named entities yet the improved task performance of such approaches often comes at the expense of runtime efficiency mallen et al 2023 robustness to irrelevant context mimetype textplain start_char_idx 381858 end_char_idx 388350 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5b2c1093f5504ff0a7754927ee1322db embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 566625d488fa422796a916d28c6049c9 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2940cc44be5dd78681c57ab94eb6651900e414cc9a49e6a64424cdf55c1d2ddd class_name relatednodeinfo  3  node_id f2cadb4b94ac45ac84627836c330af8a node_type 1 metadata  hash 3428d4c9d71e28ed60f0b5e465f9e42ef8cfe6723b2b035d89c28386c0de6420 class_name relatednodeinfo   text file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash d48ff1c873ae1d6fc4594d474e82561524d7c1ac635373f967ce61c5158f894b class_name relatednodeinfo text preprint of retrieved passages prepended to input or pretrain a retriever and lm jointly followed by few shot finetuning on task datasets izacard et al 2022b while prior work often retrieves only once at the beginning jiang et al 2023 propose to adaptively retrieve passages for generation on top of a proprietary llm or schick et al 2023 train an lm to generate api calls for named entities yet the improved task performance of such approaches often comes at the expense of runtime efficiency mallen et al 2023 robustness to irrelevant context shi et al 2023 and lack of attributions liu et al 2023a gao et al 2023 we introduce a method to train an arbitrary lm to learn to use retrieval ondemand for diverse instructionfollowing queries and introduce controlled generation guided by reflections tokens to further improve generation quality and attributions concurrent rag work a few concurrent works2on rag propose new training or prompting strategies to improve widelyadopted rag approaches lin et al 2023 finetune both the retriever and lm on instructiontuning datasets in two steps while we also train our model on diverse instructionfollowing datasets selfragenables retrieval on demand and selection of the best possible model output via finegrained selfreflection making it widely applicable and more robust and controllable yoran et al 2023 use a natural mimetype textplain start_char_idx 208037 end_char_idx 214868 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b0fc81d871ae49249a7b431004ad264d embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 640583,
        "end_char_idx": 645862,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "15451ec0-91df-48db-a2bf-519f7b8513d6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e5f62445-0b7c-48b8-9bf2-0360640a58b4",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e29cd5ebba4cdd4319d2ed4544ed21f78eeec33cb178193b3323ea5108f4f130",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "41742060-76a7-4372-baab-2db305d8a75d",
                "node_type": "1",
                "metadata": {},
                "hash": "224fb3d2477068efd3a77f51e66721e012cbf95c21b54e61fe2425bba455e6f7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "a natural mimetype textplain start_char_idx 208037 end_char_idx 214868 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b0fc81d871ae49249a7b431004ad264d embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 023a7b988a6a469697b8511f9952057c node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash b54b556b23fffd213a114340dccc30c0a5679051952c7237515f742fd4ba2e0f class_name relatednodeinfo 3 node_id 0f0bfc9a6e1347f4b070bf888eaa96d8 node_type 1 metadata hash 35d533a6f415c5d5c54cd73d4836950b3d0ff9095f97f33a1af3ab841ec4b033 class_name relatednodeinfo text train an lm to generate api calls for named entities yet the improved task performance of such approaches often comes at the expense of runtime efficiency mallen et al 2023 robustness to irrelevant context shi et al 2023 and lack of attributions liu et al 2023a gao et al 2023 we introduce a method to train an arbitrary lm to learn to use retrieval ondemand for diverse instructionfollowing queries and introduce controlled generation guided by reflections tokens to further improve generation quality and attributions concurrent rag work a few concurrent works2on rag propose new training or prompting strategies to improve widelyadopted rag approaches lin et al 2023 finetune both the retriever and lm on instructiontuning datasets in two steps while we also train our model on diverse instructionfollowing datasets selfragenables retrieval on demand and selection of the best possible model output via finegrained selfreflection making it widely applicable and more robust and controllable yoran et al 2023 use a natural language inference model and xu et al 2023 use a summarization model to filter out or compress retrieved passages before using them to prompt the lm to generate the output selfragprocesses passages in parallel and filters out irrelevant ones through selfreflection without relying on external models at inference moreover our selfreflection mechanism also evaluates other aspects of the model output quality including factuality lats zhou et al 2023 prompt offtheshelf lms to search for relevant information for question answering tasks and to generate with tree search guided by lmgenerated value scores while their value function simply indicates an overall score of each generation selfragtrains to an arbitrary lm to learn to generate finegrained selfreflection and customizable inference training and generating with critics training llms with reinforcement learning eg proximal policy optimization or ppo schulman et al 2017 from human feedback rlhf has proven effective in aligning llms with human preferences ouyang et al 2022 wu et al 2023 introduce finegrained rlhf with multiple reward models though our work also studies finegrained critique on retrieval and generation we train our target lm on task examples augmented with reflection tokens from a critic model offline with a far lower training cost compared to rlhf in addition reflection tokens in s elfragenable controllable generation at inference while rlhf focuses on human preference alignment during training other works use general control tokens to guide lm generation lu et al 2022 korbak et al 2023 while selfraguses reflection tokens to decide the need for retrieval and to selfevaluate generation quality xie et al 2023 propose a selfevaluation guided decoding framework but they focus only on reasoning tasks with one evaluation dimension reasoning path consistency and without retrieval recent work on llm refinement dhuliawala et al 2023 madaan et al 2023 paul et al 2023 prompts a model to generate task output natural language feedback and refined task output iteratively but at the cost of inference efficiency 3 s elfrag learning to retrieve generate and critique we introduce selfreflective retrievalaugmented generation selfrag shown in mimetype textplain start_char_idx 387610 end_char_idx 393831 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f2cadb4b94ac45ac84627836c330af8a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 5b2c1093f5504ff0a7754927ee1322db node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 645081,
        "end_char_idx": 650883,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "41742060-76a7-4372-baab-2db305d8a75d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "15451ec0-91df-48db-a2bf-519f7b8513d6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6762c1c7dec22f9953cc288254b1c95b89eda6cab1abd407c79b7e5814aec8d5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "97a1cd84-313b-43fa-9de4-738d6ac7da8e",
                "node_type": "1",
                "metadata": {},
                "hash": "4f06ad16a88cb81b04a7ad5f6359d7b50b83d21647a4c79b038c5d50405f2847",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 5b2c1093f5504ff0a7754927ee1322db node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash a27984d7478309d9ed6cbebcb58edb4253b7095da8042d43009285b1dc421f17 class_name relatednodeinfo  3  node_id 7f4060c33f2246cf93044663dff37175 node_type 1 metadata  hash 1dad039fcfd724c9b2cb1a3da6af1a25fe110e575899a41a29463a32eb72003e class_name relatednodeinfo   text we train our target lm on task examples augmented with reflection tokens from a critic model offline with a far lower training cost compared to rlhf in addition reflection tokens in s elfragenable controllable generation at inference while rlhf focuses on human preference alignment during training other works use general control tokens to guide lm generation lu et al 2022 korbak et al 2023 while selfraguses reflection tokens to decide the need for retrieval and to selfevaluate generation quality xie et al 2023 propose a selfevaluation guided decoding framework but they focus only on reasoning tasks with one evaluation dimension reasoning path consistency and without retrieval recent work on llm refinement dhuliawala et al 2023 madaan et al 2023 paul et al 2023 prompts a model to generate task output natural language feedback and refined task output iteratively but at the cost of inference efficiency 3 s elfrag learning to retrieve generate and critique we introduce selfreflective retrievalaugmented generation selfrag shown in figure 1 selfragis a framework that enhances the quality and factuality of an llm through retrieval and selfreflection without sacrificing llms original creativity and versatility our endtoend training lets an lm mgenerate text informed by retrieved passages if needed and criticize the output by learning to generate special tokens these reflection tokens table 1 signal the need for retrieval or confirm the outputs relevance support or completeness in contrast common rag approaches retrieve passages indiscriminately without ensuring complete support from cited sources 31 p roblem formalization and overview formally given input x we train mto sequentially generate textual outputs yconsisting of multiple segments y y1 y t where ytindicates a sequence of tokens for the tth segment3generated tokens in ytinclude text from the original vocabulary as well as the reflection tokens table 1 2all work is arxived within a week of this preprint 3in this paper we treat one sentence as a segment in our experiments but our framework is applicable to any segment unit ie subsentence 3 mimetype textplain start_char_idx 0 end_char_idx 4676 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 39bb4eb8b4584825b27ed48459c23210 embedding null metadata page_label 4 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 45f6d946b0a748529c104793808e5af8 node_type 4 metadata page_label 4 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 21937819cdd88f3518235207a7bba349155c0e7e91d09115b549a895d845153a class_name relatednodeinfo text preprint type input output definitions retrieve xx y yes no continue decides when to retrieve with r isrel x d relevant irrelevant dprovides useful information to solve x issup x d y fully supported partially supported no support all of the verificationworthy statement in y is supported by d isuse x y 5 4 3 2 1 yis a useful response to x table 1 four types of reflection tokens used in selfrag each type uses several tokens to represent its output values the bottom three rows are three types of critique tokens and the bold text indicates the most desirable critique tokens x y d indicate input output and a relevant passage respectively algorithm 1 selfraginference require generator lm m retriever r largescale passage collections d1 d n 1input input prompt xand preceding generation ytoutput next output segment yt 2mpredicts retrieve given x yt 3ifretrieve yes then 4 retrieve relevant text passages dusingrgiven x yt1 retrieve 5 mpredicts isrelgiven x dandytgiven x d y tfor each dd generate 6 mpredicts issupand isusegiven x yt dfor each dd critique 7 rank ytbased on isrelissupisuse detailed in section 33 8else if retrieve nothen 9 mgenpredicts ytgiven x generate 10 mgenpredicts isusegiven x yt critique inference overview figure 1 and algorithm 1 present an overview of s elfragat inference for every xand preceding generation yt the model decodes a retrieval token to evaluate the utility of retrieval if retrieval is not required the model predicts the next output segment mimetype textplain start_char_idx 213844 end_char_idx 220567 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 0f0bfc9a6e1347f4b070bf888eaa96d8 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id",
        "mimetype": "text/plain",
        "start_char_idx": 650285,
        "end_char_idx": 656161,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "97a1cd84-313b-43fa-9de4-738d6ac7da8e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "41742060-76a7-4372-baab-2db305d8a75d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ec3ca01203d61600718b44834b4702f342b6cb698fb982252130fd61e014bd98",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9dab82c3-9d9f-48c6-9566-45a83eb1e72a",
                "node_type": "1",
                "metadata": {},
                "hash": "7374b70e990efafa95315b355fffe929b83364910c8a8dc962e3276f721e850c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "9 mgenpredicts ytgiven x generate 10 mgenpredicts isusegiven x yt critique inference overview figure 1 and algorithm 1 present an overview of s elfragat inference for every xand preceding generation yt the model decodes a retrieval token to evaluate the utility of retrieval if retrieval is not required the model predicts the next output segment mimetype textplain start_char_idx 213844 end_char_idx 220567 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 0f0bfc9a6e1347f4b070bf888eaa96d8 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id b0fc81d871ae49249a7b431004ad264d node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash dc0b2f523135238e8d9fdf8ba596c959c207f70b69ae4d87f2df2886dd38a71a class_name relatednodeinfo 3 node_id f3cb80a5d1584c7582194201e6acd74e node_type 1 metadata hash mimetype textplain start_char_idx 392790 end_char_idx 398608 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7f4060c33f2246cf93044663dff37175 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id f2cadb4b94ac45ac84627836c330af8a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash caea49d4dae26242ed3683b1d3f2fba00eba6301b05907f9a15ff3c0242fdb22 class_name relatednodeinfo  3  node_id 624f4204e93a48ee94cb19e605139ed6 node_type 1 metadata  hash 8310f5233983d5677bed3f7b2fa64a524b66bc61e2b0dff8951ef7b34bbdf25c class_name relatednodeinfo   text 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id b0fc81d871ae49249a7b431004ad264d node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash dc0b2f523135238e8d9fdf8ba596c959c207f70b69ae4d87f2df2886dd38a71a class_name relatednodeinfo 3 node_id f3cb80a5d1584c7582194201e6acd74e node_type 1 metadata hash 6d9ad52d9a5ffc0e8cdb5df755ad330e86a2aa0ed52b9f0f6ffa194eeba5caa6 class_name relatednodeinfo text require generator lm m retriever r largescale passage collections d1 d n 1input input prompt xand preceding generation ytoutput next output segment yt 2mpredicts retrieve given x yt 3ifretrieve yes then 4 retrieve relevant text passages dusingrgiven x yt1 retrieve 5 mpredicts isrelgiven x dandytgiven x d y tfor each dd generate 6 mpredicts issupand isusegiven x yt dfor each dd critique 7 rank ytbased on isrelissupisuse detailed in section 33 8else if retrieve nothen 9 mgenpredicts ytgiven x generate 10 mgenpredicts isusegiven x yt critique inference overview figure 1 and algorithm 1 present an overview of s elfragat inference for every xand preceding generation yt the model decodes a retrieval token to evaluate the utility of retrieval if retrieval is not required the model predicts the next output segment as it does in a standard lm if retrieval is needed the model generates a critique token to evaluate the retrieved passages relevance the next response segment and a critique token to evaluate if the information in the response segment is supported by the passage finally a new critique token evaluates the overall utility of the",
        "mimetype": "text/plain",
        "start_char_idx": 655305,
        "end_char_idx": 660130,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9dab82c3-9d9f-48c6-9566-45a83eb1e72a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "97a1cd84-313b-43fa-9de4-738d6ac7da8e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "17363567baa8ee7f72d8e75f5029ccc732166b5daba2e9e7ca3527f31775d13c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "1920e82b-bf35-4ec2-9ab3-9545ab71b387",
                "node_type": "1",
                "metadata": {},
                "hash": "a3623d469372eeab45a7821e7221d7175c63393e22073c93d797f8b9d4cae72b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "x yt1 retrieve 5 mpredicts isrelgiven x dandytgiven x d y tfor each dd generate 6 mpredicts issupand isusegiven x yt dfor each dd critique 7 rank ytbased on isrelissupisuse detailed in section 33 8else if retrieve nothen 9 mgenpredicts ytgiven x generate 10 mgenpredicts isusegiven x yt critique inference overview figure 1 and algorithm 1 present an overview of s elfragat inference for every xand preceding generation yt the model decodes a retrieval token to evaluate the utility of retrieval if retrieval is not required the model predicts the next output segment as it does in a standard lm if retrieval is needed the model generates a critique token to evaluate the retrieved passages relevance the next response segment and a critique token to evaluate if the information in the response segment is supported by the passage finally a new critique token evaluates the overall utility of the response4to generate each segment selfragprocesses multiple passages in parallel and uses its own generated reflection tokens to enforce soft constraints section 33 or hard control algorithm 1 over the generated task output for instance in figure 1 right the retrieved passages d1is selected at the first time step since d2does not provide direct evidence isrelis irrelevant andd3output is only partially supported while d1are fully supported training overview selfragenables an arbitrary lm to generate text with reflection tokens by unifying them as next token predictions from the expanded model vocabulary ie the original vocabulary plus reflection tokens specifically we train the generator model mon a curated corpus with interleaving passages retrieved by a retriever rand reflection tokens predicted by a critic model csummarized in appendix algorithm 2 we train cto generate reflection tokens for evaluating retrieved passages and the quality of a given task output section 321 using the critic model we update the training corpus by inserting reflection tokens into task outputs offline subsequently we train the final generator model m using the conventional lm objective section 322 to enable mto generate reflection tokens by itself without relying on the critic at inference time 32 s elfragtraining here we describe the supervised data collection and training of two models the critic csection 321 and the generator msection 322 321 t raining the critic model data collection for critic model manual annotation of reflection tokens for each segment is expensive wu et al 2023 a stateoftheart llm like gpt4 openai 2023 can be effectively 4we follow liu et al 2023a in using a perceived utility value that is independent of retrieved passages 4 mimetype textplain start_char_idx 0 end_char_idx 3586 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5e25012f1dfb49ee9d65885939c838f2 embedding null metadata page_label 5 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 53165f5cbfee4d628a1531d2d20f6c3a node_type 4 metadata page_label 5 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash ce81cb5bf023b6c2df8736023bf10f75252b79699b73cb37a602f5a4866e4812 class_name relatednodeinfo text preprint input how did us states get their names input write an essay of your best summer vacationoutput my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable critic lmoutput 1 of 50 states names come from persons for instance louisiana was named in honor of king louis xiv of france and georgia was named after king george ii retrieve partially augmented output retrieveplouisiana named inpof the ufb01fty states eleven are named after an individual personp 11 of 50 states names come from person relevantsupportedhonor of louis xiv of francep relevantfor instance louisiana was named after king louis xiv andutil 5georgia was named after king george ii util 5augmented output my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable experienceno retrievalno retrieval retriever figure 2 selfragtraining examples the left example does not require retrieval while the right one requires retrieval thus passages are inserted more examples are in appendix table 4 used to generate such feedback liu et al 2023b however depending on such proprietary lms can raise api costs and diminish reproducibility chen et al 2023 we create supervised data by prompting gpt4 to generate reflection tokens and then distill their knowledge into an inhouse c for each group of reflection tokens we randomly sample instances from the original training data xsample ysample x y as different reflection token groups have their own definitions and input as shown in table 1 we use different instruction mimetype textplain start_char_idx 398077 end_char_idx 404160 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 624f4204e93a48ee94cb19e605139ed6 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7f4060c33f2246cf93044663dff37175 node_type 1 metadata  file_path",
        "mimetype": "text/plain",
        "start_char_idx": 659234,
        "end_char_idx": 665387,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "1920e82b-bf35-4ec2-9ab3-9545ab71b387",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9dab82c3-9d9f-48c6-9566-45a83eb1e72a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c8bfb8ef142620d2f9f638af161e80d88ee99377cb93fab0f24cae5e6dfdde65",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "804cf44f-131d-4797-86a6-6f7a829c0f1f",
                "node_type": "1",
                "metadata": {},
                "hash": "ba5a6bd77644c83813e6f80e5174d493dddcaabc94195214dc44b1c59a4e6eb8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7f4060c33f2246cf93044663dff37175 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 38c8403123756e13a81c74dee892bc740cf14bc50e736d42b088a3983799db96 class_name relatednodeinfo  3  node_id 2053ae7f3267456caa750fdb9532c3c8 node_type 1 metadata  hash 43fee83dc6fb858516da89be9753bd0546bd9ad2e12cfef228e494530286732d class_name relatednodeinfo   text relevantfor instance louisiana was named after king louis xiv andutil 5georgia was named after king george ii util 5augmented output my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable experienceno retrievalno retrieval retriever figure 2 selfragtraining examples the left example does not require retrieval while the right one requires retrieval thus passages are inserted more examples are in appendix table 4 used to generate such feedback liu et al 2023b however depending on such proprietary lms can raise api costs and diminish reproducibility chen et al 2023 we create supervised data by prompting gpt4 to generate reflection tokens and then distill their knowledge into an inhouse c for each group of reflection tokens we randomly sample instances from the original training data xsample ysample x y as different reflection token groups have their own definitions and input as shown in table 1 we use different instruction prompts for them here we use retrieve as an example we prompt gpt4 with a typespecific instruction given an instruction make a judgment on whether finding some external documents from the web helps to generate a better response followed by fewshot demonstrations ithe original task input xand output yto predict an appropriate reflection token as text pri x y manual assessment reveals that gpt4 reflection token predictions show high agreement with human evaluations we collect 4k20k supervised training data for each type and combine them to form training data for c appendix section d shows the full list of instructions and a1 contains more details and our analysis critic learning after we collect training data dcritic we initialize cwith a pretrained lm and train it on dcritic using a standard conditional language modeling objective maximizing likelihood max cexyrdcritic logpcrx y rfor reflection tokens 1 though the initial model can be any pretrained lm we use the same one as the generator lm ie llama 27b touvron et al 2023 for cinitialization the critic achieves a higher than 90 agreement with gpt4based predictions on most reflection token categories appendix table 5 322 t raining the generator model data collection mimetype textplain start_char_idx 219750 end_char_idx 226449 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f3cb80a5d1584c7582194201e6acd74e embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 0f0bfc9a6e1347f4b070bf888eaa96d8 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 6de4764bb378af96d7b9fde4f506357d0731fb9f4716133d061a76fcafae048b class_name relatednodeinfo 3 node_id cc0d13f6f78443c2b5ec41bbf85e8955 node_type 1 metadata hash f9b57b154a5c1c5e7ab36cfa6bb81b9f42f973650c84da1a9376b22041d40fb4 class_name relatednodeinfo text generate a better response followed by fewshot demonstrations ithe original task input xand output yto predict an appropriate reflection token as text pri x y manual assessment reveals that gpt4 reflection token predictions show high agreement with human evaluations we collect 4k20k supervised training data for each type and combine them to form training data for c appendix section d shows the full list of instructions and a1 contains more details and our analysis critic learning after we collect training data dcritic we initialize cwith a pretrained lm and train it on dcritic using a standard conditional language modeling objective maximizing likelihood max cexyrdcritic logpcrx y rfor reflection tokens 1 though the initial model can be any pretrained lm we use the same one as the generator lm ie llama 27b touvron et al 2023 for cinitialization the critic achieves a higher than 90",
        "mimetype": "text/plain",
        "start_char_idx": 664756,
        "end_char_idx": 670394,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "804cf44f-131d-4797-86a6-6f7a829c0f1f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "1920e82b-bf35-4ec2-9ab3-9545ab71b387",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9147c999f5eecea730669d6652dc6f271fae079929e17a6cd6dba21ebc96faa5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4ec5f56e-e2fc-4c35-b85f-f1690352291b",
                "node_type": "1",
                "metadata": {},
                "hash": "5f362eddc65a155c2514fcb9a48d055453e1515fb046e3b307d51ed88a4a74bc",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text generate a better response followed by fewshot demonstrations ithe original task input xand output yto predict an appropriate reflection token as text pri x y manual assessment reveals that gpt4 reflection token predictions show high agreement with human evaluations we collect 4k20k supervised training data for each type and combine them to form training data for c appendix section d shows the full list of instructions and a1 contains more details and our analysis critic learning after we collect training data dcritic we initialize cwith a pretrained lm and train it on dcritic using a standard conditional language modeling objective maximizing likelihood max cexyrdcritic logpcrx y rfor reflection tokens 1 though the initial model can be any pretrained lm we use the same one as the generator lm ie llama 27b touvron et al 2023 for cinitialization the critic achieves a higher than 90 agreement with gpt4based predictions on most reflection token categories appendix table 5 322 t raining the generator model data collection for generator given an inputoutput pair x y we augment the original output yusing the retrieval and critic models to create supervised data that precisely mimics the self raginferencetime process section 31 for each segment yty we run cto assess whether additional passages could help to enhance generation if retrieval is required the retrieval special token retrieve yes is added and rretrieves the top kpassages d for each passage cfurther evaluates whether the passage is relevant and predicts isrel if a passage is relevant cfurther evaluates whether the passage supports the model generation and predicts issup critique tokens isreland issupare appended after the retrieved passage or generations at the end of the output y orytcpredicts the overall utility token isuse and an augmented output with reflection tokens and the original input pair is added to dgen see the example training data in figure 2 generator learning we train the generator model mby training on the curated corpus augmented with reflection tokens dgenusing the standard next token objective max mexyr dgenlogpmy rx 2 unlike ctraining eq 1 mlearns to predict the target output as well as the reflection tokens during training we mask out the retrieved text chunks surrounded by p andp in figure 2 for loss calculation and expand the original vocabulary vwith a set of reflection tokens critique retrieve connections to prior work on learning with critique recent work incorporates additional critique feedback during training eg rlhf ouyang et al 2022 via ppo while ppo relies on 5 mimetype textplain start_char_idx 0 end_char_idx 4450 text_template mimetype textplain start_char_idx 403139 end_char_idx 409470 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2053ae7f3267456caa750fdb9532c3c8 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 624f4204e93a48ee94cb19e605139ed6 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash e6abdc432037e6cff938b4a8a0b93fc53fd090ef7c8f74f265b92c006b8d9a7e class_name relatednodeinfo  3  node_id 2d94ad958a02482db385fc6f5c36bf31 node_type 1 metadata  hash 90364c63511c8736bf41c25ac8eecdf71bd38f665d83e127f3eea6bb11044bec class_name relatednodeinfo   text isreland issupare appended after the retrieved passage or generations at the end of the output y orytcpredicts the overall utility token isuse and an augmented output with reflection tokens and the original input pair is added to dgen see the example training data in figure 2 generator learning we train the generator model mby training on the curated corpus augmented with reflection tokens dgenusing the standard next token objective max mexyr dgenlogpmy rx 2 unlike ctraining eq 1 mlearns to predict the target output as well as the reflection tokens during training we mask out the retrieved text chunks surrounded by p andp in figure 2 for loss calculation and expand the original vocabulary vwith a set of reflection tokens critique retrieve connections to prior work on learning with critique recent work incorporates additional critique feedback during training eg rlhf ouyang et al 2022 via ppo while ppo relies on 5 mimetype textplain start_char_idx 0 end_char_idx 4450 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c1760dbbc59e4c509df69b53232dc21c embedding null metadata page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id a90376757511499c9131d51a3ecdfd86 node_type 4 metadata page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 6f66a422f5dca00c21b68750e3e28c615fecc2a83cb629293e5b1ae516c0cdae class_name relatednodeinfo text preprint",
        "mimetype": "text/plain",
        "start_char_idx": 669469,
        "end_char_idx": 675403,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4ec5f56e-e2fc-4c35-b85f-f1690352291b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "804cf44f-131d-4797-86a6-6f7a829c0f1f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6de4f84792e8bc8ac535d7c32f59f8912784b704bb823b7e1ecda68635f329cd",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4e220e23-a641-424e-aa56-56443eef0314",
                "node_type": "1",
                "metadata": {},
                "hash": "b690e8c47c1da827e3ee333083fe414dfb5cc317aa6e75ff5e1abb49c8c4b177",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id a90376757511499c9131d51a3ecdfd86 node_type 4 metadata page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 6f66a422f5dca00c21b68750e3e28c615fecc2a83cb629293e5b1ae516c0cdae class_name relatednodeinfo text preprint separate reward models during training we compute critique offline and directly insert them into the training corpus where the generator lm is trained with a standard lm objective this significantly reduces training costs compared to ppo our work also relates to prior work that incorporates special tokens to control generation keskar et al 2019 lu et al 2022 korbak et al 2023 our selfrag learns to generate special tokens to evaluate its own prediction after each generated segment enabling the use of a soft reranking mechanism or hard constraints at inference discussed next 33 s elfraginference generating reflection tokens to selfevaluate its own output makes selfragcontrollable during the inference phase enabling it to tailor its behavior to diverse task requirements for tasks demanding factual accuracy min et al 2023 we aim for the model to retrieve passages more frequently to ensure that the output aligns closely with the available evidence conversely in more openended tasks like composing a personal experience essay the emphasis shifts towards retrieving less and prioritizing the overall creativity or utility score in this section we describe approaches to enforce control to meet these distinct objectives during the inference process adaptive retrieval with threshold selfragdynamically decides when to retrieve text passages by predicting retrieve alternatively our framework allows a threshold to be set specifically if the prob ability of generating the retrieve yes token normalized over all output tokens in retrieve surpasses a designated threshold we trigger retrieval details in appendix section a3 treedecoding with critique tokens at each segment step t when retrieval is required based either on hard or soft conditions rretrieves kpassages and the generator mprocesses each passage in parallel and outputs kdifferent continuation candidates we conduct a segmentlevel beam search with the beam size b to obtain the top bsegment continuations at each timestamp t and return the best sequence at the end of generation the score of each segment ytwith respect to passage dis updated with a critic score sthat is the linear weighted sum of the normalized probability of each critique token type for each critique token group geg isrel we denote its score at timestamp tassg t and we compute a segment score as follows fyt d critique pytx d y t scritique where 3 scritique x ggwgsg tforgisrelissupisuse 4 where sg tptu02c6rpng i1ptristands for the generation probability of the most desirable reflection token u02c6reg isrelrelevant for the critique token type gwithngdistinct tokens that represent different possible values for g the weights wgin eq 4 are hyperparameters that can be adjusted at inference time to enable customized behaviors at test time for instance to ensure that result yis mostly supported by evidence we can set a weight term for the issupscore higher while relatively lowering weights for other aspects alternatively we could further enforce hard constraints during decoding using critique instead of using a soft reward function in eq 4 we could explicitly filter out a segment continuation when the model generates an undesirable critique token eg issupno support balancing the tradeoff between multiple preferences has been studied in rlhf touvron et al 2023 wu et al 2023 which often requires training to change models behaviors s elfragtailors an lm with no additional training 4 e xperiments 41 t asks and datasets mimetype textplain start_char_idx 225416 end_char_idx 232396 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ cc0d13f6f78443c2b5ec41bbf85e8955 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id f3cb80a5d1584c7582194201e6acd74e node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date mimetype textplain start_char_idx 408476 end_char_idx 414884 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2d94ad958a02482db385fc6f5c36bf31 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo",
        "mimetype": "text/plain",
        "start_char_idx": 674734,
        "end_char_idx": 680845,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4e220e23-a641-424e-aa56-56443eef0314",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4ec5f56e-e2fc-4c35-b85f-f1690352291b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f3b7bb509c1d49ee78f7d1b664b47d6acafacfb63a0599cf7d79f8dc394a1454",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "66f27aee-68ed-4707-b825-a5d695e27f2e",
                "node_type": "1",
                "metadata": {},
                "hash": "78214cc121be5d6f022f7d7d2b06d799595980c5dc5df0866f9b6395cfae8746",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 2053ae7f3267456caa750fdb9532c3c8 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash fdb5a8863863efb4be74debb0341878822606fec7889b0d1201673250d50da1b class_name relatednodeinfo  3  node_id c64365e6ff5d4350a73aebae8bc471f1 node_type 1 metadata  hash 377eac48055e82cceb1995ffe09cb1c549b1adcbf90e97412efac28d5357020a class_name relatednodeinfo   text relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id f3cb80a5d1584c7582194201e6acd74e node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash baa4c4a6f51fe549d4e10c221b853da325556dbc53fb8bd79b3c8b0b4c82c0da class_name relatednodeinfo 3 node_id 89c122bdcfd2428fbf4af0ceff7836a1 node_type 1 metadata hash 9b5f454fca96d0daa51d04420ddcbf120aa6803e0fa2cff9c9ecf2e9fe8e25d3 class_name relatednodeinfo text i1ptristands for the generation probability of the most desirable reflection token u02c6reg isrelrelevant for the critique token type gwithngdistinct tokens that represent different possible values for g the weights wgin eq 4 are hyperparameters that can be adjusted at inference time to enable customized behaviors at test time for instance to ensure that result yis mostly supported by evidence we can set a weight term for the issupscore higher while relatively lowering weights for other aspects alternatively we could further enforce hard constraints during decoding using critique instead of using a soft reward function in eq 4 we could explicitly filter out a segment continuation when the model generates an undesirable critique token eg issupno support balancing the tradeoff between multiple preferences has been studied in rlhf touvron et al 2023 wu et al 2023 which often requires training to change models behaviors s elfragtailors an lm with no additional training 4 e xperiments 41 t asks and datasets we conduct evaluations of our selfragand diverse baselines on a range of downstream tasks holistically evaluating outputs with metrics designed to assess overall correctness factuality and fluency throughout these experiments we conduct zeroshot evaluations where we provide instruc tions describing tasks without fewshot demonstrations wei et al 2022 sanh et al 2022 details of our experiments settings including testtime instructions are available in the appendix section b1 closedset tasks include two datasets ie a fact verification dataset about public health pubhealth zhang et al 2023 and a multiplechoice reasoning dataset created from scientific exams arc 6 mimetype textplain start_char_idx 0 end_char_idx 4151 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 82ad6124c43646b7bd3af642f90c99ea embedding null metadata page_label 7 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 7a40a13fed0f44938a5caddcb560e419 node_type 4 metadata page_label 7 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash a756e676290b5ffacd99717a805bbdc73999aefcd7dd476c44117237664fef8a class_name relatednodeinfo text preprint challenge clark et al 2018 we use accuracy as an evaluation metric and report on the test set we aggregate the answer probabilities of target classes for both of these datasets appendix section b2 shortform generations tasks include two opendomain question answering qa datasets popqa mallen et al 2023 and triviaqaunfiltered joshi et al 2017 where systems need to answer arbitrary questions about factual knowledge for popqa we use the longtail subset consisting of 1399 rare entity queries whose monthly wikipedia page views are less than 100 as the triviaqaunfiltered open test set is not publicly available we follow prior works",
        "mimetype": "text/plain",
        "start_char_idx": 680177,
        "end_char_idx": 685511,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "66f27aee-68ed-4707-b825-a5d695e27f2e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4e220e23-a641-424e-aa56-56443eef0314",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c88afcf35bf860606b269ce344368f332223a56d1f4a77dcf73c04e0426a3b5c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "5a888f2d-76fa-4172-b487-ccbc455611e4",
                "node_type": "1",
                "metadata": {},
                "hash": "fe5e29021d33f07b667dcefaff4e284632dd281099065f77cef8e9d38ca7644b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash a756e676290b5ffacd99717a805bbdc73999aefcd7dd476c44117237664fef8a class_name relatednodeinfo text preprint challenge clark et al 2018 we use accuracy as an evaluation metric and report on the test set we aggregate the answer probabilities of target classes for both of these datasets appendix section b2 shortform generations tasks include two opendomain question answering qa datasets popqa mallen et al 2023 and triviaqaunfiltered joshi et al 2017 where systems need to answer arbitrary questions about factual knowledge for popqa we use the longtail subset consisting of 1399 rare entity queries whose monthly wikipedia page views are less than 100 as the triviaqaunfiltered open test set is not publicly available we follow prior works validation and test split min et al 2019 guu et al 2020 using 11313 test queries for evaluation we evaluate performance based on whether gold answers are included in the model generations instead of strictly requiring exact matching following mallen et al 2023 schick et al 2023 longform generation tasks include a biography generation task min et al 2023 and a longform qa task alceasqa gao et al 2023 stelmakh et al 2022 we use factscore min et al 2023 to evaluate biographies and we use official metrics of correctness strem fluency based on mauve pillutla et al 2021 and citation precision and recall gao et al 2023 for asqa5 42 b aselines baselines without retrievals we evaluate strong publicly available pretrained llms llama2 7b13btouvron et al 2023 instructiontuned models alpaca 7b13bdubois et al 2023 our replication based on llama2 and models trained and reinforced using private data chat gpt ouyang et al 2022 and llama2chat 13b for instructiontuned lms we use the official system prompt or instruction format used during training if publicly available we also compare our method to concurrent work cove 65bdhuliawala et al 2023 which introduces iterative prompt engineering to improve the factuality of llm generations baselines with retrievals we evaluate models augmented with retrieval at test time or during training the first category includes standard rag baselines where an lm llama2 alpaca generates output given the query prepended with the top retrieved documents using the same retriever as in our system it also includes llama2ft where llama2 is finetuned on all training data we use without the reflection tokens or retrieved passages we also report the result of retrievalaugmented baselines with lms mimetype textplain start_char_idx 414270 end_char_idx 420139 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c64365e6ff5d4350a73aebae8bc471f1 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 2d94ad958a02482db385fc6f5c36bf31 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 9081b3e1c8071294280600b7d02b59714a54ef9b6e64894dda1d06c559219e3e class_name relatednodeinfo  3  node_id b68fbcd087fd43f8a0d8bbfc99d84ef7 node_type 1 metadata  hash 5e3268a78d854d62e0c68292e074b7023d870fea3a1e4834894af42126632015 class_name relatednodeinfo   text models alpaca 7b13bdubois et al 2023 our replication based on llama2 and models trained and reinforced using private data chat gpt ouyang et al 2022 and llama2chat 13b for instructiontuned lms we use the official system prompt or instruction format used during training if publicly available we also compare our method to concurrent work cove 65bdhuliawala et al 2023 which introduces iterative prompt engineering to improve the factuality of llm generations baselines with retrievals we evaluate models augmented with retrieval at test time or during training the first category includes standard rag baselines where an lm llama2 alpaca generates output given the query prepended with the top retrieved documents using the same retriever as in our system it also includes llama2ft where llama2 is finetuned on all training data we use without the reflection tokens or retrieved passages we also report the result of retrievalaugmented baselines with lms trained with private data retchatgpt and retllama2chat which deploy the same augmentation technique above as well as perplexityai an instructgptbased production search system the second category includes concurrent methods that are trained with retrieved text passages ie sail luo et al 2023 to instructiontune an lm on the alpaca instructiontuning data with top retrieved documents inserted before instructions and toolformer schick et al 2023 to pretrain an lm with api calls eg wikipedia apis6 43 e xperimental settings training data and settings our training data consists of diverse instructionfollowing inputoutput pairs in particular we sample instances from openinstruct processed data wang et al 2023 and knowledgeintensive datasets petroni et al 2021 stelmakh et al 2022 mihaylov et al 2018 in total we use 150k instructionoutput pairs we use llama2 7b",
        "mimetype": "text/plain",
        "start_char_idx": 684674,
        "end_char_idx": 690472,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5a888f2d-76fa-4172-b487-ccbc455611e4",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "66f27aee-68ed-4707-b825-a5d695e27f2e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "eb54bc6ebdd400e2b244005874b4f979880319e88d2e0756fd4cd38e8a7c8d92",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c3d3566e-54e6-46ff-b5d6-f3a778d9841e",
                "node_type": "1",
                "metadata": {},
                "hash": "d9982af82fd326de880f75479143dcbe468b52291354150e5319a9f8ab6aa205",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "we also report the result of retrievalaugmented baselines with lms trained with private data retchatgpt and retllama2chat which deploy the same augmentation technique above as well as perplexityai an instructgptbased production search system the second category includes concurrent methods that are trained with retrieved text passages ie sail luo et al 2023 to instructiontune an lm on the alpaca instructiontuning data with top retrieved documents inserted before instructions and toolformer schick et al 2023 to pretrain an lm with api calls eg wikipedia apis6 43 e xperimental settings training data and settings our training data consists of diverse instructionfollowing inputoutput pairs in particular we sample instances from openinstruct processed data wang et al 2023 and knowledgeintensive datasets petroni et al 2021 stelmakh et al 2022 mihaylov et al 2018 in total we use 150k instructionoutput pairs we use llama2 7b and 13b touvron et al 2023 as our generator base lm and we use llama2 7b as our base critic lm for the retriever model r we use offtheshelf contrieverms marco izacard et al 2022a by default and retrieve up to ten documents for each input more training details are in the appendix section b1 inference settings as a default configuration we assign the weight terms isrelissupisuse values of 10 10 and 05 respectively to encourage frequent retrieval we set the retrieval threshold to 02 for most tasks and to 0 for alce gao et al 2023 due to citation requirements we speed up inference using vllm mimetype textplain start_char_idx 231379 end_char_idx 237797 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 89c122bdcfd2428fbf4af0ceff7836a1 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id cc0d13f6f78443c2b5ec41bbf85e8955 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 247653b44f3e2eca3666d8b70ea66bbb7559c63a4041c93b30a2db8ada04e6cc class_name relatednodeinfo 3 node_id a3158b32efba4589a08bb959f013fe3d node_type 1 metadata hash 42a59c7f0d5fb45dd598c212bdd8b6ff6662959099e4010650660d6090c73a59 class_name relatednodeinfo text processed data wang et al 2023 and knowledgeintensive datasets petroni et al 2021 stelmakh et al 2022 mihaylov et al 2018 in total we use 150k instructionoutput pairs we use llama2 7b and 13b touvron et al 2023 as our generator base lm and we use llama2 7b as our base critic lm for the retriever model r we use offtheshelf contrieverms marco izacard et al 2022a by default and retrieve up to ten documents for each input more training details are in the appendix section b1 inference settings as a default configuration we assign the weight terms isrelissupisuse values of 10 10 and 05 respectively to encourage frequent retrieval we set the retrieval threshold to 02 for most tasks and to 0 for alce gao et al 2023 due to citation requirements we speed up inference using vllm kwon et al 2023 at each segment level we adopt a beam width of 2 for a tokenlevel generation we use greedy decoding by default we use the top five documents from contrieverms marco izacard et al 2022a for biographies and opendomain qa we use additional top five documents retrieved by a web search engine following luo et al 2023 for asqa we use the authorprovided top 5 documents by gtrxxl ni et al 2022 across all baselines for a fair comparison 5httpsgithubcomprincetonnlpalce 6we report numbers using the results reported in the paper as the implementations are not available 7 mimetype textplain start_char_idx 0 end_char_idx 4412 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 40a574f6d84c474fb13214774ba2c47d embedding null metadata page_label 8 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf mimetype textplain start_char_idx 419185 end_char_idx 424715 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b68fbcd087fd43f8a0d8bbfc99d84ef7 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date",
        "mimetype": "text/plain",
        "start_char_idx": 689543,
        "end_char_idx": 694905,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c3d3566e-54e6-46ff-b5d6-f3a778d9841e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "5a888f2d-76fa-4172-b487-ccbc455611e4",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "977db9dbd3aa2c49cf8c390a1e16ad247bce9329df35a0e6cbc93eddf173a272",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "aa35bcc4-6c31-42c3-8e22-c49d175aad0b",
                "node_type": "1",
                "metadata": {},
                "hash": "9932a6ee7b8c90aaea73a55c5597a124c142f111cd9f21829fce0ec3203a2828",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "mimetype textplain start_char_idx 419185 end_char_idx 424715 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b68fbcd087fd43f8a0d8bbfc99d84ef7 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id c64365e6ff5d4350a73aebae8bc471f1 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 537de22e2dbde7fb5d59f9b1cc2971b1c4d8e7d3683b4e432ff296e817c283b2 class_name relatednodeinfo  3  node_id 87b8049e5e174799851bde2df5703658 node_type 1 metadata  hash 47f44bce10cd555d0d27a0efcc5fd03b4eb66c14fe756b2914dbec8400d7eac4 class_name relatednodeinfo   text documents from contrieverms marco izacard et al 2022a for biographies and opendomain qa we use additional top five documents retrieved by a web search engine following luo et al 2023 for asqa we use the authorprovided top 5 documents by gtrxxl ni et al 2022 across all baselines for a fair comparison 5httpsgithubcomprincetonnlpalce 6we report numbers using the results reported in the paper as the implementations are not available 7 mimetype textplain start_char_idx 0 end_char_idx 4412 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 40a574f6d84c474fb13214774ba2c47d embedding null metadata page_label 8 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 4d684f05e3414e08917ad0d53b67d6bc node_type 4 metadata page_label 8 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash e0a5c08be47e6c67db52eccbfdb9fe786b18f04ced31dbfaafd7f4fb39346ae0 class_name relatednodeinfo text preprint table 2 overall experiment results on six tasks bold numbers indicate the best performance among nonproprietary models and graycolored bold text indicates the best proprietary model when they outperforms all nonproprietary modelsindicates concurrent or recent results reported by concurrent work indicates numbers that are not reported by the original papers or are not applicable models are sorted based on scale fs em rg mau prec rec denote factscore factuality strem rouge correctness mauve fluency citation precision and recall respectively shortform closedset longform generations with citations popqa tqa pub arc bio asqa lm acc acc acc acc fs em rg mau pre rec lms with proprietary data llama2c 13b 200 593 494 384 559 224 296 286 retllama2c 13b 518 598 521 379 799 328 348 438 198 361 chatgpt 293 743 701 753 718 353 362 688 retchatgpt 508 657 547 753 407 399 797 651 766 perplexityai 712 baselines without retrieval llama2 7b 147 305 342 218 445 79 153 190 alpaca 7b 236 545 498 450 458 188 294 617 llama2 13b 147 385 294 294 534 72 124 160 alpaca 13b 244 613 555 549 502 229 320 706 cove 65b 712 baselines with retrieval toolformer 6b 488 llama2 7b 382 425 300 480 780 152 221 320 29 40 alpaca 7b 467 641 402 480 766 309 333 579 55 72 llama2ft 7b 487 573 643 658 782 310 358 512 50 75 sail 7b 692 484 llama2 13b 457 470 302 260 775 163 205 247 23 36 alpaca 13b 461 669 511 576 777 348 367 566 20 38 our selfrag 7b 549 664 724 673 812 300 357 743 669 678 our selfrag 13b 558 693 745 731 802 317 370 716 703 713 5 r esults and analysis 51 m ainresults comparison against baselines without retrieval table 2 top presents the baselines without retrieval our selfragbottom two rows demonstrates a substantial performance advantage over supervised finetuned llms in all tasks and even outperforms chatgpt in pubhealth popqa",
        "mimetype": "text/plain",
        "start_char_idx": 694167,
        "end_char_idx": 698743,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "aa35bcc4-6c31-42c3-8e22-c49d175aad0b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c3d3566e-54e6-46ff-b5d6-f3a778d9841e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9d1a072957e57f7a8b7d843807447fe9e7dac75c964c686fc26685869cf40da7",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "5e0b61ff-afb0-4a00-9c2e-ea5f75716e2d",
                "node_type": "1",
                "metadata": {},
                "hash": "7d326f3573b71ba94fb73fca152ce00e5f5d8db0ee61b487e2bff15b1eb1a0a3",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "llama2ft 7b 487 573 643 658 782 310 358 512 50 75 sail 7b 692 484 llama2 13b 457 470 302 260 775 163 205 247 23 36 alpaca 13b 461 669 511 576 777 348 367 566 20 38 our selfrag 7b 549 664 724 673 812 300 357 743 669 678 our selfrag 13b 558 693 745 731 802 317 370 716 703 713 5 r esults and analysis 51 m ainresults comparison against baselines without retrieval table 2 top presents the baselines without retrieval our selfragbottom two rows demonstrates a substantial performance advantage over supervised finetuned llms in all tasks and even outperforms chatgpt in pubhealth popqa biography generations and asqa rouge and mauve our approach also significantly outperforms a concurrent method that employs sophisticated prompt engineering specifically on the bio generation task our 7b and 13b models outperform the concurrent cove dhuliawala et al 2023 which iteratively prompts llama2 65bto refine output comparison against baselines with retrieval as shown in tables 2 bottom our selfragalso outperforms existing rag in many tasks obtaining the best performance among nonproprietary lmbased models on all tasks while our method outperforms other baselines on popqa or bio powerful instructiontuned lms with retrieval eg llama2chat alpaca show large gains from their nonretrieval baselines however we found that these baselines provide limited solutions for tasks where we cannot simply copy or extract substrings of retrieved passages on pubhealth and arcchallenge baselines with retrieval do not improve performance notably from their no retrieval counterparts we also observe that most baselines with retrieval struggle to improve citation accuracy on asqa our model shows significantly higher citation precision and recall than all models except chatgpt mimetype textplain start_char_idx 237019 end_char_idx 242298 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a3158b32efba4589a08bb959f013fe3d embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 mimetype textplain start_char_idx 423937 end_char_idx 429125 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 87b8049e5e174799851bde2df5703658 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id b68fbcd087fd43f8a0d8bbfc99d84ef7 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 7738e7ce8ab51a0fab28e3a2593d10c30a1adf48a91b6723369a89e221009eab class_name relatednodeinfo  3  node_id 6c08c008187f4208933272250f572f86 node_type 1 metadata  hash 43360f5dd4d0da3267c71e3f8eb2efd22b95eabf615f591f20ef8aec58a2e63f class_name relatednodeinfo   text embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 89c122bdcfd2428fbf4af0ceff7836a1 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 698161,
        "end_char_idx": 703104,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5e0b61ff-afb0-4a00-9c2e-ea5f75716e2d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "aa35bcc4-6c31-42c3-8e22-c49d175aad0b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "405928ff3824485cdbd949cd2886257875cc7d6ad7bc165a6b603a6c0b8aeda8",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "fa88555d-3b76-497e-b845-0c876fe213ba",
                "node_type": "1",
                "metadata": {},
                "hash": "928d3c765f7481974185d6fd196e26b4b4915a665d697adf476b78523d74caf2",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 89c122bdcfd2428fbf4af0ceff7836a1 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 7fe8e9d7ee686b82f1f2cc4e8e68647dd4b301a9bb5e05b53c4fa6f92eb3c8d7 class_name relatednodeinfo 3 node_id 3591cfbabc6f4a7090b67f590f4050f2 node_type 1 metadata hash c5217cb03f3d800ac083747b7d29ea95fee5936160f04703924f13c7f857b382 class_name relatednodeinfo text engineering specifically on the bio generation task our 7b and 13b models outperform the concurrent cove dhuliawala et al 2023 which iteratively prompts llama2 65bto refine output comparison against baselines with retrieval as shown in tables 2 bottom our selfragalso outperforms existing rag in many tasks obtaining the best performance among nonproprietary lmbased models on all tasks while our method outperforms other baselines on popqa or bio powerful instructiontuned lms with retrieval eg llama2chat alpaca show large gains from their nonretrieval baselines however we found that these baselines provide limited solutions for tasks where we cannot simply copy or extract substrings of retrieved passages on pubhealth and arcchallenge baselines with retrieval do not improve performance notably from their no retrieval counterparts we also observe that most baselines with retrieval struggle to improve citation accuracy on asqa our model shows significantly higher citation precision and recall than all models except chatgpt gao et al 2023 found that chatgpt consistently exhibits superior efficacy in this particular task surpassing smaller lms our selfragbridges this performance gap even outperforming chatgpt in citation precision which measures whether the modelgenerated claim is fully supported by cited evidence we also found that on the metrics for factual precision selfrag 7b occasionally outperforms our 13b due to the tendency of smaller selfragto often generate 8 mimetype textplain start_char_idx 0 end_char_idx 3516 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2d0e3837cc3b48ce909ca161cbb93582 embedding null metadata page_label 9 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 2145b57347474d43a636ce44e1102e70 node_type 4 metadata page_label 9 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash fd0ec9d36a0071d78485990d8d238fe983c8af80c407f5205d6e226b0e5d6b98 class_name relatednodeinfo text preprint pqa med as acc acc em selfrag50k 455 735 321 training no retriever r 436 678 310 no critic c 426 720 181 test no retrieval 247 730 hard constraints 283 726 retrieve top1 418 731 286 remove issup 441 732 306 a ablation 1 2700705precision 1 2 weight for issupport9095mauve b customization 00 02 04 06098099099100accuracy pubhealth 00 02 04 06 retrieval threshold060810accuracypopqa000510 frequency 025050075100 frequency c retrieval figure 3 analysis on selfragaablation studies for key components of selfragtraining and inference based on our 7b model b effects of soft weights on asqa citation precision and mauve fluency c retrieval frequency andnormalized accuracy on pubhealth and popqa precisely grounded yet shorter outputs llama2ft 7b which is the baseline lm trained on the same instructionoutput pairs as selfragwithout retrieval or selfreflection and is retrievalaugmented at test time only lags behind s elfrag this result indicates s elfraggains are not solely from training data and demonstrate the effectiveness of s elfragframework 52 a nalysis ablation studies we conduct a set of ablations of our framework to identify which factors play key roles we evaluate two model variants trained differently than our model no retriever trains an lm using the standard instructionfollowing method given instructionoutput pairs without retrieved passages no critic trains an lm trained with inputoutput pairs that are always augmented with the top one retrieved document without reflection tokens this is similar to sail luo et al 2023 and we use our instructionoutput data instead of using the alpaca dataset dubois et al 2023 as in sail we also conduct ablation on our inferencetime algorithm including no retrieval disables retrieval during inference hard constraints indicates the model performance that retrieves when retrieve yes instead of using the adaptive threshold retrieve top 1 always retrieves and uses the top one document only similar to standard rag approaches remove issupindicates the model performance that removes issupscore only during critiqueguided beam search in eq 4 in this ablation experiment we use a training instance size of mimetype textplain start_char_idx 428484 end_char_idx 434239 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6c08c008187f4208933272250f572f86 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015",
        "mimetype": "text/plain",
        "start_char_idx": 702512,
        "end_char_idx": 708315,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "fa88555d-3b76-497e-b845-0c876fe213ba",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "5e0b61ff-afb0-4a00-9c2e-ea5f75716e2d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d8bde311a5502852fdda9062a90f952d5d8c17e705caae842a7b1fab73377a1d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ba130b99-3fb3-4008-95bc-a12c89aaf74c",
                "node_type": "1",
                "metadata": {},
                "hash": "7897289489f5c955183f0bff2cafdd09fb2376e8d8aa38d35ae2c5c825d8f36e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "et al 2023 as in sail we also conduct ablation on our inferencetime algorithm including no retrieval disables retrieval during inference hard constraints indicates the model performance that retrieves when retrieve yes instead of using the adaptive threshold retrieve top 1 always retrieves and uses the top one document only similar to standard rag approaches remove issupindicates the model performance that removes issupscore only during critiqueguided beam search in eq 4 in this ablation experiment we use a training instance size of mimetype textplain start_char_idx 428484 end_char_idx 434239 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6c08c008187f4208933272250f572f86 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 87b8049e5e174799851bde2df5703658 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 00b34085edade60d1c759a5ee189d56507fab57964e0603403b73dffb79ea886 class_name relatednodeinfo  3  node_id 1ab3ae686517418ba44c232d0ea412c8 node_type 1 metadata  hash bf8201c32a11a1604886a44c8b26c1a17236a4f8c0c23fe952fdb05c1f80d36d class_name relatednodeinfo   text a nalysis ablation studies we conduct a set of ablations of our framework to identify which factors play key roles we evaluate two model variants trained differently than our model no retriever trains an lm using the standard instructionfollowing method given instructionoutput pairs without retrieved passages no critic trains an lm trained with inputoutput pairs that are always augmented with the top one retrieved document without reflection tokens this is similar to sail luo et al 2023 and we use our instructionoutput data instead of using the alpaca dataset dubois et al 2023 as in sail we also conduct ablation on our inferencetime algorithm including no retrieval disables retrieval during inference hard constraints indicates the model performance that retrieves when retrieve yes instead of using the adaptive threshold retrieve top 1 always retrieves and uses the top one document only similar to standard rag approaches remove issupindicates the model performance that removes issupscore only during critiqueguided beam search in eq 4 in this ablation experiment we use a training instance size of 50k for a more efficient exploration of training variations later in this section we conduct an analysis of the effect of training data size we conduct the ablation studies on three datasets popqa pubhealth and asqa on asqa we evaluate models on sampled 150 instances and exclude ablations involving adaptive or no retrieval processes we show in table 3a the ablation results the top part of the table shows results for training ablations and the bottom part is for inference ablations we see that all components play important roles we also observe a large performance gap between selfragand no retriever or critic baselines across tasks indicating that training an lm with those models largely contributes to the performance gain of selfrag using the top passages regardless of their relevance retrieve top 1 as in conventional rag approaches causes a large drop in popqa and asqa and removing issupduring the beam search results hurts performance on asqa this demonstrates the effectiveness of selfrags capabilities of carefully selecting generations based finegrained multiple criterion instead of naively using all of the top passages from the retrieval model or solely depending on relevance scores effects of inferencetime customization one key benefit of our proposed framework is that it enables us to control how much each critique type affects the final generation sampling we analyze the effects of different parameter weights on the top of our 7b model during inference time on asqa where multiple evaluation aspects are considered figure 3b shows the effects of changing the weighting term for issup which criticizes how supported the output is by the text passage as the figure shows increasing the weight leads to positive effects on the models citation precision since this puts more emphasis on whether model generation is supported by the evidence on the 9 mimetype textplain start_char_idx 0 end_char_idx 4047 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 91a80c62e7a0405b85751978173e0c5a embedding null mimetype textplain start_char_idx 241266 end_char_idx 247914 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3591cfbabc6f4a7090b67f590f4050f2 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id a3158b32efba4589a08bb959f013fe3d node_type 1 metadata file_path",
        "mimetype": "text/plain",
        "start_char_idx": 707372,
        "end_char_idx": 713460,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ba130b99-3fb3-4008-95bc-a12c89aaf74c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "fa88555d-3b76-497e-b845-0c876fe213ba",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "46dcf18c9ef50622be9393346de897a802ab1566a1487cc8d17c31eea6daac9c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f5bd0cde-96a8-4a80-b76b-fb6ec5193824",
                "node_type": "1",
                "metadata": {},
                "hash": "808cc5a5072aa5dae96121535fd7708a80f74d2ea36f91f6b7fb5e5eb69c3e5e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id a3158b32efba4589a08bb959f013fe3d node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash fb690352082ec0df1fa72d85873ecccc1fcdd5d8af10304b962b391628e7c9a6 class_name relatednodeinfo 3 node_id d67e3dc190114cffad3283d769565c27 node_type 1 metadata hash 950521d48c79bb2a51b685567d5e12aa4df0d95c67385006489c1083c3025222 class_name relatednodeinfo text criterion instead of naively using all of the top passages from the retrieval model or solely depending on relevance scores effects of inferencetime customization one key benefit of our proposed framework is that it enables us to control how much each critique type affects the final generation sampling we analyze the effects of different parameter weights on the top of our 7b model during inference time on asqa where multiple evaluation aspects are considered figure 3b shows the effects of changing the weighting term for issup which criticizes how supported the output is by the text passage as the figure shows increasing the weight leads to positive effects on the models citation precision since this puts more emphasis on whether model generation is supported by the evidence on the 9 mimetype textplain start_char_idx 0 end_char_idx 4047 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 91a80c62e7a0405b85751978173e0c5a embedding null metadata page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 195b715b851e4d40917f250cd7037a1b node_type 4 metadata page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 433128 end_char_idx 439331 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 1ab3ae686517418ba44c232d0ea412c8 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 6c08c008187f4208933272250f572f86 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b4ba2052ba60a91c34ac36137b2c19eb5dea48946f22c27f968361181023dd9f class_name relatednodeinfo  3  node_id 2c18d6a847cc4c5cacfe4ada8d06e27e node_type 1 metadata  hash 1eb01a9a67c1ee4cee5b0395642e08a23277109bce71be90fc0b16b1e9e6660b class_name relatednodeinfo   text metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 91a80c62e7a0405b85751978173e0c5a embedding null metadata page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 195b715b851e4d40917f250cd7037a1b node_type 4 metadata page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 4a45f4d732c038377f752ae94ddf3b8f1991a409a824c924fdabdf5ee301d37a class_name relatednodeinfo text preprint 0 50 100 150 num of training",
        "mimetype": "text/plain",
        "start_char_idx": 712839,
        "end_char_idx": 717785,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f5bd0cde-96a8-4a80-b76b-fb6ec5193824",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ba130b99-3fb3-4008-95bc-a12c89aaf74c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "94a4693e5623e70f51765056ecf951716ec2f223275d7552cbe26dc6c012343e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "04f41a3e-5362-4ae2-8a34-605d053aa7a6",
                "node_type": "1",
                "metadata": {},
                "hash": "a9682ad162f4eb3d5f28ca2928729cfc81f6218e2a46e5cbf01cca89b480d9c9",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 195b715b851e4d40917f250cd7037a1b node_type 4 metadata page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 4a45f4d732c038377f752ae94ddf3b8f1991a409a824c924fdabdf5ee301d37a class_name relatednodeinfo text preprint 0 50 100 150 num of training k3540455055perfomance a popqa 0 100 num of training k717273 b pubhealth 0 100 num of training k4060 c asqa precpop bio s p 925 700 isrel 950 900 issup 900 850 d human evaluation on popqa and bio generation figure 4 training scale and human analysis a b c training scale analysis shows the effect of the training data scale on popqa pubhealth and asqa citation precision respectively d human analysis on s elfragoutputs as well as reflection tokens contrary a larger weight results in lower mauve scores when generation gets longer and more fluent there are often more claims that are not fully supported by citations consistent with findings by liu et al 2023a our framework lets practitioners choose and customize models behaviors at test time by adjusting such parameters without requiring additional training efficiency and accuracy tradeoff using our framework practitioners can adjust how often retrieval occurs using the token probability of reward tokens we evaluate how this adaptive threshold affects overall accuracy and frequency of retrieval and we evaluate the performance with varying numbers of threshold u03b4larger u03b4results in less retrieval on pubhealth and popqa figure 3c shows that the models retrieval frequencies dramatically change on both datasets as u03b4varies on one hand performance deterioration by retrieving less is smaller on pubhealth but larger in popqa effects of training data size we conduct an analysis of how the data scale affects the models performance in particular we randomly sample 5k 10k 20k and 50k instances from our original 150k training instances and finetune four selfrag 7bvariants on those subsets then we compare the model performance on popqa pubhealth and asqa citation precision with our final self ragtrained on the full 150k instances we also evaluate figures 4a 4b and 4c shows the models performance trained on different amount of data across all datasets increasing data size often shows upward trajectories and the improvements are significantly larger in popqa and asqa while we do not observed such significant improvements on llama2ft 7bwhen increasing the training data from 50k to 150k these results also indicate that further expanding the training data of selfragmay lead to further improvements although in this work we limit our training data size to 150k human evaluations we conduct small human evaluations on selfragoutputs as well as the reliability of predicted reflection tokens in particular we sampled 50 samples from popqa and bio results following menick et al 2022 human annotators evaluate sp which indicates whether the model output is plausible ie the output is a reasonable and ontopic response to the question as if it were occurring in a conversation and supported ie the provided evidence is sufficient to verify the validity of the answer for sp we do not consider the instances where selfrag predicts irrelevant orno support we then ask our annotators whether the modelpredicted reflection tokens about isreland issupmatch their inspections eg whether the fully supported output is supported by the cited evidence human annotators find selfraganswers are often plausible and supported by relevant passages with higher sp scores on shortform popqa which is consistent with menick et al 2022 human annotators also find isreland issupreflection token predictions are mostly aligned with their assessments appendix table 6 shows several annotated examples and explanations on assessments 6 c onclusion this work introduces selfrag a new framework to enhance the quality and factuality of llms through retrieval on demand and selfreflection selfragtrains an lm to learn to retrieve generate and critique text passages and its own generation by predicting the next tokens from its original vocabulary as well as newly added special tokens called reflection tokens selfragfurther enables the tailoring of lm behaviors at test time by leveraging reflection tokens our holistic evaluations on six tasks using multiple metrics demonstrate that selfragsignificantly outperforms llms with more parameters or with conventional retrievalaugmented generation approaches 10 mimetype textplain start_char_idx 0 end_char_idx 4184 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 85981906a5864b0a9163c27228946f6f embedding null metadata page_label 11 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id bd7cdd2e29084bc8a14bcbeddcf5f972 node_type 4 metadata page_label 11 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type mimetype textplain start_char_idx 246907 end_char_idx 253518 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d67e3dc190114cffad3283d769565c27 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson mimetype textplain start_char_idx 438603 end_char_idx 444992 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2c18d6a847cc4c5cacfe4ada8d06e27e embedding null metadata  file_path",
        "mimetype": "text/plain",
        "start_char_idx": 717199,
        "end_char_idx": 723542,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "04f41a3e-5362-4ae2-8a34-605d053aa7a6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f5bd0cde-96a8-4a80-b76b-fb6ec5193824",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "db7a19b9799a27de6b90f624625c27dc84b44911879e356ce9fac74b183fb2bf",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "622a0254-fa5c-4f7b-a4cd-66cac99f5198",
                "node_type": "1",
                "metadata": {},
                "hash": "09bcd006e905c6305455847330f43bf84f75e0bf3ac1e817489d92915d05aeea",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "d67e3dc190114cffad3283d769565c27 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson mimetype textplain start_char_idx 438603 end_char_idx 444992 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2c18d6a847cc4c5cacfe4ada8d06e27e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 1ab3ae686517418ba44c232d0ea412c8 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash ee9e0ad67869624ef48866adc771faf08e575d41d24dc436e871ff6a087dc2be class_name relatednodeinfo  3  node_id 6cd4fc1acaf14d5fabdfde45fd944e68 node_type 1 metadata  hash 3143cf2b7b4097d6d21d89f14f59ee1dae866c1e9442cd7be4abf121f537e127 class_name relatednodeinfo   text file_type mimetype textplain start_char_idx 246907 end_char_idx 253518 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d67e3dc190114cffad3283d769565c27 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 3591cfbabc6f4a7090b67f590f4050f2 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 791bbd8641c86bcf7db622e89f85c9c2dd1cd5c845f2838d41038c440be5a6c9 class_name relatednodeinfo 3 node_id 42fd1cad53d44c2aa39c7828881b04f7 node_type 1 metadata hash 63b66fc7f0c335b51af7e110de0320edb4c47f8d21570e08e81e867428011e5c class_name relatednodeinfo text mimetype textplain start_char_idx 0 end_char_idx 4184 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 85981906a5864b0a9163c27228946f6f embedding null metadata page_label 11 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id bd7cdd2e29084bc8a14bcbeddcf5f972 node_type 4 metadata page_label 11 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 4622935fb013489788254e5d2375605d04a5b6a9bcd33558a722a4951bd208cf class_name relatednodeinfo text preprint ethical concerns this work aims to improve the factuality of llm outputs the lack of which continues to cause nu merous realworld problems eg spread of misinformation and provision of incorrect and dangerous advice while our method shows significant improvements in terms of performance factuality and citation accuracy it can still generate outputs that are not fully supported by the citations we hope that explicit selfreflection and finegrained attribution may help users verify factual errors in the model outputs acknowledgments we thank sewon min scott wentau yih sean welleck and kawin ethayarajh for fruitful discussions in the early stages of this work we thank sewon min",
        "mimetype": "text/plain",
        "start_char_idx": 722820,
        "end_char_idx": 727704,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "622a0254-fa5c-4f7b-a4cd-66cac99f5198",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "04f41a3e-5362-4ae2-8a34-605d053aa7a6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9cc0c0cf3145390aa064b901c92540db2d8d9fee2b7134934953b5d8a09cba16",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "1b9009ad-aed1-4253-9b3d-fa1c18468607",
                "node_type": "1",
                "metadata": {},
                "hash": "031458446a5716664f2053b0a03bb1f258ea84c4bcd724739efd8ec4458bafeb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 4622935fb013489788254e5d2375605d04a5b6a9bcd33558a722a4951bd208cf class_name relatednodeinfo text preprint ethical concerns this work aims to improve the factuality of llm outputs the lack of which continues to cause nu merous realworld problems eg spread of misinformation and provision of incorrect and dangerous advice while our method shows significant improvements in terms of performance factuality and citation accuracy it can still generate outputs that are not fully supported by the citations we hope that explicit selfreflection and finegrained attribution may help users verify factual errors in the model outputs acknowledgments we thank sewon min scott wentau yih sean welleck and kawin ethayarajh for fruitful discussions in the early stages of this work we thank sewon min joongwon daniel kim and sandy kaplan for valuable feedback on the paper and tianyu gao and weijia shi for their help on evaluations akari asai is supported by the ibm fellowship we thank stability ai for providing computing to train and evaluate the lms in this work and microsoft accelerate foundation models research program for the access to openai apis this work was funded in part by the darpa mcs program through niwc pacific n660011924031 nsf iis2044660 and gifts from ai2 references akari asai kazuma hashimoto hannaneh hajishirzi richard socher and caiming xiong learn ing to retrieve reasoning paths over wikipedia graph for question answering in international conference on learning representations 2020 url httpsopenreviewnetforum idsjgvhkrydh akari asai sewon min zexuan zhong and danqi chen retrievalbased language models and appli cations in proceedings of the 61st annual meeting of the association for computational linguistics tutorial 2023a url httpsaclanthologyorg2023acltutorials6 akari asai timo schick patrick lewis xilun chen gautier izacard sebastian riedel hannaneh hajishirzi and wentau yih taskaware retrieval with instructions in findings of the associ ation for computational linguistics 2023b url httpsaclanthologyorg2023 findingsacl225 bernd bohnet vinh q tran pat verga roee aharoni daniel andor livio baldini soares jacob eisenstein kuzman ganchev jonathan herzig kai hui et al attributed question answering evaluation and modeling for attributed large language models arxiv preprint arxiv221208037 2022 url httpsarxivorgabs221208037 lingjiao chen matei zaharia and james zou how is chatgpts behavior changing over time arxiv preprint arxiv230709009 2023 url httpsarxivorgabs230709009 peter clark isaac cowhey oren etzioni tushar khot ashish sabharwal carissa schoenick and oyvind tafjord think you have solved question answering try arc the ai2 reasoning challenge arxiv preprint arxiv180305457 2018 url httpsarxivorgabs180305457 tri dao dan fu stefano ermon atri rudra and christopher r e flashattention fast and memory efficient exact attention with ioawareness in advances in neural information processing systems 2022 url httpsopenreviewnetforumidh4dqfpsibmx shehzaad dhuliawala mojtaba komeili jing xu roberta raileanu xian li asli mimetype textplain start_char_idx 444321 end_char_idx 449600 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6cd4fc1acaf14d5fabdfde45fd944e68 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 2c18d6a847cc4c5cacfe4ada8d06e27e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 034c67cc4da87fc598559cc780e17dcd72886e5a07c515aa36c3c9ca71623361 class_name relatednodeinfo  3  node_id 46b7f55274824095aa52184bb1296340 node_type 1 metadata  hash eb6919fda9a402ede2f8f33c85c64467a0b9ade621974a47835642f1a4cb2c4d class_name relatednodeinfo   text lingjiao chen matei zaharia and james zou how is chatgpts behavior changing over time arxiv preprint arxiv230709009 2023 url httpsarxivorgabs230709009 peter clark isaac cowhey oren etzioni tushar khot ashish sabharwal carissa schoenick and oyvind tafjord think you have solved question answering try arc the ai2 reasoning challenge arxiv preprint arxiv180305457 2018 url httpsarxivorgabs180305457 tri dao dan fu stefano ermon atri rudra and christopher r e flashattention fast and memory efficient exact attention with ioawareness in advances in neural information processing systems 2022 url httpsopenreviewnetforumidh4dqfpsibmx shehzaad dhuliawala mojtaba komeili jing xu roberta raileanu xian li asli",
        "mimetype": "text/plain",
        "start_char_idx": 726818,
        "end_char_idx": 732093,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "1b9009ad-aed1-4253-9b3d-fa1c18468607",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "622a0254-fa5c-4f7b-a4cd-66cac99f5198",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e2d5268b5c12fa998cfa2acd2dc7f3d4e6ead336b1138262162f6e2f08284f5f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d935e053-72cc-43ee-be60-70ddb2ac44a2",
                "node_type": "1",
                "metadata": {},
                "hash": "790d1ce8240ed9e0b50ed6425cc45f728634301d9dbd2895fbe4e90de7a497df",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "relatednodeinfo   text lingjiao chen matei zaharia and james zou how is chatgpts behavior changing over time arxiv preprint arxiv230709009 2023 url httpsarxivorgabs230709009 peter clark isaac cowhey oren etzioni tushar khot ashish sabharwal carissa schoenick and oyvind tafjord think you have solved question answering try arc the ai2 reasoning challenge arxiv preprint arxiv180305457 2018 url httpsarxivorgabs180305457 tri dao dan fu stefano ermon atri rudra and christopher r e flashattention fast and memory efficient exact attention with ioawareness in advances in neural information processing systems 2022 url httpsopenreviewnetforumidh4dqfpsibmx shehzaad dhuliawala mojtaba komeili jing xu roberta raileanu xian li asli celikyilmaz and jason weston chainofverification reduces hallucination in large language models arxiv preprint arxiv230911495 2023 url httpsarxivorgabs230911495 emily dinan stephen roller kurt shuster angela fan michael auli and jason weston wizard of wikipedia knowledgepowered conversational agents in international conference on learning representations 2019 url httpsopenreviewnetforumidr1l73irqkm yann dubois xuechen li rohan taori tianyi zhang ishaan gulrajani jimmy ba carlos guestrin percy liang and tatsunori b hashimoto alpacafarm a simulation framework for methods that 11 mimetype textplain start_char_idx 0 end_char_idx 3564 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ef4d5bc214314f4a89866c7459c2056d embedding null metadata page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b94aeaad91f3496184473f727541c714 node_type 4 metadata page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 76d5d73c776596bf26163dad0d55fdaafc0fe5e8260db1812e275f7b59cb2986 class_name relatednodeinfo text preprint learn from human feedback arxiv preprint arxiv230514387 2023 url httpsarxiv orgabs230514387 tianyu gao howard yen jiatong yu and mimetype textplain start_char_idx 252802 end_char_idx 258298 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 42fd1cad53d44c2aa39c7828881b04f7 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id d67e3dc190114cffad3283d769565c27 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash b6c04fb0e2cdd3ac1915e865789d7180b02b2f66389f500070049e2dc052a8b0 class_name relatednodeinfo 3 node_id d94bf76457674f80bf1cb8962361a703 node_type 1 metadata hash f6b04ec49b0badee8c16aea2cc19cd909176f5d604ec3ae071d0e1d1d341dfc3 class_name relatednodeinfo text creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b94aeaad91f3496184473f727541c714 node_type 4 metadata page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 76d5d73c776596bf26163dad0d55fdaafc0fe5e8260db1812e275f7b59cb2986 class_name relatednodeinfo text preprint learn from human feedback arxiv preprint arxiv230514387 2023 url httpsarxiv orgabs230514387 tianyu gao howard yen jiatong yu and danqi chen enabling large language models to generate text with citations arxiv preprint arxiv230514627 2023 url httpsarxivorgabs 230514627 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang retrieval augmented language model pretraining in international conference on machine learning 2020 url httpsdlacmorgdoipdf10555535249383525306 gautier izacard mathilde caron lucas hosseini sebastian riedel piotr bojanowski armand joulin and edouard grave unsupervised dense information retrieval with contrastive learning transactions on machine learning research 2022a url mimetype textplain start_char_idx 448897 end_char_idx",
        "mimetype": "text/plain",
        "start_char_idx": 731367,
        "end_char_idx": 736383,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d935e053-72cc-43ee-be60-70ddb2ac44a2",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "1b9009ad-aed1-4253-9b3d-fa1c18468607",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "50ae45e08f978f483f15e4ca1e77a87f6536dc1aa4b5d2c48f1dcc8870f31def",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6b3edffd-53b3-4f93-b190-94f49663193d",
                "node_type": "1",
                "metadata": {},
                "hash": "c4ec0ce5a736d326aa4e5abce62439a3ad10329d08ce69c6a8bd36eda0f56a11",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text preprint learn from human feedback arxiv preprint arxiv230514387 2023 url httpsarxiv orgabs230514387 tianyu gao howard yen jiatong yu and danqi chen enabling large language models to generate text with citations arxiv preprint arxiv230514627 2023 url httpsarxivorgabs 230514627 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang retrieval augmented language model pretraining in international conference on machine learning 2020 url httpsdlacmorgdoipdf10555535249383525306 gautier izacard mathilde caron lucas hosseini sebastian riedel piotr bojanowski armand joulin and edouard grave unsupervised dense information retrieval with contrastive learning transactions on machine learning research 2022a url mimetype textplain start_char_idx 448897 end_char_idx 453855 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 46b7f55274824095aa52184bb1296340 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 6cd4fc1acaf14d5fabdfde45fd944e68 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2ef7bd9c3ceb7d1016d43ae1ba0cd9a0f7a801ee69b6a8f3be18b012efeabed1 class_name relatednodeinfo  3  node_id d5bd426069d24146a35ddd28dbaf9aa2 node_type 1 metadata  hash aa90076be7f4597ba8bbdba05c939fa14a963f1b2ab16cb7f86afc9bb312226d class_name relatednodeinfo   text class_name relatednodeinfo text preprint learn from human feedback arxiv preprint arxiv230514387 2023 url httpsarxiv orgabs230514387 tianyu gao howard yen jiatong yu and danqi chen enabling large language models to generate text with citations arxiv preprint arxiv230514627 2023 url httpsarxivorgabs 230514627 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang retrieval augmented language model pretraining in international conference on machine learning 2020 url httpsdlacmorgdoipdf10555535249383525306 gautier izacard mathilde caron lucas hosseini sebastian riedel piotr bojanowski armand joulin and edouard grave unsupervised dense information retrieval with contrastive learning transactions on machine learning research 2022a url httpsopenreviewnet forumidjkn1pxi7b0 gautier izacard patrick lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave fewshot learning with retrieval augmented language models arxiv preprint arxiv220803299 2022b url https arxivorgabs220803299 zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig active retrieval augmented generation arxiv preprint arxiv230506983 2023 url httpsarxivorgabs230506983 mandar joshi eunsol choi daniel weld and luke zettlemoyer triviaqa a large scale distantly supervised challenge dataset for reading comprehension in proceedings of the 55th annual meeting of the association for computational linguistics volume 1 long papers 2017 url httpsaclanthologyorgp171147 nitish shirish keskar bryan mccann lav r varshney caiming xiong and richard socher ctrl a conditional transformer language model for controllable generation arxiv preprint arxiv190905858 2019 url httpsarxivorgabs190905858 tomasz korbak kejian shi angelica chen rasika vinayak bhalerao christopher buckley jason phang samuel r bowman and ethan perez pretraining language models with human preferences ininternational conference on machine learning 2023 url httpsopenreviewnet forumidat8iw8koec tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov natural questions a benchmark for question answering research transactions of the association for computational linguistics 2019 url httpsaclanthologyorg q191026 woosuk kwon zhuohan li siyuan zhuang ying sheng lianmin zheng cody hao yu joseph e gonzalez hao zhang and ion stoica efficient memory management for large language model serving with pagedattention in proceedings of the acm sigops 29th symposium on operating systems principles 2023 url httpsarxivorgabs230906180 patrick lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich k uttler mike lewis wentau yih tim rockt",
        "mimetype": "text/plain",
        "start_char_idx": 735578,
        "end_char_idx": 740689,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6b3edffd-53b3-4f93-b190-94f49663193d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d935e053-72cc-43ee-be60-70ddb2ac44a2",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "05a26f7f90b763de4ee3c19f3f64759b9913ba260aea5f565526775518a9db36",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "28a7952f-deaa-4c1b-89f8-532732918c7d",
                "node_type": "1",
                "metadata": {},
                "hash": "8b703aba727a250289bd1242663057d2bb70639ef6680a63c97ae877ae30a999",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "devlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov natural questions a benchmark for question answering research transactions of the association for computational linguistics 2019 url httpsaclanthologyorg q191026 woosuk kwon zhuohan li siyuan zhuang ying sheng lianmin zheng cody hao yu joseph e gonzalez hao zhang and ion stoica efficient memory management for large language model serving with pagedattention in proceedings of the acm sigops 29th symposium on operating systems principles 2023 url httpsarxivorgabs230906180 patrick lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich k uttler mike lewis wentau yih tim rockt aschel sebastian riedel and douwe kiela retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural infor mation processing systems 2020 url httpsproceedingsneuripsccpaper 2020file6b493230205f780e1bc26945df7481e5paperpdf xi victoria lin xilun chen mingda chen weijia shi maria lomeli rich james pedro rodriguez jacob kahn gergely szilvasy mike lewis luke zettlemoyer and scott yih radit retrieval augmented dual instruction tuning 2023 url httpsarxivorgabs231001352 nelson f liu tianyi zhang and percy liang evaluating verifiability in generative search engines arxiv preprint arxiv230409848 2023a url httpsarxivorgabs230409848 12 mimetype textplain start_char_idx 0 end_char_idx 3597 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 6cf6d9aaf04e4d1d876181f2a58ee0f9 embedding null metadata page_label 13 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 828ef2275547449281f446a8b947f11f node_type 4 metadata page_label 13 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash aad168f5d58823fa69af2160a7f8258c7157f3440f67277c3b87d306dd51e674 class_name relatednodeinfo text preprint yang liu dan iter yichong xu shuohang wang ruochen xu and chenguang zhu gpteval nlg evaluation mimetype textplain start_char_idx 257646 end_char_idx 262741 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d94bf76457674f80bf1cb8962361a703 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path mimetype textplain start_char_idx 453104 end_char_idx 458287 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d5bd426069d24146a35ddd28dbaf9aa2 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 46b7f55274824095aa52184bb1296340 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2990fb3168fbbe66d06a2cd554888a898318f5e18681fd78dce2e8d2af9387f6 class_name relatednodeinfo  3  node_id 4aa90b7c7d634b558e2d86779cb861c4 node_type 1 metadata  hash 4009c00244c4a1e309f389d8e18c3c98ead03c782b4427f5587c83ac9a69b9aa class_name relatednodeinfo   text class_name relatednodeinfo text preprint yang liu dan iter yichong xu shuohang wang ruochen xu and chenguang zhu gpteval nlg evaluation mimetype textplain start_char_idx 257646 end_char_idx 262741 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d94bf76457674f80bf1cb8962361a703 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date",
        "mimetype": "text/plain",
        "start_char_idx": 739945,
        "end_char_idx": 744859,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "28a7952f-deaa-4c1b-89f8-532732918c7d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6b3edffd-53b3-4f93-b190-94f49663193d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4a780b1dea16febb68e3a5560e28fd918a21d66910be23f4f08dee550c24689c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6e2beb23-6005-4eba-946d-b1cd06f092dd",
                "node_type": "1",
                "metadata": {},
                "hash": "dd3748bd8fa1e2d787f91ae81daa911ab96fb817b7d3689d7060c6d3dbfd056d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 1 metadata  hash 4009c00244c4a1e309f389d8e18c3c98ead03c782b4427f5587c83ac9a69b9aa class_name relatednodeinfo   text class_name relatednodeinfo text preprint yang liu dan iter yichong xu shuohang wang ruochen xu and chenguang zhu gpteval nlg evaluation mimetype textplain start_char_idx 257646 end_char_idx 262741 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ d94bf76457674f80bf1cb8962361a703 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 42fd1cad53d44c2aa39c7828881b04f7 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash e4ca988c37b7268472aa3b5b06a9e77e6c3bbd2c54806848f04aae3dcb6c6002 class_name relatednodeinfo 3 node_id dffeb0c2a1bf43359a5b594959f605a7 node_type 1 metadata hash 4d1467a5c92cf3564c23bb52fa5dc8c52a420e785f4ca8af5bc3df07321d1534 class_name relatednodeinfo text applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 828ef2275547449281f446a8b947f11f node_type 4 metadata page_label 13 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash aad168f5d58823fa69af2160a7f8258c7157f3440f67277c3b87d306dd51e674 class_name relatednodeinfo text preprint yang liu dan iter yichong xu shuohang wang ruochen xu and chenguang zhu gpteval nlg evaluation using gpt4 with better human alignment arxiv preprint arxiv230316634 2023b urlhttpsarxivorgabs230316634 ximing lu sean welleck jack hessel liwei jiang lianhui qin peter west prithviraj am manabrolu and yejin choi quark controllable text generation with reinforced unlearning inadvances in neural information processing systems 2022 url httpsopenreview netforumid5haids3ux5o hongyin luo yungsung chuang yuan gong tianhua zhang yoon kim xixin wu danny fox helen meng and james glass sail searchaugmented instruction learning arxiv preprint arxiv230515225 2023 url httpsarxivorgabs230515225 aman madaan niket tandon prakhar gupta skyler hallinan luyu gao sarah wiegreffe uri alon nouha dziri shrimai prabhumoye yiming yang shashank gupta bodhisattwa prasad majumder katherine hermann sean welleck amir yazdanbakhsh and peter clark self refine iterative refinement with selffeedback arxiv preprint arxiv230317651 2023 url httpsarxivorgabs230317651 alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi when not to trust language models investigating effectiveness of parametric and nonparametric memories in proceedings of the 61st annual meeting of the association for computational linguistics volume 1 long papers 2023 url httpsaclanthologyorg2023 acllong546 jacob menick maja trebacz vladimir mikulik john aslanides francis song martin chadwick mia glaese susannah young lucy campbellgillingham geoffrey irving et al teaching language models to support answers with verified quotes arxiv preprint arxiv220311147 2022 urlhttpsarxivorgabs220311147 todor mihaylov peter clark tushar khot and ashish sabharwal can a suit of armor conduct electricity a new dataset for open book question answering in proceedings of the 2018 conference on empirical methods in natural language processing 2018 url httpsaclanthology orgd181260 sewon min danqi chen hannaneh hajishirzi and luke zettlemoyer a discrete hard em approach for weakly supervised question answering in proceedings of the 2019 conference on empirical methods in natural language processing and the 9th international joint conference on natu ral language processing emnlpijcnlp 2019 url httpsaclanthologyorg d191284 sewon min kalpesh krishna xinxi lyu mike lewis wentau yih pang wei koh mohit iyyer luke zettlemoyer and hannaneh hajishirzi factscore finegrained atomic evaluation of factual precision in long form text generation arxiv preprint arxiv230514251 2023 url https arxivorgabs230514251 reiichiro nakano jacob hilton suchir balaji jeff wu long ouyang christina kim christopher hesse shantanu jain vineet kosaraju william saunders",
        "mimetype": "text/plain",
        "start_char_idx": 744205,
        "end_char_idx": 749128,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6e2beb23-6005-4eba-946d-b1cd06f092dd",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "28a7952f-deaa-4c1b-89f8-532732918c7d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b5ec6dfc2f053f3f08bb8aa50b6433794559131e23af020f4218b73fb5bfb8be",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b809974f-762a-4d81-86dd-33becd3b7ee7",
                "node_type": "1",
                "metadata": {},
                "hash": "30ec773b14bad55883b3cf437e0c905f0b20004b3ad1657478be905b2ead681b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "chen hannaneh hajishirzi and luke zettlemoyer a discrete hard em approach for weakly supervised question answering in proceedings of the 2019 conference on empirical methods in natural language processing and the 9th international joint conference on natu ral language processing emnlpijcnlp 2019 url httpsaclanthologyorg d191284 sewon min kalpesh krishna xinxi lyu mike lewis wentau yih pang wei koh mohit iyyer luke zettlemoyer and hannaneh hajishirzi factscore finegrained atomic evaluation of factual precision in long form text generation arxiv preprint arxiv230514251 2023 url https arxivorgabs230514251 reiichiro nakano jacob hilton suchir balaji jeff wu long ouyang christina kim christopher hesse shantanu jain vineet kosaraju william saunders et al webgpt browserassisted questionanswering with human feedback arxiv preprint arxiv211209332 2021 url https arxivorgabs211209332 mimetype textplain start_char_idx 457569 end_char_idx 462518 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4aa90b7c7d634b558e2d86779cb861c4 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id d5bd426069d24146a35ddd28dbaf9aa2 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 54854edcb1aeeea65cb629303db5cb9294af5772cf4bcb0a2a6613c3798c87b5 class_name relatednodeinfo  3  node_id 0a6e2fe48a7f414998df0a4d29edb7b8 node_type 1 metadata  hash 5d4760f42674319aa614b7e3fb1eee1b157a3404d1752a14ab922c712599042d class_name relatednodeinfo   text on empirical methods in natural language processing and the 9th international joint conference on natu ral language processing emnlpijcnlp 2019 url httpsaclanthologyorg d191284 sewon min kalpesh krishna xinxi lyu mike lewis wentau yih pang wei koh mohit iyyer luke zettlemoyer and hannaneh hajishirzi factscore finegrained atomic evaluation of factual precision in long form text generation arxiv preprint arxiv230514251 2023 url https arxivorgabs230514251 reiichiro nakano jacob hilton suchir balaji jeff wu long ouyang christina kim christopher hesse shantanu jain vineet kosaraju william saunders et al webgpt browserassisted questionanswering with human feedback arxiv preprint arxiv211209332 2021 url https arxivorgabs211209332 jianmo ni chen qu jing lu zhuyun dai gustavo hernandez abrego ji ma vincent zhao yi luan keith hall mingwei chang and yinfei yang large dual encoders are generalizable retrievers in proceedings of the 2022 conference on empirical methods in natural language processing 2022 url httpsaclanthologyorg2022emnlpmain669 openai gpt4 technical report arxiv preprint arxiv230308774 2023 url httpsarxiv orgabs230308774 long ouyang jeffrey wu xu jiang diogo almeida carroll wainwright pamela mishkin chong zhang sandhini agarwal katarina slama alex gray john schulman jacob hilton fraser kelton luke miller maddie simens amanda askell peter welinder paul christiano jan leike and 13 mimetype textplain start_char_idx 0 end_char_idx 3558 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ec1318e203e342638df274316ac7880e embedding null metadata page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 27127377fd4749a2a2913f54623237a3 node_type 4 metadata page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 324830fe4d2c1b58fa5aae3382e7de88cd45421a91cdf5273fa1e7cc978a9e5f class_name relatednodeinfo text preprint ryan lowe training language models to follow instructions with human feedback in advances in neural information processing systems 2022 url httpsopenreviewnetforum idtg8kacxeon debjit mimetype textplain start_char_idx 262090 end_char_idx 267271 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_",
        "mimetype": "text/plain",
        "start_char_idx": 748376,
        "end_char_idx": 753337,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b809974f-762a-4d81-86dd-33becd3b7ee7",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6e2beb23-6005-4eba-946d-b1cd06f092dd",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "313772ef6150727675a09ce5c4cf4bdf50a813ad46e1099a23385ed01a3361b4",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0a6caa60-0b36-4edc-baa9-bc856997f9bf",
                "node_type": "1",
                "metadata": {},
                "hash": "afc1bb3cd0b15c26dfb16e02734b70b73138943fc490a0d05091d8e76a4f7879",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 324830fe4d2c1b58fa5aae3382e7de88cd45421a91cdf5273fa1e7cc978a9e5f class_name relatednodeinfo text preprint ryan lowe training language models to follow instructions with human feedback in advances in neural information processing systems 2022 url httpsopenreviewnetforum idtg8kacxeon debjit mimetype textplain start_char_idx 262090 end_char_idx 267271 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ dffeb0c2a1bf43359a5b594959f605a7 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id d94bf76457674f80bf1cb8962361a703 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 5ca6f537953c692a71ca22a6d6c4deb9c69458fe64c8e8f3f55c51554f20bbf0 class_name relatednodeinfo 3 node_id 709e9a900d324cdab4de722b5715b712 node_type 1 metadata hash c4c67e35786f2b0e3f7c903ac348041294dd7d81bea2e73c1462cabd88a79136 class_name relatednodeinfo text last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 27127377fd4749a2a2913f54623237a3 node_type 4 metadata page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 324830fe4d2c1b58fa5aae3382e7de88cd45421a91cdf5273fa1e7cc978a9e5f class_name relatednodeinfo text preprint ryan lowe training language models to follow instructions with human feedback in advances in neural information processing systems 2022 url httpsopenreviewnetforum idtg8kacxeon debjit paul mete ismayilzada maxime peyrard beatriz borges antoine bosselut robert west and boi faltings refiner reasoning feedback on intermediate representations arxiv preprint arxiv230401904 2023 url httpsarxivorgabs230401904 fabio petroni aleksandra piktus angela fan patrick lewis majid yazdani nicola de cao james thorne yacine mimetype textplain start_char_idx 461786 end_char_idx 466694 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0a6e2fe48a7f414998df0a4d29edb7b8 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 4aa90b7c7d634b558e2d86779cb861c4 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6102e227da023a6f1b5b620fed8b9c5620fcf29090eb6e80cf6d50d82c476cf7 class_name relatednodeinfo  3  node_id a4f84074865d4f7da2dd5f312ba54daa node_type 1 metadata  hash c7fd3a1d10bbdd3996cffc3e151affb76157818b69155bf4806b0e55630449b5 class_name relatednodeinfo   text applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 324830fe4d2c1b58fa5aae3382e7de88cd45421a91cdf5273fa1e7cc978a9e5f class_name relatednodeinfo text preprint ryan lowe training language models to follow instructions",
        "mimetype": "text/plain",
        "start_char_idx": 752633,
        "end_char_idx": 757230,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0a6caa60-0b36-4edc-baa9-bc856997f9bf",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b809974f-762a-4d81-86dd-33becd3b7ee7",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "04da4d6e0bc9401ec275e6eea0babde5700940abf50f78e127668e696377f16a",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a7fddf87-3e14-45e5-93bd-c831d62c89f7",
                "node_type": "1",
                "metadata": {},
                "hash": "7492f45814176cc523e4a6a79b00bb2ec3109262c120c78982536c8c70c7ec7b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo  3  node_id a4f84074865d4f7da2dd5f312ba54daa node_type 1 metadata  hash c7fd3a1d10bbdd3996cffc3e151affb76157818b69155bf4806b0e55630449b5 class_name relatednodeinfo   text applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 324830fe4d2c1b58fa5aae3382e7de88cd45421a91cdf5273fa1e7cc978a9e5f class_name relatednodeinfo text preprint ryan lowe training language models to follow instructions with human feedback in advances in neural information processing systems 2022 url httpsopenreviewnetforum idtg8kacxeon debjit paul mete ismayilzada maxime peyrard beatriz borges antoine bosselut robert west and boi faltings refiner reasoning feedback on intermediate representations arxiv preprint arxiv230401904 2023 url httpsarxivorgabs230401904 fabio petroni aleksandra piktus angela fan patrick lewis majid yazdani nicola de cao james thorne yacine jernite vladimir karpukhin jean maillard vassilis plachouras tim rockt aschel and sebastian riedel kilt a benchmark for knowledge intensive language tasks in proceedings of the 2021 conference of the north american chapter of the association for computational linguistics human language technologies 2021 url httpsaclanthologyorg 2021naaclmain200 krishna pillutla swabha swayamdipta rowan zellers john thickstun sean welleck yejin choi and zaid harchaoui mauve measuring the gap between neural text and human text using divergence frontiers in advances in neural information processing systems 2021 url https openreviewnetforumidtqx7njp7pr samyam rajbhandari jeff rasley olatunji ruwase and yuxiong he zero memory optimizations toward training trillion parameter models in proceedings of the international conference for high performance computing networking storage and analysis 2020 url httpsdlacm orgdoi10555534337013433727 ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham incontext retrievalaugmented language models transactions of the association for computational linguistics 2023 url httpsarxivorgabs230200083 victor sanh albert webson colin raffel stephen bach lintang sutawika zaid alyafeai antoine chaffin arnaud stiegler arun raja manan dey m saiful bari canwen xu urmish thakker shanya sharma sharma eliza szczechla taewoon kim gunjan chhablani nihal nayak de bajyoti datta jonathan chang mike tianjian jiang han wang matteo manica sheng shen zheng xin yong harshit pandey rachel bawden thomas wang trishala neeraj jos rozen abheesht sharma andrea santilli thibault fevry jason alan fries ryan teehan teven le scao stella biderman leo gao thomas wolf and alexander m rush multitask prompted training enables zeroshot task generalization in international conference on learning representations 2022 url httpsopenreviewnetforumid9vrb9d0wi4 timo schick jane dwivediyu roberto dess u0131 roberta raileanu maria lomeli luke zettlemoyer nicola cancedda and thomas scialom toolformer language models can teach themselves to use tools arxiv preprint arxiv230204761 2023 url httpsarxivorgabs2302 04761 john schulman filip wolski prafulla dhariwal alec radford and oleg klimov proximal policy optimization algorithms arxiv preprint arxiv170706347 2017 url httpsarxivorg abs170706347 freda shi xinyun chen kanishka misra nathan scales david dohan ed h chi nathanael scharli and denny zhou large language models can be easily distracted by irrelevant context inproceedings of the 40th international conference on machine learning 2023 url https proceedingsmlrpressv202shi23ahtml ivan stelmakh yi luan bhuwan dhingra and mingwei chang asqa factoid questions meet long form answers in proceedings of the 2022 conference on empirical methods in natural language processing 2022 url httpsaclanthologyorg2022emnlpmain566 james thorne andreas vlachos christos christodoulopoulos and arpit mittal fever a large scale dataset for fact extraction and verification in proceedings of the 2018 conference of the north american chapter of the association for computational linguistics human language tech nologies volume 1 long papers 2018 url httpsaclanthologyorgn181074 14 mimetype textplain start_char_idx 0 end_char_idx 3749 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 1c6a1b9893464f5f84e1f0b0771c9ba1 embedding null metadata page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id c2df03cb8a1e463ca882fcadb843e558 node_type 4 metadata page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 59f460130c999ae0ddfb07f337c5c7ae670d0759a2e53a4df2566663989554ee class_name relatednodeinfo text preprint hugo touvron louis martin kevin stone peter albert amjad almahairi yasmine babaei nikolay mimetype textplain start_char_idx 266587 end_char_idx 271813 text_template metadata_strnncontent",
        "mimetype": "text/plain",
        "start_char_idx": 756780,
        "end_char_idx": 761983,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a7fddf87-3e14-45e5-93bd-c831d62c89f7",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0a6caa60-0b36-4edc-baa9-bc856997f9bf",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d600efc3a8dc6bd94fbd915578b842236588b5318f9b2817cdf32284b4379f4b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3080d88f-bac0-4072-9260-24805f2ac64e",
                "node_type": "1",
                "metadata": {},
                "hash": "57852806c48907b429e49548ff0b59266942c00e3d459e180d555db352b64297",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id c2df03cb8a1e463ca882fcadb843e558 node_type 4 metadata page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 59f460130c999ae0ddfb07f337c5c7ae670d0759a2e53a4df2566663989554ee class_name relatednodeinfo text preprint hugo touvron louis martin kevin stone peter albert amjad almahairi yasmine babaei nikolay mimetype textplain start_char_idx 266587 end_char_idx 271813 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 709e9a900d324cdab4de722b5715b712 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 mimetype textplain start_char_idx 465989 end_char_idx 471302 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a4f84074865d4f7da2dd5f312ba54daa embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0a6e2fe48a7f414998df0a4d29edb7b8 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 7c9144580f683d342837f9b62556a1f89c78bd835c48ea5533bfdbdbeae59d04 class_name relatednodeinfo  3  node_id d4fe164c6bcf4cdcaad7ab03ca10abd6 node_type 1 metadata  hash 93cadab36420b1f99e461ec675cd7b9a3c4f6f54778da88e527cb72ed15af392 class_name relatednodeinfo   text file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 59f460130c999ae0ddfb07f337c5c7ae670d0759a2e53a4df2566663989554ee class_name relatednodeinfo text preprint hugo touvron louis martin kevin stone peter albert amjad almahairi yasmine babaei nikolay mimetype textplain start_char_idx 266587 end_char_idx 271813 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 709e9a900d324cdab4de722b5715b712 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id dffeb0c2a1bf43359a5b594959f605a7 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2f7e5c5d06e415ffdc76a96b49bf0b5755de50d4bb7210819c72ef833f4e840b class_name relatednodeinfo 3 node_id 4b612f4a97b249c2b79aa5afbcc48c9e node_type 1 metadata hash 78b188de11922cb80598f452d4e4014b99fea765b9ed75f3db30889c955e3863 class_name relatednodeinfo text file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id c2df03cb8a1e463ca882fcadb843e558 node_type 4 metadata page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 761282,
        "end_char_idx": 765842,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3080d88f-bac0-4072-9260-24805f2ac64e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a7fddf87-3e14-45e5-93bd-c831d62c89f7",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "cb95dbdcb07b5573902a9cc455bb1f897b5c2917f58acdd257e961183ddc106f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d18cc87e-9902-4268-8a12-c0fe01daea6e",
                "node_type": "1",
                "metadata": {},
                "hash": "10f407527fad0d04feaf23915d5f1181b32cc3f1282550cd9fa5f45e93ea1ca8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo 3 node_id 4b612f4a97b249c2b79aa5afbcc48c9e node_type 1 metadata hash 78b188de11922cb80598f452d4e4014b99fea765b9ed75f3db30889c955e3863 class_name relatednodeinfo text file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id c2df03cb8a1e463ca882fcadb843e558 node_type 4 metadata page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 59f460130c999ae0ddfb07f337c5c7ae670d0759a2e53a4df2566663989554ee class_name relatednodeinfo text preprint hugo touvron louis martin kevin stone peter albert amjad almahairi yasmine babaei nikolay bashlykov soumya batra prajjwal bhargava shruti bhosale et al llama 2 open foundation and finetuned chat models arxiv preprint arxiv230709288 2023 url httpsarxiv orgabs230709288 yizhong wang hamish ivison pradeep dasigi jack hessel tushar khot khyathi raghavi chandu david wadden kelsey macmillan noah a smith iz beltagy et al how far can camels go exploring the state of instruction tuning on open resources arxiv preprint arxiv230604751 2023 urlhttpsarxivorgabs230604751 jason wei maarten bosma vincent zhao kelvin guu adams wei yu brian lester nan du andrew m dai and quoc v le finetuned language models are zeroshot learners in international conference on learning representations 2022 url httpsopenreviewnetforum idgezrgcozdqr zeqiu wu yushi hu weijia shi nouha dziri alane suhr prithviraj ammanabrolu noah a smith mari ostendorf and hannaneh hajishirzi finegrained human feedback gives better rewards for language model training arxiv preprint arxiv230601693 2023 url https arxivorgabs230601693 yuxi xie kenji kawaguchi yiran zhao xu zhao minyen kan junxian he and qizhe xie decom position enhances reasoning via selfevaluation guided decoding arxiv preprint arxiv230500633 2023 url httpsarxivorgabs230500633 fangyuan xu weijia shi and eunsol choi recomp improving retrievalaugmented lms with compression and selective augmentation 2023 url httpsarxivorgabs2310 04408 ori yoran tomer wolfson ori ram and jonathan berant making retrievalaugmented language models robust to irrelevant context 2023 url httpsarxivorgabs231001558 xiang yue boshi wang kai zhang ziru chen yu su and huan sun automatic evaluation of attribution by large language models arxiv preprint arxiv230506311 2023 url https arxivorgabs230506311 tianhua zhang hongyin luo yungsung chuang wei fang luc gaitskell thomas hartvigsen xixin wu danny fox helen meng and james glass interpretable unified language checking arxiv preprint arxiv230403728 2023 url httpsarxivorgabs230403728 andy zhou kai yan michal shlapentokhrothman haohan wang and yuxiong wang language agent tree search unifies reasoning acting and planning in language models 2023 url https arxivorgabs231004406 daniel m ziegler nisan stiennon jeffrey wu tom b brown alec radford dario amodei paul christiano and geoffrey irving finetuning language models from human preferences arxiv preprint arxiv190908593 2019 url httpsarxivorgabs190908593 15 mimetype textplain start_char_idx 0 end_char_idx 2498 mimetype textplain start_char_idx 470603 end_char_idx 475393 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d4fe164c6bcf4cdcaad7ab03ca10abd6 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id a4f84074865d4f7da2dd5f312ba54daa node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 1d1b98806c592fb44a02724994023f720467bf28f53b9ab8541a1c20f4f4e1bc class_name relatednodeinfo  3  node_id 76d069449a104fffa8a414ae73631068 node_type 1 metadata  hash d1fe108bc8c16853052df035fd00197a3d17426088f6b94832b3b25eeca70d3b class_name relatednodeinfo   text zhang hongyin luo yungsung chuang wei fang luc",
        "mimetype": "text/plain",
        "start_char_idx": 765198,
        "end_char_idx": 769933,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d18cc87e-9902-4268-8a12-c0fe01daea6e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3080d88f-bac0-4072-9260-24805f2ac64e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2570a6e7dc993e0f5ef038ab16f7f1bea6e51088e8e7b65a33819a15ecc88c67",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "56a07729-d82a-4a3c-b0d0-98ed60f07432",
                "node_type": "1",
                "metadata": {},
                "hash": "fa0a7583029542079bd4088e90d3715fc719a5216bfb7350092af5afbd46e696",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 1d1b98806c592fb44a02724994023f720467bf28f53b9ab8541a1c20f4f4e1bc class_name relatednodeinfo  3  node_id 76d069449a104fffa8a414ae73631068 node_type 1 metadata  hash d1fe108bc8c16853052df035fd00197a3d17426088f6b94832b3b25eeca70d3b class_name relatednodeinfo   text zhang hongyin luo yungsung chuang wei fang luc gaitskell thomas hartvigsen xixin wu danny fox helen meng and james glass interpretable unified language checking arxiv preprint arxiv230403728 2023 url httpsarxivorgabs230403728 andy zhou kai yan michal shlapentokhrothman haohan wang and yuxiong wang language agent tree search unifies reasoning acting and planning in language models 2023 url https arxivorgabs231004406 daniel m ziegler nisan stiennon jeffrey wu tom b brown alec radford dario amodei paul christiano and geoffrey irving finetuning language models from human preferences arxiv preprint arxiv190908593 2019 url httpsarxivorgabs190908593 15 mimetype textplain start_char_idx 0 end_char_idx 2498 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ affc3272800c4aaeb2866ba4d3818ecc embedding null metadata page_label 16 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 94b6d991a5234420a3fca7986dca4a39 node_type 4 metadata page_label 16 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash b4b64915df660c6ac84f37319de0b7abd7384b62a6df4d9bd5cbdd3a174c753b class_name relatednodeinfo text preprint appendix a s elfragdetails 17 a1 reflection tokens 17 a2 s elfragtraining 17 a3 s elfraginference 19 b experimental details 19 b1 more details of training 19 b2 more details of evaluations 20 c results 20 c1 analysis 20 c2 human evaluation examples 21 c3 qualitative examples 21 d full list of instructions and demonstrations for gpt4 21 16 mimetype textplain start_char_idx 0 end_char_idx 612 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fce4de79da4e4242a72e686200914e42 embedding null metadata page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 43543b1a8650463ba0e7cdf0f4060143 node_type 4 metadata page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type mimetype textplain start_char_idx 271157 end_char_idx 276166 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 4b612f4a97b249c2b79aa5afbcc48c9e embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 709e9a900d324cdab4de722b5715b712 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 60fe5e2add1d0cef8980a968badc3a0083ed5888a69f19d27a8b1cd71baf0191 class_name relatednodeinfo 3 node_id 7c60e428b73e466fb829f510bbdf750c node_type 1 metadata hash 2a7fdfb711ed3326d8a2d6ba338d094d46e028d7cfe9d5888ecbfd909b91b40e class_name relatednodeinfo text 16 mimetype textplain start_char_idx 0 end_char_idx 612 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fce4de79da4e4242a72e686200914e42 embedding null metadata page_label 17 file_name selfragpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 769393,
        "end_char_idx": 774152,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "56a07729-d82a-4a3c-b0d0-98ed60f07432",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d18cc87e-9902-4268-8a12-c0fe01daea6e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "0e62da8ce8c292a7c06a5dd783a7e85d01337f221c8de91b6c07f6ce72c74752",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "bd0f6931-0e51-41ee-9e32-7ecc418b3a07",
                "node_type": "1",
                "metadata": {},
                "hash": "7afd37a82df470d73e4677046dc22c3e0aeeca6ef3ebd65a1afc085a4bffa816",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "creation_date 20241015 last_modified_date 20241015 hash 60fe5e2add1d0cef8980a968badc3a0083ed5888a69f19d27a8b1cd71baf0191 class_name relatednodeinfo 3 node_id 7c60e428b73e466fb829f510bbdf750c node_type 1 metadata hash 2a7fdfb711ed3326d8a2d6ba338d094d46e028d7cfe9d5888ecbfd909b91b40e class_name relatednodeinfo text 16 mimetype textplain start_char_idx 0 end_char_idx 612 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fce4de79da4e4242a72e686200914e42 embedding null metadata page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 43543b1a8650463ba0e7cdf0f4060143 node_type 4 metadata page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 474686 end_char_idx 479502 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 76d069449a104fffa8a414ae73631068 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id d4fe164c6bcf4cdcaad7ab03ca10abd6 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash e27a1c1d39b9d3194e993249e4454b4444d750e724ef24c923ea102805d4d428 class_name relatednodeinfo  3  node_id 54710c51dd994b638a5a5417372f2ff4 node_type 1 metadata  hash 83a7c296cfcb37ec39c1e64a84933f730a5e82ba9585c648dfb1914e9fd2653e class_name relatednodeinfo   text 612 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fce4de79da4e4242a72e686200914e42 embedding null metadata page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 43543b1a8650463ba0e7cdf0f4060143 node_type 4 metadata page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 973e7e556688d460a35d7068f09aee7a8015ad1bbf62f6db47ef5f527fcd7d0c class_name relatednodeinfo text preprint a s elfragdetails a1 r eflection tokens definitions of reflection tokens below we provide a detailed definition of reflection type and output tokens the first three aspects will be provided at each segment level while the final aspect is only given at each output level retrievalondemand retrieve given an input and previousstep generation if applicable an lm determines whether the continuation requires factual grounding noindicates retrieval is unnecessary as the sequence does not require factual grounding or may not be enhanced by knowledge retrieval yes indicates retrieval is necessary we additionally have continue to use evidence which indicates that a model can continue to use the evidence retrieved previously for instance a passage may contain rich factual information and thus selfrag generates multiple segments based on the passage relevant isrel retrieved knowledge may not be always relevant to the input this aspect indicates whether the evidence provides useful information relevant or not irrelevant supported issup attribution is the concept of whether the output is fully supported by certain evidence menick et al 2022 bohnet et al 2022 this aspect judges how much infor mation in the output is entailed by the evidence we evaluate attributions in three scale fully supported partially supported and no support contradictory follow ing yue et al 2023 nakano et al 2021 useful isuse following the definitions from liu et al 2023a we define the perceived utility as whether the response is a helpful and informative answer to the query independently from whether it is in fact factual or not this can be also viewed as plausibility in menick et al 2022 for usefulness we use a fivescale evaluation 1 is the lowest and 5 is the highest details of gpt4based data collections we use the instruction and demonstration pairs to prompt gpt4 listed in section d following an official recommendation we separate instructions and outputs with we use the temperature 1 and set the",
        "mimetype": "text/plain",
        "start_char_idx": 773572,
        "end_char_idx": 778944,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "bd0f6931-0e51-41ee-9e32-7ecc418b3a07",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "56a07729-d82a-4a3c-b0d0-98ed60f07432",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "cb62f9535fce2677b1a4842a6f7bb4b0ea0c986a8dc2d0c360fd54ea05fc4d3c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "994cedc8-35ea-4195-a5b1-ed0158879426",
                "node_type": "1",
                "metadata": {},
                "hash": "f210d5d3adc95f3ccd86344cdb614fac14895a021fffc345406f4e206682032f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "is the concept of whether the output is fully supported by certain evidence menick et al 2022 bohnet et al 2022 this aspect judges how much infor mation in the output is entailed by the evidence we evaluate attributions in three scale fully supported partially supported and no support contradictory follow ing yue et al 2023 nakano et al 2021 useful isuse following the definitions from liu et al 2023a we define the perceived utility as whether the response is a helpful and informative answer to the query independently from whether it is in fact factual or not this can be also viewed as plausibility in menick et al 2022 for usefulness we use a fivescale evaluation 1 is the lowest and 5 is the highest details of gpt4based data collections we use the instruction and demonstration pairs to prompt gpt4 listed in section d following an official recommendation we separate instructions and outputs with we use the temperature 1 and set the maximum output token counts to be 200 we discard instances where gpt4 does not follow the designated output formats or output sequences that do not match our expected category names as a result we collected 12594 for retrieve 11181 for issup 19317 for relevance 3831 for utility manual analysis of the gpt4 predictions the authors of this paper manually assess randomly sampled 20 instances for each aspect and check if gpt4 predictions match their assessments given the same instruction demonstrations and test instances we found our assessments show high agreement with gpt4 predictions especially for relevance 95 retrieval necessity 95 and the degree of support 90 agreement was slightly lower in usefulness 80 mostly due to the disagreement between 1 and 2 or 4 and 5 a2 s elfragtraining overview of training algorithm 2 provides a highlevel overview of our training full list of seed datasets to sample diverse inputoutput pairs we sample instances of the open instruct wang et al 2023 dataset in particular we use their sharegpt gpt4 alpaca alpaca openassistant and flan subsets subsets we also sample instances from a couple of knowledge intensive datasets natural questions kwiatkowski et al 2019 wizard of wikipedia dinan et al 2019 and fever thorne et al 2018 from the kilt benchmark petroni et al 2021 asqa stel makh et al 2022 and multiple qa datasets including arceasy and openbookqa mihaylov et al 2018 table 3 shows the full list of training instances and in total we use 145619 instances performance of the critic cwe evaluate the accuracy of reward predictions by splitting gpt4 generated feedback into training development and test sets the accuracy of the reward model is as follows table 5 shows the model performance of predicting gpt4 judgments as you can see overall our finetuned reward model shows high prediction matching with gpt4 predicted feedback 17 mimetype textplain start_char_idx 0 end_char_idx 3895 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ f70b9a393f4446358fdee10a05c2df2b embedding null metadata page_label 18 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id f2ff2d4061484999b570101a609105a9 node_type 4 metadata page_label 18 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 53d4171fd21e9de1357ba6f6c8532a8247fdd33f5a5024df87e07417f8008281 class_name relatednodeinfo text preprint algorithm 2 selfragtraining 1input inputoutput data dx y generator mcu03b8 2initialize cwith a pretrained lm 3sample data xsample ysample x y training critic lm section 321 4forx yxsample ysampledo data collections for c 5 prompt gpt4 to collect a reflection token rforx y 6 addx y r todcritic 7update cwith next token prediction loss critic learning eq 1 8initialize mwith a pretrained lm training generator lm section 322 mimetype textplain start_char_idx 275448 end_char_idx 281578 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ mimetype textplain start_char_idx 478756 end_char_idx 484982 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 54710c51dd994b638a5a5417372f2ff4 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 76d069449a104fffa8a414ae73631068 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 1088ca464c45f14b1f93e901192b21e861c528090547f058b51d3530de1366c9 class_name relatednodeinfo  3  node_id 76464249341f441db372e3f4048077fd node_type 1 metadata  hash",
        "mimetype": "text/plain",
        "start_char_idx": 778001,
        "end_char_idx": 783636,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "994cedc8-35ea-4195-a5b1-ed0158879426",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "bd0f6931-0e51-41ee-9e32-7ecc418b3a07",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "628d4cf054098822b1122f8c51e379e86e9e4e386a545a1daeda86756f6b38a9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c0c9350a-2f89-4729-a216-95ea777e8ac0",
                "node_type": "1",
                "metadata": {},
                "hash": "f4100f74ebecca3162fc24715683abd8b64b0faa109e8c088aebc8a5b1ab7a02",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 76d069449a104fffa8a414ae73631068 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 1088ca464c45f14b1f93e901192b21e861c528090547f058b51d3530de1366c9 class_name relatednodeinfo  3  node_id 76464249341f441db372e3f4048077fd node_type 1 metadata  hash e6d6854485aaf6c9e9aa7078d62452747f1b6476dd09be42321b3795c2d59247 class_name relatednodeinfo   text 20241015 hash 53d4171fd21e9de1357ba6f6c8532a8247fdd33f5a5024df87e07417f8008281 class_name relatednodeinfo text preprint algorithm 2 selfragtraining 1input inputoutput data dx y generator mcu03b8 2initialize cwith a pretrained lm 3sample data xsample ysample x y training critic lm section 321 4forx yxsample ysampledo data collections for c 5 prompt gpt4 to collect a reflection token rforx y 6 addx y r todcritic 7update cwith next token prediction loss critic learning eq 1 8initialize mwith a pretrained lm training generator lm section 322 mimetype textplain start_char_idx 275448 end_char_idx 281578 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7c60e428b73e466fb829f510bbdf750c embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 4b612f4a97b249c2b79aa5afbcc48c9e node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 0bec726248dd77ce9ec41b9f410253e4b99fad2c65283b650a260345319fcca7 class_name relatednodeinfo 3 node_id de3790024dd148e09d7c059cbf73b3ae node_type 1 metadata hash 94bf4c322f243df5b292c65aa9b9b9a9e8ecad256f2ff84dc4326d31ab01c43b class_name relatednodeinfo text file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 53d4171fd21e9de1357ba6f6c8532a8247fdd33f5a5024df87e07417f8008281 class_name relatednodeinfo text preprint algorithm 2 selfragtraining 1input inputoutput data dx y generator mcu03b8 2initialize cwith a pretrained lm 3sample data xsample ysample x y training critic lm section 321 4forx yxsample ysampledo data collections for c 5 prompt gpt4 to collect a reflection token rforx y 6 addx y r todcritic 7update cwith next token prediction loss critic learning eq 1 8initialize mwith a pretrained lm training generator lm section 322 9forx yx y do data collection for mwithdcritic 10 runcto predict rgiven x y 11 addx y r todgen 12update mondgenwith next token prediction loss generator lm learning eq 2 dataset name category data source the number of instances gpt4 alpaca instructionfollowing openinstruct 26168 stanford alpaca instructionfollowing openinstruct 25153 flanv2 instructionfollowing openinstruct 17817 sharegpt instructionfollowing openinstruct 13406 open assistant 1 instructionfollowing openinstruct 9464 wizard of wikipedia knowledgeintensive kilt 17367 natural questions knowledgeintensive kilt 15535 fever knowledgeintensive kilt 9966 openboookqa knowledgeintensive hf dataset 4699 arceasy knowledgeintensive hf dataset 2147 asqa knowledgeintensive asqa 3897 table 3 the generator lm mtraining data statistics base lm retrieve issup isrel isuse llama27b 938 935 802 735 flan3b 856 731 820 721 figure 5 reward prediction accuracy using gpt4 predictions as groundtruth predictions while our final model uses llama27b as a base lm we also train and compare flan3b wei et al 2022 model on the same data to investigate the effectiveness of different data sizes affect final reward predictions in most aspects our reward model shows higher than 80 accuracy indicating the powerful ability of finetuned specialized lms to evaluate text while both models show relatively lower performance on isuse this is because both models often confuse between the two highest cases 5 and 4 where human annotators can also disagree details of mdata creation here we provide detailed data creation procedures algorithm 3 summarizes the process here we set yttoyfor simplification once we train the critic model we first run it on input data from the aforementioned datasets to predict whether retrieval is needed or not for",
        "mimetype": "text/plain",
        "start_char_idx": 783100,
        "end_char_idx": 788090,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c0c9350a-2f89-4729-a216-95ea777e8ac0",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "994cedc8-35ea-4195-a5b1-ed0158879426",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c6ad8e34d78cd26ab4b606085d8c23d74b5473e2e5e3efdf678aa73fd56d9a41",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "198dd1ba-7ff8-4c93-9edc-8412f1900dd1",
                "node_type": "1",
                "metadata": {},
                "hash": "4ed49fb2ad5104d03d8df7533a6f51a30a5061d4707b5e4e0d91956c754aabf8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "issup isrel isuse llama27b 938 935 802 735 flan3b 856 731 820 721 figure 5 reward prediction accuracy using gpt4 predictions as groundtruth predictions while our final model uses llama27b as a base lm we also train and compare flan3b wei et al 2022 model on the same data to investigate the effectiveness of different data sizes affect final reward predictions in most aspects our reward model shows higher than 80 accuracy indicating the powerful ability of finetuned specialized lms to evaluate text while both models show relatively lower performance on isuse this is because both models often confuse between the two highest cases 5 and 4 where human annotators can also disagree details of mdata creation here we provide detailed data creation procedures algorithm 3 summarizes the process here we set yttoyfor simplification once we train the critic model we first run it on input data from the aforementioned datasets to predict whether retrieval is needed or not for the instances where the critic predicts retrieve no we only predict the isusegiven input and output for the instances where the critic predicts retrieve yes we first retrieve passages using the input and the entire output as queries to find passages that are relevant to the entire output we then split output sentences using spacy7for each sentence we run cto predict whether the retrieval is necessary or not given the input preceding segments and the initial retrieved passage if cpredicts retrieve no then do not insert any paragraph at the tth segment if cpredicts retrieve yes then we use the original input and the tth segment as a retrieval query to find relevant passages for the tth segment for each retrieved passage we predict isreland issup if there is any passage and continuation with isrelrelevant and issupfully supported issuppartially 7httpsspacyio 18 mimetype textplain start_char_idx 0 end_char_idx 3089 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fd35be8511874c81a468ea957e4fbc38 embedding null metadata page_label mimetype textplain start_char_idx 484267 end_char_idx 489742 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 76464249341f441db372e3f4048077fd embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 54710c51dd994b638a5a5417372f2ff4 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash aa5edacc7fb79a8ff9bbde5d8b41651da697549b03e759166f269f7cca7f9d5b class_name relatednodeinfo  3  node_id 8d16d99b0920487488ee3e10512dd7d1 node_type 1 metadata  hash c6e54f514a36b13d4ca1f5a5e229542ff94a2d7d23af6f94f6c34533448b3ad5 class_name relatednodeinfo   text retrieve yes we first retrieve passages using the input and the entire output as queries to find passages that are relevant to the entire output we then split output sentences using spacy7for each sentence we run cto predict whether the retrieval is necessary or not given the input preceding segments and the initial retrieved passage if cpredicts retrieve no then do not insert any paragraph at the tth segment if cpredicts retrieve yes then we use the original input and the tth segment as a retrieval query to find relevant passages for the tth segment for each retrieved passage we predict isreland issup if there is any passage and continuation with isrelrelevant and issupfully supported issuppartially 7httpsspacyio 18 mimetype textplain start_char_idx 0 end_char_idx 3089 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fd35be8511874c81a468ea957e4fbc38 embedding null metadata page_label 19 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id ba7483e439f542c0827433eac8842fc6 node_type 4 metadata page_label 19 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 3bc38399a202d33dafec7ec7771deab1ab36de1340c05be8d5bc6e924cc632eb class_name relatednodeinfo text preprint supported then we sample it as the continuation if there is more than one passage satisfying this criterion we use the one with the highest retrieval score if there are only isrelirrelevant or issupno support passages we randomly sample one passage algorithm 3 mgendata creation 1input inputoutput data dx y 2forx y x ydo 3 given x ycpredicts retrieve 4 ifretrieve is predicted then 5 retrieve relevant passages dusingrgiven x y retrieve passages 6 fordddo 7 cpredicts isrelfor each d predict relevance of passages 8 cpredicts issupfor each y d predict supports of outputs 9",
        "mimetype": "text/plain",
        "start_char_idx": 787116,
        "end_char_idx": 792810,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "198dd1ba-7ff8-4c93-9edc-8412f1900dd1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c0c9350a-2f89-4729-a216-95ea777e8ac0",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "055be7bcd01188c7727c7aac302c1dd0541169637213d48ab2ce970e8e31be27",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "bd882390-4f92-4359-be90-b6fc96f2e8e7",
                "node_type": "1",
                "metadata": {},
                "hash": "0661488dd80055dbb5546035dc6c0eb698472f140d6a1c2b6973eea52726e7fb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 3bc38399a202d33dafec7ec7771deab1ab36de1340c05be8d5bc6e924cc632eb class_name relatednodeinfo text preprint supported then we sample it as the continuation if there is more than one passage satisfying this criterion we use the one with the highest retrieval score if there are only isrelirrelevant or issupno support passages we randomly sample one passage algorithm 3 mgendata creation 1input inputoutput data dx y 2forx y x ydo 3 given x ycpredicts retrieve 4 ifretrieve is predicted then 5 retrieve relevant passages dusingrgiven x y retrieve passages 6 fordddo 7 cpredicts isrelfor each d predict relevance of passages 8 cpredicts issupfor each y d predict supports of outputs 9 cpredicts isusefor each d predict overall utility ttonly 10 sample d 11 else if retrieve is not predicted then 12 cpredicts isusegiven x y add augmented x y d r todgen training examples table 4 show several training examples used for mtraining a3 s elfraginference details of beamsearch score calculations we first compute scores for each critique type by taking the normalized probabilities of desirable tokens for isrel we compute the score as follows sisrel pisrelrelevant pisrelrelevant pisrelirrelevant for issup we compute the score as follows sisrel pissupfully s 05pissuppartially s where sp tfullypartially nopissupt for isusewhere we have a fivescale score we compute the weighted sum of the scores we assigns weighted scores of w1050051 to the tokens isuse12345 and compute the final scores as follows sisuse 5x iwipisusei s where sp t12345pisuset details of adaptive retrieval for retrieval based on soft constraints we trigger retrieval if the following condition is satisfied pretrieve yes pretrieve yes ppretrieve no u03b4 b e xperimental details b1 m ore details of training more details of training and computations we use 4 nvidia a100 with 80gb memory to train our models all models are trained for mimetype textplain start_char_idx 280947 end_char_idx 286945 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ de3790024dd148e09d7c059cbf73b3ae embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 7c60e428b73e466fb829f510bbdf750c node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 4ec38ee84cf2b1a0c8227b2d8cd7670f05ef91e93ff8ad2099583dcf299cf241 class_name relatednodeinfo 3 node_id 1173ccbf2c45402ab126e501e2673f65 node_type 1 metadata hash c23fca2ac6958fb3572165c56378cd2d3137c586a25d90fd47acfcf768565b9d class_name relatednodeinfo text compute scores for each critique type by taking the normalized probabilities of desirable tokens for isrel we compute the score as follows sisrel pisrelrelevant pisrelrelevant pisrelirrelevant for issup we compute the score as follows sisrel pissupfully s 05pissuppartially s where sp tfullypartially nopissupt for isusewhere we have a fivescale score we compute the weighted sum of the scores we assigns weighted scores of w1050051 to the tokens isuse12345 and compute the final scores as follows sisuse 5x iwipisusei s where sp t12345pisuset details of adaptive retrieval for retrieval based on soft constraints we trigger retrieval if the following condition is satisfied pretrieve yes pretrieve yes ppretrieve no u03b4 b e xperimental mimetype textplain start_char_idx 488785 end_char_idx 494359 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 8d16d99b0920487488ee3e10512dd7d1 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 76464249341f441db372e3f4048077fd node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 792041,
        "end_char_idx": 797311,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "bd882390-4f92-4359-be90-b6fc96f2e8e7",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "198dd1ba-7ff8-4c93-9edc-8412f1900dd1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b00b9df38dc78951c4310d7022823630dd81ec260fa0876ca49a4805f5adb8be",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b215bbd3-7c65-417d-8a4f-72493e20040d",
                "node_type": "1",
                "metadata": {},
                "hash": "f2375b2876af63631b759d7d1bc5c31a2e7d0198b0a399288cb2ca7e7613010a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 76464249341f441db372e3f4048077fd node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2bf52e00e797172d621e610bb117bbccfa4bdb1ce5a7053a8eaf9d1d778ae6c1 class_name relatednodeinfo  3  node_id 64c150ddd4304d65b551660758325af8 node_type 1 metadata  hash dc819241a7c5197684ce18657f0c3a823d5b406a8df0d7fd7bd0bc8e3c5f79c0 class_name relatednodeinfo   text class_name relatednodeinfo text compute scores for each critique type by taking the normalized probabilities of desirable tokens for isrel we compute the score as follows sisrel pisrelrelevant pisrelrelevant pisrelirrelevant for issup we compute the score as follows sisrel pissupfully s 05pissuppartially s where sp tfullypartially nopissupt for isusewhere we have a fivescale score we compute the weighted sum of the scores we assigns weighted scores of w1050051 to the tokens isuse12345 and compute the final scores as follows sisuse 5x iwipisusei s where sp t12345pisuset details of adaptive retrieval for retrieval based on soft constraints we trigger retrieval if the following condition is satisfied pretrieve yes pretrieve yes ppretrieve no u03b4 b e xperimental details b1 m ore details of training more details of training and computations we use 4 nvidia a100 with 80gb memory to train our models all models are trained for 3 epochs with a batch size of 128 a peak learning rate of 2e5 with 3 warmup steps and linear decay afterward we set the maximum token length to be 2048 for the 7b model and 1524 for the 13b model due to the memory constraint we use deepspeed stage 3 rajbhandari et al 2020 to conduct multigpu distributed training with training precision bfloat16 enabled flashattention dao et al 2022 is used to make the longcontext training more efficient we run inference of our trained models using 12 quadro rtx 6000 gpus with 24gb memory 19 mimetype textplain start_char_idx 0 end_char_idx 2336 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ dd66f3aa35bd4dcbb60bc7556861ae34 embedding null metadata page_label 20 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3974568c8dd34dc899049281dfa5bfbf node_type 4 metadata page_label 20 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 0b31a0e9477dc9d2a4686b799ca47b25cc8d385ff47feac0d38494176f6e303b class_name relatednodeinfo text preprint b2 m ore details of evaluations retrieval setup details by default we use contrieverms marco to retrieve the top five documents from wikipedia and use official wikipedia embeddings based on 2018 english wikipedia on popqa where question and answer pairs are created based on wikidata in 2022 we found that the 2018 wikipedia sometimes lacks articles about some entities that have been more recently added to wikipedia therefore for popqa we used the december 2020 preprocessed wikipedia corpus provided by izacard et al 2022b and generated document embeddings8the issues of performance variance from different wikipedia dumps have been reported by prior work asai et al 2020 izacard et al 2022b yet we observe limited effectiveness of such offtheshelf retrieval models trained primarily on knowledgeintensive tasks for openended generation eg instruction following recent or concurrent work studies instructiontuning of retrieval systems asai et al 2023b or joint training of retrieval and lm components lin et al 2023 while we leave exploring the effectivess of such appraoches for future work for bio generation and opendomain qa tasks we additionally retrieve five documents using google programmable search9and search documents from english wikipedia as this api only provides snippets we retrieve wikipedia introductory paragraphs for the corresponding entities detailed experimental settings for individual datasets for openqa datasets we set the max imum new token number to 100 tokens for closedset tasks pubhealth and arcc we set the maximum new token length to 50 for all baselines for selfraginference on pubhealth and arcc instead of determining the output with the highest score 4 as in other tasks we aggregate the scores for each option and select the answer option with the highest score we found in zeroshot settings of fact checking some llms can generate capitalized class labels eg true while our gold labels are lowercased therefore across different lms for fact checking we lowercase the predictions in multiple choice tasks we found some models generate answers in slightly different ways eg a instead of a we slightly modify instructions for each llm to avoid such format violations and further conduct string matching between each candidate and model predictions if format violations still remain after that processing in closed set tasks model predictions match one of the gold classes in almost all cases for alce we found that llama2chat tend to generate significantly lower outputs than other models eg on average their output is nearly 100 token while chatgpt generates 40 tokens on average resulting in inflated strem scores we limit the maximum generation length to 100 tokens for all baselines to avoid this issue rather",
        "mimetype": "text/plain",
        "start_char_idx": 796713,
        "end_char_idx": 802696,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b215bbd3-7c65-417d-8a4f-72493e20040d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "bd882390-4f92-4359-be90-b6fc96f2e8e7",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d54531c5c212b138b67082c60f9e30201eaf85f73e55437ff154318c1c697671",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "5006cceb-13d5-49b4-84eb-72e81c1641ca",
                "node_type": "1",
                "metadata": {},
                "hash": "f0801be47e879ccc7d4378688b8f925790dc35bb5905067a8e6a4ae3318bce53",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "instead of determining the output with the highest score 4 as in other tasks we aggregate the scores for each option and select the answer option with the highest score we found in zeroshot settings of fact checking some llms can generate capitalized class labels eg true while our gold labels are lowercased therefore across different lms for fact checking we lowercase the predictions in multiple choice tasks we found some models generate answers in slightly different ways eg a instead of a we slightly modify instructions for each llm to avoid such format violations and further conduct string matching between each candidate and model predictions if format violations still remain after that processing in closed set tasks model predictions match one of the gold classes in almost all cases for alce we found that llama2chat tend to generate significantly lower outputs than other models eg on average their output is nearly 100 token while chatgpt generates 40 tokens on average resulting in inflated strem scores we limit the maximum generation length to 100 tokens for all baselines to avoid this issue rather than the original 300 tokens in the alce paper consequently all of the baseline output length is within 3060 tokens for factscore we set the maximum new token length to 500 for baselines and 200 for selfragat each segment level taskspecific instructions table 5 shows the list of the instructions used during evaluations for opendomain qa we do not provide explicit instructions c r esults c1 a nalysis reliance on parametric and nonparametric memories we conduct analysis on how frequently model answers come from retrieved passages nonparametric memories or their own parametric memories on two opendomain qa datasets triviaqa and popqa we conduct the following analysis 1 sample query models successfully answer correctly 2 for each query in this group check whether the matched groundtruth answer is a substring of the retrieved passage or not we evaluate selfrag7b alpaca 7b alpaca 13b and llama2chat13b we found that selfrag significantly less frequently generates answers that are not included in the provided evidence in particular in alpaca 30b 20 of the correct predictions are not included in the provided passages followed by llama2chat 13b 18 and alpaca 15 while it is only 2 in selfrag when retrieved passages are not relevant selfraggenerates isrelirrelevant indicating that the following answers may not be factually grounded while those instructiontuned models continue to generate plausible answers 8httpsgithubcomfacebookresearchatlas mimetype textplain start_char_idx mimetype textplain start_char_idx 493587 end_char_idx 500198 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 64c150ddd4304d65b551660758325af8 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 8d16d99b0920487488ee3e10512dd7d1 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c343feb21236b9e1f7caa00caf75394096a2200cc16a914a8ad17a0fcd06dd9f class_name relatednodeinfo  3  node_id 8a27da8a0a0a433a9d00a23fee14e109 node_type 1 metadata  hash bc54403f7dd55c05f81c979843cc84e6583c847096488aa593d97eb39c65a6ec class_name relatednodeinfo   text nonparametric memories or their own parametric memories on two opendomain qa datasets triviaqa and popqa we conduct the following analysis 1 sample query models successfully answer correctly 2 for each query in this group check whether the matched groundtruth answer is a substring of the retrieved passage or not we evaluate selfrag7b alpaca 7b alpaca 13b and llama2chat13b we found that selfrag significantly less frequently generates answers that are not included in the provided evidence in particular in alpaca 30b 20 of the correct predictions are not included in the provided passages followed by llama2chat 13b 18 and alpaca 15 while it is only 2 in selfrag when retrieved passages are not relevant selfraggenerates isrelirrelevant indicating that the following answers may not be factually grounded while those instructiontuned models continue to generate plausible answers 8httpsgithubcomfacebookresearchatlas mimetype textplain start_char_idx 286043 end_char_idx 292598 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 1173ccbf2c45402ab126e501e2673f65 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id de3790024dd148e09d7c059cbf73b3ae node_type",
        "mimetype": "text/plain",
        "start_char_idx": 801578,
        "end_char_idx": 807434,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5006cceb-13d5-49b4-84eb-72e81c1641ca",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b215bbd3-7c65-417d-8a4f-72493e20040d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bac646ee513d1c0db82aa0a69841fde8d1d2d9085448b719db758d8a47564931",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "00873663-ff05-4510-9675-b49fbf4869ce",
                "node_type": "1",
                "metadata": {},
                "hash": "b0de0f9d08e2d03b7ad1f5a76753267686bc57716794dd7476409c5bd30ec7c6",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id de3790024dd148e09d7c059cbf73b3ae node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash e9ce175cf0986263e4ccba04d6a4c6872a6f50dfc4713d5d763c0c0e1379b67c class_name relatednodeinfo 3 node_id 8d8c0e6eacb142bcab695e0af8d56f88 node_type 1 metadata hash 7eab3c385a935bcf949ecac315ea76a8b11f3391e99ff3f7ba0b2444580ed964 class_name relatednodeinfo text model answers come from retrieved passages nonparametric memories or their own parametric memories on two opendomain qa datasets triviaqa and popqa we conduct the following analysis 1 sample query models successfully answer correctly 2 for each query in this group check whether the matched groundtruth answer is a substring of the retrieved passage or not we evaluate selfrag7b alpaca 7b alpaca 13b and llama2chat13b we found that selfrag significantly less frequently generates answers that are not included in the provided evidence in particular in alpaca 30b 20 of the correct predictions are not included in the provided passages followed by llama2chat 13b 18 and alpaca 15 while it is only 2 in selfrag when retrieved passages are not relevant selfraggenerates isrelirrelevant indicating that the following answers may not be factually grounded while those instructiontuned models continue to generate plausible answers 8httpsgithubcomfacebookresearchatlas 9httpsprogrammablesearchenginegooglecomabout 20 mimetype textplain start_char_idx 0 end_char_idx 4265 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 25f32dadf5c6492eb542600d9f73ea43 embedding null metadata page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 2c7d4074f9be48fd881d449399c578ba node_type 4 metadata page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 150f6769c3018801521c367ab8a5bebf77a4fc01ff97e5cb3f5a339e8944395c class_name relatednodeinfo text preprint c2 h uman evaluation examples table 6 shows examples with human evaluations on sp and correctness of isreland issup reflection tokens c3 q ualitative examples table 7 shows several examples predicted by our selfrag13b the first example is the model output to an asqa question the first reference states that emperor constantine made sunday a day of rest from labor and further the second citation supports the fact that the official adoption of sunday as a day of rest by constantine in ad 321 in the second example the model predicts contradictory to the first output as the output says the person has served as the ceo since 2010 while the passage says he stepped down as ceo in 2015 indicating those factual contradictions as reflection tokens enables to enforcement of hard control and also verification of model outputs easily in the third example while the generation is mostly correct selfragpredicts partially support to the statement listing the name of the songs as they were not explicitly mentioned d f ull list of instructions and demonstrations for gpt4 here we show the instructions and demonstrations used to prompt gpt4 to collect reflection tokens table 8 shows the instructions and demonstrations for the initial retrieval token table 9 shows the instruction and demonstrations used to collect the threeway output tokens for retrieve given instruction preceding sentences and previously retrieved passages due to the longer demonstration and test input we only use a single demonstration table 10 shows an instruction and demonstrations used to collect the threeway output tokens mimetype textplain start_char_idx 499245 end_char_idx 505090 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 8a27da8a0a0a433a9d00a23fee14e109 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 64c150ddd4304d65b551660758325af8 node_type 1 metadata  file_path",
        "mimetype": "text/plain",
        "start_char_idx": 806834,
        "end_char_idx": 812375,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "00873663-ff05-4510-9675-b49fbf4869ce",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "5006cceb-13d5-49b4-84eb-72e81c1641ca",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "fa41a9226f494245fd4c0c909a9f175453217b9ff75f8675182d3f75221d5914",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4dbcb6a8-22f4-4b1e-9ad8-b71416904298",
                "node_type": "1",
                "metadata": {},
                "hash": "33d243776a7af0fc36b8efbb7b5cc203f20381fd352c75a0da0ffcfce6d74fbd",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 64c150ddd4304d65b551660758325af8 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 0f075bca3043d0dfe76737c711e69d139a4afbe7b99493ab97f1e0946089e0f2 class_name relatednodeinfo  3  node_id 2497d340d0654d109d3a60da44d339bf node_type 1 metadata  hash 24ef7cfccddb5c3a2f34004d57093f4de31e110e7df6edcaee8925d5e66b638b class_name relatednodeinfo   text by constantine in ad 321 in the second example the model predicts contradictory to the first output as the output says the person has served as the ceo since 2010 while the passage says he stepped down as ceo in 2015 indicating those factual contradictions as reflection tokens enables to enforcement of hard control and also verification of model outputs easily in the third example while the generation is mostly correct selfragpredicts partially support to the statement listing the name of the songs as they were not explicitly mentioned d f ull list of instructions and demonstrations for gpt4 here we show the instructions and demonstrations used to prompt gpt4 to collect reflection tokens table 8 shows the instructions and demonstrations for the initial retrieval token table 9 shows the instruction and demonstrations used to collect the threeway output tokens for retrieve given instruction preceding sentences and previously retrieved passages due to the longer demonstration and test input we only use a single demonstration table 10 shows an instruction and demonstrations used to collect the threeway output tokens for isrel table 11 shows an instruction and demon strations used to collect the threeway output tokens for isrel table 12 shows an instruction and demonstrations used to collect the fiveway output tokens for isuse 21 mimetype textplain start_char_idx 0 end_char_idx 1824 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b2e55227fed44159b9c8a7f32e118556 embedding null metadata page_label 22 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0c42e287ca6f4343a225b3a3d21dd2ef node_type 4 metadata page_label 22 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 12dcc1d02c89891b28dbaf42b04184e5a68858bc211588ad496c9cc854e8b26e class_name relatednodeinfo text preprint input identify the two types of computer memory from gpt4 alpaca output retrieve yespcomputer memory computer memory in computing memory refers to the computer hardware integrated circuits that store information for immediate use in a computer it is synonymous with the term primary storage computer memory operates at a high speed for example randomaccess memory ram as a distinction from storage that provides slowtoaccess information but offers higher capacities if needed contents of the computer memory can be transferred to secondary storage a very common way of doing this is through a memory management technique called virtual memory an archaic synonym for memory is store the term memory meaning primary storage or main memory is pisrelrelevant primary memory also known as main memory is the memory that the computer can directly access and manipulate issupfully supported retrieve yespcomputer memoryoften associated with addressable semiconductor memory ie integrated circuits consisting of siliconbased transistors used for example as primary storage but also other purposes in computers and other digital electronic devices there are two main kinds of semiconductor memory volatile and nonvolatile examples of nonvolatile memory are flash memory used as secondary memory and rom prom eprom and eeprom memory used for storing firmware such as bios examples of volatile memory are primary storage which is typically dynamic randomaccess memory dram and fast cpu cache memory which is typically static randomaccess memory sram that is fast but energyconsuming offering lower memory pisrelrelevant primary memory can be accessed quickly but it is volatile meaning that the data is lost if the power is turned off issuppartially supported isuse5 input give an example of a situation where you have to delegate tasks from gpt4 alpaca output retrieve nothe manager mimetype textplain start_char_idx 291636 end_char_idx 298165 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 8d8c0e6eacb142bcab695e0af8d56f88 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 811744,
        "end_char_idx": 817732,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4dbcb6a8-22f4-4b1e-9ad8-b71416904298",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "00873663-ff05-4510-9675-b49fbf4869ce",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9a2f25a6c6b1b9c9cc4b4ec62d716d2c1b89cac046b0ce60ceb0b5d59cfde9d9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7d203414-2cea-463b-b4b8-6a1625e35daf",
                "node_type": "1",
                "metadata": {},
                "hash": "0f2dc9f7ecda77150de0cce66ac893bc3b8265801ed1e406a2061d1dbf026fc2",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "start_char_idx 291636 end_char_idx 298165 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 8d8c0e6eacb142bcab695e0af8d56f88 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 1173ccbf2c45402ab126e501e2673f65 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 723d6982754ba86be2afbe6c9bec773e90c56e6a7cd9522945068a816eefc5fc class_name relatednodeinfo 3 node_id 9d75e829205d41ab9e35cd3ddc00ac6c node_type 1 metadata hash 9ee15284c86d070af23052f91079e79ce53ecc9c9bef4a230f8430e5646e5c53 class_name relatednodeinfo text primary memory also known as main memory is the memory that the computer can directly access and manipulate issupfully supported retrieve yespcomputer memoryoften associated with addressable semiconductor memory ie integrated circuits consisting of siliconbased transistors used for example as primary storage but also other purposes in computers and other digital electronic devices there are two main kinds of semiconductor memory volatile and nonvolatile examples of nonvolatile memory are flash memory used as secondary memory and rom prom eprom and eeprom memory used for storing firmware such as bios examples of volatile memory are primary storage which is typically dynamic randomaccess memory dram and fast cpu cache memory which is typically static randomaccess memory mimetype textplain start_char_idx 503961 end_char_idx 510275 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2497d340d0654d109d3a60da44d339bf embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 8a27da8a0a0a433a9d00a23fee14e109 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 7b912ffea3aa8c50b224e178435535b81b0974c69954857b8352ec9accab83e5 class_name relatednodeinfo  3  node_id a6c28982b49f4fcea42cf71fe190e776 node_type 1 metadata  hash 770153ff77feac1fef1894fff59a2f4172597bc3d26f734d2d0d4a9f7b68a828 class_name relatednodeinfo   text node_type 1 metadata hash 9ee15284c86d070af23052f91079e79ce53ecc9c9bef4a230f8430e5646e5c53 class_name relatednodeinfo text primary memory also known as main memory is the memory that the computer can directly access and manipulate issupfully supported retrieve yespcomputer memoryoften associated with addressable semiconductor memory ie integrated circuits consisting of siliconbased transistors used for example as primary storage but also other purposes in computers and other digital electronic devices there are two main kinds of semiconductor memory volatile and nonvolatile examples of nonvolatile memory are flash memory used as secondary memory and rom prom eprom and eeprom memory used for storing firmware such as bios examples of volatile memory are primary storage which is typically dynamic randomaccess memory dram and fast cpu cache memory which is typically static randomaccess memory sram that is fast but energyconsuming offering lower memory pisrelrelevant primary memory can be accessed quickly but it is volatile meaning that the data is lost if the power is turned off issuppartially supported isuse5 input give an example of a situation where you have to delegate tasks from gpt4 alpaca output retrieve nothe manager realizes that there is an extensive list of tasks that need to be completed in order to make the event a success retrieve yespdelegationdelegation is the assignment of any responsi bility or authority to another person normally from a manager to a subordinate to carry out specific activities it is one of the core concepts of management leadership however the person who delegated the work remains accountable for the outcome of the delegated work delegation empowers a subordinate to make decisions ie it is a shifting of decisionmaking authority from one organizational level to a lower one delegation if properly done is not fabrication the opposite of effective delegation is micromanagement where a manager provides too much input pisrelrelevant this includes tasks such as creating a guest list designing and sending in",
        "mimetype": "text/plain",
        "start_char_idx": 816980,
        "end_char_idx": 822614,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7d203414-2cea-463b-b4b8-6a1625e35daf",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4dbcb6a8-22f4-4b1e-9ad8-b71416904298",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bdb199a1a95a6b23425cdf0a41c1f785131da574a99c8d27dc9d72133f2f2263",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "306c366a-ac79-4450-ba01-d0e8dbc9957f",
                "node_type": "1",
                "metadata": {},
                "hash": "cb36922568d01402a08da3547badd491f0752c8c1080ebecd816b3d51c81d863",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "primary memory can be accessed quickly but it is volatile meaning that the data is lost if the power is turned off issuppartially supported isuse5 input give an example of a situation where you have to delegate tasks from gpt4 alpaca output retrieve nothe manager realizes that there is an extensive list of tasks that need to be completed in order to make the event a success retrieve yespdelegationdelegation is the assignment of any responsi bility or authority to another person normally from a manager to a subordinate to carry out specific activities it is one of the core concepts of management leadership however the person who delegated the work remains accountable for the outcome of the delegated work delegation empowers a subordinate to make decisions ie it is a shifting of decisionmaking authority from one organizational level to a lower one delegation if properly done is not fabrication the opposite of effective delegation is micromanagement where a manager provides too much input pisrelrelevant this includes tasks such as creating a guest list designing and sending in vitations booking a venue coordinating with vendors planning the event s program and monitoring the budget issuppartially supported retrieve nosince it is not possible for the manager to handle everything alone they must delegate tasks to their team members retrieve nothe manager would then assign each team member specific responsibilities based on their individual skillsets and strengths retrieve yespjoint application design subject matter experts these are the business users the is professionals and the outside experts that will be needed for a successful workshop this group is the backbone of the meeting pisrel irrelevant for instance the team s graphic designer might be tasked with designing the invitations while the event coordinator would be in charge of planning the program and working with vendors retrieve noby delegating tasks the manager can ensure that all necessary tasks are completed in a timely manner while also empowering their team members to take on responsibilities and contribute to the success of the event isuse 5 input synthesize a poem based on this promptthe sun is setting from stanford alpaca output retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve no they flicker like a silent dance a peaceful moment in its trance retrieve no they flicker like a silent dance a peaceful moment in its trance retrieve no a chorus of crickets sing a lullaby to every creature that roams the sky isuse5 input when did walking dead season 7 come out from nq output retrieve yespthe walking dead season 7the walking dead season 7 the seventh season of the walking dead an american postapocalyptic horror television series on amc premiered on october 23 2016 and concluded on april 2 2017 consisting of 16 episodes developed for television by frank darabont the series is based on the eponymous series of comic books by robert kirkman tony moore and charlie adlard pisrelrelevant october 23 2016 issupfully supported isuse5 input given a chat history separated by new lines generates an informative knowledgeable and engaging response hello i love german shepherd dogs and you my favorite dog they are officially known as german shepherd dogs yes i have a german shepherd in my house and she is pregnant from wow output hey also are easily trained obedient and intelligent retrieve yespgerman shepherd a simple difference of opinion it is the fundamental issue of the breed s essential conformation and movement they are known for being easy to train and good for performing tasks and following instructions they are especially well known for their police work being used for tracking criminals patrolling troubled areas and detecting and holding suspects pisrelrelevant because of this they are often used for disability assistance and for police work issuppartially supported isuse2 table 4 list of the training examples 22 mimetype textplain start_char_idx 0 end_char_idx 5703 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 9a8d9df69f6a43fa9ef7bbbfaef081cb embedding null metadata page_label 23 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 997a3a87d7ba4ba893f58948128e6213 node_type 4 metadata page_label 23 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 1972b2e7014a78fdf695520eff68f4067698c905ce740fc0d330e0a109dc9170 class_name relatednodeinfo text preprint dataset instruction arcc given four answer candidates a b c and d choose the best answer choice please answer with the capitalized alphabet only without adding any extra phrase or period pubhealth is the following statement correct or not say true if its correct otherwise say false dont capitalize or add periods just say true or false bio generation tell me a bio about person name asqa baseline instruction write an accurate engaging and concise answer for the given question using only the provided search results some of which might be irrelevant and cite them properly use an unbiased and journalistic tone always cite for any factual claim when citing several search results use 123 cite at least one document and at most three documents in each sentence if multiple documents support the sentence only cite a minimum sufficient subset of the documents asqa ours answer the following question the question may be ambiguous and have multiple correct answers and in that case you have to provide a longform answer including all correct answers table 5 full list of instructions used during zeroshot evaluations for opendomain qa we dont use any task specific instruction and simply use the original questions mimetype textplain start_char_idx 509371 end_char_idx 516536 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a6c28982b49f4fcea42cf71fe190e776 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size",
        "mimetype": "text/plain",
        "start_char_idx": 821524,
        "end_char_idx": 828427,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "306c366a-ac79-4450-ba01-d0e8dbc9957f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7d203414-2cea-463b-b4b8-6a1625e35daf",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6bd787e76b7dd5ea4b61de8b971ba4355b77771dcdc6c8197f812c506c1359df",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ea4a6e7b-5cc7-40fe-a65a-c57151559ad9",
                "node_type": "1",
                "metadata": {},
                "hash": "5cd93b5cc42332cb47cf1d4479519efd5ab0b65a05a2fab1d00a7725c20fc39a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "instruction and simply use the original questions mimetype textplain start_char_idx 509371 end_char_idx 516536 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a6c28982b49f4fcea42cf71fe190e776 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 2497d340d0654d109d3a60da44d339bf node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 1efd4bd7f3789c77ffad8174cf42169c828671824b2169fb0aaff34bc381e49b class_name relatednodeinfo  3  node_id 9628a295638e450d946766789d03360f node_type 1 metadata  hash 723b50edfc4f6c20d028ba00dd3ba19e89dc34c26a967e8a1c792942d15a1679 class_name relatednodeinfo   text c and d choose the best answer choice please answer with the capitalized alphabet only without adding any extra phrase or period pubhealth is the following statement correct or not say true if its correct otherwise say false dont capitalize or add periods just say true or false bio generation tell me a bio about person name asqa baseline instruction write an accurate engaging and concise answer for the given question using only the provided search results some of which might be irrelevant and cite them properly use an unbiased and journalistic tone always cite for any factual claim when citing several search results use 123 cite at least one document and at most three documents in each sentence if multiple documents support the sentence only cite a minimum sufficient subset of the documents asqa ours answer the following question the question may be ambiguous and have multiple correct answers and in that case you have to provide a longform answer including all correct answers table 5 full list of instructions used during zeroshot evaluations for opendomain qa we dont use any task specific instruction and simply use the original questions as input query 23 mimetype textplain start_char_idx 0 end_char_idx 1240 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode mimetype textplain start_char_idx 297048 end_char_idx 304276 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 9d75e829205d41ab9e35cd3ddc00ac6c embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 8d8c0e6eacb142bcab695e0af8d56f88 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 3eb3870f8aa772acd0c3ad877c1b0702c84c101e4e394f48e0d371831e7fce43 class_name relatednodeinfo 3 node_id cc2df5d6a50f4914bc2360e48e433004 node_type 1 metadata hash efd1070e977cc25f526e1398ab9dc81be90620a0bdc5a66266796c7f048aa161 class_name relatednodeinfo text dont capitalize or add periods just say true or false bio generation tell me a bio about person name asqa baseline instruction write an accurate engaging and concise answer for the given question using only the provided search results some of which might be irrelevant and cite them properly use an unbiased and journalistic tone always cite for any factual claim when citing several search results use 123 cite at least one document and at most three documents in each sentence if multiple documents support the sentence only cite a minimum sufficient subset of the documents asqa ours answer the following question the question may be ambiguous and have multiple correct answers and in that case you have to provide a longform answer including all correct answers table 5 full list of instructions used during zeroshot evaluations for opendomain qa we dont use any task specific instruction and simply use the original questions as input query 23 mimetype textplain start_char_idx 0 end_char_idx 1240 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2f6facb0711d44a3b22deaeb2ae53e61 embedding null metadata page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date",
        "mimetype": "text/plain",
        "start_char_idx": 827660,
        "end_char_idx": 833228,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ea4a6e7b-5cc7-40fe-a65a-c57151559ad9",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "306c366a-ac79-4450-ba01-d0e8dbc9957f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b9dabe5c7c729caa0daf1da31ab83397e4d32c87d461491d57610891972a5e40",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "50e73615-eb32-4752-87d2-bc6d070acb81",
                "node_type": "1",
                "metadata": {},
                "hash": "a53c3a2e78c93c24103c5f2dd5cfaa6bfe62cbf6e765ac4b05bc10b76c68ad54",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "documents in each sentence if multiple documents support the sentence only cite a minimum sufficient subset of the documents asqa ours answer the following question the question may be ambiguous and have multiple correct answers and in that case you have to provide a longform answer including all correct answers table 5 full list of instructions used during zeroshot evaluations for opendomain qa we dont use any task specific instruction and simply use the original questions as input query 23 mimetype textplain start_char_idx 0 end_char_idx 1240 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2f6facb0711d44a3b22deaeb2ae53e61 embedding null metadata page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 816a6a7bb35e49e68650679eb413cad2 node_type 4 metadata page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 3a9a0d76064aacfb6371067a8e4072654a1c84ef1ca7e497f6b4d51fb1ab964a class_name relatednodeinfo text preprint input what genre is a question and answer guide to astronomy popqa output retrieve yespreference 1 pisrelrelevant a question and answer guide to as tronomy is a nonfiction book that falls under the genre of astronomy and cosmology issupfully supported isuse5 reference 1 a question and answer guide to astronomy is a book about astronomy and cosmology and is intended for a general audience the book was written by pierreyves bely carol christian and jeanrene roy and published in english by cambridge university press in 2010 it was originally written in french the content within the book is written using a question and answer format it contains some 250 questions which the science teacher states each are answered with a concise and wellformulated essay that is informative and readable the science teacher review goes on to state that many of the answers given in the book are little gems of science writing the science teacher summarizes by stating that each question is likely to be thought of by a student and that the answers are informative well constructed and thorough the book covers information about the planets the earth the universe practical astronomy history and awkward questions such as astronomy in the bible ufos and aliens also covered are subjects such as the big bang comprehension of large numbers and the moon illusion sp supported and plausible correctness of isreland issupboth isreland issupare correct as the reference 1 provides detailed information of the book including the genre and the model output is fully supported by the reference input who is the mimetype textplain start_char_idx 515381 end_char_idx 521568 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 9628a295638e450d946766789d03360f embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id a6c28982b49f4fcea42cf71fe190e776 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 57208ecd4231139a3d54d81d9e7563224e5914bf6111fefcd493dd3561a50061 class_name relatednodeinfo  3  node_id 045cb4a73d384bc18feec97ca60d2193 node_type 1 metadata  hash 4aa1010f002767be281c3fa7cf5619b30d6e065668f2ebaabbf48a8566b8d6dc class_name relatednodeinfo   text roy and published in english by cambridge university press in 2010 it was originally written in french the content within the book is written using a question and answer format it contains some 250 questions which the science teacher states each are answered with a concise and wellformulated essay that is informative and readable the science teacher review goes on to state that many of the answers given in the book are little gems of science writing the science teacher summarizes by stating that each question is likely to be thought of by a student and that the answers are informative well constructed and thorough the book covers information about the planets the earth the universe practical astronomy history and awkward questions such as astronomy in the bible ufos and aliens also covered are subjects such as the big bang comprehension of large numbers and the moon illusion sp supported and plausible correctness of isreland issupboth isreland issupare correct as the reference 1 provides detailed information of the book including the genre and the model output is fully supported by the reference input who is the author of the lie popqa output retrieve yespreference 1 pisrelrelevant the author of the lie is sam harris issupfully supported isuse5 reference 1 lying is a 2011 longform essay book by american author and neuroscience expert sam harris harris argues that we can radically simplify our lives and improve society by merely telling the truth in situations where others often lie sp plausible but not supported correctness of isreland issupboth isreland issupare incorrect as the reference 1 is about a different book whose title is similar to the lie input tell me a bio about ronaldinho bio output",
        "mimetype": "text/plain",
        "start_char_idx": 832302,
        "end_char_idx": 838431,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "50e73615-eb32-4752-87d2-bc6d070acb81",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ea4a6e7b-5cc7-40fe-a65a-c57151559ad9",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5c623773d5bc95492fb3d209192a64c72faacfff9f15b59c766a85d0cc7102b0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "65ddde45-7c97-4e4f-9625-155e4a90358b",
                "node_type": "1",
                "metadata": {},
                "hash": "594b24b3ff1e0bb9fe7fc9069af2a308f71a48fbffe0ea90f9c5758a4de8875b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "history and awkward questions such as astronomy in the bible ufos and aliens also covered are subjects such as the big bang comprehension of large numbers and the moon illusion sp supported and plausible correctness of isreland issupboth isreland issupare correct as the reference 1 provides detailed information of the book including the genre and the model output is fully supported by the reference input who is the author of the lie popqa output retrieve yespreference 1 pisrelrelevant the author of the lie is sam harris issupfully supported isuse5 reference 1 lying is a 2011 longform essay book by american author and neuroscience expert sam harris harris argues that we can radically simplify our lives and improve society by merely telling the truth in situations where others often lie sp plausible but not supported correctness of isreland issupboth isreland issupare incorrect as the reference 1 is about a different book whose title is similar to the lie input tell me a bio about ronaldinho bio output retrieve yespreference 1 pisrelrelevant ronaldinho is a retired professional footballer from brazil issupfully supported retrieve continue he played as an attacking midfielder and was known for his technical skills creativity dribbling ability and accuracy from free kicks retrieve continue he won two fifa world player of the year awards and a ballon dor isuse5 reference 1 ronaldo de assis moreira born 21 march 1980 commonly known as ronaldinho ga ucho or simply ronaldinho is a brazilian retired professional footballer who played mostly as an attacking midfielder but was also deployed as a winger considered one of the best players of his generation and regarded by many as one of the greatest of all time ronaldinho won two fifa world player of the year awards and a ballon dor a global icon of the sport he was renowned for his technical skills creativity dribbling ability and accuracy from freekicks as well as his use of tricks feints nolook passes and overhead sp plausible and fully supported correctness of isreland issupboth isreland issupare correct input tell me a bio about sergei bodrov bio output retrieve yespreference 1 p isrelrelevant sergei vladimirovich bodrov born june 28 1948 is a russian film director screenwriter and producer issupfully supported retrieve continue he was born in moscow russia retrieve continue he is the presi dent of the russian guild of film producers isuse5 reference 1 sergei vladimirovich bodrov born june 28 1948 is a russian film director screenwriter and producer in 2003 he was the president of the jury at the 25th moscow international film festival sp plausible but only partially supported the the reference 1 does not explicitly mention the person is born in moscow and there is no description about the russian guild of film producers correctness of isreland issup isreland issupare correct as the reference document is highly relevant and the first sentence is fully supported table 6 examples of human evaluation results 24 mimetype textplain start_char_idx 0 end_char_idx 4195 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e0622edd1e974f8682b923eddf0cfe5c embedding null metadata page_label 25 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id mimetype textplain start_char_idx 303169 end_char_idx 309735 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ cc2df5d6a50f4914bc2360e48e433004 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id 9d75e829205d41ab9e35cd3ddc00ac6c node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash a581860e6c40d783f3caa003c9da7971d4d7651d4e5f2346446ecc2708f473bb class_name relatednodeinfo 3 node_id b8001debf5934227b0c41819ee549726 node_type 1 metadata hash faf60a32b70e0633f92e3d593554b1bf596b5a4134c085f54a2514897982bdb9 class_name relatednodeinfo text the reference 1 does not explicitly mention the person is born in moscow and there is no description about the russian guild of film producers correctness of isreland issup isreland issupare correct as the reference document is highly relevant and the first sentence is fully supported table 6 examples of human evaluation results 24 mimetype textplain start_char_idx 0 end_char_idx 4195 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name mimetype textplain start_char_idx 520439 end_char_idx 526570 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 045cb4a73d384bc18feec97ca60d2193 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id",
        "mimetype": "text/plain",
        "start_char_idx": 837416,
        "end_char_idx": 843335,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "65ddde45-7c97-4e4f-9625-155e4a90358b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "50e73615-eb32-4752-87d2-bc6d070acb81",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "1172c651f4271094ea95d0d6407fffc301feb75e374101acccd2f5e7345ad6b4",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9eaf21c2-43ab-486e-83a1-649ae6f70451",
                "node_type": "1",
                "metadata": {},
                "hash": "0a5c49945f2d905247b5d04870774ca865ffc1fc4589f6edd37bbf6cbf9c5638",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "guild of film producers correctness of isreland issup isreland issupare correct as the reference document is highly relevant and the first sentence is fully supported table 6 examples of human evaluation results 24 mimetype textplain start_char_idx 0 end_char_idx 4195 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name mimetype textplain start_char_idx 520439 end_char_idx 526570 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 045cb4a73d384bc18feec97ca60d2193 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 9628a295638e450d946766789d03360f node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 9c71f334fb6bdd9c6334d06976fedd5485b8700ae8f2091030f51ea2bbac64fd class_name relatednodeinfo  3  node_id f1a48dfeedaf49738240f8f34ad85b3a node_type 1 metadata  hash 9ffbd37d88d31981473c96989d58b10259f6f5f64581b35bb8ddba9b40251574 class_name relatednodeinfo   text class_name relatednodeinfo 3 node_id b8001debf5934227b0c41819ee549726 node_type 1 metadata hash faf60a32b70e0633f92e3d593554b1bf596b5a4134c085f54a2514897982bdb9 class_name relatednodeinfo text the reference 1 does not explicitly mention the person is born in moscow and there is no description about the russian guild of film producers correctness of isreland issup isreland issupare correct as the reference document is highly relevant and the first sentence is fully supported table 6 examples of human evaluation results 24 mimetype textplain start_char_idx 0 end_char_idx 4195 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e0622edd1e974f8682b923eddf0cfe5c embedding null metadata page_label 25 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 373457d03e76418595a27cd794a26680 node_type 4 metadata page_label 25 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash f7c5f0edf24fea5ca7e0a890f9aa3b994c9bffbbd8a0220d03d4c3fb94033263 class_name relatednodeinfo text preprint input when did sunday became the seventh day of the week asqa output retrieve yespreference 1 pisrelrelevant in 321 ad the roman emperor con stantine the great made sunday a day of rest from labor stating on the venerable day of the sun let the magistrates and people residing in cities rest and let all workshops be closed issupfully supported retrieve yespreference 2 pisrelrelevant the official adoption of sunday as a day of rest by constantine the great in ad 321 made sunday the seventh day of the week 2issupfully supported isuse5 reference 1 emperor constantine then enacted the first sunday laws for the venerable day of the sun in 321 ad on march 7 321 the roman emperor constantine issued a decree making sunday a day of rest from labor stating we find a good description of this in sources such as the book rest days which states early christian observance of both the spiritual seventhday sabbath and a lord s day assembly is evidenced in ignatius s letter to the magnesians ca 110 reference 2 despite the official adoption of sunday as a day of rest by constantine the sevenday week and the nundial cycle continued to be used sidebyside until at least the calendar of 354 and probably later the fact that the canon had to be issued at all is an indication that adoption of constantines decree of 321 was still not universal input tell me a bio about rory tapner bio generation output preference 1 pisrelrelevant rory tapner is a british businessman who has served as the chief executive officer of coutts a private banking and wealth management company since 2010 issup contradictory reference 2 pisrelrelevant rory tapner was born on 30 september 1959 in london england issupfully supported reference 1 rory tapner rory tapner is a uk businessman who in september 2010 was appointed ceo of coutts the wealth management division of royal bank of scotland group in february 2015 he stepped down as ceo when he was replaced in the role by alison rose reference 2 holdings from august 2016 and the council of the university of buckingham from july 2017 rory tapner rory tapner born 30 september 1959 is a uk businessman input tell me a bio about g venugopa bio generation output ranked 1 retrieve yespreference 1",
        "mimetype": "text/plain",
        "start_char_idx": 842453,
        "end_char_idx": 847884,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9eaf21c2-43ab-486e-83a1-649ae6f70451",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "65ddde45-7c97-4e4f-9625-155e4a90358b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "692ef5adbadd2e12201dfc698f7da4b39f57e0dc274dba4ec3722d0a6147c49c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3eb76a17-3bc2-47c9-a9a3-8baa12989231",
                "node_type": "1",
                "metadata": {},
                "hash": "32823cd3bb59e295403be0a66a902f445499f741650530e396b1d7155841d9b5",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "rory tapner bio generation output preference 1 pisrelrelevant rory tapner is a british businessman who has served as the chief executive officer of coutts a private banking and wealth management company since 2010 issup contradictory reference 2 pisrelrelevant rory tapner was born on 30 september 1959 in london england issupfully supported reference 1 rory tapner rory tapner is a uk businessman who in september 2010 was appointed ceo of coutts the wealth management division of royal bank of scotland group in february 2015 he stepped down as ceo when he was replaced in the role by alison rose reference 2 holdings from august 2016 and the council of the university of buckingham from july 2017 rory tapner rory tapner born 30 september 1959 is a uk businessman input tell me a bio about g venugopa bio generation output ranked 1 retrieve yespreference 1 pisrelrelevant g venugopal is a popu lar playback singer in the malayalam film industry retrieve continue he has sung over 300 songs in malayalam tamil and hindi movies issuppartially supported retrieve yespreference 2pg venugopal was born on december 10 1960 in india issupfully supported reference 1 g venugopal g venugopal born 10 december 1960 is an indian playback singer known for his work in malayalam films he started his singing career in the film odaruthammaava aalariyaam 1984 since then he has sung in more than 300 films and has over 500 private albums to his credit the many awards he has won include the coveted best playback singer kerala state which he won thrice the film critics award and the kerala kaumudi gallop poll award twice he won the kerala state award for best playback singer 2004 third time for the song aadedeeaadaadedee from the film ullamvenugopal reference 2 kerala state film awards kerala film critics award kerala state government award profes sional drama asianet film awards kerala kaumadi gallup poll award academic g venugopal g venugopal born 10 december 1960 is an indian playback singer known for his work in malayalam films table 7 examples of outputs 25 mimetype textplain start_char_idx 0 end_char_idx 3453 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2b449d46cf284aaaa648610a1aadbdee embedding null metadata page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 76840af5c6c5474487b51bf304b9a599 node_type 4 metadata page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 525889 end_char_idx 531545 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f1a48dfeedaf49738240f8f34ad85b3a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 045cb4a73d384bc18feec97ca60d2193 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash fb8b562bd3a8f1f1264aab48d3180931586b5a4fedc8699a392d2ac681b2138b class_name relatednodeinfo  3  node_id b6c7ceea9ed54f93853858fe9de68022 node_type 1 metadata  hash cdf1b0e666410090eea99baacb6041588a58d0501aea03a5ef4485a9e0636caa class_name relatednodeinfo   text 3453 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2b449d46cf284aaaa648610a1aadbdee embedding null metadata page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 76840af5c6c5474487b51bf304b9a599 node_type 4 metadata page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 9203899c3ecdb6b066748bf03f451d7f62a32e8e5acac0019ab7f7b722b23e45 class_name relatednodeinfo text preprint instructions given an instruction please make a judgment on whether finding some external documents from the web eg wikipedia helps to generate a better response please answer yes",
        "mimetype": "text/plain",
        "start_char_idx": 847025,
        "end_char_idx": 852329,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3eb76a17-3bc2-47c9-a9a3-8baa12989231",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9eaf21c2-43ab-486e-83a1-649ae6f70451",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b1e81e708a349341187f5f31d8b48464089e861d508e5fd8f7cb44b403279cfd",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ee57ad41-b666-4c45-8ba3-b6c6769ca1ea",
                "node_type": "1",
                "metadata": {},
                "hash": "2e67191034031c0336ac84d3ab6a2b32643a8bd02e177307fcace42671667c08",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 76840af5c6c5474487b51bf304b9a599 node_type 4 metadata page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 9203899c3ecdb6b066748bf03f451d7f62a32e8e5acac0019ab7f7b722b23e45 class_name relatednodeinfo text preprint instructions given an instruction please make a judgment on whether finding some external documents from the web eg wikipedia helps to generate a better response please answer yes or no and write an explanation demonstrations instruction give three tips mimetype textplain start_char_idx 308875 end_char_idx 314717 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b8001debf5934227b0c41819ee549726 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id cc2df5d6a50f4914bc2360e48e433004 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 9122c321ae7b191ca305676d6205b9babbf841c02035e474a1dce3b644541ac1 class_name relatednodeinfo 3 node_id e3d6c191ffce4354a71787d0a09de394 node_type 1 metadata hash d1311ebd1a949b660d297def5333fa0adf5ad09d41c5f20f332fe778a0e5d500 class_name relatednodeinfo text 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 76840af5c6c5474487b51bf304b9a599 node_type 4 metadata page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 9203899c3ecdb6b066748bf03f451d7f62a32e8e5acac0019ab7f7b722b23e45 class_name relatednodeinfo text preprint instructions given an instruction please make a judgment on whether finding some external documents from the web eg wikipedia helps to generate a better response please answer yes or no and write an explanation demonstrations instruction give three tips for staying healthy need retrieval yes explanation there might be some online sources listing three tips for staying healthy or some reliable sources to explain the effects of different behaviors on health so retrieving documents is helpful to improve the response to this query instruction describe a time when you had to make a difficult decision need retrieval no explanation this instruction is asking about some personal experience and thus it does not require one to find some external documents instruction write a short story in third person narration about a protagonist who has to make an important career decision need retrieval no explanation this instruction asks us to write a short story which does not require external evidence to verify instruction what is the capital of france need retrieval yes explanation while the instruction simply asks us to answer the capital of france which is a widely known fact retrieving web documents for this question can still help instruction find the area of a circle given its radius radius 4 need retrieval no explanation this is a math question and although we may be able to find some documents describing a formula it is unlikely to find a document exactly mentioning the answer instruction arrange the words in the given sentence to form a grammatically cor rect sentence quickly the brown fox jumped need retrieval no explanation this task doesnt require any external evidence as it is a simple grammatical question instruction explain the process of cellular respiration in plants need retrieval yes explanation this instruction asks for a detailed description of a scientific concept and is highly likely that we can find a reliable and useful document to support the response table 8 instructions and demonstrations for retrieve aspect given the input only 26 mimetype textplain start_char_idx 0 end_char_idx 2086 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 742403c22e9443c79ca89d83feba25aa embedding null metadata page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3f080f7890634e17b9b0320396e1ee98 node_type 4 metadata page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf mimetype textplain start_char_idx 530798 end_char_idx 536591 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b6c7ceea9ed54f93853858fe9de68022 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size",
        "mimetype": "text/plain",
        "start_char_idx": 851592,
        "end_char_idx": 857445,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ee57ad41-b666-4c45-8ba3-b6c6769ca1ea",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3eb76a17-3bc2-47c9-a9a3-8baa12989231",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "00ca5a2a41617d7563fe703876b8f87a1e73c110026fcdfa10a061d8f9117cab",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "77971609-c5bf-4052-878d-273cbc2ccb3a",
                "node_type": "1",
                "metadata": {},
                "hash": "624ec07b40ca147b00400b090a8c8735ff8798899a64a5bda5f17838f5416c20",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3f080f7890634e17b9b0320396e1ee98 node_type 4 metadata page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf mimetype textplain start_char_idx 530798 end_char_idx 536591 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b6c7ceea9ed54f93853858fe9de68022 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id f1a48dfeedaf49738240f8f34ad85b3a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b7fb5f7dd4829b9e7e83b95c7217ad5f55e0a1779d67ac2341de1abbab4921ec class_name relatednodeinfo  3  node_id 737403356bc64893a90cc6fb5036e2ba node_type 1 metadata  hash b6ef4eef2e512fdc2f26234dedf126d00c9b14c7259468d35719bb41a4d67eb8 class_name relatednodeinfo   text aspect given the input only 26 mimetype textplain start_char_idx 0 end_char_idx 2086 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 742403c22e9443c79ca89d83feba25aa embedding null metadata page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3f080f7890634e17b9b0320396e1ee98 node_type 4 metadata page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 6ac66103bd4950cddcd5db748c9eb8aebe4f44dfab437ee9f3ff534094e3deeb class_name relatednodeinfo text preprint instructions you will be provided with an instruction evidence output sentence and preceding sentences optional if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to determine whether the information in the output sentence can be fully verified by the evidence or if it requires further external verification there are three cases if the output sentence can be verified solely with the evidence then respond with continue to use evidence if the sentence doesnt require any factual verification eg a subjective sentence or a sentence about common sense then respond with no retrieval if additional information is needed to verify the output sentence respond with retrieval please provide explanations for your judgments instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words and the context in which they are used to be measured evidence word embedding word embedding is the collective name for a set of language modeling and feature learning techniques in natural language processing nlp where words or phrases from the vocabulary are mapped to vectors of real numbers conceptually it involves a mathematical embedding from a space with one dimension per word to a continuous vector space with a much lower dimension output word embeddings are useful for tasks such as sentiment analysis text classification predicting the next word in a sequence and understanding synonyms and analogies rating retrieval explanation the output discusses the applications of word embeddings while the evidence only discusses the definitions of word embeddings and how they work therefore we need to retrieve other evidence to verify whether the output is correct or not table 9 instructions and demonstrations for retrieve aspect given the input preceding generations and retrieved passages 27 mimetype textplain start_char_idx 0 end_char_idx 2111 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ae92eac16b454a4d8a76c7e768953488 embedding null metadata page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 38ba1554d858474b9d79fe422b773157 node_type 4 metadata page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 9176c6faaaa2ca6c69d9e0c638fb984c1f934d394a178a88d91bf52d7820a0af class_name relatednodeinfo text preprint instructions youll be provided with",
        "mimetype": "text/plain",
        "start_char_idx": 856693,
        "end_char_idx": 862455,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "77971609-c5bf-4052-878d-273cbc2ccb3a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ee57ad41-b666-4c45-8ba3-b6c6769ca1ea",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2df1f02c744eb472907744d020d7f8c43fda6d7dd176cbe8d1be370b4966c17a",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8877f82a-5c9e-421a-baaf-db26fb488ea6",
                "node_type": "1",
                "metadata": {},
                "hash": "364582a38546719d53f73a0bc68e3dcf9e440599d18f9aabd73cb5face8aa540",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 38ba1554d858474b9d79fe422b773157 node_type 4 metadata page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 9176c6faaaa2ca6c69d9e0c638fb984c1f934d394a178a88d91bf52d7820a0af class_name relatednodeinfo text preprint instructions youll be provided with an instruction along with evidence and possibly some preceding sentences when there are preceding sentences your focus should be on the sentence that comes after them your job is to determine if the evidence is relevant to the initial instruction and the preceding context and provides useful mimetype textplain start_char_idx 313982 end_char_idx 320798 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e3d6c191ffce4354a71787d0a09de394 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id b8001debf5934227b0c41819ee549726 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash fc710ce80715fbd5d6173496c7742ed135340429081ad3b2ac76d75e0a50e0fc class_name relatednodeinfo 3 node_id 166843a816fc475baf2cc40eaedd0c51 node_type 1 metadata hash b7fca7cdfac684b49a3859bb186b6551510d7abced643d77113bb044a07fe1d7 class_name relatednodeinfo text excluded_llm_metadata_keys relationships 1 node_id 38ba1554d858474b9d79fe422b773157 node_type 4 metadata page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type mimetype textplain start_char_idx 535838 end_char_idx 541755 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 737403356bc64893a90cc6fb5036e2ba embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id b6c7ceea9ed54f93853858fe9de68022 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b3d5de759f8859d0b9abaf920e1b6cd2ce840c6e7174d4c06d269d5c50dd1157 class_name relatednodeinfo  3  node_id 6e0d7b4a18874b87999bbad5272b8f2f node_type 1 metadata  hash f46eff8423a0844c3236afa325313f3486c67c0d4cb61370ad59134e5dd54ae6 class_name relatednodeinfo   text creation_date 20241015 last_modified_date 20241015 hash fc710ce80715fbd5d6173496c7742ed135340429081ad3b2ac76d75e0a50e0fc class_name relatednodeinfo 3 node_id 166843a816fc475baf2cc40eaedd0c51 node_type 1 metadata hash b7fca7cdfac684b49a3859bb186b6551510d7abced643d77113bb044a07fe1d7 class_name relatednodeinfo text excluded_llm_metadata_keys relationships 1 node_id 38ba1554d858474b9d79fe422b773157 node_type 4 metadata page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015",
        "mimetype": "text/plain",
        "start_char_idx": 861772,
        "end_char_idx": 866433,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8877f82a-5c9e-421a-baaf-db26fb488ea6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "77971609-c5bf-4052-878d-273cbc2ccb3a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "83166ec3c1543f8107077f4ceba6a2d0674060bb9ea3530d59852f4e029756e5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "def91afb-2cea-4c43-903b-c374ce0c843e",
                "node_type": "1",
                "metadata": {},
                "hash": "23cbbd6a684db709b494a8d6da293f57688cfd71075343c5774d2a211d5fc310",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "hash fc710ce80715fbd5d6173496c7742ed135340429081ad3b2ac76d75e0a50e0fc class_name relatednodeinfo 3 node_id 166843a816fc475baf2cc40eaedd0c51 node_type 1 metadata hash b7fca7cdfac684b49a3859bb186b6551510d7abced643d77113bb044a07fe1d7 class_name relatednodeinfo text excluded_llm_metadata_keys relationships 1 node_id 38ba1554d858474b9d79fe422b773157 node_type 4 metadata page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 9176c6faaaa2ca6c69d9e0c638fb984c1f934d394a178a88d91bf52d7820a0af class_name relatednodeinfo text preprint instructions youll be provided with an instruction along with evidence and possibly some preceding sentences when there are preceding sentences your focus should be on the sentence that comes after them your job is to determine if the evidence is relevant to the initial instruction and the preceding context and provides useful information to complete the task described in the instruction if the evidence meets this requirement respond with relevant otherwise generate irrelevant instruction given four answer options a b c and d choose the best answer input earths rotating causes a the cycling of am and pm b the creation of volcanic eruptions c the cycling of the tides d the creation of gravity evidence rotation causes the daynight cycle which also creates a corresponding cycle of temperature and humidity creates a corresponding cycle of temperature and humidity sea level rises and falls twice a day as the earth rotates rating relevant explanation the evidence explicitly mentions that the rotation causes a daynight cycle as described in the answer option a instruction age to run for us house of representatives evidence the constitution sets three qualifications for service in the us senate age at least thirty years of age us citizenship at least nine years and residency in the state a senator represents at the time of election rating irrelevant explanation the evidence only discusses the ages to run for the us senate not for the house of representatives table 10 instructions and demonstrations for isrelaspect given the input only 28 mimetype textplain start_char_idx 0 end_char_idx 1564 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 6c706ad2d6b14e85bda1b927a99bebd3 embedding null metadata page_label 29 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 93ae33377a48435aa64ed1aefacaffd2 node_type 4 metadata page_label 29 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 5060e47f4fd3a8ffa016324c0ee1041a45e03e7085953c74e64eacc086370c35 class_name relatednodeinfo text preprint instructions you will receive an instruction evidence and output and optional preceding sentences if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to evaluate if the output is fully supported by the information provided in the evidence use the following entailment scale to generate a score fully supported all information in output is supported by the evidence or extractions from the evidence this is only applicable when the output and part of the evidence are almost identical partially supported the output is supported by the evidence to some extent but there is major information in the output that is not discussed in the evidence for example if an instruction asks about two concepts and the evidence only discusses either of them it should be considered a partially supported no support contradictory the output completely ignores evidence is unrelated to the evidence or contradicts the evidence this can also happen if the evidence is irrelevant to the instruction make sure to not use any external informationknowledge to judge whether the out put is true or not only check whether the output is supported by the evidence and not whether the output follows the instructions or not instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words and the context in which they are used to be measured output word embeddings are useful for tasks such as sentiment analysis text classification predicting the next word in a sequence and understanding synonyms and analogies evidence word embedding word embedding is the collective name for a set of language modeling and feature learning techniques in natural language processing nlp where words or phrases from the vocabulary are mapped to vectors of real numbers conceptually it involves a mathematical embedding from a space with one dimension per word to a continuous vector space with a much lower dimension methods to generate this mapping include neural networks dimensionality reduction on the word cooccurrence matrix probabilistic models explainable knowledge base method and explicit representation in terms of the context in which words appear word and phrase embeddings when used as the underlying input representation have been shown to boost the performance in nlp tasks such as syntactic parsing sentiment analysis next token predictions as well and analogy detection score fully supported explanation the output sentence discusses the application of word embeddings and the evidence mentions all of the applications syntactic parsing sentiment analysis next token predictions as well as analogy detection as the applications therefore the score should be fully supported table 11 instructions and demonstrations for issuptokens 29 mimetype textplain start_char_idx 0 end_char_idx 3037 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3d92025bf10c40b89a01d8ba44b64801 embedding null metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id mimetype textplain start_char_idx 541196 end_char_idx 547950 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode",
        "mimetype": "text/plain",
        "start_char_idx": 865847,
        "end_char_idx": 872710,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "def91afb-2cea-4c43-903b-c374ce0c843e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8877f82a-5c9e-421a-baaf-db26fb488ea6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "dee3d005d6545612bbc9eb16f78308bb8f2af779c24a13d9f23bf65e2d379898",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f58e4d58-97a4-42af-bbe6-a4a6577487a5",
                "node_type": "1",
                "metadata": {},
                "hash": "403cdd08513594c33431693fd34d6cdfe2ff4694332d99ac24baa0f9ed8014a3",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "the applications syntactic parsing sentiment analysis next token predictions as well as analogy detection as the applications therefore the score should be fully supported table 11 instructions and demonstrations for issuptokens 29 mimetype textplain start_char_idx 0 end_char_idx 3037 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3d92025bf10c40b89a01d8ba44b64801 embedding null metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id mimetype textplain start_char_idx 541196 end_char_idx 547950 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6e0d7b4a18874b87999bbad5272b8f2f embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 737403356bc64893a90cc6fb5036e2ba node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 00c1e313ac06c5df5cfb446880dfe2cee5bc4c6e5e00682b4db4c880cb158d34 class_name relatednodeinfo  3  node_id 299162eae32e40029ea7e1e9f2d937da node_type 1 metadata  hash 973f5cc1737fb1ae31fe4ec90cdeb4550f7513a62492aa28308f9ff6d9f9ccab class_name relatednodeinfo   text as syntactic parsing sentiment analysis next token predictions as well and analogy detection score fully supported explanation the output sentence discusses the application of word embeddings and the evidence mentions all of the applications syntactic parsing sentiment analysis next token predictions as well as analogy detection as the applications therefore the score should be fully supported table 11 instructions and demonstrations for issuptokens 29 mimetype textplain start_char_idx 0 end_char_idx 3037 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3d92025bf10c40b89a01d8ba44b64801 embedding null metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id d374d0db25774f05873a02de3b7f2567 node_type 4 metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 320028 end_char_idx 326769 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 166843a816fc475baf2cc40eaedd0c51 embedding null metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 57bb61b0507147dbb78a34f5bf077c36 node_type 4 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash 2c90ed01a5f3944d55304072cd79cbb7a247d24a6fe04a9cb62849a293fbe493 class_name relatednodeinfo 2 node_id e3d6c191ffce4354a71787d0a09de394 node_type 1 metadata file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 388212 creation_date 20241015 last_modified_date 20241015 hash c4da2b352e87d59f5afe286138a5d471fb40f9b5b78b266391a7ac77e9bd5b8e class_name relatednodeinfo text metadata_seperator n class_name textnode id_ 3d92025bf10c40b89a01d8ba44b64801 embedding null metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id d374d0db25774f05873a02de3b7f2567 node_type 4 metadata page_label 30 file_name",
        "mimetype": "text/plain",
        "start_char_idx": 871794,
        "end_char_idx": 876923,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f58e4d58-97a4-42af-bbe6-a4a6577487a5",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "def91afb-2cea-4c43-903b-c374ce0c843e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "7e36bac40c5a5a6e3ca3db97b8773c339b1ad553df45f6c10f4f179bf0f63312",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "069b8589-49fa-4cf6-9c5f-2c746c3c63cf",
                "node_type": "1",
                "metadata": {},
                "hash": "cf440383f5ac521fc36217a81704d6ac2ab750cd9564549f13be52605faa19b8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "388212 creation_date 20241015 last_modified_date 20241015 hash c4da2b352e87d59f5afe286138a5d471fb40f9b5b78b266391a7ac77e9bd5b8e class_name relatednodeinfo text metadata_seperator n class_name textnode id_ 3d92025bf10c40b89a01d8ba44b64801 embedding null metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id d374d0db25774f05873a02de3b7f2567 node_type 4 metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash c07a4c5c8feb4a4fc99185d20f3e9105f32e4457b5ea3eb2045379736182257c class_name relatednodeinfo text preprint instructions given an instruction and an output rate whether the response appears to be a helpful and informative answer to the query from 1 lowest 5 highest we call this score perceived utility the detailed criterion is as follows 5 the response provides a complete highly detailed and informative response to the query fully satisfying the information needs 4 the response mostly fulfills the need in the query while there can be some minor improvements such as discussing more detailed information having better structure of the response or im proving coherence 3 the response is acceptable but some major additions or improvements are needed to satisfy users needs 2 the response still addresses the main request but it is not complete or not relevant to the query 1 the response is barely ontopic or completely irrelevant instruction who is the current prime minister of the uk as of 2023 output boris johnson was the prime minister of the uk from 2019 2022 perceived utility 2 explanation while the output provides a factually correct statement about the uk prime minister from 2019 to 2022 this instruction asks who the prime minister is as of 2023 so it doesnt answer the instruction therefore the utility is 2 instruction given a description of a travel destination recommend 10 tourist attrac tions with detailed descriptions of each the travel destination is tokyo japan output tokyo is a vibrant city full of exciting tourist attractions some mustsee sights include the tokyo skytree tokyo disneyland sensoji temple meiji shrine tsukiji fish market harajuku and shinjuku gyoen perceived utility 3 explanation this output doesnt provide descriptions of each attraction and the number of the attractions is also less than 10 while this output partially answers the instructions it doesnt match the instructions strictly table 12 instructions and demonstrations for isusetokens 30 mimetype textplain start_char_idx 0 end_char_idx 1900 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode mimetype textplain start_char_idx 326081 end_char_idx 328926 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 98578680690a4c51be8984c1bad2bd1f embedding null metadata page_label 1 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys mimetype textplain start_char_idx 546975 end_char_idx 552782 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 299162eae32e40029ea7e1e9f2d937da embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 6e0d7b4a18874b87999bbad5272b8f2f node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6073bf7835181eb590944e5ebf89fe72510824a3e2cc2a824eb673d23419d65a class_name relatednodeinfo  3  node_id 8831000c626549038582da5184768fb0 node_type 1 metadata  hash e6cc05897fc4b24c4d9644e101a9c6468fa47f7aa8bc07f73bb35503d6590319 class_name relatednodeinfo   text this output doesnt provide descriptions of each attraction and the number of the attractions is also less than 10 while this output partially answers the instructions it doesnt match the instructions strictly table 12 instructions and demonstrations for isusetokens 30 mimetype textplain start_char_idx 0 end_char_idx 1900 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode mimetype textplain start_char_idx 326081 end_char_idx 328926 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 98578680690a4c51be8984c1bad2bd1f embedding null metadata page_label 1 file_name raftpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 876285,
        "end_char_idx": 881854,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "069b8589-49fa-4cf6-9c5f-2c746c3c63cf",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f58e4d58-97a4-42af-bbe6-a4a6577487a5",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "798115bff88ce59b3dfa9902cc5f66d3f30a510ed54b4816f182d4b21c068be3",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f0323f7d-1e69-43d3-b9b4-fcda12e95ea1",
                "node_type": "1",
                "metadata": {},
                "hash": "afe0fe0cc39315b0b1b497dd2bb63c567a71ee43894dc6892ce35475e202b005",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 1 metadata  hash e6cc05897fc4b24c4d9644e101a9c6468fa47f7aa8bc07f73bb35503d6590319 class_name relatednodeinfo   text this output doesnt provide descriptions of each attraction and the number of the attractions is also less than 10 while this output partially answers the instructions it doesnt match the instructions strictly table 12 instructions and demonstrations for isusetokens 30 mimetype textplain start_char_idx 0 end_char_idx 1900 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode mimetype textplain start_char_idx 326081 end_char_idx 328926 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 98578680690a4c51be8984c1bad2bd1f embedding null metadata page_label 1 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0f835957da8a42de906492a94391e91a node_type 4 metadata page_label 1 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 2ccf488eee56df61048e0b929bbf35d5d33da60b4cbafe5c96728dca051a3e1a class_name relatednodeinfo text preprint under review raft adapting language model to domain specific rag tianjun zhang department of computer science uc berkeley berkeley ca 94720 usa tianjunzberkeleyedushishir g patil naman jain sheng shen department of computer science uc berkeley berkeley ca 94720 usa shishirpatilnaman_jainshengsberkeleyedu matei zaharia ion stoica joseph e gonzalez department of computer science uc berkeley berkeley ca 94720 usa mateiistoicajegonzalberkeleyedu abstract pretraining large language models llms on large corpora of textual data is now a standard paradigm when using these llms for many downstream applications it is common to additionally incorporate new in formation into the pretrained model either through ragbasedprompting or finetuning however the best methodology to incorporate information remains an open question in this paper we present retrieval augmented fine tuning raft a training recipe which improves the models ability to answer questions in openbook indomain settings in training raft given a question and a set of retrieved documents we train the model to ignore those documents that dont help in answering the question which we call distractor documents raft accomplishes this by citing verbatim the right sequence from the relevant document to help answer the question this coupled with rafts chainofthoughtstyle response helps improve the models ability to reason in domain specific rag raft consistently improves the models performance across pubmed hotpotqa and gorilla datasets presenting a posttraining recipe to improve pretrained llms to indomain rag 1 introduction trained on vast quantities of public data large language models llms have achieved significant advances in a wide range of general knowledge reasoning tasks brown et al 2020 wei et al 2022 however increasingly llms are being employed in specialized domains to support tasks ranging from code completion for specific software frameworks to question answering on specific document collections eg legal or medical documents in these settings general knowledge reasoning is less critical and instead the primary goal is to maximize accuracy based on a given set of documents indeed adapting llms to the specialized domains eg recent news enterprise private documents or program resources constructed after the training cutoff is essential to many emerging applications vu et al 2023 lazaridou et al 2022 and is the focus of this work this paper studies the following question how do we adapt pretrained llms for retrieval augmented generation rag in specialized domains when it comes to adapting llms to specialized domains we consider the following two candidates incontext learning through retrievalaugmented generation rag and super vised finetuning rag based methods allow the llm to reference the documents when corresponding author personal website tianjunzgithubio 1arxiv240310131v2 cscl 5 jun 2024 mimetype textplain start_char_idx 0 end_char_idx 2904 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 6d98ea5200254b4b9ae15df6094a1090 embedding null metadata page_label 2 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3bf6658b1c99465f967147246418b06f node_type 4 metadata page_label 2 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 49da6baf6dac54ab69f939ea7aa23ed9c3276eed2dc91ba05e2d3f4cffad302d class_name relatednodeinfo text preprint under review open book query answerclosed book query answerbake in knowledge at train timemodel can use external docs at test raft proposed query answerteach model to use external docs at test figure 1 how best to prepare for an exam a finetuning based approaches implement studying by either directly memorizing the input documents or answering practice qa without referencing the documents b alternatively incontext retrieval methods fail to leverage the learning opportunity afforded by the fixed domain and are equivalent to taking an openbook exam without studying in contrast our approach c raft leverages finetuning with questionanswer pairs while referencing the documents in a simulated imperfect retrieval setting thereby effectively preparing for the openbook exam setting answering questions however rag based incontext learning methods fail to leverage the learning opportunity afforded by the fixed domain setting and early access to the test documents alternatively supervised finetuning offers the opportunity to learn more general patterns in the documents and better align to end tasks and user preferences zhou et al 2023 however existing finetuning based approaches either fail to leverage the documents at test time dont incorporate rag or fail to account for the imperfections in retrieval process during training",
        "mimetype": "text/plain",
        "start_char_idx": 881033,
        "end_char_idx": 887598,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f0323f7d-1e69-43d3-b9b4-fcda12e95ea1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "069b8589-49fa-4cf6-9c5f-2c746c3c63cf",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5259ddac4f46a24eef4464a59f3334d4bb717b600631513626d031d9da3248a0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "cfdae694-5fc5-4e88-8e14-75a70c0585de",
                "node_type": "1",
                "metadata": {},
                "hash": "d9703dc33e24d64fbba95b630cffc8ea0adac6843ef54b30ebd86986acb933d9",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "query answerteach model to use external docs at test figure 1 how best to prepare for an exam a finetuning based approaches implement studying by either directly memorizing the input documents or answering practice qa without referencing the documents b alternatively incontext retrieval methods fail to leverage the learning opportunity afforded by the fixed domain and are equivalent to taking an openbook exam without studying in contrast our approach c raft leverages finetuning with questionanswer pairs while referencing the documents in a simulated imperfect retrieval setting thereby effectively preparing for the openbook exam setting answering questions however rag based incontext learning methods fail to leverage the learning opportunity afforded by the fixed domain setting and early access to the test documents alternatively supervised finetuning offers the opportunity to learn more general patterns in the documents and better align to end tasks and user preferences zhou et al 2023 however existing finetuning based approaches either fail to leverage the documents at test time dont incorporate rag or fail to account for the imperfections in retrieval process during training we can draw an analogy to an openbook exam existing incontext retrieval methods are equivalent to taking an openbook exam without studying alternatively existing fine tuning based mimetype textplain start_char_idx 551884 end_char_idx 558527 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 8831000c626549038582da5184768fb0 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 299162eae32e40029ea7e1e9f2d937da node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c9cce194da423f5d1fe1f7b5a3096d4b7955b809eaafa11c4d52d7ed4222817e class_name relatednodeinfo  3  node_id 1e26de239ad14972bce4dd9a1195e12b node_type 1 metadata  hash 5c3ee5a8326d30cbd3ba1e4cfff357bea03f91afd2377a8eb1cf838ffc393d3f class_name relatednodeinfo   text by either directly memorizing the input documents or answering practice qa without referencing the documents b alternatively incontext retrieval methods fail to leverage the learning opportunity afforded by the fixed domain and are equivalent to taking an openbook exam without studying in contrast our approach c raft leverages finetuning with questionanswer pairs while referencing the documents in a simulated imperfect retrieval setting thereby effectively preparing for the openbook exam setting answering questions however rag based incontext learning methods fail to leverage the learning opportunity afforded by the fixed domain setting and early access to the test documents alternatively supervised finetuning offers the opportunity to learn more general patterns in the documents and better align to end tasks and user preferences zhou et al 2023 however existing finetuning based approaches either fail to leverage the documents at test time dont incorporate rag or fail to account for the imperfections in retrieval process during training we can draw an analogy to an openbook exam existing incontext retrieval methods are equivalent to taking an openbook exam without studying alternatively existing fine tuning based approaches implement studying by either directly memorizing xiong et al 2023 the input documents or answering practice questions wang et al 2022 without referencing the documents while these approaches leverage indomain learning they fail to prepare for the openbook nature of the test setting in this paper we study how to combine instruction finetuning ift with retrieval aug mented generation rag we propose a novel adaptation strategy retrievalaugmented fine tuning raft raft specifically addresses the challenge of finetuning llms to both incorporate domain knowledge while also improving indomain rag performance raft aims to not only enable models to learn domainspecific knowledge through finetuning but also to ensure robustness against distracting retrieved information this is achieved by training the models to understand the dynamics between the question prompt the domainspecific documents retrieved and the right answer going back to our analogy to the open book exam our approach is analogous to studying for an openbook exam by recognizing relevant and irrelevant retrieved documents in raft we train the model to answer the question q from documents d to generate answer a where a includes chainofthought reasoning wei et al 2022 anthropic 2023 and in the presence of distractor documents dk we explain the methodology in section 3 and analyze the sensitivity to the number of distractor documents k at train and test time in section 5 raft consistently outperforms supervisedfinetuning both with and without rag across pubmed dernoncourt lee 2017 hotpot qa yang et al 2018 and huggingface hub torch hub and tensorflow hub gorilla datasets patil et al 2023 presenting a novel yet simple technique to improve pretrained llms for indomain rag our code is available at httpsgithubcomshishirpatilgorilla 2 llms for openbook exam to understand our goal better we expand on our analogy between training an llm with the realworld setting of prepararing for an exam closedbook exam a closed book exam often refers to the scenario where the llms do not have access to any additional documents or references to answer the questions during 2 mimetype textplain start_char_idx 0 end_char_idx 3679 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7378a05565e14becac0ac3da3860dde6 embedding null metadata page_label 3 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys",
        "mimetype": "text/plain",
        "start_char_idx": 886403,
        "end_char_idx": 893033,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cfdae694-5fc5-4e88-8e14-75a70c0585de",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f0323f7d-1e69-43d3-b9b4-fcda12e95ea1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "cf5c96256d27dd629ce98b21b30248b2298ff31bf1f0593df625558431ed1fe5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ee331e94-261e-4cd3-bffa-e5ee296db4e1",
                "node_type": "1",
                "metadata": {},
                "hash": "d8026bcbb2118265ff4808d7d9ff3edc2a61ed4447b5ce79454939592844a6d6",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "rag our code is available at httpsgithubcomshishirpatilgorilla 2 llms for openbook exam to understand our goal better we expand on our analogy between training an llm with the realworld setting of prepararing for an exam closedbook exam a closed book exam often refers to the scenario where the llms do not have access to any additional documents or references to answer the questions during 2 mimetype textplain start_char_idx 0 end_char_idx 3679 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7378a05565e14becac0ac3da3860dde6 embedding null metadata page_label 3 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id ce77712f28334ba2a25305307a0d3c7d node_type 4 metadata page_label 3 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 3095e2292be19d045960a06018239f5fe92d7535ff5316e4845308895c85e8ed class_name relatednodeinfo text preprint under review figure 2 overview of our raft method the topleft figure depicts our approach of adapting llms to reading solution from a set of positive and distractor documents in contrast to standard rag setup where models are trained based on the retriever outputs which is a mixture of both memorization and reading at test time all methods follow the standard rag setting provided with a topk retrieved documents in the context the exam for llms this is equivalent to the scenario for example in which the llm is used as a chatbot in this scenario the llm draws from the knowledge baked in during pretraining and supervisedfinetuning to respond to the users prompt open book exam in contrast we liken the openbook exam setting to the scenario in which the llm can refer to external sources of information eg a website or a book chapter in such scenarios typically the llm is paired with retriever which retrieves k documents or specific segments of the document which are appended to the users prompt it is only through these documents retrieved that the llm gains access to domainspecific information as a result we argue that the llms performance in these settings where it is trained as a generalpurpose llm is largely dependent on the quality of the retriever and how accurately the retriever can identify the most relevant piece of information domainspecific openbook exam in this paper we focus on the narrower but increas ingly popular domain than the general open book exam which we call the domainspecific openbook exam here we know apriori the domain in which the llm will be tested the llm can respond to the users prompt using use any and all information from this specific domain which it has been finetuned on examples of domain specific examples include enterprise documents code repositories belonging to an organization etc in all these scenarios the llm will be used to respond to the questions whose answers can be found within a collection of documents the retrieval technique itself has little to noimpact on the mechanism though it may impact the accuracy this paper studies the domainspecific openbook setting and how to adapt a pretrained llm to this specific domain including how to make it more robust to a varying number of retrieved documents and distractors 3 raft in this section we present raft a novel way of training llms for domainspecific open book exams we first introduce the classical technique of supervised finetuning followed with the key takeaways from our experiments then we introduce raft a modified version of general instruction tuning lastly we provide an overview of the experiments to expect in the later sections supervised finetuning consider the supervised finetuning sft setting for a questionanswer dataset the formulation consists of the dataset d from which a set of question q and corresponding answer a pairs are derived or already available in the classical sft setting mimetype textplain start_char_idx 557295 end_char_idx 564507 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 1e26de239ad14972bce4dd9a1195e12b embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 8831000c626549038582da5184768fb0 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4a68cfc414cf7ee186a51c4192fdc203594256c1e93550803bb5fcf8e4c92b20 class_name relatednodeinfo  3  node_id b1e375c593a448f08a73fe9d58e36f7b node_type 1 metadata  hash de89699539be3859935184bd71dce298cfc9f0cac3bac923d805c3214db3275c class_name relatednodeinfo   text an organization etc in all these scenarios the llm will be used to respond to the questions whose answers can be found within a collection of documents the retrieval technique itself has little to noimpact on the mechanism though it may impact the accuracy this paper studies the domainspecific openbook setting and how to adapt a pretrained llm to this specific domain including how to make it more robust to a varying number of retrieved documents and distractors 3",
        "mimetype": "text/plain",
        "start_char_idx": 892180,
        "end_char_idx": 898273,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ee331e94-261e-4cd3-bffa-e5ee296db4e1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "cfdae694-5fc5-4e88-8e14-75a70c0585de",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ae815bf6efd4bdb7696e1025894378c5c6ad13340cccb0facbf6c8963f81f592",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2fb89bce-2b6e-4868-94e6-59c69ed4d413",
                "node_type": "1",
                "metadata": {},
                "hash": "1d9a1551dc6e80b40709ca6a1b97818f028ad468efa505c2b64954e45c8e66d0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo  3  node_id b1e375c593a448f08a73fe9d58e36f7b node_type 1 metadata  hash de89699539be3859935184bd71dce298cfc9f0cac3bac923d805c3214db3275c class_name relatednodeinfo   text an organization etc in all these scenarios the llm will be used to respond to the questions whose answers can be found within a collection of documents the retrieval technique itself has little to noimpact on the mechanism though it may impact the accuracy this paper studies the domainspecific openbook setting and how to adapt a pretrained llm to this specific domain including how to make it more robust to a varying number of retrieved documents and distractors 3 raft in this section we present raft a novel way of training llms for domainspecific open book exams we first introduce the classical technique of supervised finetuning followed with the key takeaways from our experiments then we introduce raft a modified version of general instruction tuning lastly we provide an overview of the experiments to expect in the later sections supervised finetuning consider the supervised finetuning sft setting for a questionanswer dataset the formulation consists of the dataset d from which a set of question q and corresponding answer a pairs are derived or already available in the classical sft setting the model is trained to improve its ability to answer the questions based on its knowledge obtained either during pretraining or during the sft training phase the model so trained can also 3 mimetype textplain start_char_idx 0 end_char_idx 3136 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a2647bb3d9a947e78f8cff078b708527 embedding null metadata page_label 4 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 52559f37cb8447509a8e34ef194bda91 node_type 4 metadata page_label 4 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 52dd61275c10480377711a57a4c6d68698db46224b09c99da29df2309b846e5a class_name relatednodeinfo text preprint under review be used at testtime with retrieval augmented generation rag setting where additional documents can be introduced in the prompt to help the model answer the question this can be represented as follows train qa 0shot inference qa rag inference qda raft retrieval augmented finetuning raft presents a novel recipe to prepare fine tuning data to tailor the models for domainspecific openbook setting equivalent to in domain rag in raft we prepare the training data such that each data point contains a question q a set of documents dk and a corresponding chainofthough style answer a generated from one of the document d we differentiate between two types of documents golden documents d ie the documents from which the answer to the question can be deduced and distractor documents di that do not contain answer relevant information as an implementation detail the golden document doesnt need to be a single document but can be more than one document as is the case in hotpotqa yang et al 2018 then for pfraction of the questions qi in the dataset we retain the golden document d i along with distractor documents dk1 for 1pfraction of the questions qi in the dataset we include no golden document and only include distractor documents dk we then finetune the language model using standard supervised training sft technique training it to generate answers from the provided documents and question fig 2 illustrates the highlevel design principal for raft we demonstrate that our rag approach trains the model to perform better rag on the set of documents it is trained on ie indomain by removing the golden documents in some instances we are compelling the model to memorize answers instead of deriving them from the context the training data for raft is as follows and an example training data can be seen in fig 3 p of data qdd1d2 dka 1p of data qd1d2 dka subsequently for the test scenario the model is provided with the q and topk documents retrieved by the rag pipeline note that raft is independent of the retriever used a key factor in enhancing training quality is the generation of a reasoning process such as chainofthought to explain the provided answers raft approach is similar we demonstrate that creating a full reasoning chain and inaddition clearly citing sources enhances the models accuracy in answering questions in fig 3 we illustrate this set up generating the training data in this fashion involves presenting the model with a question context and verified answers and then requesting it to form a reasoning chain that appropriately references the original context for all the datasets in our experiments we generate the answers using the technique described above note that the gorilla apibench dataset already includes reasoning in the answers we provide an example of the generation step in fig 3 the detailed reasoning answer includes a citation from the original context inside begin_quote and end_quote as well as the detailed explanation on how to reach the conclusion based on the citations we demonstrate that adding detailed reasoning paragraphs can help boost the models performance in our experiment section 4 evaluation we design our experiments to study how well raft performs compared to various base lines we find that the raft7b model a finetuned version of llama2 is better at reading and extracting information from indomain documents than domainspecific finetuned model and generalpurpose model with rag as an ablation we also demonstrate how important it is for the model to learn with chainofthought responses in this section we will first introduce all the datasets we used in the experiments then all the baseline modelfinetuning techniques that we benchmark against 4 mimetype textplain start_char_idx 0 end_char_idx 3753 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a65442aaccaf4f5881492667de218497 embedding null metadata page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b268e42ea8094d0cab446f4eb787eac7 node_type 4 metadata page_label 5 file_name raftpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 897608,
        "end_char_idx": 904324,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2fb89bce-2b6e-4868-94e6-59c69ed4d413",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ee331e94-261e-4cd3-bffa-e5ee296db4e1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "8c77f8ce4f36dedf371ef29ada339b5fcff6b22c42e6a953095df90e2ba550a8",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "66f1a677-0051-4c4c-8667-b8ea6f7c2ded",
                "node_type": "1",
                "metadata": {},
                "hash": "614e6b6807b9b8bac26794acad19d633654b24dc2c6ebc4e9d6a44b9e35cca66",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "demonstrate how important it is for the model to learn with chainofthought responses in this section we will first introduce all the datasets we used in the experiments then all the baseline modelfinetuning techniques that we benchmark against 4 mimetype textplain start_char_idx 0 end_char_idx 3753 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a65442aaccaf4f5881492667de218497 embedding null metadata page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b268e42ea8094d0cab446f4eb787eac7 node_type 4 metadata page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 563399 end_char_idx 570114 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b1e375c593a448f08a73fe9d58e36f7b embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 1e26de239ad14972bce4dd9a1195e12b node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4c049b27371639945397887d3e641d3bdfc292b72b485d4236184aa596d2d606 class_name relatednodeinfo  3  node_id 42f70328a5cd49a59b187b1dde453263 node_type 1 metadata  hash 7d5877e28444f1a100398d7d3f866472d446bc4310cf24e7a44852b2832efac7 class_name relatednodeinfo   text text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a65442aaccaf4f5881492667de218497 embedding null metadata page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id b268e42ea8094d0cab446f4eb787eac7 node_type 4 metadata page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash e6630670f60dd706978c644d85ff75105f78782ca76a05a9049278f7cfd5b283 class_name relatednodeinfo text preprint under review question the oberoi family is part of a hotel company that has a head office in what city context the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi groupit is located in city center of jakarta near mega kuningan adjacent to the sister jw marriott hotel it is operated by the ritzcarlton hotel company the complex has two towers that comprises a hotel and the airlangga apartment respectivelythe oberoi group is a hotel company with its head office in delhi instruction given the question context and answer above provide a logical reasoning for that answer please use the format of reason reason answer answer cot answer reason the document begin_quote the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi group end_quote establishes that the oberoi family is involved in the oberoi group and the document begin_quote the oberoi group is a hotel company with its head office in delhi end_quote establishes the head office of the oberoi group therefore the oberoi family is part of a hotel company whose head office is in delhi answer delhi figure 3 raft prompt to help llm evaluate its own generated reasoning and answers contrasting them with the correct reasoning and answers the llm is prompted to identify errors in its reasoning and extract key insights for improvement this figure specifically represents the generateexplanation step in the raft algorithm section 3 table 1 raft improves rag performance for all specialized domains across pubmed hotpot huggingface torch hub and tensorflow hub we see that domainspecific fine tuning improves significantly of the performance of the base model raft consistently outperforms the existing domainspecific finetuning method with or without rag this suggests the need to train the model with context we compare our model with llama finetuning receipes and provide gpt35 for reference pubmed hotpot huggingface torch hub tensorflow gpt35 rag 7160 415 2908 6021 6559 llama27b 565 054 022 0 0 llama27b rag 588 003 2643 0860 4306 dsf 597 638 6106 8494 8656 dsf rag 716 441 4259 8280 6029 raft llama27b 7330 3528 7400 8495 8686 datasets in",
        "mimetype": "text/plain",
        "start_char_idx": 903473,
        "end_char_idx": 908958,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "66f1a677-0051-4c4c-8667-b8ea6f7c2ded",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2fb89bce-2b6e-4868-94e6-59c69ed4d413",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "309766aea89a13eefdb4c4ba06017aadfe7bf4b51afc805d2d510ca9cb7b78fd",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c6e15d1f-439a-4692-8cbc-d308dea2377d",
                "node_type": "1",
                "metadata": {},
                "hash": "c39e363fb0323bc7fc7ee297897281307a840874445e9c2c53d73fd1eae57d55",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "raft algorithm section 3 table 1 raft improves rag performance for all specialized domains across pubmed hotpot huggingface torch hub and tensorflow hub we see that domainspecific fine tuning improves significantly of the performance of the base model raft consistently outperforms the existing domainspecific finetuning method with or without rag this suggests the need to train the model with context we compare our model with llama finetuning receipes and provide gpt35 for reference pubmed hotpot huggingface torch hub tensorflow gpt35 rag 7160 415 2908 6021 6559 llama27b 565 054 022 0 0 llama27b rag 588 003 2643 0860 4306 dsf 597 638 6106 8494 8656 dsf rag 716 441 4259 8280 6029 raft llama27b 7330 3528 7400 8495 8686 datasets in our experiments we use the following datasets to evaluate our model and all baselines we selected these datasets to represent both popular and diverse domains including wikipedia codingapi documents and questionanswering on medical docu ments natural questions nq kwiatkowski et al 2019 trivia qa joshi et al 2017 and hotpotqa yang et al 2018 are the opendomain questionanswers based on wikipedia mainly focused on common knowledge eg movies sports etc huggingface torch hub and tensorflow hub are from the apibench patil et al 2023 proposed in the gorilla paper these benchmarks measure how to generate the correct functional and executable api calls based on the documentation pubmed qa jin et al 2019 is a questionanswering dataset tailored only for biomedicalresearch questionanswering it mainly focuses on answering medical and biology questions based on a given set of documents we would 5 mimetype textplain start_char_idx 0 end_char_idx 3122 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 6786241b35d447ab809ac55e7fcf9ccd embedding null metadata page_label 6 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3996f55ccf7d4e42bf8e7e8b8249e133 node_type 4 metadata page_label 6 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 541c13842a8d06a26f11203fdccdb13211b94a3e197b5c42a0fdcf65c56b927f class_name relatednodeinfo text preprint under review like to highlight that nq trivia qa and hotpotqa are relatively general domain whereas the latter two domains are on domainspecific documents baselines we consider the following baselines for our experiments llama27bchat model with 0shot prompting this is the commonly used instructionfinetuned model for qa tasks where we provide clearly written instruc tions but no reference documentation llama27bchat model with rag llama2 rag similar to the previous setting except here we include reference documents this is a popular technique when dealing with domainspecific qa tasks domainspecific finetuning with 0shot prompting dsf standard supervised finetuning without documents in context we find that its mostly useful to align the answering style of the model as well as get familiar with the domain context domainspecific finetuning with rag dsf rag equip a domainspecific finetunedmodel with external knowledge using rag so for the knowledge the model does not know it can still refer to the context 41 results using the above datasets and baselines we evaluate our model raft and demonstrate the effectiveness of raft in tab 1 we see that raft consistently and significantly outperforms the baselines compared with the base llama2 instructiontuned model raft with rag does much mimetype textplain start_char_idx 569378 end_char_idx 575524 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 42f70328a5cd49a59b187b1dde453263 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id b1e375c593a448f08a73fe9d58e36f7b node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 06732bc874242623b1960280d0db0583422752a275a2480e79fe81f38e991a24 class_name relatednodeinfo  3  node_id 64a2fc5b586b4c58b5615b93ebd64fc2 node_type 1 metadata  hash 6eec44b5134eb84e22ae0abef1e02e5d16e0cb0a1aa861a5fe8fd3170a13a4de class_name relatednodeinfo   text with 0shot prompting this is the commonly used instructionfinetuned model for qa tasks where we provide clearly written instruc tions but no reference documentation llama27bchat model with rag llama2 rag similar to the previous setting except here we include reference documents this is a popular technique when dealing with domainspecific qa tasks domainspecific finetuning with",
        "mimetype": "text/plain",
        "start_char_idx": 908221,
        "end_char_idx": 913828,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c6e15d1f-439a-4692-8cbc-d308dea2377d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "66f1a677-0051-4c4c-8667-b8ea6f7c2ded",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ae2a098eacc5241ad1739e35f92f0b53209b2e6263cb718ba2a3e3895305016f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "63d34e7c-9103-4c20-92d0-4254b1abd9b8",
                "node_type": "1",
                "metadata": {},
                "hash": "52cc1ce7d0d7e25c08074c6686e23814417a1dabf89f45613f3bee930f7b6b6e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "20241021  hash 06732bc874242623b1960280d0db0583422752a275a2480e79fe81f38e991a24 class_name relatednodeinfo  3  node_id 64a2fc5b586b4c58b5615b93ebd64fc2 node_type 1 metadata  hash 6eec44b5134eb84e22ae0abef1e02e5d16e0cb0a1aa861a5fe8fd3170a13a4de class_name relatednodeinfo   text with 0shot prompting this is the commonly used instructionfinetuned model for qa tasks where we provide clearly written instruc tions but no reference documentation llama27bchat model with rag llama2 rag similar to the previous setting except here we include reference documents this is a popular technique when dealing with domainspecific qa tasks domainspecific finetuning with 0shot prompting dsf standard supervised finetuning without documents in context we find that its mostly useful to align the answering style of the model as well as get familiar with the domain context domainspecific finetuning with rag dsf rag equip a domainspecific finetunedmodel with external knowledge using rag so for the knowledge the model does not know it can still refer to the context 41 results using the above datasets and baselines we evaluate our model raft and demonstrate the effectiveness of raft in tab 1 we see that raft consistently and significantly outperforms the baselines compared with the base llama2 instructiontuned model raft with rag does much better in terms of extracting information as well as being robust towards distractors the gain can be as big as 3525 on hotpot qa and 7635 on torch hub evaluation compared with dsf on the specific dataset our model does better at relying on the provided context to solve the problem raft does much better on the tasks like hotpot and huggingface datasets 3087 on hotpot and 3141 on huggingface note that for pubmed qa since it is a binary yesno question we dont observe significant gains when we compare our model with dsf rag even compared with a much larger and better model gpt35 raft demonstrates significant advantages overall the llama7b model both with and without the rag performs poorly due to its answering style not aligning with the ground truth by applying domainspecific tuning we significantly enhance its performance this process enables the model to learn and adopt the appropriate style of answering however introducing rag to a domainspecifically finetuned dsf model doesnt invariably lead to better outcomes this might indicate that the model lacks training in context processing and extracting useful information from it by incorporating our method raft we train the model not only to match its answering style with that required but also to improve its document processing capabilities consequently our approach outperforms all others 42 effect of cot we also conduct an analysis to evaluate the effectiveness of the chainofthought approach in enhancing the models performance as indicated in table 2 simply providing the answer to a question may not always be adequate this approach can lead to a rapid decrease in loss resulting in the model beginning to overfit incorporating a reasoning chain that not only guides the model to the answer but also enriches the models understanding can improve the overall accuracy and prevent overfitting to concise answers in our experiments integrating the chainofthought significantly enhances training robustness we employ gpt41106 to generate our chainofthought prompts and include an example of the prompt we used in figure 3 43 qualitative analysis to illustrate the potential advantages of raft over the domainspecifically finetuned dsf approach we present a comparative example in figure 4 this example qualitatively 6 mimetype textplain start_char_idx 0 end_char_idx 3593 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ cbdcfee7f29944f3a235e7fda07ce9a6 embedding null metadata page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 7c9ef08d6a2a49198b4e0204af409dc8 node_type 4 metadata page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 1a9d45a5b993abc7a04a2252ae969b380d322f21ce8daccf6a593a421e47ef6a class_name relatednodeinfo text preprint under review table 2 ablation on chainofthought the numbers of raft and raft without cot results on various datasets show that adding cot can significantly improve the performance of the finetuned model with a gains of 966 and 1493 in the hotpot qa and huggingface datasets respectively pubmed hotpotqa huggingface torch hub tensorflow raft wo cot 6830 2562 5907 8656 8321 raft 7330 3528 7400 8495 8686 demonstrates a scenario where the dsf model becomes confused by a question asking for the identity of a screenwriter instead of providing the correct name it mistakenly cites one of the films written by the screenwriter in contrast the raft model accurately answers the question this discrepancy suggests that training a model solely with questionanswer pairs may impair its ability to derive relevant context from provided documents the comparison underscores the importance of incorporating both standard instructional tuning and context comprehension into the training dataset to preserve and enhance the models ability to process text effectively hotpot qa question what screenwriter with credits for evolution01879e a film starring nicolas cage and tu00e9a leoni documents david weiss man is a screen writer and director his film credits include the family man 2000 evo lution 2001 and when in rome 2010 the family man is a 2000 american romantic comedydrama film directed by brett ratner written by david diamond and david weissman and starring nico lascage and tu00e9aleoni raft reason the screenwriter with credits for the film evolution starring nicolas cage and tu00e9a leoni is david weissman this information is provided in the reference documents where it mentions david weissman as a screenwriter with film credits including the family man 2000 evolution 2001 and when in rome 2010 therefore the screenwriter for evolution is david weissman answer david weiss man dsf the fam ilyman figure 4 comparison of",
        "mimetype": "text/plain",
        "start_char_idx": 913171,
        "end_char_idx": 919599,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "63d34e7c-9103-4c20-92d0-4254b1abd9b8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c6e15d1f-439a-4692-8cbc-d308dea2377d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "7559c29c8e1ee66e08115b1a44f7b49597d408492702f65abb9c1c9b0df9d07f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "df33d967-9f91-4932-b70a-99dd9519a42c",
                "node_type": "1",
                "metadata": {},
                "hash": "c17d44ab33b3e05e975b60a29a376327877f764f183c7723ea54e3bac35f7bf9",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "question what screenwriter with credits for evolution01879e a film starring nicolas cage and tu00e9a leoni documents david weiss man is a screen writer and director his film credits include the family man 2000 evo lution 2001 and when in rome 2010 the family man is a 2000 american romantic comedydrama film directed by brett ratner written by david diamond and david weissman and starring nico lascage and tu00e9aleoni raft reason the screenwriter with credits for the film evolution starring nicolas cage and tu00e9a leoni is david weissman this information is provided in the reference documents where it mentions david weissman as a screenwriter with film credits including the family man 2000 evolution 2001 and when in rome 2010 therefore the screenwriter for evolution is david weissman answer david weiss man dsf the fam ilyman figure 4 comparison of raft and dsf on the hotpot qa dataset we can see that dsf model extracts the wrong information from the context when the question is asking who is the screen writer and it answers a film name raft manages to get the accurate results 44 should we train the llm always with the golden context for rag in our exploration of whether large language models llms should always be trained with the golden context for retrievalaugmented generation rag we address a key question what proportion p of the training data should include golden documents intuitively one might assume that for effective training in reading and extracting information from context mimetype textplain start_char_idx 574471 end_char_idx 581281 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 64a2fc5b586b4c58b5615b93ebd64fc2 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 42f70328a5cd49a59b187b1dde453263 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 8a7a3bfbee96d9748bd3e6958a0fb4d7d384e4b7deabb33b600a3b3ced449bf2 class_name relatednodeinfo  3  node_id 64a51c1b3388446bb0874eb8ceb834dc node_type 1 metadata  hash ed9624389b63b6247cc640a4287aa0554f1b0f0b910d4c4259b2df333f4e477c class_name relatednodeinfo   text and tu00e9a leoni is david weissman this information is provided in the reference documents where it mentions david weissman as a screenwriter with film credits including the family man 2000 evolution 2001 and when in rome 2010 therefore the screenwriter for evolution is david weissman answer david weiss man dsf the fam ilyman figure 4 comparison of raft and dsf on the hotpot qa dataset we can see that dsf model extracts the wrong information from the context when the question is asking who is the screen writer and it answers a film name raft manages to get the accurate results 44 should we train the llm always with the golden context for rag in our exploration of whether large language models llms should always be trained with the golden context for retrievalaugmented generation rag we address a key question what proportion p of the training data should include golden documents intuitively one might assume that for effective training in reading and extracting information from context eg rag tasks the golden document should always be included during training p 100 however our findings challenge this assumption incorporating a portion of the training data without the golden document in the context p 80 appears to enhance the models performance on rag tasks 7 mimetype textplain start_char_idx 0 end_char_idx 2860 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 15bf6beb73d4498086311cb47c2b64ec embedding null metadata page_label 8 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 1fba287a5560414fab7bd4dec0a375eb node_type 4 metadata page_label 8 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 2a78a850fcd7bcbbcbbea85872d5cb2f360921535cd38bd91d65eddb61f56484 class_name relatednodeinfo text preprint under review 0 20 40 60 80 100 p golden retrieved context at training025030035040045final accuracy t est domain nq 0 20 40 60 80 100 golden retrieved context at training050055060065final accuracy t est domain tqa 0 20 40 60 80 100 p golden retrieved context at training040045050055060final accuracy t est domain hopo figure 5 how many golden documents to involve we study the hyperparameter p where it indicates how much portion of training data is with golden document results on nq tqa and hotpotqa suggest that mixing some amount of data that",
        "mimetype": "text/plain",
        "start_char_idx": 918741,
        "end_char_idx": 924371,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "df33d967-9f91-4932-b70a-99dd9519a42c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "63d34e7c-9103-4c20-92d0-4254b1abd9b8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "923c2a8698023e9afe71a891f8415baed12a082f2a7d9094fe398e2211c6e134",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "390ea7ce-18f9-47f3-9646-91ba9a1d3a78",
                "node_type": "1",
                "metadata": {},
                "hash": "3d25ee6f1d0522606acc6dcf7e4a363e04c366fd76a199d6310b615b4c6b70ca",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 2a78a850fcd7bcbbcbbea85872d5cb2f360921535cd38bd91d65eddb61f56484 class_name relatednodeinfo text preprint under review 0 20 40 60 80 100 p golden retrieved context at training025030035040045final accuracy t est domain nq 0 20 40 60 80 100 golden retrieved context at training050055060065final accuracy t est domain tqa 0 20 40 60 80 100 p golden retrieved context at training040045050055060final accuracy t est domain hopo figure 5 how many golden documents to involve we study the hyperparameter p where it indicates how much portion of training data is with golden document results on nq tqa and hotpotqa suggest that mixing some amount of data that the golden document is not put in the context is helpful for indomain rag figure 5 presents our investigation into the hyperparameter p which represents the percentage of training instances that should include golden documents we find that the optimal proportion varies across datasets with p ranging from 40 60 and 100 this indicates that training your llm without the correct corresponding context at times can be beneficial for the downstream task of answering questions related to the documents in our training setup we include four distractor documents alongside the golden document and at test time we maintain this format by providing the golden document with four distractors our findings suggest that for domainspecific rag tasks including a certain percentage of training data without the golden documents in the context proves to be advantageous 5 raft generalizes to topk rag we now study another important problem how does the number of distractor documents in raft affect the models performance when augmented with topk rag results during evaluation previous research has highlighted the vulnerability of llms to irrelevant text see studies shi et al 2023a weston sukhbaatar 2023 liu et al 2023 this issue is particularly critical for llms rag since topk rag is frequently employed at test time to ensure high recall such a scenario necessitates the model to have the ability to discern and disregard irrelevant content focusing solely on pertinent information 51 making model robust to topk rag to tackle the challenge of enhancing large language models llms ability to sift through irrelevant text within the retrieval pipeline our analysis revealed that training solely with golden highly relevant documents can inadvertently diminish the models ability to dis cern and disregard irrelevant information to address this our algorithm raft adopts a strategy that integrates golden documents with a mix of irrelevant ones this method ology prompts us to investigate the ideal fraction of distractor irrelevant documents to incorporate throughout the training process and to assess how well this training approach adapts to different volumes of documents encountered by the retrievalaugmented gen eration rag during the test phase our aim is to refine the balance between relevant and irrelevant information to strenghten the models efficiency in identifying and utilizing pertinent content notice that sec 44 looked what what p of training data should include distractors while in this section we study testtime scenarios training with distractor documents to enhance the robustness of llms against irrelevant text in retrieved documents we adopted a finetuning approach that incorporates both golden highly relevant documents and distractor irrelevant documents the model was trained with varying numbers of distractor documents but consistently evaluated using the top3 documents obtained from the retriever not to be confused with p our findings detailed in fig 6 reveal that finetuning with only the golden document frequently results in inferior performance compared to configurations that include a greater number of distractor documents as we can see in the figure the better performance for natural questions is 8 mimetype textplain start_char_idx 0 end_char_idx 3797 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 066a09c1f4044d5783a455b36ae89e18 embedding null metadata page_label 9 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 27ab845f6fca4de9acb4d2760c8b3a8d node_type 4 metadata page_label 9 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 mimetype textplain start_char_idx 580282 end_char_idx 586997 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 64a51c1b3388446bb0874eb8ceb834dc embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 64a2fc5b586b4c58b5615b93ebd64fc2 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6e47ba6cd76656ac76ff6369d1f5da4748b3f28c53bd3a38fe99bf6f809d42e8 class_name relatednodeinfo  3  node_id 252d5c4a9cb446f1a6814e2f42b23370 node_type 1 metadata  hash ded1a4c55ccc8a5222cb69707fbdc34034fc8240292df7ec96061d47d83287ff",
        "mimetype": "text/plain",
        "start_char_idx": 923647,
        "end_char_idx": 929734,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "390ea7ce-18f9-47f3-9646-91ba9a1d3a78",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "df33d967-9f91-4932-b70a-99dd9519a42c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "492298debc2255ccd184d6c70ffcda761b7e64f37f7310621aba2d752c2b20bc",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "fe8b8bb4-fec0-43b2-86a1-fb5d294d0fef",
                "node_type": "1",
                "metadata": {},
                "hash": "2ecb75bd4fdb909258d73457c6ac1656229fa098ae5d2913009816a1a983c474",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_id 64a2fc5b586b4c58b5615b93ebd64fc2 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6e47ba6cd76656ac76ff6369d1f5da4748b3f28c53bd3a38fe99bf6f809d42e8 class_name relatednodeinfo  3  node_id 252d5c4a9cb446f1a6814e2f42b23370 node_type 1 metadata  hash ded1a4c55ccc8a5222cb69707fbdc34034fc8240292df7ec96061d47d83287ff class_name relatednodeinfo   text metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 066a09c1f4044d5783a455b36ae89e18 embedding null metadata page_label 9 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 27ab845f6fca4de9acb4d2760c8b3a8d node_type 4 metadata page_label 9 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash a8f24b1693432140f9687debf705c45b6f3e810a1a3562b3831c2698254b07c1 class_name relatednodeinfo text preprint under review 2 4 6 8 10 t est documents t opk022024026028030032final accuracy natural questions train d train d 1d train d 2d train d 3d 2 4 6 8 10 t est documents t opk012501500175020002250250final accuracy hotpot qa train d train d 1d train d 2d train d 3d figure 6 testtime documents varying to analyze how robust raft is to varying number of testtime documents we study three domains nq trivia qa and hotpot qa in nq we find that training with 4 documents leads to optimal performance and this changes to 3 and 2 for for trivia qa and hotpot qa respectively however we see that training with only golden documents leads to poor performance training with d3dand it is d1ddocuments with hotpot qa this insight has been particularly beneficial for our algorithm raft in our experiments we consistently employ a training setup consisting of one golden document alongside four distractor documents generalization to a variable number of testtime documents we extended our research to examine the impact of different quantities of testtime documents on the models per formance specifically our experiments focused on assessing how models trained with varying numbers of distractor documents respond to changes in the number of documents presented at test time the results illustrated in fig 6 confirm that the inclusion of distrac tor documents during training indeed makes the model more resilient to fluctuations in the number of documents encountered during testing this ability to maintain consistent perfor mance despite variations in testtime document numbers further validates the robustness of our approach raft this finding underscores the importance of a wellcalibrated training environment to prepare the model for a range of scenarios it may encounter in realworld 6 related works retrievalaugmented language models retrievalaugmented language models ralms enhance llms by integrating a retrieval module that sources relevant information from external knowledge bases significantly improving performance across various nlp tasks including language modeling guu et al 2020 borgeaud et al 2022 khandelwal et al 2019 shi et al 2023d lin et al 2023b shi et al 2023c asai et al 2023 xu et al 2023 wang et al 2023 and opendomain question answering izacard et al 2023 lewis et al 2020 for instance atlas izacard et al 2023 finetunes t5 models with the retriever treating documents as latent variables while retro borgeaud et al 2022 modifies the decoderonly architecture to include retrieved texts and conducts pretraining from scratch knnlm khandelwal et al 2019 interpolates between the lms next token distribution and distributions computed from retrieved tokens at inference shi et al 2023d ram et al 2023 assume blackbox access to an llm combining it with either offtheshelf or finetuned retriever memorization a key question around large neural language models is whether they truly understand text feldman 2020 power et al 2022 or simply rely on surface pattern memorization carlini et al 2019 tu00e4nzer et al 2022 feldman 2020 carlini et al 2019 2022 develop methodologies to quantify the extent of memorization in neural models brown et al 2020 power et al 2022 liu et al 2022 further explored how memorization impacts the models generalization capabilities carlini et al 2021 shi et al 2023b demonstrated the ability of language models to memorize and regurgitate training data raising significant privacy concerns kandpal et al 2022 pan et al 2020 finetuning for rag more recently several papers have been exploring the idea of fine tuning a pretrained llm to be better at rag tasks lin et al 2023a wang et al 2023 xu 9 mimetype textplain start_char_idx 0 end_char_idx 3651 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b77315bced734441a39098229dc64b89 embedding null metadata page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id fdd80e2098c349d0872581498901e298 node_type 4 metadata page_label 10 file_name raftpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 929234,
        "end_char_idx": 934830,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "fe8b8bb4-fec0-43b2-86a1-fb5d294d0fef",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "390ea7ce-18f9-47f3-9646-91ba9a1d3a78",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e411f22bfabec69aee7239bb1e5d38378a6571f42a555d5a32438cce0f014b68",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "31d99f7f-f675-41d1-bf75-7947c25e4e68",
                "node_type": "1",
                "metadata": {},
                "hash": "b3eb3a00c603740668f406f05cd21c01ee0b0869d68ae7fa26205d9540354195",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "2020 finetuning for rag more recently several papers have been exploring the idea of fine tuning a pretrained llm to be better at rag tasks lin et al 2023a wang et al 2023 xu 9 mimetype textplain start_char_idx 0 end_char_idx 3651 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b77315bced734441a39098229dc64b89 embedding null metadata page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id fdd80e2098c349d0872581498901e298 node_type 4 metadata page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 6f802d080246f5ef17b35e81ac6e4ad9a8c4e6753d6769bcc867746c86ef2953 class_name relatednodeinfo text preprint under review et al 2023 liu et al 2024 these works focus on constructing a combination of finetuning dataset for rag and train a model to perform well on these tasks in particular in their settings at test time the domain or documents can be different than the training time whereas our paper studies a slightly opposite scenario where we only care about testing the llm on the same set of documents 7 conclusion raft is a training strategy designed to enhance the mimetype textplain start_char_idx 586309 end_char_idx 592140 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 252d5c4a9cb446f1a6814e2f42b23370 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 64a51c1b3388446bb0874eb8ceb834dc node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c5fca7cdd3810cb911f6bfcd9cf5ed83c76c572abf3f45d46c5f847052237816 class_name relatednodeinfo  3  node_id 73d6514f336f4ad5a56c75dd790641dc node_type 1 metadata  hash 5d7c854c9b57aa13a1cf96d474acf330c264db0e374bb682311b0bf8a102ff86 class_name relatednodeinfo   text page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 6f802d080246f5ef17b35e81ac6e4ad9a8c4e6753d6769bcc867746c86ef2953 class_name relatednodeinfo text preprint under review et al 2023 liu et al 2024 these works focus on constructing a combination of finetuning dataset for rag and train a model to perform well on these tasks in particular in their settings at test time the domain or documents can be different than the training time whereas our paper studies a slightly opposite scenario where we only care about testing the llm on the same set of documents 7 conclusion raft is a training strategy designed to enhance the models performance in answering questions within a specific domain in openbook settings we highlight several crucial design decisions such as training the model alongside distractor documents organizing the dataset so a portion lacks golden documents in their context and formulating answers in a chainofthought manner with direct quotations from the relevant text our evaluations on pubmed hotpotqa and gorilla api bench underline rafts significant potential references anthropic prompt engineering for claudes long context window 2023 asai a wu z wang y sil a and hajishirzi h selfrag learning to retrieve generate and critique through selfreflection arxiv preprint arxiv231011511 2023 borgeaud s mensch a hoffmann j cai t rutherford e millican k van den driess che g b lespiau jb damoc b clark a et al improving language models by retrieving from trillions of tokens in international conference on machine learning pp 22062240 pmlr 2022 brown t mann b ryder n subbiah m kaplan j d dhariwal p neelakantan a shyam p sastry g askell a et al language models are fewshot learners advances in neural information processing systems 3318771901 2020 carlini n liu c erlingsson u00fa kos j and song d the secret sharer evaluating and testing unintended memorization in neural networks in 28th usenix security symposium usenix security 19 pp 267284 2019 carlini n tramer f wallace e jagielski m herbertvoss a lee k roberts a brown t song d erlingsson u et al extracting training data from large language models in 30th usenix security symposium usenix security 21 pp 26332650 2021",
        "mimetype": "text/plain",
        "start_char_idx": 934046,
        "end_char_idx": 939350,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "31d99f7f-f675-41d1-bf75-7947c25e4e68",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "fe8b8bb4-fec0-43b2-86a1-fb5d294d0fef",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2f6460f5b0e2739f065d2cae5d785c01d3128936467fb7ad23d14fc425861335",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a8a0ffbe-a69a-40f8-97d5-a530de833376",
                "node_type": "1",
                "metadata": {},
                "hash": "1f3ca78ef5fbcc1f3d7319d92f2584acd6277b2efd57e47d992c525a2291de6d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "models by retrieving from trillions of tokens in international conference on machine learning pp 22062240 pmlr 2022 brown t mann b ryder n subbiah m kaplan j d dhariwal p neelakantan a shyam p sastry g askell a et al language models are fewshot learners advances in neural information processing systems 3318771901 2020 carlini n liu c erlingsson u00fa kos j and song d the secret sharer evaluating and testing unintended memorization in neural networks in 28th usenix security symposium usenix security 19 pp 267284 2019 carlini n tramer f wallace e jagielski m herbertvoss a lee k roberts a brown t song d erlingsson u et al extracting training data from large language models in 30th usenix security symposium usenix security 21 pp 26332650 2021 carlini n ippolito d jagielski m lee k tramer f and zhang c quantifying memorization across neural language models in the eleventh international conference on learning representations 2022 dernoncourt f and lee j y pubmed 200k rct a dataset for sequential sentence classification in medical abstracts arxiv preprint arxiv171006071 2017 feldman v does learning require memorization a short tale about a long tail in proceedings of the 52nd annual acm sigact symposium on theory of computing pp 954959 2020 guu k lee k tung z pasupat p and chang m retrieval augmented language model pretraining in international conference on machine learning pp 39293938 pmlr 2020 izacard g lewis p lomeli m hosseini l petroni f schick t dwivediyu j joulin a riedel s and grave e atlas fewshot learning with retrieval augmented language models journal of machine learning research 24251143 2023 url http jmlrorgpapersv24230037html jin q dhingra b liu z cohen w w and lu x pubmedqa a dataset for biomedical research question answering arxiv preprint arxiv190906146 2019 10 mimetype textplain start_char_idx 0 end_char_idx 3113 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c1e5d9b8bec5429b83c599dadaf7b795 embedding null metadata page_label 11 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 952be8bfff1f4e4991be82594864aab4 node_type 4 metadata page_label 11 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash d31cb2933df85c461600b4aef036b940079342594df045fd359209ca3a888d12 class_name relatednodeinfo text preprint under review joshi m choi e weld d s and zettlemoyer l triviaqa a large scale distantly supervised challenge dataset for reading comprehension arxiv preprint arxiv170503551 2017 kandpal n wallace e and raffel c deduplicating training data mitigates privacy risks in language models in international conference on machine learning pp 1069710707 pmlr 2022 khandelwal u levy o jurafsky d zettlemoyer l and lewis m general ization through memorization nearest neighbor language models arxiv preprint arxiv191100172 2019 kwiatkowski t palomaki j redfield o collins m parikh a alberti c epstein d polosukhin i devlin j lee k et al natural questions a benchmark for question answering research transactions of the association for computational linguistics 7453466 2019 lazaridou a gribovskaya e stokowiec w and grigorev n internetaugmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115 2022 lewis p perez e piktus a petroni f karpukhin v goyal n ku00fcttler h lewis m yih wt rocktu00e4schel t et al retrievalaugmented generation for knowledgeintensive nlp tasks advances in neural information processing systems 3394599474 2020 lin x v chen x chen m shi w lomeli mimetype textplain start_char_idx 591350 end_char_idx 596884 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 73d6514f336f4ad5a56c75dd790641dc embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 252d5c4a9cb446f1a6814e2f42b23370 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 97044220e9ac933e274ee4499b1534727c728dd9ed42b205dbd999689478d404 class_name relatednodeinfo  3",
        "mimetype": "text/plain",
        "start_char_idx": 938602,
        "end_char_idx": 943754,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a8a0ffbe-a69a-40f8-97d5-a530de833376",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "31d99f7f-f675-41d1-bf75-7947c25e4e68",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "cde32b3aa8ff9401cec1c6fd532aee0330ab492438465357560f572e8d1e07d0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d4bfd99d-cc43-4c92-8190-c303234163be",
                "node_type": "1",
                "metadata": {},
                "hash": "ac52aabda8b199d2485ad45865a9c2dd0f595c003198bc02feb0eb2df3b02127",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 252d5c4a9cb446f1a6814e2f42b23370 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 97044220e9ac933e274ee4499b1534727c728dd9ed42b205dbd999689478d404 class_name relatednodeinfo  3  node_id 262aeae22e6f49fcbe917fc500e76ecd node_type 1 metadata  hash 21d564d9eddf72d4cfa98cbc2e48330588b3f06b1e2d36212e27902fef769e4d class_name relatednodeinfo   text 2019 kwiatkowski t palomaki j redfield o collins m parikh a alberti c epstein d polosukhin i devlin j lee k et al natural questions a benchmark for question answering research transactions of the association for computational linguistics 7453466 2019 lazaridou a gribovskaya e stokowiec w and grigorev n internetaugmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115 2022 lewis p perez e piktus a petroni f karpukhin v goyal n ku00fcttler h lewis m yih wt rocktu00e4schel t et al retrievalaugmented generation for knowledgeintensive nlp tasks advances in neural information processing systems 3394599474 2020 lin x v chen x chen m shi w lomeli m james r rodriguez p kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352 2023a lin x v chen x chen m shi w lomeli m james r rodriguez p kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352 2023b liu n f lin k hewitt j paranjape a bevilacqua m petroni f and liang p lost in the middle how language models use long contexts arxiv preprint arxiv230703172 2023 liu z kitouni o nolte n s michaud e tegmark m and williams m towards understanding grokking an effective theory of representation learning advances in neural information processing systems 353465134663 2022 liu z ping w roy r xu p shoeybi m and catanzaro b chatqa building gpt4 level conversational qa models arxiv preprint arxiv240110225 2024 pan x zhang m ji s and yang m privacy risks of generalpurpose language models in2020 ieee symposium on security and privacy sp pp 13141331 ieee 2020 patil s g zhang t wang x and gonzalez j e gorilla large language model connected with massive apis arxiv preprint arxiv230515334 2023 power a burda y edwards h babuschkin i and misra v grokking generalization beyond overfitting on small algorithmic datasets arxiv preprint arxiv220102177 2022 ram o levine y dalmedigos i muhlgay d shashua a leytonbrown k and shoham y incontext retrievalaugmented language models arxiv preprint arxiv230200083 2023 shi f chen x misra k scales n dohan d chi e h schu00e4rli n and zhou d large language models can be easily distracted by irrelevant context in international conference on machine learning pp 3121031227 pmlr 2023a shi w ajith a xia m huang y liu d blevins t chen d and zettlemoyer l detecting pretraining data from large language models arxiv preprint arxiv231016789 2023b 11 mimetype textplain start_char_idx 0 end_char_idx 3029 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 598a79c14c7c4ce1bac8582fa5371bc4 embedding null metadata page_label 12 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 1ab8b12cd3d743b9a30e21e7958c6db3 node_type 4 metadata page_label 12 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015 hash 9b3f2861df120138de8b77925ef76a031e4723c31fa02ec1d082727d01c90ae6 class_name relatednodeinfo text preprint under review shi w min s lomeli m zhou c li m lin v smith n a zettlemoyer l yih s and lewis m incontext pretraining language modeling beyond document boundaries arxiv preprint arxiv231010638 2023c shi w min s yasunaga m seo m james r lewis m zettlemoyer l and yih wt replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652 2023d tu00e4nzer m ruder s and rei m memorisation versus generalisation in pretrained lan guage models in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers pp 75647578 2022 vu t iyyer m wang x constant n wei j wei j tar c sung yh zhou d le q et al freshllms refreshing",
        "mimetype": "text/plain",
        "start_char_idx": 943172,
        "end_char_idx": 947983,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d4bfd99d-cc43-4c92-8190-c303234163be",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a8a0ffbe-a69a-40f8-97d5-a530de833376",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bc8f4550c28f429f489b44b8b758d64a58a44e774ba975be218444dd67c00559",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7776091b-dcc8-418b-807d-0242450ae861",
                "node_type": "1",
                "metadata": {},
                "hash": "67c1d9786f3d9590f30fc7ff9a1ad2cffbe9533e5db990651b0b6c90f4d94786",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text preprint under review shi w min s lomeli m zhou c li m lin v smith n a zettlemoyer l yih s and lewis m incontext pretraining language modeling beyond document boundaries arxiv preprint arxiv231010638 2023c shi w min s yasunaga m seo m james r lewis m zettlemoyer l and yih wt replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652 2023d tu00e4nzer m ruder s and rei m memorisation versus generalisation in pretrained lan guage models in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers pp 75647578 2022 vu t iyyer m wang x constant n wei j wei j tar c sung yh zhou d le q et al freshllms refreshing large language models with search engine augmentation arxiv preprint arxiv231003214 2023 wang b ping w mcafee l xu p li b shoeybi m and catanzaro b instructretro instruction tuning post retrievalaugmented pretraining arxiv preprint arxiv231007713 2023 wang y kordi y mishra s liu a smith n a khashabi d and hajishirzi h selfinstruct aligning language models with selfgenerated instructions arxiv preprint arxiv221210560 2022 wei j wang x schuurmans d bosma m xia f chi e le q v zhou d et al chainofthought prompting elicits reasoning in large language models advances in neural information processing systems 352482424837 2022 weston j and sukhbaatar s system 2 attention is something you might need too arxiv preprint arxiv231111829 2023 xiong w liu j molybog i zhang h bhargava p hou r martin l rungta r sankararaman k a oguz b et al effective longcontext scaling of foundation models arxiv preprint arxiv230916039 2023 xu p ping w wu x mcafee l mimetype textplain start_char_idx 596180 end_char_idx 601200 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 262aeae22e6f49fcbe917fc500e76ecd embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 73d6514f336f4ad5a56c75dd790641dc node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 8e530cf7b9a9c6d5c15f1c711100621ce1aff6bcd20426f7697a361caab4b097 class_name relatednodeinfo  3  node_id fe665524f6c84556968f32df28110f36 node_type 1 metadata  hash a067661e985528cd526f0936fb682622c7139b87eacb47aba2485557217cd8c8 class_name relatednodeinfo   text wang y kordi y mishra s liu a smith n a khashabi d and hajishirzi h selfinstruct aligning language models with selfgenerated instructions arxiv preprint arxiv221210560 2022 wei j wang x schuurmans d bosma m xia f chi e le q v zhou d et al chainofthought prompting elicits reasoning in large language models advances in neural information processing systems 352482424837 2022 weston j and sukhbaatar s system 2 attention is something you might need too arxiv preprint arxiv231111829 2023 xiong w liu j molybog i zhang h bhargava p hou r martin l rungta r sankararaman k a oguz b et al effective longcontext scaling of foundation models arxiv preprint arxiv230916039 2023 xu p ping w wu x mcafee l zhu c liu z subramanian s bakhturina e shoeybi m and catanzaro b retrieval meets long context large language models arxiv preprint arxiv231003025 2023 yang z qi p zhang s bengio y cohen w w salakhutdinov r and manning c d hotpotqa a dataset for diverse explainable multihop question answering arxiv preprint arxiv180909600 2018 zhou c liu p xu p iyer s sun j mao y ma x efrat a yu p yu l et al lima less is more for alignment arxiv preprint arxiv230511206 2023 12 mimetype textplain start_char_idx 0 end_char_idx 2113 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 6a257a98b769469e97a0112210c29a85 embedding null metadata page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 967fb7fe362f41cfb54aababaf6f3bc4 node_type 4 metadata page_label 1 file_name",
        "mimetype": "text/plain",
        "start_char_idx": 947267,
        "end_char_idx": 952109,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7776091b-dcc8-418b-807d-0242450ae861",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d4bfd99d-cc43-4c92-8190-c303234163be",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5b87ee714a4a1bf1bc85edff381e8be84240040f3da35b35360d60bfbce008ed",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6430dd7c-ac9f-4e0d-a546-3cf9986ee1e5",
                "node_type": "1",
                "metadata": {},
                "hash": "9b419fd5ed787b99549784ada3336ef9ec9b8ba393040ec2f87b1f967676aece",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "a yu p yu l et al lima less is more for alignment arxiv preprint arxiv230511206 2023 12 mimetype textplain start_char_idx 0 end_char_idx 2113 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 6a257a98b769469e97a0112210c29a85 embedding null metadata page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 967fb7fe362f41cfb54aababaf6f3bc4 node_type 4 metadata page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash d551ead61e972aa3eec2d5b0e3b9756b5b0e7c728303090c29e483a7efb82a84 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track ronak pradeep university of waterloo waterloo canadanandan thakur university of waterloo waterloo canadasahel sharifymoghaddam university of waterloo waterloo canadaeric zhang university of waterloo waterloo canada ryan nguyen university of waterloo waterloo canadadaniel campos snowflake inc new york usanick craswell microsoft seattle usajimmy lin university of waterloo waterloo canada abstract did you try out the new bing search or maybe you fiddled around with google ai overviews these might sound familiar because the modernday search stack has recently evolved to include retrieval augmented generation rag systems they allow searching and incorporating realtime data into large language models llms to provide a wellinformed attributed concise summary in contrast to the traditional search paradigm that relies on displaying a ranked list of documents therefore given these recent advancements it is crucial to have an arena to build test visualize and systematically evaluate ragbased search systems with this in mind we propose the trec 2024 rag track to foster innovation in evaluating rag systems in our work we lay out the steps weve made towards making this track a reality we describe the details of our reusable framework ragnaru00f6k explain the curation of the new ms marco v21 collection choice release the development topics for the track and standardize the io definitions which assist the end user next using ragnaru00f6k we identify and provide key industrial baselines such as openais gpt4o or coheres command r further we introduce a webbased user interface for an interactive arena allow ing benchmarking pairwise rag systems by crowdsourcing we opensource our ragnaru00f6k framework and baselines to achieve a unified standard for future rag systems httpsgithubcomcastoriniragnarok 1 introduction retrieval augmented generation rag 10212229 has emerged as a popular technique to augment large language model llm gen eration for knowledgeintensive tasks such as opendomain ques tion answering or fact verification 44 using the top ud835udc58retrieved segments from a suitable retrieval system rag systems output an answer summary grounded on the relevant context rag systems mitigate factual inconsistencies in llm outputs 19262934 and enhance interpretability 21 and generalization 20 thus facilitat ing a wider adoption across several domains like medicine 55 and finance 23 several companies provide endtoend rag frameworks such as bing search 39 or google gemini 5 most of these systems are either proprietary or offer limited user customization likewise the absence of a standardized rag framework makes implementing both authors contributed equally to the paper correspondence to ronak pradeep rpradeepuwaterlooca and nandan thakur nandanthakuruwaterloocarag at a large scale challenging implementing atop existing frame works requires custom code for multiple steps including retrieval reranking and generation to promote wider adoption of rag in academia we develop ragnaru00f6k a userfriendly reusable end toend rag framework offering code for customizable retrievers rerankers and generation models ragnaru00f6k comprises two key modules r retrieval and ag augmented generation the retrieval module incorporates both the retrieval and reranking stages to yield the top ud835udc58retrieved seg ments for an input user topic next the augmented generation module uses the userprovided topic and retrieved segments to produce an rag answer formatted into individual sentences cit ing the relevant information from the top ud835udc58retrieved segments ragnaru00f6k is deeply integrated with existing python frameworks such as pyserini 31 and rank_llm 4647 and can be easily in stalled via pypi using pip install pyragnarok the framework offers easytouse rest apis and mimetype textplain start_char_idx 600505 end_char_idx 606491 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ fe665524f6c84556968f32df28110f36 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 262aeae22e6f49fcbe917fc500e76ecd node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date",
        "mimetype": "text/plain",
        "start_char_idx": 951417,
        "end_char_idx": 957426,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6430dd7c-ac9f-4e0d-a546-3cf9986ee1e5",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7776091b-dcc8-418b-807d-0242450ae861",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "061d5c001e757b792b0a3b96301cac2bd0656bc759ecb3b80cfed596bd4df190",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4441f046-a756-44e1-ad8a-00771f059ff1",
                "node_type": "1",
                "metadata": {},
                "hash": "a3158e573bfd5dad0a4b414b5a9beef5449490228bedc525f7ed8f01eac54a8d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 262aeae22e6f49fcbe917fc500e76ecd node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash bcd808883271379f04fba8dc5297333f2640fb5fcc4ba9aca035061a0bd1bac6 class_name relatednodeinfo  3  node_id 31ba61b72e21435dbfd0f20832636b4f node_type 1 metadata  hash 24ef95ae29a41e89548a22a330aa454d383dc4b768c1c8315fae1c7018ce4931 class_name relatednodeinfo   text at a large scale challenging implementing atop existing frame works requires custom code for multiple steps including retrieval reranking and generation to promote wider adoption of rag in academia we develop ragnaru00f6k a userfriendly reusable end toend rag framework offering code for customizable retrievers rerankers and generation models ragnaru00f6k comprises two key modules r retrieval and ag augmented generation the retrieval module incorporates both the retrieval and reranking stages to yield the top ud835udc58retrieved seg ments for an input user topic next the augmented generation module uses the userprovided topic and retrieved segments to produce an rag answer formatted into individual sentences cit ing the relevant information from the top ud835udc58retrieved segments ragnaru00f6k is deeply integrated with existing python frameworks such as pyserini 31 and rank_llm 4647 and can be easily in stalled via pypi using pip install pyragnarok the framework offers easytouse rest apis and an integrated webui to enhance userfriendliness and improve the human evaluation experience the ragnaru00f6k framework will be used for providing baselines in the upcoming trec 2024 retrieval augmented generation rag track1an ideal framework should include a sufficiently large doc ument collection covering diverse information and nonfactoid decompositional topics requiring longform answers in our frame work we deduplicate the existing ms marco v2 document col lection in addition we provide a segment collection using a slidingwindow chunking technique discussed in section 4 fur ther we release two sets of development topics i trecraggy 2024 a filtered subset of topics with longform answers from trec deep learning 202123 1517 and ii trecresearchy 2024 a subset of the researchy questions introduced in rosset et al 51 our ragnaru00f6k framework supports a headtohead rag battle arena for the answer evaluation heavily inspired by recent work such as the chatbot arena 1358 we include key industrial base lines such as cohere command r 14 and openai gpt4o 41 and evaluate both the baselines using the retrieval setup involving bm25 49 and rankzephyr 47 with human preferences overall we observe gpt4o to provide more detailed answers over com mand r on the development set of topics discussed in section 6 finally we opensource ragnaru00f6k and make it publicly available at the following url httpsgithubcomcastoriniragnarok in the future we will include a wider variety of llms as baselines and continue to improve our framework 1trec 2024 retrieval augmented generation rag track httpstrecraggithubioarxiv240616828v1 csir 24 jun 2024 mimetype textplain start_char_idx 0 end_char_idx 5495 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 183237bdee28466c82caa3c21153918f embedding null metadata page_label 2 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 9322d93b7f2d40d99c2352882d9aae3c node_type 4 metadata page_label 2 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 9f49aa60ee4bfdc59735aaa351bfd9ba63f3d626f875f719adfd4ade63aca6e4 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al r retrieval module bm25 rankzephyr user topic how often should you take your toddler to the potty when potty training referencesdoc0 doc1 doc19 response_length 728 answer text the frequency with which you should take your toddler to the potty depends on their readiness for potty training citations 0 1 12 13 19 text if they are reluctant to use the potty dont force them citations 6 8 doc0 how often should i take my toddler to the potty doc1 how to potty train your kid doc19 potty training how to get the job done topk segments ag augmented generation module command r gpt4orag output json prompting llm retrieval rerank rag retrievalaugmented generation module figure 1 schematic diagram of the ragnaru00f6k framework given a user topic left the process consists of two steps 1 r retrieval rerank where the topic yields the top ud835udc58relevant segments from our document collection eg potty training articles and 2 ag augmentedgeneration where the retrieved segments with a suitable prompt template is fed to the large language model llm to generate the postprocessed answer response json containing",
        "mimetype": "text/plain",
        "start_char_idx": 956827,
        "end_char_idx": 962468,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4441f046-a756-44e1-ad8a-00771f059ff1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6430dd7c-ac9f-4e0d-a546-3cf9986ee1e5",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "dfdab819b62c83eb8176aeb8cacd84219b8532bcc77fb53859fc25f5271308c8",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3702f9c3-49c9-4231-86f2-42bc75e19f33",
                "node_type": "1",
                "metadata": {},
                "hash": "b8f068294fb5224e3bbc89396b5df3c794978d6ca9675b216fa2423c963a197d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "answer text the frequency with which you should take your toddler to the potty depends on their readiness for potty training citations 0 1 12 13 19 text if they are reluctant to use the potty dont force them citations 6 8 doc0 how often should i take my toddler to the potty doc1 how to potty train your kid doc19 potty training how to get the job done topk segments ag augmented generation module command r gpt4orag output json prompting llm retrieval rerank rag retrievalaugmented generation module figure 1 schematic diagram of the ragnaru00f6k framework given a user topic left the process consists of two steps 1 r retrieval rerank where the topic yields the top ud835udc58relevant segments from our document collection eg potty training articles and 2 ag augmentedgeneration where the retrieved segments with a suitable prompt template is fed to the large language model llm to generate the postprocessed answer response json containing individual sentencelevel citations 2 related work rag frameworks existing rag systems are primarily closed source and difficult to reproduce opensource frameworks such as langchain 12 and llamaindex 33 while available are not researchfriendly and lack proper evaluation and benchmarking flashrag 24 a concurrent work is a similarly motivated toolkit to improve the rag experience for researchers while the frame work is extensive and designed for pipeline flexibility ragnaru00f6k offers a few additional capabilities a webui serving a rag battle arena easytouse rest apis a standardized io definition working with sentencelevel citations and a tight integration with popular retrieval reranking frameworks like pyserini 31 and rankllm collection selection current rag datasets are constructed using the english wikipedia as the document collection however their scale is limited to provide rich and comprehensive information to support rag systems in addition clueweb22 42 offers an exten sive collection of 22 billion curated web pages previously utilized in trec tracks such as the trec conversational assistance track cast 43 and the forthcoming trec interactive knowledge as sistance track ikat 3 another alternative is the ms marco v2 document collection used in the trec deep learning dl track topic selection recently there has been a surge in datasets pro viding topics with longform answers for evaluating rag systems asqa 52 eli5 18 and qampari 4 were utilized for evaluation in the automatic llms citation evaluation alce framework 19 similarly related longform qa datasets include aquamuse 27 expertqa 36 and truthfulqa 32 another recently introduced dataset is mimetype textplain start_char_idx 605484 end_char_idx 611906 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 31ba61b72e21435dbfd0f20832636b4f embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id fe665524f6c84556968f32df28110f36 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 16830ded95b2fc78db2ace4fb7a3343818ce156b2e5e2acc93f505374a861664 class_name relatednodeinfo  3  node_id 8312c108fc5543ee87ce8e0c725c8378 node_type 1 metadata  hash e4586d668049039d7a45a4b37b7c8573fe1614c1dde6e59aca40e6054e6f2406 class_name relatednodeinfo   text integration with popular retrieval reranking frameworks like pyserini 31 and rankllm collection selection current rag datasets are constructed using the english wikipedia as the document collection however their scale is limited to provide rich and comprehensive information to support rag systems in addition clueweb22 42 offers an exten sive collection of 22 billion curated web pages previously utilized in trec tracks such as the trec conversational assistance track cast 43 and the forthcoming trec interactive knowledge as sistance track ikat 3 another alternative is the ms marco v2 document collection used in the trec deep learning dl track topic selection recently there has been a surge in datasets pro viding topics with longform answers for evaluating rag systems asqa 52 eli5 18 and qampari 4 were utilized for evaluation in the automatic llms citation evaluation alce framework 19 similarly related longform qa datasets include aquamuse 27 expertqa 36 and truthfulqa 32 another recently introduced dataset is clapnq 50 created from the subset of natural ques tions nq 28 and hagrid 25 built on a subset of ms marco dev 8 almost all previous datasets are built on english wikipedia in contrast our work deliberately avoids english wikipedia to pre vent the overfitting commonly seen in existing benchmarks 4054 in our work we reutilize topics from previous trec tracks such as the deep learning dl track because human judgments are available on the ms marco v2 corpora and researchy questions 51 as it covers a wide range of topics based on clueweb22 423 our framework ragnaru00f6k is an opensource reproducible and reusable framework implementing an endtoend retrievalaugmented generation rag pipeline comprising two modules applied sequentially 1 r re trieval and 2 ag augmented generation through the ragnaru00f6k framework we will provide several baselines to all participants in the upcoming trec 2024 rag track an overview of the frame work is provided in figure 1 we first describe both modules and expand on the io specifications in our framework retrieval module this module retrieves the relevant segments for a user topic as the input it supports i firststage lexical re trieval models such as",
        "mimetype": "text/plain",
        "start_char_idx": 961526,
        "end_char_idx": 967775,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3702f9c3-49c9-4231-86f2-42bc75e19f33",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4441f046-a756-44e1-ad8a-00771f059ff1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "19729df164a99c345a7120102ebc36896cd008c5683b667a844ca462cfff42f8",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "83843928-ba8a-4b80-b064-2dc7d309e981",
                "node_type": "1",
                "metadata": {},
                "hash": "6af111e72a9940afb911b4c2066246a2bc2398b0dbcd4acb41f8d9f283cfd003",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "english wikipedia to pre vent the overfitting commonly seen in existing benchmarks 4054 in our work we reutilize topics from previous trec tracks such as the deep learning dl track because human judgments are available on the ms marco v2 corpora and researchy questions 51 as it covers a wide range of topics based on clueweb22 423 our framework ragnaru00f6k is an opensource reproducible and reusable framework implementing an endtoend retrievalaugmented generation rag pipeline comprising two modules applied sequentially 1 r re trieval and 2 ag augmented generation through the ragnaru00f6k framework we will provide several baselines to all participants in the upcoming trec 2024 rag track an overview of the frame work is provided in figure 1 we first describe both modules and expand on the io specifications in our framework retrieval module this module retrieves the relevant segments for a user topic as the input it supports i firststage lexical re trieval models such as bm25 49 and ii reranking models such as rankzephyr 47 the retrieval system searches for relevant segments in the document collection and retrieves the top 100seg ments further reranked by the reranker model to filter out the top20relevant segments for the next stage augmented generation module this module takes in the user topic and the top 20retrieved segments from the retrieval module as the input and a prompting strategy to the large language model llm to generate the answer response with incontext citations for the topic the answer response is divided into individual sentences each sentence within the answer contains text and is grounded on retrieved documents provided as references 31 rag inputoutput definitions rag input the input specifications are straightforward as the user can formulate any question they wish to ask provide the user topic and call our ragnaru00f6k restapi framework rag output the user receives a json output in response to their topic from the ragnaru00f6k framework the first key in the output json schema references provides an ordered list of the top 20 ranked segment ids from our retrieval module next answer pro vides the llmgenerated rag answer to the user topic presented as a toptobottom list of sentencelevel texts with corresponding seg ment citations all citations are zerobased indexed indicating the exact position of the segment id from the references list finally response_length provides the total count of the text characters present in the output rag answer mimetype textplain start_char_idx 0 end_char_idx 5569 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 5c6783c36080457f8d26cb3b857ee622 embedding null metadata page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id ac271a3ababc46789d1b02239cad3f65 node_type 4 metadata page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash aee8796a813c0b2082673989703925c24697f589646b776db4a8600124dea651 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa table 1 comparison of document and segment counts be tween versions v2 and v21 our version after removing near duplicates of the ms marco collection collection version v2 version v21 ours ms marco document 11959635 10960555 ms marco segment 124131414 113520750 4 document collection the ms marco v2 document collection earlier used in the trec dl tracks contains a substantial overlap of nearduplicates docu ments with sufficiently similar text information within the collec tion 1617 when left intact these nearduplicates degrade the downstream retrieval accuracy and reduce the diversity of the col lected documents potentially impacting the effectiveness of rag systems in addition chunking which breaks down a long verbose document into smaller compact representations is a key challenge in rag as the retrieved chunk representations correlate with the rag answer quality 34 ms marco v21 document collection we conduct a deduplica tion strategy in the ms marco v2 document collection to avoid nearduplicates in two stages in the first stage we establish an equivalence class of the documents using locality sensitive hashing lsh with minhash 11 and 9gram shingles next we selected a representative document for each equivalence class for our refined ms marco v21 document collection2reducing the duplicates in the original ms marco v2 document collection by 835 as shown in table 1 ms marco v21 segment collection we segment the ms marco v21 document collection into overlapping segments or chunks and develop the ms marco v21 segment collection3with more than 113 million text segments table 1 we utilize a sliding window technique to generate the segments by fixing the sliding window size of 10 sentences and a stride of 5 sentences to create each seg ment roughly on average between 5001000 characters long to easily map each segment back to the document every segment contains mimetype textplain start_char_idx 610883 end_char_idx 617571 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 8312c108fc5543ee87ce8e0c725c8378 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2",
        "mimetype": "text/plain",
        "start_char_idx": 966794,
        "end_char_idx": 973110,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "83843928-ba8a-4b80-b064-2dc7d309e981",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3702f9c3-49c9-4231-86f2-42bc75e19f33",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "7c22324c7e2ecfe2ea30151f8e3d6cbc631e0b30fc68094dc16d73075499ac88",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d06f97f9-a16f-4dfe-bb15-6e5f4db2fc30",
                "node_type": "1",
                "metadata": {},
                "hash": "cc5ff09a2b3a5b469838d7ec16cca2f1d176a5676d030dfa41344c8639896651",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 31ba61b72e21435dbfd0f20832636b4f node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 846fbc380a2dc5ccb02597fa1d3ac19d15b30ea33f810614519fed5fa97a3122 class_name relatednodeinfo  3  node_id f9ffb7e179f644ceb3b4e6ddd534fbd1 node_type 1 metadata  hash d47b52b0034ef9420264eed6fd814d9719c9f575bbfa9f734bf76e0513e08c16 class_name relatednodeinfo   text document collection we conduct a deduplica tion strategy in the ms marco v2 document collection to avoid nearduplicates in two stages in the first stage we establish an equivalence class of the documents using locality sensitive hashing lsh with minhash 11 and 9gram shingles next we selected a representative document for each equivalence class for our refined ms marco v21 document collection2reducing the duplicates in the original ms marco v2 document collection by 835 as shown in table 1 ms marco v21 segment collection we segment the ms marco v21 document collection into overlapping segments or chunks and develop the ms marco v21 segment collection3with more than 113 million text segments table 1 we utilize a sliding window technique to generate the segments by fixing the sliding window size of 10 sentences and a stride of 5 sentences to create each seg ment roughly on average between 5001000 characters long to easily map each segment back to the document every segment contains the document id within the segment id further two new fields start_char andend_char indicate the start and the end position character of where the segment begins and ends in the mapped ms marco v21 document collection 5 topic collection topics ie user queries are crucial for robust evaluation of rag systems traditionally popular retrieval and traditional qa bench marks primarily consist of factoid queries where answers are typi cally found within a single sentence or paragraph however these topics lack complexity leading to short answers that can be easily memorized by llms for instance ms marco 8 surprisingly con tains up to 55 factoid queries 951 to avoid shortform answers in rag we utilize two collections containing nonfactoid topics covering information about diverse topics and requiring longform answers we describe these collections below 2ms marco v21 document collection msmarco_v21_doctar 3ms marco v21 segment collection msmarco_v21_doc_segmentedtartable 2 trecraggy and trecresearchy 2024 topic dis tribution the table shows the top 5categories in topic clas sification for trecraggy intrinsic attributes for trec researchy and the first word in all topics definitions in more detail can be found in appendix a b trecraggy 2024 trecresearchy 2024 topic category first word intrinsic attributes first word aggregation 242 what 375 knowledgeintensive 798 how 410 simple w cond 233 how 275 multifaceted 757 why 255 set 208 why 33 reasoningintensive 755 what 150 simple 100 is 25 subjective 485 is 52 comparison 67 when 17 assumptive 257 should 22 trecraggy 2024 we develop trecraggy 2024 a collection with topics filtered from trec deep learning 20212023 tracks 15 17 based on topic category and generatedanswer classification we classify each available topic into seven categories described in appendix a and filter out a subset of topics that either have a long form answer or require information aggregation across multiple sources of information out of the 210 original topics available we filter and include 120 topics 571 in the trecraggy 2024 topic collection4from table 2 we observe 242 of the topics included are aggregation indicating rag systems require to aggregate information from multiple retrieved segments to generate an accu rate longform answer similarly 65 of the topics start with what or how overall a majority of the topics are useful for evaluation containing diverse topic categories requiring a longform answer trecresearchy 2024 researchy questions introduced in ros set et al 51 contains 102k nonfactoid topics with longform answers these topics were curated from bing search logs and eval uated by gpt4 on a scale of 010 based on eight intrinsic attributes such as subjectivity and multifacetedness definitions provided in appendix b notably unlike trecraggy 2024 these queries lack relevance judgments to curate a smaller development subset for a faster evaluation of rag systems we employ a sampler designed to maximize diversity based on the eight intrinsic attributes this is achieved by iteratively selecting the query with the highest ud835udc591 norm in the intrinsic attribute space of all eight dimensions rela tive to the alreadysampled set the resultant topic set we dub as trecresearchy 20245from table 2 about 80 of the topics are knowledgeintensive and about 76 are multifaceted highlighting the need for effective rag systems additionally 665 of topics start with how or why emphasizing explanatory questions these distributions suggest that trecresearchy 2024 prioritizes complex and multidimensional topics 6 trec 2024 rag baselines retrieval our retrieval module integrates both firststage retriev ers and rerankers we use bm25 available in anserini 57 with the following default parameters ud835udc58109andud835udc4f04 to retrieve the top 100segments for a given topic next rankzephyr 47 a stateoftheart listwise reranker is used to",
        "mimetype": "text/plain",
        "start_char_idx": 972464,
        "end_char_idx": 978540,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d06f97f9-a16f-4dfe-bb15-6e5f4db2fc30",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "83843928-ba8a-4b80-b064-2dc7d309e981",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c5ecfb4c6747370d2ad6589ae0423f75bd991e1247f3abd00910105c7f14fd6f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "49884707-5633-430c-b136-57fd5b4cfa4d",
                "node_type": "1",
                "metadata": {},
                "hash": "68e88aa37f4dbfb8fc09aaa244b88b675ace6c42736e11344696a5e8b97411b9",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "eight intrinsic attributes this is achieved by iteratively selecting the query with the highest ud835udc591 norm in the intrinsic attribute space of all eight dimensions rela tive to the alreadysampled set the resultant topic set we dub as trecresearchy 20245from table 2 about 80 of the topics are knowledgeintensive and about 76 are multifaceted highlighting the need for effective rag systems additionally 665 of topics start with how or why emphasizing explanatory questions these distributions suggest that trecresearchy 2024 prioritizes complex and multidimensional topics 6 trec 2024 rag baselines retrieval our retrieval module integrates both firststage retriev ers and rerankers we use bm25 available in anserini 57 with the following default parameters ud835udc58109andud835udc4f04 to retrieve the top 100segments for a given topic next rankzephyr 47 a stateoftheart listwise reranker is used to rerank the top 100can didates we use rankzephyr ud835udf0c a variant that reranks the candidates progressively ie makes three passes iteratively refining the final 4trecraggy 2024 topic collection topicsrag24raggydevtxt 5trecresearchy 2024 topic collection topicsrag24researchydevtxt mimetype textplain start_char_idx 0 end_char_idx 6185 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c31ee34707054322af4c49176b48a67d embedding null metadata page_label 4 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 2f9a64dd5f3740f78e10bcdb7e079ec3 node_type 4 metadata page_label 4 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash c088c4fa2fc2d9855a0f32eb54622c9b4aa101b1237679c5c8184be7cab18d65 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al ranked candidate list to achieve better precision an easytouse implementation of mimetype textplain start_char_idx 616578 end_char_idx 622826 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f9ffb7e179f644ceb3b4e6ddd534fbd1 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 8312c108fc5543ee87ce8e0c725c8378 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 866f0295dd85e5d36103ca8c3b1d758161e4892737412e5af44ba8ecdccd7c8b class_name relatednodeinfo  3  node_id 6e02fd68abb54d47b3b3140e093c765f node_type 1 metadata  hash 106b94dafcbc2bf4a0a657189fb4ea42e87f2fb31c6bdb02d60ec0db0d076f1d class_name relatednodeinfo   text 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 2f9a64dd5f3740f78e10bcdb7e079ec3 node_type 4 metadata page_label 4 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash c088c4fa2fc2d9855a0f32eb54622c9b4aa101b1237679c5c8184be7cab18d65 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al ranked candidate list to achieve better precision an easytouse implementation of rankzephyr is available via the rank_llm pack age along with various other rerankers like rankgpt 53 which we provide as secondary baselines finally the top 20reranked documents from the document collection are passed onto the next stage for rag generation augmented generation our generation module integrates two popular and commercially available llms i command r is coheres instruction following llm developed for complex rag pipelines 14 ii gpt4o is the latest gpt version from ope nai 41 given that command r cites in a span level we map the citations to their parent sentences for gpt4o we follow the zeroshot chatqa prompt template 35 and cite relevant segments within the text inline using the ieee format an example of the prompt template is shown in figure 2 in the appendix ragbench evaluation evaluating different rag answers is chal lenging as multiple factors within the output response are crucial",
        "mimetype": "text/plain",
        "start_char_idx": 977634,
        "end_char_idx": 982830,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "49884707-5633-430c-b136-57fd5b4cfa4d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d06f97f9-a16f-4dfe-bb15-6e5f4db2fc30",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3176abb05e09fca977084b52aa0f246e5b30a234e74f9b23c2a7d94516bc0ec6",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d4c15415-4356-46c6-b348-a209beedacbd",
                "node_type": "1",
                "metadata": {},
                "hash": "09ed58767b6dc7eb71ccce124601a1b13b9251c5004d5d254e69f27100a7e623",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "et al ranked candidate list to achieve better precision an easytouse implementation of rankzephyr is available via the rank_llm pack age along with various other rerankers like rankgpt 53 which we provide as secondary baselines finally the top 20reranked documents from the document collection are passed onto the next stage for rag generation augmented generation our generation module integrates two popular and commercially available llms i command r is coheres instruction following llm developed for complex rag pipelines 14 ii gpt4o is the latest gpt version from ope nai 41 given that command r cites in a span level we map the citations to their parent sentences for gpt4o we follow the zeroshot chatqa prompt template 35 and cite relevant segments within the text inline using the ieee format an example of the prompt template is shown in figure 2 in the appendix ragbench evaluation evaluating different rag answers is chal lenging as multiple factors within the output response are crucial for effectiveness evaluation to combat this recent works rely on an llmasajudge setup 58 where strong llm assessors judge the raggenerated output in a pairwise evaluation style sidebyside in a headon tournament in our work we briefly overview our baseline techniques using human evaluators a complete illustra tion can be found in table 4 in the appendix the command r baseline outputs shorter answers and cites more relevant segments whereas the gpt4o baseline outputs longer and more detailed answers and cites fewer segments therefore for topics in both trecraggy and trecresearchy 2024 gpt4o intuitively is the better choice for rag answer generation we leave it for future work to empirically compute the win rates in between our baselines in the ragbench evaluation 61 ragnaru00f6k system arena heavily inspired by the success of chatbot arena 1358 a crowd sourcing benchmark webui featuring anonymous battles we ex tend the concept to multistage configurable rag pipelines with ragnaru00f6k in the arena users interact with two unblindedblinded rag systems simultaneously issuing the same topic to both the participants evaluate and select the pipeline that delivers their most preferred response with the identities of the modules in the endto end pipeline revealed after the voting process in the blinded case we leverage gradio 1 to build the webui for ragnaru00f6k each step of the pipeline uses rest apis for intercommunication enabling easy module switching within the pipeline this modular design simplifies the integration of different retrieval and llm configura tions enhancing scalability and maintainability figure 3 in the appendix illustrates an example topic what inspired pink floyds the wall processed by two different pipelines pipeline a comprising bm25 rankzephyrgpt4o left and pipeline b comprising bm25 rankgpt4ocommand r right in the unblinded tab the outputs generated by each pipeline are compared allowing users to discern which system provided a more satisfactory answer note that when the user hovers the mouse over a citation they can preview the cited segment further in appendix c we discuss the blinded pairwise evaluation and the responses json output tab available in the webui for ragnaru00f6k7 ongoing work ragnaru00f6k is the first step for the ongoing work in the trec 2024 rag track by releasing the document collections development topics and baseline strategies for participants we will continue to update the pipelines to include more diverse retrieval models including stateoftheart dual encoders such as articembed 38 and effective pointwisepairwise rerankers 45 we plan to add additional support for more advanced rag techniques like self rag 7 and crag 56 for the trec 2024 rag track test topics we plan to conduct a new and fresh scrape of the bing search logs closer to the submission period this approach will compile a fresh and recent set of topics similar to rosset et al 51 thereby mini mizing the risk of data leakage and ensuring a fair evaluation with existing commercially available llms the next phase of our efforts will focus on finalizing the eval uation methodology using an automatic nuggetbased evaluation following earlier work in lin and demnerfushman 30 and first discussed in the trec rag 2024 presentation deck6the nugget based evaluation is recently gaining popularity 263748 and is becoming the de facto strategy for rag evaluation 8 conclusion the emergence of retrievalaugmented generation rag has rev olutionized modern search systems by allowing realtime data in corporation into large language models llms in our work we develop a reusable endtoend framework ragnaru00f6k providing reproducible baselines and a webui serving a rag battle arena for retriever reranker and generation models we also introduce the ms marco v21 collection carefully curated topics from the trecdl 20212023 queries and researchy questions and io defi nitions to assist users in the rag paradigm additionally the paper identifies key industrial baselines such as coheres command r and openais gpt4o and includes a qualitative analysis of the baselines on the development topics by opensourcing this frame work we aim to standardize rag applications in preparation for the upcoming trec 2024 rag challenge acknowledgments we thank ian soboroff for the ms marco v2 document collection deduplication for our trec 2024 rag track cohere for providing us with the necessary credits to evaluate commandr and mi crosoft for providing azure credits to evaluate gpt4o additionally we thank corby rosset for the discussions surrounding researchy questions 51 references 1abubakar abid ali abdalla ali abid dawood khan abdulrahman alfozan and james y zou 2019 gradio hasslefree sharing and testing of ml models in the wild corr abs190602569 2019 arxiv190602569 httparxivorgabs 190602569 2marwah alaofi negar arabzadeh charles l a clarke and mark sanderson 2024 generative information retrieval evaluation corr abs240408137 2024 mimetype textplain start_char_idx 622198 end_char_idx 628716 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6e02fd68abb54d47b3b3140e093c765f embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson",
        "mimetype": "text/plain",
        "start_char_idx": 981830,
        "end_char_idx": 988468,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d4c15415-4356-46c6-b348-a209beedacbd",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "49884707-5633-430c-b136-57fd5b4cfa4d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2537152f50adcf29abdcdc5653c19a7c509167fb325eb8529d91e7dbb2ee0112",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0af6ab4b-2198-443d-b110-a5fdef0c7852",
                "node_type": "1",
                "metadata": {},
                "hash": "507228618cb2886cb1030b9eb27fa2acf6e13821b87b0c67427f94a88d1e68ed",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "generative information retrieval evaluation corr abs240408137 2024 mimetype textplain start_char_idx 622198 end_char_idx 628716 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6e02fd68abb54d47b3b3140e093c765f embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id f9ffb7e179f644ceb3b4e6ddd534fbd1 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 5368bfb39e1ba24a5480ef9d4bb8f994193b786533bdf8339f74a7f0ab39512d class_name relatednodeinfo  3  node_id 3d39dd68b28c45c6a036142d26d84ec7 node_type 1 metadata  hash 416058ba501be000390e11d066bdee090834ffc3add46995713ba667572bc176 class_name relatednodeinfo   text standardize rag applications in preparation for the upcoming trec 2024 rag challenge acknowledgments we thank ian soboroff for the ms marco v2 document collection deduplication for our trec 2024 rag track cohere for providing us with the necessary credits to evaluate commandr and mi crosoft for providing azure credits to evaluate gpt4o additionally we thank corby rosset for the discussions surrounding researchy questions 51 references 1abubakar abid ali abdalla ali abid dawood khan abdulrahman alfozan and james y zou 2019 gradio hasslefree sharing and testing of ml models in the wild corr abs190602569 2019 arxiv190602569 httparxivorgabs 190602569 2marwah alaofi negar arabzadeh charles l a clarke and mark sanderson 2024 generative information retrieval evaluation corr abs240408137 2024 httpsdoiorg1048550arxiv240408137 arxiv240408137 3mohammad aliannejadi zahra abbasiantaeb shubham chatterjee jeffery dal ton and leif azzopardi 2024 trec ikat 2023 the interactive knowledge assistance track overview corr abs240101330 2024 httpsdoiorg10 48550arxiv240101330 arxiv240101330 6httpscsuwaterlooca jimmylinpublicationslin_etal_trec2023planningpdf mimetype textplain start_char_idx 0 end_char_idx 6383 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 95432a43ac674d3c9e62ec0106e1b085 embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id e2cfeff83bfd4842a2bdc1fae76317ea node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo 3 node_id 1332805b80f94459bfd703bbc6d38c88 node_type 1 metadata hash f8592af8718ae1fd9c1dd37d50dc4c967a34a1117643ba1765806e6da549d0d9 class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa 4samuel joseph amouyal ohad rubin ori yoran tomer wolfson jonathan herzig and jonathan berant 2022 qampari an opendomain question answering benchmark for questions with many answers from multiple para graphs corr abs220512665 2022 httpsdoiorg1048550arxiv220512665 arxiv220512665 5rohan anil sebastian borgeaud yonghui wu jeanbaptiste alayrac jiahui yu radu soricut johan schalkwyk andrew m dai anja hauth katie mil lican david silver slav petrov melvin johnson ioannis antonoglou julian schrittwieser amelia glaese jilin chen emily pitler timothy p lillicrap ange liki lazaridou orhan firat james molloy michael isard paul ronald barham tom hennigan benjamin lee fabio viola malcolm reynolds yuanzhong xu ryan doherty eli collins clemens meyer eliza rutherford erica moreira ka reem ayoub megha goel george tucker enrique piqueras maxim krikun iain barr",
        "mimetype": "text/plain",
        "start_char_idx": 987740,
        "end_char_idx": 992441,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0af6ab4b-2198-443d-b110-a5fdef0c7852",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d4c15415-4356-46c6-b348-a209beedacbd",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "a5753af11803361aeb13f44cc11bdc0e790ae5604a61bd98204bd70f13d74de6",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8e2e5a3c-1125-4bf1-97fd-a74ec5d33083",
                "node_type": "1",
                "metadata": {},
                "hash": "f1954cb1597dedadae9d81fa4f6c2382237579685fd56554967f03c303d997d6",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "arxiv220512665 5rohan anil sebastian borgeaud yonghui wu jeanbaptiste alayrac jiahui yu radu soricut johan schalkwyk andrew m dai anja hauth katie mil lican david silver slav petrov melvin johnson ioannis antonoglou julian schrittwieser amelia glaese jilin chen emily pitler timothy p lillicrap ange liki lazaridou orhan firat james molloy michael isard paul ronald barham tom hennigan benjamin lee fabio viola malcolm reynolds yuanzhong xu ryan doherty eli collins clemens meyer eliza rutherford erica moreira ka reem ayoub megha goel george tucker enrique piqueras maxim krikun iain barr nikolay savinov ivo danihelka becca roelofs anau00efs white an ders andreassen tamara von glehn lakshman yagati mehran kazemi lu cas gonzalez misha khalman jakub sygnowski and et al 2023 gemini a family of highly capable multimodal models corr abs231211805 2023 httpsdoiorg1048550arxiv231211805 arxiv231211805 6negar arabzadeh and charles l a clarke 2024 a comparison of methods for evaluating generative ir corr abs240404044 2024 httpsdoiorg1048550 arxiv240404044 arxiv240404044 7akari asai zeqiu wu yizhong wang avirup sil and hannaneh hajishirzi 2023 selfrag learning to retrieve generate and critique through self reflection corr abs231011511 2023 httpsdoiorg1048550arxiv2310 11511 arxiv231011511 8payal bajaj daniel campos nick craswell li deng jianfeng gao xiaodong liu rangan majumder andrew mcnamara bhaskar mitra tri nguyen mir rosenberg xia song alina stoica saurabh tiwary and tong wang 2016 ms marco a human generated machine reading comprehension dataset corr abs161109268 2016 arxiv161109268 httparxivorgabs161109268 9valeria bolotova vladislav blinov falk scholer w bruce croft and mark sander son 2022 a nonfactoid questionanswering taxonomy in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 11961207 httpsdoiorg10114534774953531926 10 sebastian borgeaud arthur mensch jordan mimetype textplain start_char_idx 627921 end_char_idx 632645 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3d39dd68b28c45c6a036142d26d84ec7 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 6e02fd68abb54d47b3b3140e093c765f node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash d8854f2cf6eea72747e106720b72a6f0fb202f52b0bd29584b08d281243b6abd class_name relatednodeinfo  3  node_id 88a882895b374c34aa3e9bb69e8ae53a node_type 1 metadata  hash 758320e7719a3a9edeb691e590d8ef817488b09bc5ed86ffc6490b88cf7d4fc4 class_name relatednodeinfo   text bhaskar mitra tri nguyen mir rosenberg xia song alina stoica saurabh tiwary and tong wang 2016 ms marco a human generated machine reading comprehension dataset corr abs161109268 2016 arxiv161109268 httparxivorgabs161109268 9valeria bolotova vladislav blinov falk scholer w bruce croft and mark sander son 2022 a nonfactoid questionanswering taxonomy in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 11961207 httpsdoiorg10114534774953531926 10 sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza ruther ford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen simonyan jack w rae erich elsen and laurent",
        "mimetype": "text/plain",
        "start_char_idx": 991852,
        "end_char_idx": 996393,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8e2e5a3c-1125-4bf1-97fd-a74ec5d33083",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0af6ab4b-2198-443d-b110-a5fdef0c7852",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "0dba04d5ca4fa793aaaacfa573c5c6e6fa56df9510061c971d0c5d728471f64c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f2887ce7-5ac3-4692-a8e1-49ae13cec296",
                "node_type": "1",
                "metadata": {},
                "hash": "4ed9bfc4a4e15ab5455f1a31b180f71e019552091c9a4cc57060e4688ac035f3",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 11961207 httpsdoiorg10114534774953531926 10 sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza ruther ford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen simonyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international con ference on machine learning icml 2022 1723 july 2022 baltimore maryland usa proceedings of machine learning research vol 162 kamalika chaudhuri stefanie jegelka le song csaba szepesvu00e1ri gang niu and sivan sabato eds pmlr 22062240 httpsproceedingsmlrpressv162borgeaud22ahtml 11 andrei z broder 1997 on the resemblance and containment of documents incompression and complexity of sequences 1997 positano amalfitan coast salerno italy june 1113 1997 proceedings bruno carpentieri alfredo de santis ugo vaccaro and james a storer eds ieee 2129 httpsdoiorg101109 sequen1997666900 12 harrison chase 2022 langchain httpsgithubcomlangchainailangchain 13 weilin chiang lianmin zheng ying sheng anastasios nikolas angelopoulos tianle li dacheng li hao zhang banghua zhu michael i jordan joseph e gonzalez and ion stoica 2024 chatbot arena an open platform for evaluating llms by human preference corr abs240304132 2024 httpsdoiorg10 48550arxiv240304132 arxiv240304132 14 cohere 2024 introducing command r a scalable llm built for business https coherecomblogcommandrplusmicrosoftazure 15 nick craswell bhaskar mitra emine yilmaz daniel campos and jimmy lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell mimetype textplain start_char_idx 0 end_char_idx 4847 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 1332805b80f94459bfd703bbc6d38c88 embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id e2cfeff83bfd4842a2bdc1fae76317ea node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo 2 node_id 95432a43ac674d3c9e62ec0106e1b085 node_type 1 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash e3c9e6911f1a65c49be2daa61a96c88d2e00e1f22394c8f60d869027a943298b class_name relatednodeinfo 3 node_id 68bc0d7b30e741b484ba009fbf6489ff node_type 1 metadata hash 65cf89cac13ee655fadab85d4f6f66a8c2838dcfefd6a42951ee29e278141a8f class_name relatednodeinfo text lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela mimetype textplain start_char_idx 631966 end_char_idx 636705 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 88a882895b374c34aa3e9bb69e8ae53a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id",
        "mimetype": "text/plain",
        "start_char_idx": 995738,
        "end_char_idx": 1000581,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f2887ce7-5ac3-4692-a8e1-49ae13cec296",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8e2e5a3c-1125-4bf1-97fd-a74ec5d33083",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "de031377d8feb9a508dc5cc0c25b02957e5524a4eed1de6e9272265fc9b2efdf",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "afc4d326-ecf4-4deb-81df-d21908f152f8",
                "node_type": "1",
                "metadata": {},
                "hash": "2ac5b6b798897891c8b6efe3cd53bb0d33807e016e8e522486fc6af9fdd22527",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela mimetype textplain start_char_idx 631966 end_char_idx 636705 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 88a882895b374c34aa3e9bb69e8ae53a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 3d39dd68b28c45c6a036142d26d84ec7 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 812c2f2c10c63832e06fd6886f928b35aa993a731794c194fe96a66b626dbee6 class_name relatednodeinfo  3  node_id d5c8ba9e37354467a054e94f676487b8 node_type 1 metadata  hash 07979599d5b923afb8310485d7d3097163d63a4a89ff48844feef737387d4722 class_name relatednodeinfo   text file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash e3c9e6911f1a65c49be2daa61a96c88d2e00e1f22394c8f60d869027a943298b class_name relatednodeinfo 3 node_id 68bc0d7b30e741b484ba009fbf6489ff node_type 1 metadata hash 65cf89cac13ee655fadab85d4f6f66a8c2838dcfefd6a42951ee29e278141a8f class_name relatednodeinfo text lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell bhaskar mitra emine yilmaz hossein a rahmani daniel cam pos jimmy lin ellen m voorhees and ian soboroff 2024 overview of the trec 2023 deep learning track in text retrieval conference trec nist trec httpswwwmicrosoftcomenusresearchpublicationoverviewofthe trec2023deeplearningtrack18 angela fan yacine jernite ethan perez david grangier jason weston and michael auli 2019 eli5 long form question answering in proceedings of the 57th conference of the association for computational linguistics acl 2019 florence italy july 28 august 2 2019 volume 1 long papers anna korhonen david r traum and lluu00eds mu00e0rquez eds association for computational lin guistics 35583567 httpsdoiorg1018653v1p191346 19 tianyu gao howard yen jiatong yu and danqi chen 2023 enabling large language models to generate text with citations in proceedings of the 2023 conference on empirical methods in natural language processing emnlp 2023 singapore december 610 2023 houda bouamor juan pino and kalika bali eds association for computational linguistics 64656488 httpsdoiorg1018653 v12023emnlpmain398 20 yunfan gao yun xiong xinyu gao kangxiang jia jinliu pan yuxi bi yi dai jiawei sun qianyu guo meng wang and haofen wang 2023 retrievalaugmented generation for large language models a survey corr abs231210997 2023 httpsdoiorg1048550arxiv231210997 arxiv231210997 21 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang 2020 retrieval augmented language model pretraining in proceedings of the 37th international conference on machine learning icml 2020 1318 july 2020 virtual event proceedings of machine learning research vol 119 pmlr 39293938 httpproceedingsmlrpressv119guu20ahtml 22 gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open domain question answering in proceedings of the 16th conference of the european chapter of the association for computational linguistics main volume eacl 2021 online april 19 23 2021 paola merlo ju00f6rg tiedemann and reut tsarfaty eds association for computational linguistics 874880",
        "mimetype": "text/plain",
        "start_char_idx": 999823,
        "end_char_idx": 1004627,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "afc4d326-ecf4-4deb-81df-d21908f152f8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f2887ce7-5ac3-4692-a8e1-49ae13cec296",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "097d90fb52df316cf75adabbc8f4837277ae0a98a917aba874273199b37bb074",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "eedf8149-55f9-402c-8f08-ccd464b7c713",
                "node_type": "1",
                "metadata": {},
                "hash": "e799987f214c4ac9080033c5bc71f978c0294f4d9bc4344c620993043b2478fb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "2023 httpsdoiorg1048550arxiv231210997 arxiv231210997 21 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang 2020 retrieval augmented language model pretraining in proceedings of the 37th international conference on machine learning icml 2020 1318 july 2020 virtual event proceedings of machine learning research vol 119 pmlr 39293938 httpproceedingsmlrpressv119guu20ahtml 22 gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open domain question answering in proceedings of the 16th conference of the european chapter of the association for computational linguistics main volume eacl 2021 online april 19 23 2021 paola merlo ju00f6rg tiedemann and reut tsarfaty eds association for computational linguistics 874880 httpsdoiorg1018653v12021eaclmain74 23 antonio jimenoyepes yao you jan milczek sebastian laverde and renyu li 2024 financial report chunking for effective retrieval augmented genera tion corr abs240205131 2024 httpsdoiorg1048550arxiv240205131 arxiv240205131 24 jiajie jin yutao zhu xinyu yang chenghao zhang and zhicheng dou 2024 flashrag a modular toolkit for efficient retrievalaugmented generation research corr abs240513576 2024 arxiv240513576 httpsarxivorgabs 240513576 25 ehsan kamalloo aref jafari xinyu zhang nandan thakur and jimmy lin 2023 hagrid a humanllm collaborative dataset for generative information seeking with attribution corr abs230716883 2023 httpsdoiorg1048550 arxiv230716883 arxiv230716883 26 urvashi khandelwal omer levy dan jurafsky luke zettlemoyer and mike lewis 2020 generalization through memorization nearest neighbor language models in 8th international conference on learning representations iclr 2020 addis ababa ethiopia april 2630 2020 openreviewnet httpsopenreview netforumidhklbjcekvh 27 sayali kulkarni sheide chammas wan zhu fei sha and eugene ie 2020 aqua muse automatically generating datasets for querybased multidocument summarization corr abs201012694 2020 arxiv201012694 httpsarxivorg abs201012694 28 tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur p parikh chris alberti danielle epstein illia polosukhin jacob de vlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natural questions a benchmark for question answering research trans assoc comput linguistics 7 2019 452466 httpsdoiorg101162tacl_a_00276 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel mimetype textplain start_char_idx 636159 end_char_idx 641131 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d5c8ba9e37354467a054e94f676487b8 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 88a882895b374c34aa3e9bb69e8ae53a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 7dbf7bb6e66f12d421ed6892ac780103940c31ce718729cf9f1bd70f69de7a1a class_name relatednodeinfo  3  node_id fc2d95bc8432431ea2fc7c610925575a node_type 1 metadata  hash 0629a1fb5ff3ee00ac51c6185224ee2d5bbdd7304d31298864f647907761c6a2 class_name relatednodeinfo   text summarization corr abs201012694 2020 arxiv201012694 httpsarxivorg abs201012694 28 tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur p parikh chris alberti danielle epstein illia polosukhin jacob de vlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natural questions a benchmark for question answering research trans assoc comput linguistics 7 2019 452466 httpsdoiorg101162tacl_a_00276 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems",
        "mimetype": "text/plain",
        "start_char_idx": 1003853,
        "end_char_idx": 1008725,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "eedf8149-55f9-402c-8f08-ccd464b7c713",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "afc4d326-ecf4-4deb-81df-d21908f152f8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f85eff2b653221bed99f11da5f0ba9a431ea3bdd2c44396f671c4f8724aa3310",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8849f014-9f10-4e1e-bc26-8de1b0bddfee",
                "node_type": "1",
                "metadata": {},
                "hash": "80b8eed0b5abf75ec1504cb4e39c8a23f0a47709ce8cefd311f0f83711d46f5c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "michael collins ankur p parikh chris alberti danielle epstein illia polosukhin jacob de vlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natural questions a benchmark for question answering research trans assoc comput linguistics 7 2019 452466 httpsdoiorg101162tacl_a_00276 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval mimetype textplain start_char_idx 4091 end_char_idx 9223 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 68bc0d7b30e741b484ba009fbf6489ff embedding null metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id e2cfeff83bfd4842a2bdc1fae76317ea node_type 4 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo 2 node_id 1332805b80f94459bfd703bbc6d38c88 node_type 1 metadata page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 47ee7bae968976d7d2b42316c1e90976f16600339bade6c2fe3b81d86b80a949 class_name relatednodeinfo text 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval uating answers to complex questions inf retr 9 5 2006 565587 https doiorg101007s1079100690037 31 jimmy lin xueguang ma shengchieh lin jhenghong yang ronak pradeep and rodrigo nogueira 2021 pyserini a python toolkit for reproducible informa tion retrieval research with sparse and dense representations in proceedings of the 44th annual international acm sigir conference on research and development in information retrieval sigir 2021 23562362 32 stephanie lin jacob hilton and owain evans 2022 truthfulqa measuring how models mimic human falsehoods in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers acl 2022 dublin ireland may 2227 2022 smaranda muresan preslav nakov and aline villavicencio eds association for computational linguistics 32143252 httpsdoiorg1018653v12022acllong229 mimetype textplain start_char_idx 8564 end_char_idx 10070 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 223fcdfa0889458da7e85a83d23dd261 embedding null metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0e0acd9ce13a4c07a5495b154e4814bb node_type 4 metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 640480 end_char_idx 645300 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ fc2d95bc8432431ea2fc7c610925575a embedding null metadata  file_path",
        "mimetype": "text/plain",
        "start_char_idx": 1007991,
        "end_char_idx": 1012891,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8849f014-9f10-4e1e-bc26-8de1b0bddfee",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "eedf8149-55f9-402c-8f08-ccd464b7c713",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9ecbbecb17c67f4e22f4d6c05a5e2dabd47c7aab6084fe47e829f9f97232ac41",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "cf2f63b0-b104-4d65-a181-25935f62857c",
                "node_type": "1",
                "metadata": {},
                "hash": "7a8b972bf6180feb2ffcf674079e47b44aa265da38f3f8994e0c83fb5a195d41",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0e0acd9ce13a4c07a5495b154e4814bb node_type 4 metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 640480 end_char_idx 645300 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ fc2d95bc8432431ea2fc7c610925575a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id d5c8ba9e37354467a054e94f676487b8 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash af03296a54ea4aa016d749de205f56acb5a33c08edd813aed81b710a64492876 class_name relatednodeinfo  3  node_id b83ba307c6074edfb03aeb873ec360dd node_type 1 metadata  hash a0100984398bb0e53f9e37001b34592ec410fc35883db4c1147a23f2a04ef318 class_name relatednodeinfo   text embedding null metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0e0acd9ce13a4c07a5495b154e4814bb node_type 4 metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60 class_name relatednodeinfo 3 node_id b17e8aff5ff1415e905c0bdbf6fd9f1e node_type 1 metadata hash 857a050bc031171988069793554b08f82d61fcd1046738fda54cfe8d2ad87560 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al 33 jerry liu 2022 llamaindex httpswwwllamaindexai 34 nelson f liu kevin lin john hewitt ashwin paranjape michele bevilacqua fabio petroni and percy liang 2024 lost in the mid dle how language models use long contexts transactions of the association for computational linguistics 12 02 2024 157173 httpsdoiorg101162tacl_a_00638 arxivhttpsdirectmitedutaclarticle pdfdoi101162tacl_a_006382336043tacl_a_00638pdf 35 zihan liu wei ping rajarshi roy peng xu chankyu lee mohammad shoeybi and bryan catanzaro 2024 chatqa building gpt4 level conversational qa models corr abs240110225 2024 httpsdoiorg1048550arxiv240110225 arxiv240110225 36 chaitanya malaviya subin lee sihao chen elizabeth sieber mark yatskar and dan roth 2023 expertqa expertcurated questions and attributed an swers corr abs230907852 2023 httpsdoiorg1048550arxiv230907852 arxiv230907852 37 james mayfield eugene yang dawn lawrie sean macavaney paul mcnamee douglas w oard luca soldaini ian soboroff orion weller efsun kayi kate sanders marc mason and noah hibbler 2024 on the evaluation of machine generated reports in proceedings of the 47th international acm sigir conference on research and development in information retrieval 38 luke merrick danmei xu gaurav nuti and daniel campos 2024 arcticembed scalable efficient and accurate text embedding models arxiv240505374 cscl 39 microsoft 2023 reinventing search with a new aipowered microsoft bing and edge your copilot for the web httpsblogsmicrosoftcomblog20230207reinventing searchwithanewaipoweredmicrosoftbingandedgeyourcopilotfor theweb 40 niklas muennighoff nouamane tazi lou00efc magne and nils reimers 2023 mteb massive text embedding benchmark in proceedings of the 17th conference of the european chapter of the association for computational linguistics eacl 2023 dubrovnik croatia may 26 2023 andreas vlachos and isabelle augenstein eds association for computational linguistics",
        "mimetype": "text/plain",
        "start_char_idx": 1012191,
        "end_char_idx": 1016911,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cf2f63b0-b104-4d65-a181-25935f62857c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8849f014-9f10-4e1e-bc26-8de1b0bddfee",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d575aeed1cccbe0c33b09972c4aa00c0570a3296743fc20a9540fb576c1a0f61",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "bc6d2471-3bb7-4b79-a089-5344983c0ee8",
                "node_type": "1",
                "metadata": {},
                "hash": "1e469d13b4e84890a77dc75a7ec1c91a5db178d8ff74617ca0b8a71b14c4d08d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "proceedings of the 47th international acm sigir conference on research and development in information retrieval 38 luke merrick danmei xu gaurav nuti and daniel campos 2024 arcticembed scalable efficient and accurate text embedding models arxiv240505374 cscl 39 microsoft 2023 reinventing search with a new aipowered microsoft bing and edge your copilot for the web httpsblogsmicrosoftcomblog20230207reinventing searchwithanewaipoweredmicrosoftbingandedgeyourcopilotfor theweb 40 niklas muennighoff nouamane tazi lou00efc magne and nils reimers 2023 mteb massive text embedding benchmark in proceedings of the 17th conference of the european chapter of the association for computational linguistics eacl 2023 dubrovnik croatia may 26 2023 andreas vlachos and isabelle augenstein eds association for computational linguistics 20062029 httpsdoiorg10 18653v12023eaclmain148 41 openai 2024 hello gpt4o httpsopenaicomindexhellogpt4o 42 arnold overwijk chenyan xiong and jamie callan 2022 clueweb22 10 billion web documents with rich information in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 33603362 httpsdoiorg10114534774953536321 43 paul owoicho jeff dalton mohammad aliannejadi leif azzopardi johanne r trippas and svitlana vakulenko 2022 trec cast 2022 going beyond user ask and system retrieve with initiative and response generation in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgov pubstrec31papersoverview_castpdf 44 fabio petroni aleksandra piktus angela fan patrick s h lewis majid yaz dani nicola de cao james thorne yacine jernite vladimir karpukhin jean maillard vassilis plachouras tim rocktu00e4schel and sebastian riedel 2021 kilt a benchmark for knowledge intensive language tasks in proceedings of the 2021 conference of the north american chapter of the association for compu tational linguistics human language technologies naaclhlt 2021 online june 611 2021 kristina toutanova anna rumshisky luke zettlemoyer dilek hakkanitu00fcr iz beltagy steven bethard ryan cotterell tanmoy chakraborty and yichao zhou eds association for computational linguistics 25232544 httpsdoiorg1018653v12021naaclmain200 45 ronak pradeep rodrigo nogueira and jimmy lin 2021 the expandomono duo design pattern for text ranking with pretrained sequencetosequence models arxiv210105667 2021 46 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankvicuna zeroshot listwise document reranking with opensource large language models corr mimetype textplain start_char_idx 644674 end_char_idx 649524 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b83ba307c6074edfb03aeb873ec360dd embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id fc2d95bc8432431ea2fc7c610925575a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 7784c39522306447c7b6a724848a1a49edbfb9c4b107ea7cb2c369ab3b9ed1e9 class_name relatednodeinfo  3  node_id 61336c74bb9444c2b0ff850893c6f96b node_type 1 metadata  hash 7cffcf5071cea4895f4da92b004e4dca136008732054eed6a0482b148500630b class_name relatednodeinfo   text of the 2021 conference of the north american chapter of the association for compu tational linguistics human language technologies naaclhlt 2021 online june 611 2021 kristina toutanova anna rumshisky luke zettlemoyer dilek hakkanitu00fcr iz beltagy steven bethard ryan cotterell tanmoy chakraborty and yichao zhou eds association for computational linguistics 25232544 httpsdoiorg1018653v12021naaclmain200 45 ronak pradeep rodrigo nogueira and jimmy lin 2021 the expandomono duo design pattern for text ranking with pretrained sequencetosequence models arxiv210105667 2021 46 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankvicuna zeroshot listwise document reranking with opensource large language models corr",
        "mimetype": "text/plain",
        "start_char_idx": 1016087,
        "end_char_idx": 1021038,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "bc6d2471-3bb7-4b79-a089-5344983c0ee8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "cf2f63b0-b104-4d65-a181-25935f62857c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5313dfb138a0eb3b1e6dce9ba69a918d4be29126a8bbab38e058ae315c7385b9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f77d01ef-d802-493a-9061-6ef63cc6fb43",
                "node_type": "1",
                "metadata": {},
                "hash": "315cc558975ccaf8adfb4b9337e1bd7eaf8a2ddad72c6bf20e76569c7f0c6c0b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "of the 2021 conference of the north american chapter of the association for compu tational linguistics human language technologies naaclhlt 2021 online june 611 2021 kristina toutanova anna rumshisky luke zettlemoyer dilek hakkanitu00fcr iz beltagy steven bethard ryan cotterell tanmoy chakraborty and yichao zhou eds association for computational linguistics 25232544 httpsdoiorg1018653v12021naaclmain200 45 ronak pradeep rodrigo nogueira and jimmy lin 2021 the expandomono duo design pattern for text ranking with pretrained sequencetosequence models arxiv210105667 2021 46 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankvicuna zeroshot listwise document reranking with opensource large language models corr abs230915088 2023 httpsdoiorg1048550arxiv230915088 arxiv230915088 47 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankzephyr ef fective and robust zeroshot listwise reranking is a breeze corr abs231202724 2023 httpsdoiorg1048550arxiv231202724 arxiv231202724 48 vatsal raina and mark gales 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 httpsdoiorg1048550arxiv240402103 arxiv24040210351 corby rosset holam chung guanghui qin ethan c chau zhuo feng ahmed awadallah jennifer neville and nikhil rao 2024 researchy ques tions a dataset of multiperspective decompositional questions for llm web agents corr abs240217896 2024 mimetype textplain start_char_idx 0 end_char_idx 4960 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b17e8aff5ff1415e905c0bdbf6fd9f1e embedding null metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0e0acd9ce13a4c07a5495b154e4814bb node_type 4 metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60 class_name relatednodeinfo 2 node_id 223fcdfa0889458da7e85a83d23dd261 node_type 1 metadata page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 9ad18c07c68d9b02585d1b884b392d14033691bd0d80a0b34a2ccd970c6e756a class_name relatednodeinfo text 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 httpsdoiorg1048550arxiv240402103 arxiv24040210351 corby rosset holam chung guanghui qin ethan c chau zhuo feng ahmed awadallah jennifer neville and nikhil rao 2024 researchy ques tions a dataset of multiperspective decompositional questions for llm web agents corr abs240217896 2024 httpsdoiorg1048550arxiv240217896 arxiv240217896 52 ivan stelmakh yi luan bhuwan dhingra and mingwei chang 2022 asqa factoid questions meet longform answers in proceedings of the 2022 conference on empirical methods in natural language processing emnlp 2022 abu dhabi united arab emirates december 711 2022 yoav goldberg zornitsa kozareva and yue zhang eds association for computational linguistics 82738288 httpsdoiorg1018653v12022emnlpmain566 53 weiwei sun lingyong yan xinyu ma pengjie ren dawei yin and zhaochun ren 2023 is chatgpt good at search investigating large language models as reranking agent arxiv230409542 2023 54 nandan thakur nils reimers andreas ru00fccklu00e9 abhishek srivastava and iryna gurevych 2021 beir a heterogeneous benchmark for zeroshot evalua tion of information retrieval models in proceedings of the neural information processing systems track on datasets and benchmarks 1 neurips datasets and benchmarks 2021 december 2021 virtual joaquin vanschoren and saikit yeung eds httpsdatasetsbenchmarksproceedingsneuripsccpaper2021hash mimetype textplain start_char_idx 648802 end_char_idx 653616 text_template",
        "mimetype": "text/plain",
        "start_char_idx": 1020316,
        "end_char_idx": 1025189,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f77d01ef-d802-493a-9061-6ef63cc6fb43",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "bc6d2471-3bb7-4b79-a089-5344983c0ee8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "67c96baafec4b3414f3c09aa7c10d89f374c186655cf2e1836457823b2e631af",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7ae0793b-2169-4e30-9592-c652117084e3",
                "node_type": "1",
                "metadata": {},
                "hash": "e860d5ed3171ab672d9d0d0cb081bcc15cce5bda675291ceb037e12a1f3e9453",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "association for computational linguistics 82738288 httpsdoiorg1018653v12022emnlpmain566 53 weiwei sun lingyong yan xinyu ma pengjie ren dawei yin and zhaochun ren 2023 is chatgpt good at search investigating large language models as reranking agent arxiv230409542 2023 54 nandan thakur nils reimers andreas ru00fccklu00e9 abhishek srivastava and iryna gurevych 2021 beir a heterogeneous benchmark for zeroshot evalua tion of information retrieval models in proceedings of the neural information processing systems track on datasets and benchmarks 1 neurips datasets and benchmarks 2021 december 2021 virtual joaquin vanschoren and saikit yeung eds httpsdatasetsbenchmarksproceedingsneuripsccpaper2021hash mimetype textplain start_char_idx 648802 end_char_idx 653616 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 61336c74bb9444c2b0ff850893c6f96b embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id b83ba307c6074edfb03aeb873ec360dd node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 96bd6f0bec9e4ad48c7b2558de441a1ec79096c085a0de0af6ff3b5f179e6aaf class_name relatednodeinfo  3  node_id 4c6145294c304dc0903cc0d6a9f0b66e node_type 1 metadata  hash 1c119e295e5810f81afd3f10ba78f367e826e9e4c2a9d3701699ff698d1d48e2 class_name relatednodeinfo   text goldberg zornitsa kozareva and yue zhang eds association for computational linguistics 82738288 httpsdoiorg1018653v12022emnlpmain566 53 weiwei sun lingyong yan xinyu ma pengjie ren dawei yin and zhaochun ren 2023 is chatgpt good at search investigating large language models as reranking agent arxiv230409542 2023 54 nandan thakur nils reimers andreas ru00fccklu00e9 abhishek srivastava and iryna gurevych 2021 beir a heterogeneous benchmark for zeroshot evalua tion of information retrieval models in proceedings of the neural information processing systems track on datasets and benchmarks 1 neurips datasets and benchmarks 2021 december 2021 virtual joaquin vanschoren and saikit yeung eds httpsdatasetsbenchmarksproceedingsneuripsccpaper2021hash 65b9eea6e1cc6bb9f0cd2a47751a186fabstractround2html 55 guangzhi xiong qiao jin zhiyong lu and aidong zhang 2024 benchmarking retrievalaugmented generation for medicine corr abs240213178 2024 httpsdoiorg1048550arxiv240213178 arxiv240213178 56 shiqi yan jiachen gu yun zhu and zhenhua ling 2024 corrective retrieval augmented generation corr abs240115884 2024 httpsdoiorg1048550 arxiv240115884 arxiv240115884 57 peilin yang hui fang and jimmy lin 2017 anserini enabling the use of lucene for information retrieval research in international conference on research and development in information retrieval sigir httpsdoiorg1011453077136 3080721 58 lianmin zheng weilin chiang ying sheng siyuan zhuang zhanghao wu yonghao zhuang zi lin zhuohan li dacheng li eric p xing hao zhang joseph e gonzalez and ion stoica 2023 judging llmasajudge with mtbench and chatbot arena in advances in neural information pro cessing systems 36 annual conference on neural information processing sys tems 2023 neurips 2023 new orleans la usa december 10 16 2023 alice oh tristan naumann amir globerson kate saenko moritz hardt and sergey levine eds httppapersnipsccpaper_filespaper2023hash 91f18a1287b398d378ef22505bf41832abstractdatasets_and_benchmarkshtml mimetype textplain start_char_idx 4254 end_char_idx 7251 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b9d3b52cbbbd409eb9908a999a3745f8 embedding null metadata page_label 7 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id d182e8e29d5e4a6aad42abd61706c362 node_type 4 metadata page_label 7 file_name ragnaru00f6kpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 1024410,
        "end_char_idx": 1029144,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7ae0793b-2169-4e30-9592-c652117084e3",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f77d01ef-d802-493a-9061-6ef63cc6fb43",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3206032a2be9e38f3af47b41d8ef116a36ad516e1f4168e85754c7d078d67f75",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "db9f1801-f329-4844-a7c5-bb9def11d414",
                "node_type": "1",
                "metadata": {},
                "hash": "7f02cbe800df2a88930bf4f69838689dfec5a47d4302e8574d76e37f04ba3a09",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "mimetype textplain start_char_idx 4254 end_char_idx 7251 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b9d3b52cbbbd409eb9908a999a3745f8 embedding null metadata page_label 7 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id d182e8e29d5e4a6aad42abd61706c362 node_type 4 metadata page_label 7 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 41d73e731716400566f38f37375fb72cb2bb5dcca2da6d0f2f25964bb931aecc class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa a trecraggy 2024 additional details we manually classify each available topic in trec deep learn ing tracks 20212023 131516 into one of the seven different topic categories we manually labeled each topic following the guidelines7mentioned below simple topic asking for information about a simple fact eg how to emulsion a house simple with condition topic asking for information about a topic with an imposed condition eg how to cook thinly sliced home fries set a topic containing multiple short entities in the answer eg what themes are in action movies aggregation a topic that requires aggregation of multiple retrieved segments eg how to put together a scuba regu lator comparison a topic that requires comparison of the retrieved segments eg does light intensity or concentration of car bon dioxide have a higher rate of photosynthesis multihop a topic that requires to chain multiple information from different retrieved segments eg the population of kings grant fayetteville prior to liberty hills false premise a topic that has a false preposition or assump tion eg do larger lobsters become tougher when cooked b trecresearchy 2024 additional details note that for researchy questions 51 the following eight intrinsic attributes were measured by gpt4 on a scale of 010 ambiguity checks if the questions intent is moderately ambiguous suggesting multiple interpretations incompleteness checks if the question is difficult to answer due to missing crucial context or details assumptive checks if the question has some builtin assump tions that may influence the answer multifaceted checks if the question requires considering multiple perspectives to provide a comprehensive answer knowledgeintensive checks if the question demands spe cialized knowledge and extensive research to answer thor oughly subjective measures if the question contains some level of subjectivity with potential for varying opinions reasoningintensive checks if the question requires signifi cant reasoning and synthesis of information to answer harmful checks to what extent the question is harmful or inappropriate it is worth noting that all the questions provided scored 0 in harm fulness and a tiny fraction scored highly on ambiguity we used a score of 5as the threshold to label the query for that intrinsic attribute c ragnaru00f6k system arena figure 4 showcases the ragnaru00f6k webui dark mode and the user query why have used car prices increased from trec2024 re searchy issued to two blinded systems this blind setup enables 7guidelines have been inspired from the 2024 meta comprehensive rag benchmarksystem this is a chat between a user and an artificial intelligence assistant the assistant gives helpful detailed and polite answers to the users questions based on the context the assistant should also indicate when the answer cannot be found in the context instruction please give a complete answer to the question cite each mimetype textplain start_char_idx 652867 end_char_idx 658846 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4c6145294c304dc0903cc0d6a9f0b66e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 61336c74bb9444c2b0ff850893c6f96b node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash ed1d4abce01358f751c21d3fc0767d6026cc08deb9c3d5b6d6756847037c6bff class_name relatednodeinfo  3  node_id 9fc29688a0ec4fee90d3a8ad31d13b13 node_type 1 metadata  hash c0cfc1efca5fe7fc2946d708fb1d94f20f6357148d8fa8547a0bbec59711d2ea class_name relatednodeinfo   text with potential for varying opinions reasoningintensive checks if the question requires signifi cant reasoning and synthesis of information to answer harmful checks to what extent the question is harmful or inappropriate it is worth noting that all the questions provided scored 0 in harm fulness and a tiny fraction scored highly on ambiguity we used a score of 5as the threshold to label the query for that intrinsic attribute c ragnaru00f6k system arena figure 4 showcases the ragnaru00f6k webui dark mode and the user query why have used",
        "mimetype": "text/plain",
        "start_char_idx": 1028511,
        "end_char_idx": 1034449,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "db9f1801-f329-4844-a7c5-bb9def11d414",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7ae0793b-2169-4e30-9592-c652117084e3",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e4cc62ad49178de98c5f33121a2a6b57bace0e7f020bd90bfdf8cdf6b594f1b1",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f22426e2-2a2d-4f12-8f92-af2c0832b4b6",
                "node_type": "1",
                "metadata": {},
                "hash": "d11abc4b290d0d310fe196288b80b4d5bdd8a6d5c9a1b3af6089ac3ae36ce8da",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo  3  node_id 9fc29688a0ec4fee90d3a8ad31d13b13 node_type 1 metadata  hash c0cfc1efca5fe7fc2946d708fb1d94f20f6357148d8fa8547a0bbec59711d2ea class_name relatednodeinfo   text with potential for varying opinions reasoningintensive checks if the question requires signifi cant reasoning and synthesis of information to answer harmful checks to what extent the question is harmful or inappropriate it is worth noting that all the questions provided scored 0 in harm fulness and a tiny fraction scored highly on ambiguity we used a score of 5as the threshold to label the query for that intrinsic attribute c ragnaru00f6k system arena figure 4 showcases the ragnaru00f6k webui dark mode and the user query why have used car prices increased from trec2024 re searchy issued to two blinded systems this blind setup enables 7guidelines have been inspired from the 2024 meta comprehensive rag benchmarksystem this is a chat between a user and an artificial intelligence assistant the assistant gives helpful detailed and polite answers to the users questions based on the context the assistant should also indicate when the answer cannot be found in the context instruction please give a complete answer to the question cite each context document that supports your answer within brackets using the ieee format question query contexts 1 passage title passage text 2 passage title passage text 20 passage title passage text instruction please give a complete answer to the question cite each context document that supports your answer within brackets using the ieee format figure 2 chatqa prompt template 35 used for rag gen eration with intext citations with gpt4o in our ragnaru00f6k framework fair leaderboards especially when incentives to game leaderboards are huge in this competitive proprietary llm space the output displays the answers in humanreadable form allowing users to assess the quality of responses without bias figure 5 demonstrates the responses tab for the example in fig ure 4 the responses tab reformats the final answers into the json output expected by the io definitions of the trec 2024 rag track this feature is particularly useful for developers and researchers who need to ensure that their systems outputs conform to specific standards and formats required by evaluation frameworks by incorporating both humanreadable and jsonformatted out puts ragnaru00f6k provides a comprehensive evaluation platform that caters to a wide range of needs in the research and development community the ability to toggle between different views and for mats ensures that users can efficiently analyze and interpret the effectiveness of various rag systems mimetype textplain start_char_idx 0 end_char_idx 4500 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 171cb87a1acb46caa51ac768f9bc45b5 embedding null metadata page_label 8 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 092d3b13f9664d21b1174f53d01bd466 node_type 4 metadata page_label 8 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 048b5c673dec02a492a52693af73ad855a9cda6fffe250f3f842507ccc71c4c4 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al figure 3 webui showcasing the ragnaru00f6k system arena and the user query what inspired pink floyds the wall with answers from two pipelines sidebyside comparing gpt4o answer left and command r answer right table 3 an example of the first segment of two nearduplicate documents present in the ms marco v2 segment collection during the deduplication procedure the segments of one of the documents is kept in the ms marco v21 segment collection msmarco_doc_00_9951701740 whereas the other segment is discarded as a duplicate msmarco_doc_00_9951711910 segment id url title segment ms marco v21 segment discarded msmarco_doc_00 _9951711910httpcenterserveorgtt fp_tipshtmlserve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner ms marco v21 segment kept msmarco_doc_00 _9951701740httpcenterserveorgtt serve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner mimetype textplain start_char_idx 0 end_char_idx 2460 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 28b67df8a4ac42228a2c2cca00606a29 embedding null metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id",
        "mimetype": "text/plain",
        "start_char_idx": 1033711,
        "end_char_idx": 1040299,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f22426e2-2a2d-4f12-8f92-af2c0832b4b6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "db9f1801-f329-4844-a7c5-bb9def11d414",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f61d52dce40a66e8d807d1a963032e20b1bf998d58cda42ed00a8c9d648152d5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "50396d0f-5b0a-4460-8033-4f3e3a95ea50",
                "node_type": "1",
                "metadata": {},
                "hash": "9c0270e653463916df71303e8dddcd471d2be589ec621ea3b29ef8e92b5a73cd",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner mimetype textplain start_char_idx 0 end_char_idx 2460 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 28b67df8a4ac42228a2c2cca00606a29 embedding null metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8565818622f24d84801b4a541c9edada node_type 4 metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf mimetype textplain start_char_idx 657800 end_char_idx 664399 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 9fc29688a0ec4fee90d3a8ad31d13b13 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 4c6145294c304dc0903cc0d6a9f0b66e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash d27994dbc81caf1d87a9eef041e6b1624edf5a67246224def2fda486f7c9b743 class_name relatednodeinfo  3  node_id faf267a6fa8a488291cc00d08c581a2d node_type 1 metadata  hash 627b271b313e2a50983579761528c50be9cda38b4535c560d71cf246d4dbdb14 class_name relatednodeinfo   text metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 28b67df8a4ac42228a2c2cca00606a29 embedding null metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8565818622f24d84801b4a541c9edada node_type 4 metadata page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash 32edabda4ac9d5e48b23dd420dcb5b6d02ec13e88a61d4045b46c4dbfdf1d27d class_name relatednodeinfo text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa figure 4 webui dark mode showcasing the ragnaru00f6k system arena for the user query on why have used car prices increased from trec2024 researchy with two different blinded pipelines the output tab displays the answers in humanreadable form figure 5 the responses tab for the example in figure 4 note that the responses tab reformats the final answers into the json format expected by the io definitions of the trec 2024 rag track mimetype textplain start_char_idx 0 end_char_idx 566 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7165fa9a2f1042f589d461cb2d2db715 embedding null metadata page_label 10 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id db1ed54052254045ad7d90a22d2fe011 node_type 4 metadata page_label 10 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash adaf4afaff3e974bed55e81a336c89054330ab4a4cc3dc951a43e566cae79562 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al table 4 an endtoend rag example for a randomly sampled",
        "mimetype": "text/plain",
        "start_char_idx": 1039405,
        "end_char_idx": 1044353,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "50396d0f-5b0a-4460-8033-4f3e3a95ea50",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f22426e2-2a2d-4f12-8f92-af2c0832b4b6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5f12b54b7253c4149956c0605cb9ca2cba57a695cb9e7c51f7111926a16422e9",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8365642b-d55e-461a-beb3-ebb2be6b7889",
                "node_type": "1",
                "metadata": {},
                "hash": "a0beb55797417d359ea4333eb6fa1fc9ecb6c7838efdb84c852ad952c8c114c0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id db1ed54052254045ad7d90a22d2fe011 node_type 4 metadata page_label 10 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015 hash adaf4afaff3e974bed55e81a336c89054330ab4a4cc3dc951a43e566cae79562 class_name relatednodeinfo text conference17 july 2017 washington dc usa pradeep and thakur et al table 4 an endtoend rag example for a randomly sampled topic topic id 2027497 in the trecraggy 2024 collection how often should you take your toddler to the potty when potty training 1 top10 retrieved segments from the r retrieval stage ordered from top to bottom in terms of relevancy segment id title segment 1 msmarco_v21_doc_51_766815931 2_1606878413how often should i take my tod dler to the potty there are some guidelines to followselfesteem can be fragile at this time so its important to toilet train gently letting your child lead the way additionally its unwise to begin potty training unless your child is truly ready take this potty training readiness quiz featured in parents before you begin elizabeth pantley and you still must be on the lookout for signs your toddler has to go ahead of schedule 2 msmarco_v21_doc_51_766815931 6_1606884302how often should i take my tod dler to the potty there are some guidelines to followdavis and keyser stressed the importance of keeping your own emotions in check throughout the toilet training process the bottom line when it comes to potty time theres no magic number youll just have that much longer to plan a good one 3 msmarco_v21_doc_08_935420812 8_1683502976qa know your childs level of readiness for potty training par entsstart by sitting on the toilet the first thing in the morning after taking off the overnight diaper make it funsing songs read a book drink some juice and see what happens dr carrie m brown my 3yearold is adamant about not using the potty how can i motivate her 4 msmarco_v21_doc_08_935420812 0_1683481876qa know your childs level of readiness for potty training par entsqa know your childs level of readiness for potty training parents home toddlers preschoolers potty training potty training tips qa have your child sit on the potty soon after shes finished breakfast and again after dinner 5 msmarco_v21_doc_28_472446307 23_1012991039potty trained toddler having acci dents on purposebut dont feel disappointed if most of these tries end up with no pee in the pottyyou wouldnt be able to pee get more tips on how to ease your childs potty training poop anxiety 6 msmarco_v21_doc_28_472446307 22_1012988885potty trained toddler having acci dents on purposeget tips on what to do when your 4 year old wont poop on potty routines give him the predictability he needs so he knows exactly what to do and when you might use the potty after waking up before leaving the house or after eating meals 7 msmarco_v21_doc_57_1222573163 16_2241797192tips on starting potty training how to potty train your toddlerteach him to check for dryness this offers him an added sense of control if hes dry give him a pat on the back or a big hug but dont criticize him if hes wet if you overreact you might discourage your toddlers future attempts 8 msmarco_v21_doc_57_1222573163 15_2241795642tips on starting potty training how to potty train your toddlereven if youre too late and hes already done the deed mimetype textplain start_char_idx 663743 end_char_idx 669139 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ faf267a6fa8a488291cc00d08c581a2d embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 9fc29688a0ec4fee90d3a8ad31d13b13 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 7301d1282afdc095c76c67d5fbf6338a6cb24a9746565fcdb3a9776e1fb03a0e class_name relatednodeinfo  3  node_id efc22c9c3c66489488f528d46398626a node_type 1 metadata  hash f2acf7f0fe70204f0daa6ca62268d2a282ca12a7b5fb4d8dc62452eb870024b1 class_name relatednodeinfo   text trained toddler having acci dents on purposeget tips on what to do when your 4 year old wont poop on potty routines give him the predictability he needs so he knows exactly what to do and when you might use the potty after",
        "mimetype": "text/plain",
        "start_char_idx": 1043674,
        "end_char_idx": 1048909,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8365642b-d55e-461a-beb3-ebb2be6b7889",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "50396d0f-5b0a-4460-8033-4f3e3a95ea50",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "a708c74623aabfd9502ed5c773ed2ad481b8058a62868e2b1472923ab24b6dcb",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0f42f1ee-0953-4b1f-be36-856f2dcb29a9",
                "node_type": "1",
                "metadata": {},
                "hash": "f44d04b33a963e6dedf135a0308539a8b71a38983d070ee7787fbfddf183ed4d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 7301d1282afdc095c76c67d5fbf6338a6cb24a9746565fcdb3a9776e1fb03a0e class_name relatednodeinfo  3  node_id efc22c9c3c66489488f528d46398626a node_type 1 metadata  hash f2acf7f0fe70204f0daa6ca62268d2a282ca12a7b5fb4d8dc62452eb870024b1 class_name relatednodeinfo   text trained toddler having acci dents on purposeget tips on what to do when your 4 year old wont poop on potty routines give him the predictability he needs so he knows exactly what to do and when you might use the potty after waking up before leaving the house or after eating meals 7 msmarco_v21_doc_57_1222573163 16_2241797192tips on starting potty training how to potty train your toddlerteach him to check for dryness this offers him an added sense of control if hes dry give him a pat on the back or a big hug but dont criticize him if hes wet if you overreact you might discourage your toddlers future attempts 8 msmarco_v21_doc_57_1222573163 15_2241795642tips on starting potty training how to potty train your toddlereven if youre too late and hes already done the deed have him sit on the potty anyway to reinforce the connection keep her motivated even the most enthu siastic toddler can take several weeks to master potty training proficiency often with as many steps backward as forward 9 msmarco_v21_doc_51_766815931 5_1606882767how often should i take my tod dler to the potty there are some guidelines to followaccording to becoming the parent you want to be by laura davis and janis keyser its common for children to go back and forth somedays preferring diapers and other days selecting to use the toilet you can only take your child to the bathroom too much if it begins to feel stressful or punitive 10 msmarco_v21_doc_51_766815931 0_1606874600how often should i take my tod dler to the potty there are some guidelines to followhow often should i take my toddler to the potty there are some guidelines to follow life ashley batzromper how often should i take my toddler to the potty there are some guidelines to follow by kelly mullenmcwilliams july 22 2017 i dont know about you but im personally super pumped for that perfect day he article noted that toilet training is also one of the most difficult milestones for children and their parents and that it can become highly emotional 2 results from the ag augmented generation stage using top10 retrieved segments model rag answer command r text there is no magic number for how often you should take your toddler to the potty when potty training citations 1 8 text however it is recommended to take them frequently especially after waking up before leaving the house after eating meals or before bath time citations 0 1 2 3 4 5 8 text you can also use a timer and set it to every 30 minutes to an hour for a potty break citations 5 text it is important to be patient and gentle throughout the process as it can be emotionally challenging for both the child and the parent citations 0 1 3 6 7 8 9 gpt4o text when potty training your toddler it is recommended to take them to the potty frequently to increase the chances of success citations text according to elizabeth pantley author of the nocry potty training solution most toddlers pee four to eight times per day and have one or two bowel movements daily citations text she suggests setting up a potty routine such as taking your toddler to the potty first thing in the morning after eating and before activities like riding in the car or going to sleep citations 0 text additionally davis and keyser emphasize the importance of following a schedule such as morning pee and before nap time while also being attentive to signs that your toddler needs to go citations text they caution against making the process stressful or punitive as negative emotions can hinder progress citations 1 text dr carrie m brown recommends planning bathroom trips every 90120 minutes during the day and remaining calm and consistent even if accidents occur citations text this approach helps toddlers learn the routine and increases the likelihood of successful potty use citations 2 mimetype textplain start_char_idx 0 end_char_idx 6093 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ba8b6e5640344775893994741b6ccddc embedding null metadata page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 65170f4c9987417287241944368f98fd node_type 4 metadata page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash c0b57e683f5230839d8ab5bf00b429f96f65ff2bbc69947a19155d1e41924bb9 class_name relatednodeinfo text preprint selfrag learning to retrieve generate and critique through selfreflection akari asai zeqiu wu yizhong wang avirup sil hannaneh hajishirzi university of washingtonallen institute for aiibm research ai akarizeqiuwuyizhongwhannaneh cswashingtonedu aviusibmcom abstract despite their remarkable capabilities large language models llms often produce responses containing factual inaccuracies due to their sole reliance on the paramet ric knowledge they encapsulate retrievalaugmented generation rag an ad hoc approach that augments lms with retrieval of relevant knowledge decreases such issues however indiscriminately retrieving and incorporating a fixed number of retrieved passages regardless of whether retrieval is necessary or passages are relevant diminishes lm versatility or can lead to unhelpful response generation we introduce a new framework called selfreflective retrievalaugmented gen eration selfragthat enhances an lms quality and factuality through retrieval and selfreflection our framework trains",
        "mimetype": "text/plain",
        "start_char_idx": 1048314,
        "end_char_idx": 1054386,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0f42f1ee-0953-4b1f-be36-856f2dcb29a9",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8365642b-d55e-461a-beb3-ebb2be6b7889",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2b2dbd1a06fad04ecb8fd9867795bf3918bbb0927bb53485f3136f9766eb7ff2",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ece46606-89e4-499f-a45c-746775f7f478",
                "node_type": "1",
                "metadata": {},
                "hash": "304e6433bf277e6c9dcdb9c6a7203c3fd0eea93e758f48eac57cda444f42feb5",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "relatednodeinfo text preprint selfrag learning to retrieve generate and critique through selfreflection akari asai zeqiu wu yizhong wang avirup sil hannaneh hajishirzi university of washingtonallen institute for aiibm research ai akarizeqiuwuyizhongwhannaneh cswashingtonedu aviusibmcom abstract despite their remarkable capabilities large language models llms often produce responses containing factual inaccuracies due to their sole reliance on the paramet ric knowledge they encapsulate retrievalaugmented generation rag an ad hoc approach that augments lms with retrieval of relevant knowledge decreases such issues however indiscriminately retrieving and incorporating a fixed number of retrieved passages regardless of whether retrieval is necessary or passages are relevant diminishes lm versatility or can lead to unhelpful response generation we introduce a new framework called selfreflective retrievalaugmented gen eration selfragthat enhances an lms quality and factuality through retrieval and selfreflection our framework trains a single arbitrary lm that adaptively retrieves passages ondemand and generates and reflects on retrieved passages and its own generations using special tokens called reflection tokens generating reflection tokens makes the lm controllable during the inference phase enabling it to tailor its behavior to diverse task requirements experiments show that self rag7b and 13b parameters significantly outperforms stateoftheart llms and retrievalaugmented models on a diverse set of tasks specifically selfrag outperforms chatgpt and retrievalaugmented llama2chat on opendomain qa reasoning and fact verification tasks and it shows significant gains in improving factuality and citation accuracy for longform generations relative to these models1 1 i ntroduction mimetype textplain start_char_idx 668365 end_char_idx 674834 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ efc22c9c3c66489488f528d46398626a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id faf267a6fa8a488291cc00d08c581a2d node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2cd934cbee7577051144babe38adc69d7052ad485417e42bb6a3b944df5a3adc class_name relatednodeinfo  3  node_id 10ee90d75fe24c9680e7e47672b096ea node_type 1 metadata  hash f14f2e5bdad7c077f87c2e37288dc1ae26836ff7b3add96762f00949836cab74 class_name relatednodeinfo   text and incorporating a fixed number of retrieved passages regardless of whether retrieval is necessary or passages are relevant diminishes lm versatility or can lead to unhelpful response generation we introduce a new framework called selfreflective retrievalaugmented gen eration selfragthat enhances an lms quality and factuality through retrieval and selfreflection our framework trains a single arbitrary lm that adaptively retrieves passages ondemand and generates and reflects on retrieved passages and its own generations using special tokens called reflection tokens generating reflection tokens makes the lm controllable during the inference phase enabling it to tailor its behavior to diverse task requirements experiments show that self rag7b and 13b parameters significantly outperforms stateoftheart llms and retrievalaugmented models on a diverse set of tasks specifically selfrag outperforms chatgpt and retrievalaugmented llama2chat on opendomain qa reasoning and fact verification tasks and it shows significant gains in improving factuality and citation accuracy for longform generations relative to these models1 1 i ntroduction stateoftheart llms continue to struggle with factual errors mallen et al 2023 min et al 2023 despite their increased model and data scale ouyang et al 2022 retrievalaugmented generation rag methods figure 1 left lewis et al 2020 guu et al 2020 augment the input of llms with relevant retrieved passages reducing factual errors in knowledgeintensive tasks ram et al 2023 asai et al 2023a however these methods may hinder the versatility of llms or introduce unnecessary or offtopic passages that lead to lowquality generations shi et al 2023 since they retrieve passages indiscriminately regardless of whether the factual grounding is helpful moreover the output is not guaranteed to be consistent with retrieved relevant passages gao et al 2023 since the models are not explicitly trained to leverage and follow facts from provided passages this work introduces selfreflective retrievalaugmented generation selfragto improve an llms generation quality including its factual accuracy without hurting its versatility via ondemand retrieval and selfreflection we train an arbitrary lm in an endtoend manner to learn to reflect on its own generation process given a task input by generating both task output and intermittent special tokens ie reflection tokens reflection tokens are categorized into retrieval andcritique tokens to indicate the need for retrieval and its generation quality respectively figure 1 right in particular given an input prompt and preceding generations selfragfirst determines if augmenting the continued generation with retrieved passages would be helpful if so it outputs a retrieval token that calls a retriever model on demand step 1 subsequently selfragconcurrently processes multiple retrieved passages evaluating their relevance and then generating corresponding task outputs step 2 it then generates critique tokens to criticize its own output and choose best one step 3 in terms of factuality and overall quality this process differs from conventional rag figure 1 left which 1our code and trained models are available at httpsselfraggithubio 1arxiv231011511v1 cscl 17 oct 2023 mimetype textplain start_char_idx 0 end_char_idx 3895 text_template metadata_strnncontent metadata_template key value metadata_seperator n",
        "mimetype": "text/plain",
        "start_char_idx": 1053344,
        "end_char_idx": 1059952,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ece46606-89e4-499f-a45c-746775f7f478",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0f42f1ee-0953-4b1f-be36-856f2dcb29a9",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "78984bfc89f37416c9fae2281dba6a8291273bb6998de2bd2d1d14fe3677d6e4",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4364d800-b126-4f37-9fba-78ff4e2fcd21",
                "node_type": "1",
                "metadata": {},
                "hash": "443a9a88379a5fc85e4fc00b90dffe893e546450c07eac7b43f13f5ab8697364",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "a task input by generating both task output and intermittent special tokens ie reflection tokens reflection tokens are categorized into retrieval andcritique tokens to indicate the need for retrieval and its generation quality respectively figure 1 right in particular given an input prompt and preceding generations selfragfirst determines if augmenting the continued generation with retrieved passages would be helpful if so it outputs a retrieval token that calls a retriever model on demand step 1 subsequently selfragconcurrently processes multiple retrieved passages evaluating their relevance and then generating corresponding task outputs step 2 it then generates critique tokens to criticize its own output and choose best one step 3 in terms of factuality and overall quality this process differs from conventional rag figure 1 left which 1our code and trained models are available at httpsselfraggithubio 1arxiv231011511v1 cscl 17 oct 2023 mimetype textplain start_char_idx 0 end_char_idx 3895 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ da76851364504689b8e76a0e31ee5994 embedding null metadata page_label 2 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id ac72744926fa4035913492531b64a3cf node_type 4 metadata page_label 2 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 87aee53fa089bb7906356c1bcfcfc27c7e6a2c26bdf4065705eccf0010103bac class_name relatednodeinfo text preprint step 1 retrieve k documentscalifornia was named after a ufb01ctional island in a spanish book prompt how did us states get their names us states got their names from a variety of sources eleven states are named after an individual person eg california was named after christopher columbus some states including texas and utah are named after native american tribe retrievalaugmented generation ragours selfreufb02ective retrievalaugmented generation selfrag popular names by states in texas emma is a popular baby name of the ufb01fty states eleven are named after an individual person prompt how did us states get their names step 2 prompt lm with k docs and generateretriever lm prompt how did us states get their names us states got their names from a variety of sources retrievestep 1 retrieve on demand prompt 11 of 50 state namesrelevant step 2 generate segment in parallel come from personssupportedirrelevanttexas is namedafter a native american tribe step 3 critique outputs and select best segmentorigins in a 16thcentury novel las sergas de esplandiu00e1n californias name has itsrelevantpartially us states got their names from a variety of sources 11 of 50 states names are come from persons 26 states are named after native americans including utah prompt write an essay of your best summer vacation prompt write an essay of your best summer vacation no retrievalmy best summer vacation is when my family and i embarked on a road trip along my best repeat no information in passagescontradictoryprompt prompt retrieve figure 1 overview of selfragselfraglearns to retrieve critique and generate text passages to enhance overall generation quality factuality and verifiability consistently retrieves a fixed number of documents for generation regardless of the retrieval necessity eg the bottom figure example does not require factual knowledge and never second visits the generation quality moreover selfragprovides citations for each segment with its selfassessment of whether the output is supported by the passage leading to easier fact verification selfragtrains an arbitrary lm to generate text with reflection tokens by unifying them as the next token prediction from the expanded model vocabulary we train our generator lm on a diverse collection of text interleaved with reflection tokens and retrieved passages reflection tokens inspired by reward models used in reinforcement learning ziegler et al 2019 ouyang et al 2022 are inserted offline into the original corpus by a trained critic model this eliminates the need to host a critic model during training reducing overhead the critic model in part is supervised on a dataset of input output and corresponding reflection tokens collected by prompting a propriety lm ie gpt4 openai 2023 while we draw inspiration from studies that use control tokens to start and guide text generation lu et al 2022 mimetype textplain start_char_idx 673690 end_char_idx 680731 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 10ee90d75fe24c9680e7e47672b096ea embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id efc22c9c3c66489488f528d46398626a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 708145cdc3571819b639134513a8b4908d41568f24761b1afa551a496f6024cc class_name relatednodeinfo  3  node_id 302dccaf9fcd4be8a057342901796897 node_type 1 metadata  hash b7953d6ff4aaea23f827b42eb44b1110982d7c093303a8efd805a1ad6f153c4d",
        "mimetype": "text/plain",
        "start_char_idx": 1058863,
        "end_char_idx": 1064966,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4364d800-b126-4f37-9fba-78ff4e2fcd21",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ece46606-89e4-499f-a45c-746775f7f478",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6b098b7efba6bb4da534ff49a1d23a10a926e292a378eba111fbc4ee3b389946",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7d62ba3a-66a4-406d-882b-bf3233b03c9e",
                "node_type": "1",
                "metadata": {},
                "hash": "6dac14407ef964fab61329e73771372bf8493c1634b7c8614cd7be8d794563c0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo  2  node_id efc22c9c3c66489488f528d46398626a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 708145cdc3571819b639134513a8b4908d41568f24761b1afa551a496f6024cc class_name relatednodeinfo  3  node_id 302dccaf9fcd4be8a057342901796897 node_type 1 metadata  hash b7953d6ff4aaea23f827b42eb44b1110982d7c093303a8efd805a1ad6f153c4d class_name relatednodeinfo   text regardless of the retrieval necessity eg the bottom figure example does not require factual knowledge and never second visits the generation quality moreover selfragprovides citations for each segment with its selfassessment of whether the output is supported by the passage leading to easier fact verification selfragtrains an arbitrary lm to generate text with reflection tokens by unifying them as the next token prediction from the expanded model vocabulary we train our generator lm on a diverse collection of text interleaved with reflection tokens and retrieved passages reflection tokens inspired by reward models used in reinforcement learning ziegler et al 2019 ouyang et al 2022 are inserted offline into the original corpus by a trained critic model this eliminates the need to host a critic model during training reducing overhead the critic model in part is supervised on a dataset of input output and corresponding reflection tokens collected by prompting a propriety lm ie gpt4 openai 2023 while we draw inspiration from studies that use control tokens to start and guide text generation lu et al 2022 keskar et al 2019 our trained lm uses critique tokens to assess its own predictions after each generated segment as an integral part of the generation output selfragfurther enables a customizable decoding algorithm to satisfy hard or soft constraints which are defined by reflection token predictions in particular our inferencetime algorithm enables us to 1 flexibly adjust retrieval frequency for different downstream applications and 2 customize models behaviors to user preferences by leveraging reflection tokens through segmentlevel beam search using the weighted linear sum of the reflection token probabilities as segment score empirical results on six tasks including reasoning and longform generation demonstrate that self ragsignificantly outperforms pretrained and instructiontuned llms that have more parameters and widely adopted rag approaches with higher citation accuracy in particular selfragoutperforms retrievalaugmented chatgpt on four tasks llama2chat touvron et al 2023 and alpaca dubois et al 2023 on all tasks our analysis demonstrates the effectiveness of training and inference with reflection tokens for overall performance improvements as well as testtime model customizations eg balancing the tradeoff between citation previsions and completeness 2 r elated work retrievalaugmented generation retrievalaugmented generation rag augments the input space of lms with retrieved text passages guu et al 2020 lewis et al 2020 leading to large improvements in knowledgeintensive tasks after finetuning or used with offtheshelf lms ram et al 2023 a more recent work luo et al 2023 instructiontunes an lm with a fixed number 2 mimetype textplain start_char_idx 0 end_char_idx 4517 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ c25bf7e0c74f4ffc9c99299075823c9e embedding null metadata page_label 3 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id e55865b78c8d40c4ba068079fba3f151 node_type 4 metadata page_label 3 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash d48ff1c873ae1d6fc4594d474e82561524d7c1ac635373f967ce61c5158f894b class_name relatednodeinfo text preprint of retrieved passages prepended to input or pretrain a retriever and lm jointly followed by few shot finetuning on task datasets izacard et al 2022b while prior work often retrieves only once at the beginning jiang et al 2023 propose to adaptively retrieve passages for generation on top of a proprietary llm or schick et al 2023 train an lm to generate api calls for named entities yet the improved task performance of such approaches often comes at the expense of runtime efficiency mallen et al 2023 robustness to irrelevant context shi et al 2023 and lack of attributions liu et al 2023a gao et al 2023 we introduce a method to train an arbitrary lm to learn to use retrieval ondemand for diverse instructionfollowing queries and introduce controlled generation guided by reflections tokens to further improve generation quality and attributions concurrent rag work a few concurrent works2on rag propose new training or prompting strategies to improve widelyadopted rag approaches lin et al 2023 finetune both the retriever and lm on instructiontuning datasets in two steps while we also train our model on diverse instructionfollowing datasets selfragenables retrieval on demand and selection of the best possible model output via finegrained selfreflection making it widely applicable and more robust and controllable yoran et al 2023 use a natural language inference model and xu et al 2023 use a summarization model to filter out or compress retrieved passages before using them to prompt the lm to generate the output selfragprocesses passages in parallel and filters out irrelevant ones through selfreflection without relying on external models at inference moreover our selfreflection mechanism also evaluates other aspects of the model output quality including factuality lats zhou et al 2023 prompt offtheshelf lms to search for relevant information for question answering tasks and to generate with tree search guided by lmgenerated value scores while their value function simply indicates an overall score of each generation selfragtrains to an arbitrary lm to learn to generate finegrained selfreflection and customizable inference training and generating with critics training llms with reinforcement learning eg proximal policy optimization or ppo schulman et al 2017 from human feedback rlhf has proven effective in",
        "mimetype": "text/plain",
        "start_char_idx": 1064435,
        "end_char_idx": 1071002,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7d62ba3a-66a4-406d-882b-bf3233b03c9e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4364d800-b126-4f37-9fba-78ff4e2fcd21",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "25d71c78f91cb8605f23b916fb1ad71e3d8063676e4ed5f11770640bb2d0bd13",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c1df3d0e-d1a5-488c-bc8a-d358aee12449",
                "node_type": "1",
                "metadata": {},
                "hash": "f706b208fd752d579b6298848a7e7ef6b2bcea4169a3d49737b6a812d8fba8d7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "selfreflection making it widely applicable and more robust and controllable yoran et al 2023 use a natural language inference model and xu et al 2023 use a summarization model to filter out or compress retrieved passages before using them to prompt the lm to generate the output selfragprocesses passages in parallel and filters out irrelevant ones through selfreflection without relying on external models at inference moreover our selfreflection mechanism also evaluates other aspects of the model output quality including factuality lats zhou et al 2023 prompt offtheshelf lms to search for relevant information for question answering tasks and to generate with tree search guided by lmgenerated value scores while their value function simply indicates an overall score of each generation selfragtrains to an arbitrary lm to learn to generate finegrained selfreflection and customizable inference training and generating with critics training llms with reinforcement learning eg proximal policy optimization or ppo schulman et al 2017 from human feedback rlhf has proven effective in aligning llms with human preferences ouyang et al 2022 wu et al 2023 introduce finegrained rlhf with multiple reward models though our work also studies finegrained critique on retrieval and generation we train our target lm on task examples augmented with reflection tokens from a critic model offline with a far lower training cost compared to rlhf in addition reflection tokens in s elfragenable controllable generation at inference while rlhf focuses on human preference alignment during training other works use general control tokens to guide lm generation lu et al 2022 korbak et al 2023 while selfraguses reflection tokens to decide the need for retrieval and to selfevaluate generation quality xie et al 2023 propose a selfevaluation guided decoding framework but they focus only on reasoning tasks with one evaluation dimension reasoning path consistency and without retrieval recent work on llm refinement dhuliawala et al 2023 madaan et al mimetype textplain start_char_idx 679614 end_char_idx 686579 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 302dccaf9fcd4be8a057342901796897 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 10ee90d75fe24c9680e7e47672b096ea node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2c2ed261e8ac1eaeaadafe7083c6d6b497f946b9ae8780c460477a15884ea1ef class_name relatednodeinfo  3  node_id 7cb0d57c840440729c723834351dfabb node_type 1 metadata  hash 1235764fa569b1f1156eaf7592781421ffedad1277a34f747d916fbea09c2b9b class_name relatednodeinfo   text 2017 from human feedback rlhf has proven effective in aligning llms with human preferences ouyang et al 2022 wu et al 2023 introduce finegrained rlhf with multiple reward models though our work also studies finegrained critique on retrieval and generation we train our target lm on task examples augmented with reflection tokens from a critic model offline with a far lower training cost compared to rlhf in addition reflection tokens in s elfragenable controllable generation at inference while rlhf focuses on human preference alignment during training other works use general control tokens to guide lm generation lu et al 2022 korbak et al 2023 while selfraguses reflection tokens to decide the need for retrieval and to selfevaluate generation quality xie et al 2023 propose a selfevaluation guided decoding framework but they focus only on reasoning tasks with one evaluation dimension reasoning path consistency and without retrieval recent work on llm refinement dhuliawala et al 2023 madaan et al 2023 paul et al 2023 prompts a model to generate task output natural language feedback and refined task output iteratively but at the cost of inference efficiency 3 s elfrag learning to retrieve generate and critique we introduce selfreflective retrievalaugmented generation selfrag shown in figure 1 selfragis a framework that enhances the quality and factuality of an llm through retrieval and selfreflection without sacrificing llms original creativity and versatility our endtoend training lets an lm mgenerate text informed by retrieved passages if needed and criticize the output by learning to generate special tokens these reflection tokens table 1 signal the need for retrieval or confirm the outputs relevance support or completeness in contrast common rag approaches retrieve passages indiscriminately without ensuring complete support from cited sources 31 p roblem formalization and overview formally given input x we train mto sequentially generate textual outputs yconsisting of multiple segments y y1 y t where ytindicates a sequence of tokens for the tth segment3generated tokens in ytinclude text from the original vocabulary as well as the reflection tokens table 1 2all work is arxived within a week of this preprint 3in this paper we treat one sentence as a segment in our experiments but our framework is applicable to any segment unit ie subsentence 3 mimetype textplain start_char_idx 0 end_char_idx 4676 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ea2ddb2c5b3a4ebaba496228eba964d8 embedding null metadata page_label 4 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys",
        "mimetype": "text/plain",
        "start_char_idx": 1069916,
        "end_char_idx": 1076215,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c1df3d0e-d1a5-488c-bc8a-d358aee12449",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7d62ba3a-66a4-406d-882b-bf3233b03c9e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "405291c14b4ae0f4391c8f242a48edcf7acde1411806e373c163a41596400f45",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a56dd835-bd60-4287-aa98-7278a600181e",
                "node_type": "1",
                "metadata": {},
                "hash": "31d601436ea5c925eaef76f19f18dbb518871fbdc136c4e62cdc5863358258ff",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "y y1 y t where ytindicates a sequence of tokens for the tth segment3generated tokens in ytinclude text from the original vocabulary as well as the reflection tokens table 1 2all work is arxived within a week of this preprint 3in this paper we treat one sentence as a segment in our experiments but our framework is applicable to any segment unit ie subsentence 3 mimetype textplain start_char_idx 0 end_char_idx 4676 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ea2ddb2c5b3a4ebaba496228eba964d8 embedding null metadata page_label 4 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 2cede99fc2864d3b82ac38ce67f4c09b node_type 4 metadata page_label 4 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 21937819cdd88f3518235207a7bba349155c0e7e91d09115b549a895d845153a class_name relatednodeinfo text preprint type input output definitions retrieve xx y yes no continue decides when to retrieve with r isrel x d relevant irrelevant dprovides useful information to solve x issup x d y fully supported partially supported no support all of the verificationworthy statement in y is supported by d isuse x y 5 4 3 2 1 yis a useful response to x table 1 four types of reflection tokens used in selfrag each type uses several tokens to represent its output values the bottom three rows are three types of critique tokens and the bold text indicates the most desirable critique tokens x y d indicate input output and a relevant passage respectively algorithm 1 selfraginference require generator lm m retriever r largescale passage collections d1 d n 1input input prompt xand preceding generation ytoutput next output segment yt 2mpredicts retrieve given x yt 3ifretrieve yes then 4 retrieve relevant text passages dusingrgiven x yt1 retrieve 5 mpredicts isrelgiven x dandytgiven x d y tfor each dd generate 6 mpredicts issupand isusegiven x yt dfor each dd critique 7 rank ytbased on isrelissupisuse detailed in section 33 8else if retrieve nothen 9 mgenpredicts ytgiven x generate 10 mgenpredicts isusegiven x yt critique inference overview figure 1 and algorithm 1 present an overview of s elfragat inference for every xand preceding generation yt the model decodes a retrieval token to evaluate the utility of retrieval if retrieval is not required the model predicts the next output segment as it does in a standard lm if retrieval is needed the model generates a critique token to evaluate the retrieved passages relevance the next response segment and a critique token to evaluate if the information in the response segment is supported by the passage finally a new critique token evaluates the overall utility of the response4to generate each segment selfragprocesses multiple passages in parallel and uses its own generated reflection tokens to enforce soft constraints section 33 or hard control algorithm 1 over the generated task output for instance in figure 1 right the retrieved passages d1is selected at the first time step since d2does not provide direct evidence isrelis irrelevant andd3output is only partially supported while d1are fully supported training overview selfragenables an arbitrary lm to generate text with reflection tokens by unifying them as next token predictions from the expanded model vocabulary ie the original vocabulary plus reflection tokens specifically we train the generator model mon a curated corpus with interleaving passages retrieved by a retriever rand reflection tokens predicted by a critic model csummarized in appendix algorithm 2 we train cto generate reflection tokens for evaluating retrieved passages and the quality of a given task output section 321 using the critic model we update the training corpus by inserting reflection tokens into task outputs offline subsequently we train the final generator model m using the conventional lm objective section 322 to enable mto generate reflection tokens by itself without relying on the critic at inference time 32 s elfragtraining here we describe the supervised data collection and training of two models the critic csection 321 and the generator msection 322 321 t raining the critic model data collection for critic model manual annotation of reflection tokens for each segment is expensive wu et al 2023 a stateoftheart llm like gpt4 openai 2023 can be effectively mimetype textplain start_char_idx 685574 end_char_idx 692327 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7cb0d57c840440729c723834351dfabb embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 302dccaf9fcd4be8a057342901796897 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 0b6c9fb68ac5eb5a84dd691bb87bdbafa0b7b51ccdb119d8167aab4a969e10b1 class_name relatednodeinfo  3  node_id",
        "mimetype": "text/plain",
        "start_char_idx": 1075386,
        "end_char_idx": 1081363,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a56dd835-bd60-4287-aa98-7278a600181e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c1df3d0e-d1a5-488c-bc8a-d358aee12449",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c3ead84d5564cb6c12296c211f891af8377ecc20983175cc9ee8164e2097c078",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b7a6aa31-5c8d-4289-a0cb-e0e876eb4981",
                "node_type": "1",
                "metadata": {},
                "hash": "a41a58fbb755ac174122551ae71db7fe32c1b68c485baa4876abbcd14a007638",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 302dccaf9fcd4be8a057342901796897 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 0b6c9fb68ac5eb5a84dd691bb87bdbafa0b7b51ccdb119d8167aab4a969e10b1 class_name relatednodeinfo  3  node_id dfa61ac6599146e0a3054974864edb09 node_type 1 metadata  hash 47521b6f363e08c0791a7480e68e1d408def3e2a85796f0557f58a4281a04b4b class_name relatednodeinfo   text predictions from the expanded model vocabulary ie the original vocabulary plus reflection tokens specifically we train the generator model mon a curated corpus with interleaving passages retrieved by a retriever rand reflection tokens predicted by a critic model csummarized in appendix algorithm 2 we train cto generate reflection tokens for evaluating retrieved passages and the quality of a given task output section 321 using the critic model we update the training corpus by inserting reflection tokens into task outputs offline subsequently we train the final generator model m using the conventional lm objective section 322 to enable mto generate reflection tokens by itself without relying on the critic at inference time 32 s elfragtraining here we describe the supervised data collection and training of two models the critic csection 321 and the generator msection 322 321 t raining the critic model data collection for critic model manual annotation of reflection tokens for each segment is expensive wu et al 2023 a stateoftheart llm like gpt4 openai 2023 can be effectively 4we follow liu et al 2023a in using a perceived utility value that is independent of retrieved passages 4 mimetype textplain start_char_idx 0 end_char_idx 3586 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 9631af11af1e43c58ec26ad1467915a8 embedding null metadata page_label 5 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id e5f5f40ed5b84447a384afa2b806bc4f node_type 4 metadata page_label 5 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash ce81cb5bf023b6c2df8736023bf10f75252b79699b73cb37a602f5a4866e4812 class_name relatednodeinfo text preprint input how did us states get their names input write an essay of your best summer vacationoutput my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable critic lmoutput 1 of 50 states names come from persons for instance louisiana was named in honor of king louis xiv of france and georgia was named after king george ii retrieve partially augmented output retrieveplouisiana named inpof the ufb01fty states eleven are named after an individual personp 11 of 50 states names come from person relevantsupportedhonor of louis xiv of francep relevantfor instance louisiana was named after king louis xiv andutil 5georgia was named after king george ii util 5augmented output my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable experienceno retrievalno retrieval retriever figure 2 selfragtraining examples the left example does not require retrieval while the right one requires retrieval thus passages are inserted more examples are in appendix table 4 used to generate such feedback liu et al 2023b however depending on such proprietary lms can raise api costs and diminish reproducibility chen et al 2023 we create supervised data by prompting gpt4 to generate reflection tokens and then distill their knowledge into an inhouse c for each group of reflection tokens we randomly sample instances from the original training data xsample ysample x y as different reflection token groups have their own definitions and input as shown in table 1 we use different instruction prompts for them here we use retrieve as an example we prompt gpt4 with a typespecific instruction given an instruction make a judgment on whether finding some external documents from the web helps to generate a better response followed by fewshot demonstrations ithe original task input xand output yto predict an appropriate reflection token as text pri x y manual assessment reveals that gpt4 reflection token predictions show high agreement with human evaluations we collect 4k20k supervised training data for each type and combine them to form training data for c appendix section d shows the full list of instructions and a1 contains more details and our analysis critic learning after we collect training data dcritic we initialize cwith a pretrained lm and train it on dcritic using a standard conditional language modeling objective maximizing likelihood max cexyrdcritic logpcrx y rfor reflection tokens 1 though the initial model can be any pretrained lm we use the same one as the generator lm ie llama 27b touvron et al 2023 for cinitialization the critic achieves a higher than 90 agreement with gpt4based predictions on most reflection token categories appendix table 5 322 t raining the generator model data collection for generator given an inputoutput pair x y we augment the original output yusing the retrieval and critic models to create supervised data that precisely mimics the self raginferencetime process section 31 for each segment yty we run cto assess whether additional passages could help to enhance generation if retrieval is required the retrieval special token retrieve yes is added and rretrieves the top kpassages d for each passage cfurther evaluates whether the passage is relevant and predicts isrel if a passage is relevant",
        "mimetype": "text/plain",
        "start_char_idx": 1080792,
        "end_char_idx": 1087029,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b7a6aa31-5c8d-4289-a0cb-e0e876eb4981",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a56dd835-bd60-4287-aa98-7278a600181e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "dc30034be85fc7b01250cc5ca5ab767b4366e0c874bdc4701aa76793902dfe99",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "be5a6703-0f15-45ef-8404-9d0dec1eb319",
                "node_type": "1",
                "metadata": {},
                "hash": "45c11ab5d2e57a55da9220efdb4861863d16e86d700f27d59ae640fb26d4067e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "lm and train it on dcritic using a standard conditional language modeling objective maximizing likelihood max cexyrdcritic logpcrx y rfor reflection tokens 1 though the initial model can be any pretrained lm we use the same one as the generator lm ie llama 27b touvron et al 2023 for cinitialization the critic achieves a higher than 90 agreement with gpt4based predictions on most reflection token categories appendix table 5 322 t raining the generator model data collection for generator given an inputoutput pair x y we augment the original output yusing the retrieval and critic models to create supervised data that precisely mimics the self raginferencetime process section 31 for each segment yty we run cto assess whether additional passages could help to enhance generation if retrieval is required the retrieval special token retrieve yes is added and rretrieves the top kpassages d for each passage cfurther evaluates whether the passage is relevant and predicts isrel if a passage is relevant cfurther evaluates whether the passage supports the model generation and predicts issup critique tokens isreland issupare appended after the retrieved passage or generations at the end of the output y orytcpredicts the overall utility token isuse and an augmented output with reflection tokens and the original input pair is added to dgen see the example training data in figure 2 generator learning we train the generator model mby training on the curated corpus augmented with reflection tokens dgenusing the standard next token objective max mexyr dgenlogpmy rx 2 unlike ctraining eq 1 mlearns to predict the target output as well as the reflection tokens during training we mask out the retrieved text chunks surrounded by p andp in figure 2 for loss calculation and expand the original vocabulary vwith a set of reflection tokens critique retrieve connections to prior work on learning with critique recent work incorporates additional critique feedback during training eg rlhf ouyang et al 2022 via ppo while ppo relies on 5 mimetype textplain start_char_idx 0 end_char_idx 4450 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 398b540903ed4eb69c8144aff117c16c embedding null metadata page_label 6 mimetype textplain start_char_idx 691239 end_char_idx 698024 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ dfa61ac6599146e0a3054974864edb09 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 7cb0d57c840440729c723834351dfabb node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 22b542a020b5b88d5355ae51702693a66d635405977a5fa5a6a83169d38cac93 class_name relatednodeinfo  3  node_id 066a0f92c05142d3ad17aed37dd01c8a node_type 1 metadata  hash 666afdf958a0587d3e9d31cb54ca8d1e8ee9c0ac39962e9fc61b796b198a8dc3 class_name relatednodeinfo   text dgen see the example training data in figure 2 generator learning we train the generator model mby training on the curated corpus augmented with reflection tokens dgenusing the standard next token objective max mexyr dgenlogpmy rx 2 unlike ctraining eq 1 mlearns to predict the target output as well as the reflection tokens during training we mask out the retrieved text chunks surrounded by p andp in figure 2 for loss calculation and expand the original vocabulary vwith a set of reflection tokens critique retrieve connections to prior work on learning with critique recent work incorporates additional critique feedback during training eg rlhf ouyang et al 2022 via ppo while ppo relies on 5 mimetype textplain start_char_idx 0 end_char_idx 4450 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 398b540903ed4eb69c8144aff117c16c embedding null metadata page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 11ba40e9e6394781ae079e76757b5f15 node_type 4 metadata page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 6f66a422f5dca00c21b68750e3e28c615fecc2a83cb629293e5b1ae516c0cdae class_name relatednodeinfo text preprint separate reward models during training we compute critique offline and directly insert them into the training corpus where the generator lm is trained with a standard lm objective this significantly reduces training costs compared to ppo our work also relates to prior work that incorporates special tokens to control generation keskar et al 2019 lu et al 2022 korbak et al 2023 our selfrag learns to generate special tokens to evaluate its own prediction after each generated segment enabling the use of a soft reranking mechanism or hard constraints at inference discussed next 33 s",
        "mimetype": "text/plain",
        "start_char_idx": 1086024,
        "end_char_idx": 1091889,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "be5a6703-0f15-45ef-8404-9d0dec1eb319",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b7a6aa31-5c8d-4289-a0cb-e0e876eb4981",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "21b19fc16863477a03f0e4c7d59fc655b050cfee44778ae68bb2d74c98003a5f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4892e291-9068-4b9f-b1b9-54ac94f5bf69",
                "node_type": "1",
                "metadata": {},
                "hash": "18914203487108ab58cb380ab359cfe76acbbd84954b828dabb1b0f1662ce63f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 6f66a422f5dca00c21b68750e3e28c615fecc2a83cb629293e5b1ae516c0cdae class_name relatednodeinfo text preprint separate reward models during training we compute critique offline and directly insert them into the training corpus where the generator lm is trained with a standard lm objective this significantly reduces training costs compared to ppo our work also relates to prior work that incorporates special tokens to control generation keskar et al 2019 lu et al 2022 korbak et al 2023 our selfrag learns to generate special tokens to evaluate its own prediction after each generated segment enabling the use of a soft reranking mechanism or hard constraints at inference discussed next 33 s elfraginference generating reflection tokens to selfevaluate its own output makes selfragcontrollable during the inference phase enabling it to tailor its behavior to diverse task requirements for tasks demanding factual accuracy min et al 2023 we aim for the model to retrieve passages more frequently to ensure that the output aligns closely with the available evidence conversely in more openended tasks like composing a personal experience essay the emphasis shifts towards retrieving less and prioritizing the overall creativity or utility score in this section we describe approaches to enforce control to meet these distinct objectives during the inference process adaptive retrieval with threshold selfragdynamically decides when to retrieve text passages by predicting retrieve alternatively our framework allows a threshold to be set specifically if the prob ability of generating the retrieve yes token normalized over all output tokens in retrieve surpasses a designated threshold we trigger retrieval details in appendix section a3 treedecoding with critique tokens at each segment step t when retrieval is required based either on hard or soft conditions rretrieves kpassages and the generator mprocesses each passage in parallel and outputs kdifferent continuation candidates we conduct a segmentlevel beam search with the beam size b to obtain the top bsegment continuations at each timestamp t and return the best sequence at the end of generation the score of each segment ytwith respect to passage dis updated with a critic score sthat is the linear weighted sum of the normalized probability of each critique token type for each critique token group geg isrel we denote its score at timestamp tassg t and we compute a segment score as follows fyt d critique pytx d y t scritique where 3 scritique x ggwgsg tforgisrelissupisuse 4 where sg tptu02c6rpng i1ptristands for the generation probability of the most desirable reflection token u02c6reg isrelrelevant for the critique token type gwithngdistinct tokens that represent different possible values for g the weights wgin eq 4 are hyperparameters that can be adjusted at inference time to enable customized behaviors at test time for instance to ensure that result yis mostly supported by evidence we can set a weight term for the issupscore higher while relatively lowering weights for other aspects alternatively we could further enforce hard constraints during decoding using critique instead of using a soft reward function in eq 4 we could explicitly filter out a segment continuation when the model generates an undesirable critique token eg issupno support balancing the tradeoff between multiple preferences has been studied in rlhf touvron et al 2023 wu et al 2023 which often requires training to change models behaviors s elfragtailors an lm with no additional training 4 e xperiments 41 t asks and datasets we conduct evaluations of our selfragand diverse baselines on a range of downstream tasks holistically evaluating outputs with metrics designed to assess overall correctness factuality and fluency throughout these experiments we conduct zeroshot evaluations where we provide instruc tions describing tasks without fewshot demonstrations wei et al 2022 sanh et al 2022 details of our experiments settings including testtime instructions are available in the appendix section b1 closedset tasks include two datasets ie a fact verification dataset about public health pubhealth zhang et al 2023 and a multiplechoice reasoning dataset created from scientific exams arc 6 mimetype textplain start_char_idx 0 end_char_idx 4151 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b0d5da2ba3294e059efe8cd56b003eb8 embedding null metadata page_label 7 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 5288188dca4a40f4983ae24a7a35b495 node_type 4 metadata page_label 7 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 697092 end_char_idx 703647 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 066a0f92c05142d3ad17aed37dd01c8a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id dfa61ac6599146e0a3054974864edb09 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash",
        "mimetype": "text/plain",
        "start_char_idx": 1091100,
        "end_char_idx": 1097390,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4892e291-9068-4b9f-b1b9-54ac94f5bf69",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "be5a6703-0f15-45ef-8404-9d0dec1eb319",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "0b311fb9e0ab158d4a7c0d28532faa6d538b9dca9e216e92f8893a4f6e3e06dd",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "89bd5e5c-d48c-4381-ab9d-69993b422b00",
                "node_type": "1",
                "metadata": {},
                "hash": "406ec63666b71a3acd70c5c544eac47fb6978a35823c76b28c956953ad043683",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id dfa61ac6599146e0a3054974864edb09 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b69a638e0982ba297cdba55d40311ecd62bc7024a21189f5aec54e49d2a8e164 class_name relatednodeinfo  3  node_id 4ed853db694446a19351478b3d2d8d5e node_type 1 metadata  hash a551968e2c0f7363801c4d1adba56fe9d28c3bec64cde92e38e36eec75fdce22 class_name relatednodeinfo   text metadata_seperator n class_name textnode id_ b0d5da2ba3294e059efe8cd56b003eb8 embedding null metadata page_label 7 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 5288188dca4a40f4983ae24a7a35b495 node_type 4 metadata page_label 7 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash a756e676290b5ffacd99717a805bbdc73999aefcd7dd476c44117237664fef8a class_name relatednodeinfo text preprint challenge clark et al 2018 we use accuracy as an evaluation metric and report on the test set we aggregate the answer probabilities of target classes for both of these datasets appendix section b2 shortform generations tasks include two opendomain question answering qa datasets popqa mallen et al 2023 and triviaqaunfiltered joshi et al 2017 where systems need to answer arbitrary questions about factual knowledge for popqa we use the longtail subset consisting of 1399 rare entity queries whose monthly wikipedia page views are less than 100 as the triviaqaunfiltered open test set is not publicly available we follow prior works validation and test split min et al 2019 guu et al 2020 using 11313 test queries for evaluation we evaluate performance based on whether gold answers are included in the model generations instead of strictly requiring exact matching following mallen et al 2023 schick et al 2023 longform generation tasks include a biography generation task min et al 2023 and a longform qa task alceasqa gao et al 2023 stelmakh et al 2022 we use factscore min et al 2023 to evaluate biographies and we use official metrics of correctness strem fluency based on mauve pillutla et al 2021 and citation precision and recall gao et al 2023 for asqa5 42 b aselines baselines without retrievals we evaluate strong publicly available pretrained llms llama2 7b13btouvron et al 2023 instructiontuned models alpaca 7b13bdubois et al 2023 our replication based on llama2 and models trained and reinforced using private data chat gpt ouyang et al 2022 and llama2chat 13b for instructiontuned lms we use the official system prompt or instruction format used during training if publicly available we also compare our method to concurrent work cove 65bdhuliawala et al 2023 which introduces iterative prompt engineering to improve the factuality of llm generations baselines with retrievals we evaluate models augmented with retrieval at test time or during training the first category includes standard rag baselines where an lm llama2 alpaca generates output given the query prepended with the top retrieved documents using the same retriever as in our system it also includes llama2ft where llama2 is finetuned on all training data we use without the reflection tokens or retrieved passages we also report the result of retrievalaugmented baselines with lms trained with private data retchatgpt and retllama2chat which deploy the same augmentation technique above as well as perplexityai an instructgptbased production search system the second category includes concurrent methods that are trained with retrieved text passages ie sail luo et al 2023 to instructiontune an lm on the alpaca instructiontuning data with top retrieved documents inserted before instructions and toolformer schick et al 2023 to pretrain an lm with api calls eg wikipedia apis6 43 e xperimental settings training data and settings our training data consists of diverse instructionfollowing inputoutput pairs in particular we sample instances from openinstruct processed data wang et al 2023 and knowledgeintensive datasets petroni et al 2021 stelmakh et al 2022 mihaylov et al 2018 in total we use 150k instructionoutput pairs we use llama2 7b and 13b touvron et al 2023 as our generator base lm and we use llama2 7b as our base critic lm for the retriever model r we use offtheshelf contrieverms marco izacard et al 2022a by default and retrieve up to ten documents for each input more training details are in the appendix section b1 inference settings as a default configuration we assign the weight terms isrelissupisuse values of 10 10 and 05 respectively to encourage frequent retrieval we set the retrieval threshold to 02 for most tasks and to 0 for alce gao et al 2023 due to citation requirements we speed up inference using vllm kwon et al 2023 at each segment level we adopt a beam width of 2 for a tokenlevel generation we use greedy decoding by default we use the top five documents from contrieverms marco izacard et",
        "mimetype": "text/plain",
        "start_char_idx": 1096792,
        "end_char_idx": 1102449,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "89bd5e5c-d48c-4381-ab9d-69993b422b00",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4892e291-9068-4b9f-b1b9-54ac94f5bf69",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "6297fb8c9edde01338f842c2476e18731b28266e5cdcbe43256a36c63c92ce27",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "adb5861e-b1c6-4ce8-868a-a7f611b44b35",
                "node_type": "1",
                "metadata": {},
                "hash": "2d9332e3a83139df5d1f827fdd04ab05f85fb01e373ec279c7dcbed81b96811b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "instructionoutput pairs we use llama2 7b and 13b touvron et al 2023 as our generator base lm and we use llama2 7b as our base critic lm for the retriever model r we use offtheshelf contrieverms marco izacard et al 2022a by default and retrieve up to ten documents for each input more training details are in the appendix section b1 inference settings as a default configuration we assign the weight terms isrelissupisuse values of 10 10 and 05 respectively to encourage frequent retrieval we set the retrieval threshold to 02 for most tasks and to 0 for alce gao et al 2023 due to citation requirements we speed up inference using vllm kwon et al 2023 at each segment level we adopt a beam width of 2 for a tokenlevel generation we use greedy decoding by default we use the top five documents from contrieverms marco izacard et al 2022a for biographies and opendomain qa we use additional top five documents retrieved by a web search engine following luo et al 2023 for asqa we use the authorprovided top 5 documents by gtrxxl ni et al 2022 across all baselines for a fair comparison 5httpsgithubcomprincetonnlpalce 6we report numbers using the results reported in the paper as the implementations are not available 7 mimetype textplain start_char_idx 0 end_char_idx 4412 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fb53e05fb1db4a52bd2f4e1c2d3a5627 embedding null metadata page_label 8 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 4af0ddc1ee2f419ab8cd85572328b3b1 node_type 4 metadata page_label 8 file_name selfragpdf file_path mimetype textplain start_char_idx 702961 end_char_idx 708783 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4ed853db694446a19351478b3d2d8d5e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 066a0f92c05142d3ad17aed37dd01c8a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash fcc8d78acb812910ba9bb3c6db7aaba0a8937847b159229bf0127a6b30ff6b2c class_name relatednodeinfo  3  node_id 875335b63cef424f853e8e45837ddb95 node_type 1 metadata  hash 5186f3e8a228d3d9ea071e8bf635e489e303d71638af70aed80a85c1953bb18f class_name relatednodeinfo   text 6we report numbers using the results reported in the paper as the implementations are not available 7 mimetype textplain start_char_idx 0 end_char_idx 4412 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ fb53e05fb1db4a52bd2f4e1c2d3a5627 embedding null metadata page_label 8 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 4af0ddc1ee2f419ab8cd85572328b3b1 node_type 4 metadata page_label 8 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash e0a5c08be47e6c67db52eccbfdb9fe786b18f04ced31dbfaafd7f4fb39346ae0 class_name relatednodeinfo text preprint table 2 overall experiment results on six tasks bold numbers indicate the best performance among nonproprietary models and graycolored bold text indicates the best proprietary model when they outperforms all nonproprietary modelsindicates concurrent or recent results reported by concurrent work indicates numbers that are not reported by the original papers or are not applicable models are sorted based on scale fs em rg mau prec rec denote factscore factuality strem rouge correctness mauve fluency citation precision and recall respectively shortform closedset longform generations with citations popqa tqa pub arc bio asqa lm acc acc acc acc fs em rg mau pre rec lms with proprietary data llama2c 13b 200 593 494 384 559 224 296 286 retllama2c 13b 518 598 521 379 799 328 348 438 198 361 chatgpt 293 743 701 753 718 353 362 688 retchatgpt 508 657 547 753",
        "mimetype": "text/plain",
        "start_char_idx": 1101622,
        "end_char_idx": 1106731,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "adb5861e-b1c6-4ce8-868a-a7f611b44b35",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "89bd5e5c-d48c-4381-ab9d-69993b422b00",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "77e8ad9a52975d161baf1f26c700e41dbefc82a294eba5fa7a11f3e15aca4bba",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "581b0fdf-6fcb-4c7b-b996-69e48007995e",
                "node_type": "1",
                "metadata": {},
                "hash": "0632a80d4260ef94aa9e5534a5f7530db9a7a00093f8589c0e88e1bebfa27692",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "numbers indicate the best performance among nonproprietary models and graycolored bold text indicates the best proprietary model when they outperforms all nonproprietary modelsindicates concurrent or recent results reported by concurrent work indicates numbers that are not reported by the original papers or are not applicable models are sorted based on scale fs em rg mau prec rec denote factscore factuality strem rouge correctness mauve fluency citation precision and recall respectively shortform closedset longform generations with citations popqa tqa pub arc bio asqa lm acc acc acc acc fs em rg mau pre rec lms with proprietary data llama2c 13b 200 593 494 384 559 224 296 286 retllama2c 13b 518 598 521 379 799 328 348 438 198 361 chatgpt 293 743 701 753 718 353 362 688 retchatgpt 508 657 547 753 407 399 797 651 766 perplexityai 712 baselines without retrieval llama2 7b 147 305 342 218 445 79 153 190 alpaca 7b 236 545 498 450 458 188 294 617 llama2 13b 147 385 294 294 534 72 124 160 alpaca 13b 244 613 555 549 502 229 320 706 cove 65b 712 baselines with retrieval toolformer 6b 488 llama2 7b 382 425 300 480 780 152 221 320 29 40 alpaca 7b 467 641 402 480 766 309 333 579 55 72 llama2ft 7b 487 573 643 658 782 310 358 512 50 75 sail 7b 692 484 llama2 13b 457 470 302 260 775 163 205 247 23 36 alpaca 13b 461 669 511 576 777 348 367 566 20 38 our selfrag 7b 549 664 724 673 812 300 357 743 669 678 our selfrag 13b 558 693 745 731 802 317 370 716 703 713 5 r esults and analysis 51 m ainresults comparison against baselines without retrieval table 2 top presents the baselines without retrieval our selfragbottom two rows demonstrates a substantial performance advantage over supervised finetuned llms in all tasks and even outperforms chatgpt in pubhealth popqa biography generations and asqa rouge and mauve our approach also significantly outperforms a concurrent method that employs sophisticated prompt engineering specifically on the bio generation task our 7b and 13b models outperform the concurrent cove dhuliawala et al 2023 which iteratively prompts llama2 65bto refine output comparison against baselines with retrieval as shown in tables 2 bottom our selfragalso outperforms existing rag in many tasks obtaining the best performance among nonproprietary lmbased models on all tasks while our method outperforms other baselines on popqa or bio powerful instructiontuned lms with retrieval eg llama2chat alpaca show large gains from their nonretrieval baselines however we found that these baselines provide limited solutions for tasks where we cannot simply copy or extract substrings of retrieved passages on pubhealth and arcchallenge baselines with retrieval do not improve performance notably from their no retrieval counterparts we also observe that most baselines with retrieval struggle to improve citation accuracy on asqa our model shows significantly higher citation precision and recall than all models except chatgpt gao et al 2023 found that chatgpt consistently exhibits superior efficacy in this particular task surpassing smaller lms our selfragbridges this performance gap even outperforming chatgpt in citation precision which measures whether the modelgenerated claim is fully supported by cited evidence we also found that on the metrics for factual precision selfrag 7b occasionally outperforms our 13b due to the tendency of smaller selfragto often generate 8 mimetype textplain start_char_idx 0 end_char_idx 3516 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e89087e13f2b41668a3c90a82d6d2aed embedding null metadata page_label 9 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8633516f1f3742ac85eb1962ee391ac0 node_type 4 metadata page_label 9 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash mimetype textplain start_char_idx 708057 end_char_idx 713335 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 875335b63cef424f853e8e45837ddb95 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 4ed853db694446a19351478b3d2d8d5e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson",
        "mimetype": "text/plain",
        "start_char_idx": 1105925,
        "end_char_idx": 1111201,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "581b0fdf-6fcb-4c7b-b996-69e48007995e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "adb5861e-b1c6-4ce8-868a-a7f611b44b35",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "69475d5b38d5708f6d73e1323435a183b8ece2179a6f773ccfce8ee9ecff4767",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "549a49aa-3234-4e58-b499-e8f425cdddb8",
                "node_type": "1",
                "metadata": {},
                "hash": "d391d67e8276ae562ffc54efdaacf2169598a9d6a837a2c61ac07667ac175ecd",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 4ed853db694446a19351478b3d2d8d5e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 146fbf47795a352221598a9adb57115b2352ee01207d76d2c4beeb9f5c86f561 class_name relatednodeinfo  3  node_id b6dbce8fba2b4ce983fec1265737e96e node_type 1 metadata  hash b082e725203a10017396f834cb20ceeb45c82efbcd69694d4b506c1af5260bf5 class_name relatednodeinfo   text metadata_seperator n class_name textnode id_ e89087e13f2b41668a3c90a82d6d2aed embedding null metadata page_label 9 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 8633516f1f3742ac85eb1962ee391ac0 node_type 4 metadata page_label 9 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash fd0ec9d36a0071d78485990d8d238fe983c8af80c407f5205d6e226b0e5d6b98 class_name relatednodeinfo text preprint pqa med as acc acc em selfrag50k 455 735 321 training no retriever r 436 678 310 no critic c 426 720 181 test no retrieval 247 730 hard constraints 283 726 retrieve top1 418 731 286 remove issup 441 732 306 a ablation 1 2700705precision 1 2 weight for issupport9095mauve b customization 00 02 04 06098099099100accuracy pubhealth 00 02 04 06 retrieval threshold060810accuracypopqa000510 frequency 025050075100 frequency c retrieval figure 3 analysis on selfragaablation studies for key components of selfragtraining and inference based on our 7b model b effects of soft weights on asqa citation precision and mauve fluency c retrieval frequency andnormalized accuracy on pubhealth and popqa precisely grounded yet shorter outputs llama2ft 7b which is the baseline lm trained on the same instructionoutput pairs as selfragwithout retrieval or selfreflection and is retrievalaugmented at test time only lags behind s elfrag this result indicates s elfraggains are not solely from training data and demonstrate the effectiveness of s elfragframework 52 a nalysis ablation studies we conduct a set of ablations of our framework to identify which factors play key roles we evaluate two model variants trained differently than our model no retriever trains an lm using the standard instructionfollowing method given instructionoutput pairs without retrieved passages no critic trains an lm trained with inputoutput pairs that are always augmented with the top one retrieved document without reflection tokens this is similar to sail luo et al 2023 and we use our instructionoutput data instead of using the alpaca dataset dubois et al 2023 as in sail we also conduct ablation on our inferencetime algorithm including no retrieval disables retrieval during inference hard constraints indicates the model performance that retrieves when retrieve yes instead of using the adaptive threshold retrieve top 1 always retrieves and uses the top one document only similar to standard rag approaches remove issupindicates the model performance that removes issupscore only during critiqueguided beam search in eq 4 in this ablation experiment we use a training instance size of 50k for a more efficient exploration of training variations later in this section we conduct an analysis of the effect of training data size we conduct the ablation studies on three datasets popqa pubhealth and asqa on asqa we evaluate models on sampled 150 instances and exclude ablations involving adaptive or no retrieval processes we show in table 3a the ablation results the top part of the table shows results for training ablations and the bottom part is for inference ablations we see that all components play important roles we also observe a large performance gap between selfragand no retriever or critic baselines across tasks indicating that training an lm with those models largely contributes to the performance gain of selfrag using the top passages regardless of their relevance retrieve top 1 as in conventional rag approaches causes a large drop in popqa and asqa and removing issupduring the beam search results hurts performance on asqa this demonstrates the effectiveness of selfrags capabilities of carefully selecting generations based finegrained multiple criterion instead of naively using all of the top passages from the retrieval model or solely depending on relevance scores effects of inferencetime customization one key benefit of our proposed framework is that it enables us to control how much each critique type affects the final generation sampling we analyze the effects of different parameter weights on the top of our 7b model during inference time on asqa where multiple evaluation aspects are considered figure 3b shows the effects of changing the weighting term for issup which criticizes how supported the output is by the text passage as the figure shows increasing the weight leads to positive effects on the models citation precision since this puts more emphasis on whether model generation is supported by the evidence on the 9 mimetype textplain start_char_idx 0 end_char_idx 4047 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_",
        "mimetype": "text/plain",
        "start_char_idx": 1110618,
        "end_char_idx": 1116521,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "549a49aa-3234-4e58-b499-e8f425cdddb8",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "581b0fdf-6fcb-4c7b-b996-69e48007995e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2842cd22994753c54650ebbeb13c89481642a4a227cb2553cdb17b4ac40a3296",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0cd61fe7-7bbe-473c-b18b-03c5e4ab497b",
                "node_type": "1",
                "metadata": {},
                "hash": "a71edf7232b4d1aa58d3d03c7a62ce7d502c7716234f7eaa10e601b0d087eb94",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "search results hurts performance on asqa this demonstrates the effectiveness of selfrags capabilities of carefully selecting generations based finegrained multiple criterion instead of naively using all of the top passages from the retrieval model or solely depending on relevance scores effects of inferencetime customization one key benefit of our proposed framework is that it enables us to control how much each critique type affects the final generation sampling we analyze the effects of different parameter weights on the top of our 7b model during inference time on asqa where multiple evaluation aspects are considered figure 3b shows the effects of changing the weighting term for issup which criticizes how supported the output is by the text passage as the figure shows increasing the weight leads to positive effects on the models citation precision since this puts more emphasis on whether model generation is supported by the evidence on the 9 mimetype textplain start_char_idx 0 end_char_idx 4047 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 14b442a7e3444befb2d139bfca44ea87 embedding null metadata page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id f8008a2308224f05b89f70f59432523a node_type 4 metadata page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 4a45f4d732c038377f752ae94ddf3b8f1991a409a824c924fdabdf5ee301d37a class_name relatednodeinfo text preprint 0 50 100 150 num of training k3540455055perfomance a popqa 0 100 num of training k717273 b pubhealth 0 100 num of training k4060 c asqa precpop bio s p 925 700 isrel 950 900 issup 900 850 d human evaluation on popqa and bio generation figure 4 training scale and human analysis a b c training scale analysis shows the effect of the training data scale on popqa mimetype textplain start_char_idx 712649 end_char_idx 718756 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b6dbce8fba2b4ce983fec1265737e96e embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 875335b63cef424f853e8e45837ddb95 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash a177792c32fded56a285a654a81b5b9b30576aba1235c8ef3d3553c932330acd class_name relatednodeinfo  3  node_id a1d261e38bb74b698dd242731de6b1b9 node_type 1 metadata  hash d40d8ef4f0c4ca4cbfb5ed6878bca02bc4bd68fb1afe523a5f1e46837b567f04 class_name relatednodeinfo   text file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 4a45f4d732c038377f752ae94ddf3b8f1991a409a824c924fdabdf5ee301d37a class_name relatednodeinfo text preprint 0 50 100 150 num of training k3540455055perfomance a popqa 0 100 num of training k717273 b pubhealth 0 100 num of training k4060 c asqa precpop bio s p 925 700 isrel 950 900 issup 900 850 d human evaluation on popqa and bio generation figure 4 training scale and human analysis a b c training scale analysis shows the effect of the training data scale on popqa pubhealth and asqa citation precision respectively d human analysis on s elfragoutputs as well as reflection tokens contrary a larger weight results in lower mauve scores when generation gets longer and more fluent there are often more claims that are not fully supported by citations consistent with findings by liu et al 2023a our framework lets practitioners choose and customize models behaviors at test time by adjusting such parameters without requiring additional training efficiency and accuracy tradeoff using our framework practitioners can adjust how often retrieval occurs using the token probability of reward tokens we evaluate how this adaptive threshold affects overall accuracy and frequency of retrieval and we evaluate the performance with varying numbers of threshold u03b4larger u03b4results in less retrieval on pubhealth and popqa figure 3c shows that the models retrieval frequencies dramatically change on both datasets as u03b4varies on one hand performance deterioration by retrieving less is smaller on pubhealth but larger in popqa effects of training data size we conduct an analysis of how the data scale affects the models performance in particular we randomly sample 5k 10k 20k and 50k instances from our original 150k training instances and finetune four selfrag 7bvariants on those subsets then we compare the model performance on popqa pubhealth and asqa citation precision with our",
        "mimetype": "text/plain",
        "start_char_idx": 1115400,
        "end_char_idx": 1121020,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0cd61fe7-7bbe-473c-b18b-03c5e4ab497b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "549a49aa-3234-4e58-b499-e8f425cdddb8",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e4e68d05ac7c8146762187ba5af69894a2ff18812f1e474316ff3b490b2b8f53",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "47efb16e-74f9-46ea-a0aa-02bff513f910",
                "node_type": "1",
                "metadata": {},
                "hash": "5349b4c565b817b0614fc9c3bc696db89ca2db7ea5ab6885fb5133857be391bf",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "lets practitioners choose and customize models behaviors at test time by adjusting such parameters without requiring additional training efficiency and accuracy tradeoff using our framework practitioners can adjust how often retrieval occurs using the token probability of reward tokens we evaluate how this adaptive threshold affects overall accuracy and frequency of retrieval and we evaluate the performance with varying numbers of threshold u03b4larger u03b4results in less retrieval on pubhealth and popqa figure 3c shows that the models retrieval frequencies dramatically change on both datasets as u03b4varies on one hand performance deterioration by retrieving less is smaller on pubhealth but larger in popqa effects of training data size we conduct an analysis of how the data scale affects the models performance in particular we randomly sample 5k 10k 20k and 50k instances from our original 150k training instances and finetune four selfrag 7bvariants on those subsets then we compare the model performance on popqa pubhealth and asqa citation precision with our final self ragtrained on the full 150k instances we also evaluate figures 4a 4b and 4c shows the models performance trained on different amount of data across all datasets increasing data size often shows upward trajectories and the improvements are significantly larger in popqa and asqa while we do not observed such significant improvements on llama2ft 7bwhen increasing the training data from 50k to 150k these results also indicate that further expanding the training data of selfragmay lead to further improvements although in this work we limit our training data size to 150k human evaluations we conduct small human evaluations on selfragoutputs as well as the reliability of predicted reflection tokens in particular we sampled 50 samples from popqa and bio results following menick et al 2022 human annotators evaluate sp which indicates whether the model output is plausible ie the output is a reasonable and ontopic response to the question as if it were occurring in a conversation and supported ie the provided evidence is sufficient to verify the validity of the answer for sp we do not consider the instances where selfrag predicts irrelevant orno support we then ask our annotators whether the modelpredicted reflection tokens about isreland issupmatch their inspections eg whether the fully supported output is supported by the cited evidence human annotators find selfraganswers are often plausible and supported by relevant passages with higher sp scores on shortform popqa which is consistent with menick et al 2022 human annotators also find isreland issupreflection token predictions are mostly aligned with their assessments appendix table 6 shows several annotated examples and explanations on assessments 6 c onclusion this work introduces selfrag a new framework to enhance the quality and factuality of llms through retrieval on demand and selfreflection selfragtrains an lm to learn to retrieve generate and critique text passages and its own generation by predicting the next tokens from its original vocabulary as well as newly added special tokens called reflection tokens selfragfurther enables the tailoring of lm behaviors at test time by leveraging reflection tokens our holistic evaluations on six tasks using multiple metrics demonstrate that selfragsignificantly outperforms llms with more parameters or with conventional retrievalaugmented generation approaches 10 mimetype textplain start_char_idx 0 end_char_idx 4184 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 48f34358fea7475b8ea6efcae09d91f4 embedding null metadata page_label 11 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 495d909da8bf4490ba1fa2019c1b4d53 node_type 4 metadata page_label 11 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 4622935fb013489788254e5d2375605d04a5b6a9bcd33558a722a4951bd208cf class_name relatednodeinfo text preprint ethical concerns this work aims to improve the factuality of llm outputs the lack of which continues to cause nu merous realworld problems eg spread of misinformation and provision of incorrect and dangerous advice while our method shows significant improvements in terms of performance factuality and citation accuracy it can still generate outputs that are not fully supported by the citations we hope that explicit selfreflection and finegrained attribution may help users verify factual errors in the model outputs acknowledgments we thank sewon min scott wentau yih sean welleck and kawin ethayarajh for fruitful discussions in the early stages of this work we thank sewon min joongwon daniel kim and sandy kaplan for valuable feedback on the paper and tianyu gao and weijia shi for their help on evaluations akari asai is supported by the ibm fellowship we thank stability ai for providing computing to train and evaluate the lms in this work and microsoft accelerate foundation models research program for the access to openai apis this work was funded in part by the darpa mcs program through niwc pacific n660011924031 nsf iis2044660 and gifts from ai2 references akari asai kazuma hashimoto hannaneh hajishirzi richard socher and caiming xiong learn ing to retrieve reasoning paths over wikipedia graph for mimetype textplain start_char_idx 718188 end_char_idx 724812 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a1d261e38bb74b698dd242731de6b1b9 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb",
        "mimetype": "text/plain",
        "start_char_idx": 1119945,
        "end_char_idx": 1126492,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "47efb16e-74f9-46ea-a0aa-02bff513f910",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0cd61fe7-7bbe-473c-b18b-03c5e4ab497b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "46f7efc6a67eb5c44b49a594ffb07f1c56c634f6c918e302d8034214ecdb3c1d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ea02b9bf-fa68-416d-aec5-8d0a8c2acb66",
                "node_type": "1",
                "metadata": {},
                "hash": "9a375a92f760cd280d79c70872129efb79e2a27fed826bf9575e04752cd415f1",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id b6dbce8fba2b4ce983fec1265737e96e node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 8ad6723d31e1f23cd15a044fce5e2bfa1d2c99dbdf6b05d4877b08b5966b321f class_name relatednodeinfo  3  node_id a198021ac7ba4e9cb65afe60bdec00a4 node_type 1 metadata  hash a388caee26a5943e250f0ec246b3b145f40305e813027244fa8eb94cbefb3380 class_name relatednodeinfo   text attribution may help users verify factual errors in the model outputs acknowledgments we thank sewon min scott wentau yih sean welleck and kawin ethayarajh for fruitful discussions in the early stages of this work we thank sewon min joongwon daniel kim and sandy kaplan for valuable feedback on the paper and tianyu gao and weijia shi for their help on evaluations akari asai is supported by the ibm fellowship we thank stability ai for providing computing to train and evaluate the lms in this work and microsoft accelerate foundation models research program for the access to openai apis this work was funded in part by the darpa mcs program through niwc pacific n660011924031 nsf iis2044660 and gifts from ai2 references akari asai kazuma hashimoto hannaneh hajishirzi richard socher and caiming xiong learn ing to retrieve reasoning paths over wikipedia graph for question answering in international conference on learning representations 2020 url httpsopenreviewnetforum idsjgvhkrydh akari asai sewon min zexuan zhong and danqi chen retrievalbased language models and appli cations in proceedings of the 61st annual meeting of the association for computational linguistics tutorial 2023a url httpsaclanthologyorg2023acltutorials6 akari asai timo schick patrick lewis xilun chen gautier izacard sebastian riedel hannaneh hajishirzi and wentau yih taskaware retrieval with instructions in findings of the associ ation for computational linguistics 2023b url httpsaclanthologyorg2023 findingsacl225 bernd bohnet vinh q tran pat verga roee aharoni daniel andor livio baldini soares jacob eisenstein kuzman ganchev jonathan herzig kai hui et al attributed question answering evaluation and modeling for attributed large language models arxiv preprint arxiv221208037 2022 url httpsarxivorgabs221208037 lingjiao chen matei zaharia and james zou how is chatgpts behavior changing over time arxiv preprint arxiv230709009 2023 url httpsarxivorgabs230709009 peter clark isaac cowhey oren etzioni tushar khot ashish sabharwal carissa schoenick and oyvind tafjord think you have solved question answering try arc the ai2 reasoning challenge arxiv preprint arxiv180305457 2018 url httpsarxivorgabs180305457 tri dao dan fu stefano ermon atri rudra and christopher r e flashattention fast and memory efficient exact attention with ioawareness in advances in neural information processing systems 2022 url httpsopenreviewnetforumidh4dqfpsibmx shehzaad dhuliawala mojtaba komeili jing xu roberta raileanu xian li asli celikyilmaz and jason weston chainofverification reduces hallucination in large language models arxiv preprint arxiv230911495 2023 url httpsarxivorgabs230911495 emily dinan stephen roller kurt shuster angela fan michael auli and jason weston wizard of wikipedia knowledgepowered conversational agents in international conference on learning representations 2019 url httpsopenreviewnetforumidr1l73irqkm yann dubois xuechen li rohan taori tianyi zhang ishaan gulrajani jimmy ba carlos guestrin percy liang and tatsunori b hashimoto alpacafarm a simulation framework for methods that 11 mimetype textplain start_char_idx 0 end_char_idx 3564 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 98bf946f753f4ce88c31952fcc97f94e embedding null metadata page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0c63e176991b4111b6d55f48be41154f node_type 4 metadata page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 1125851,
        "end_char_idx": 1130944,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ea02b9bf-fa68-416d-aec5-8d0a8c2acb66",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "47efb16e-74f9-46ea-a0aa-02bff513f910",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2bc4d770849d75118d0ce81657ae95127506cd06bcbf734a90e034260df89c53",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8f30ab19-5646-4613-acc0-4a0b96f2f776",
                "node_type": "1",
                "metadata": {},
                "hash": "99b9a1c13d5f412797514348bb40734aebc1ff8954b39f5f60e85e598c9a7571",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 98bf946f753f4ce88c31952fcc97f94e embedding null metadata page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0c63e176991b4111b6d55f48be41154f node_type 4 metadata page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 76d5d73c776596bf26163dad0d55fdaafc0fe5e8260db1812e275f7b59cb2986 class_name relatednodeinfo text preprint learn from human feedback arxiv preprint arxiv230514387 2023 url httpsarxiv orgabs230514387 tianyu gao howard yen jiatong yu and danqi chen enabling large language models to generate text with citations arxiv preprint arxiv230514627 2023 url httpsarxivorgabs 230514627 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang retrieval augmented language model pretraining in international conference on machine learning 2020 url httpsdlacmorgdoipdf10555535249383525306 gautier izacard mathilde caron lucas hosseini sebastian riedel piotr bojanowski armand joulin and edouard grave unsupervised dense information retrieval with contrastive learning transactions on machine learning research 2022a url httpsopenreviewnet forumidjkn1pxi7b0 gautier izacard patrick lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave fewshot learning with retrieval augmented language models arxiv preprint arxiv220803299 2022b url https arxivorgabs220803299 zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig active retrieval augmented generation arxiv preprint arxiv230506983 2023 url httpsarxivorgabs230506983 mandar joshi eunsol choi daniel weld and luke zettlemoyer triviaqa a large scale distantly supervised challenge dataset for reading comprehension in proceedings of the 55th annual meeting of the mimetype textplain start_char_idx 723945 end_char_idx 729381 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a198021ac7ba4e9cb65afe60bdec00a4 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id a1d261e38bb74b698dd242731de6b1b9 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 99ce51c795faa544cfc2ad4c477733279ef39c6cf378f97de60b93dfb9441506 class_name relatednodeinfo  3  node_id 6ed14b48b909431594b83db9f5d3dba2 node_type 1 metadata  hash 3f9c7e86c5280f1a4e6f4781d013c34bc5dc8266b5d5c3eb579f6e4d4bd32941 class_name relatednodeinfo   text url httpsopenreviewnet forumidjkn1pxi7b0 gautier izacard patrick lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave fewshot learning with retrieval augmented language models arxiv preprint arxiv220803299 2022b url https arxivorgabs220803299 zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig active retrieval augmented generation arxiv preprint arxiv230506983 2023 url httpsarxivorgabs230506983 mandar joshi eunsol choi daniel weld and luke zettlemoyer triviaqa a large scale distantly supervised challenge dataset for reading comprehension in proceedings of the 55th annual meeting of the association for computational linguistics volume 1 long papers 2017 url httpsaclanthologyorgp171147 nitish shirish keskar bryan mccann lav r varshney caiming xiong and richard socher ctrl a conditional transformer language model for controllable generation arxiv preprint arxiv190905858 2019 url httpsarxivorgabs190905858 tomasz korbak kejian shi angelica chen rasika vinayak bhalerao christopher buckley jason phang samuel r bowman and ethan perez pretraining language models with human preferences ininternational conference on machine learning",
        "mimetype": "text/plain",
        "start_char_idx": 1130202,
        "end_char_idx": 1135169,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8f30ab19-5646-4613-acc0-4a0b96f2f776",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ea02b9bf-fa68-416d-aec5-8d0a8c2acb66",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "7b5e3ed1a7e7636fbfef9ee500c0d1cdb0333014c286cf43867ea795ea5b458f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "fa4f128b-c197-42cc-af3c-47ff96dd68a0",
                "node_type": "1",
                "metadata": {},
                "hash": "2904d491f5ab11126962330f00248ee84091a3a6a37f83f7746c0779a83ba319",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "retrieval augmented generation arxiv preprint arxiv230506983 2023 url httpsarxivorgabs230506983 mandar joshi eunsol choi daniel weld and luke zettlemoyer triviaqa a large scale distantly supervised challenge dataset for reading comprehension in proceedings of the 55th annual meeting of the association for computational linguistics volume 1 long papers 2017 url httpsaclanthologyorgp171147 nitish shirish keskar bryan mccann lav r varshney caiming xiong and richard socher ctrl a conditional transformer language model for controllable generation arxiv preprint arxiv190905858 2019 url httpsarxivorgabs190905858 tomasz korbak kejian shi angelica chen rasika vinayak bhalerao christopher buckley jason phang samuel r bowman and ethan perez pretraining language models with human preferences ininternational conference on machine learning 2023 url httpsopenreviewnet forumidat8iw8koec tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov natural questions a benchmark for question answering research transactions of the association for computational linguistics 2019 url httpsaclanthologyorg q191026 woosuk kwon zhuohan li siyuan zhuang ying sheng lianmin zheng cody hao yu joseph e gonzalez hao zhang and ion stoica efficient memory management for large language model serving with pagedattention in proceedings of the acm sigops 29th symposium on operating systems principles 2023 url httpsarxivorgabs230906180 patrick lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich k uttler mike lewis wentau yih tim rockt aschel sebastian riedel and douwe kiela retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural infor mation processing systems 2020 url httpsproceedingsneuripsccpaper 2020file6b493230205f780e1bc26945df7481e5paperpdf xi victoria lin xilun chen mingda chen weijia shi maria lomeli rich james pedro rodriguez jacob kahn gergely szilvasy mike lewis luke zettlemoyer and scott yih radit retrieval augmented dual instruction tuning 2023 url httpsarxivorgabs231001352 nelson f liu tianyi zhang and percy liang evaluating verifiability in generative search engines arxiv preprint arxiv230409848 2023a url httpsarxivorgabs230409848 12 mimetype textplain start_char_idx 0 end_char_idx 3597 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 37b82f72d2fd4cbe90f05146813cb81a embedding null metadata page_label 13 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 1286d1aec66d4bd5ae9d40b0dd3a4874 node_type 4 metadata page_label 13 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash aad168f5d58823fa69af2160a7f8258c7157f3440f67277c3b87d306dd51e674 class_name relatednodeinfo text preprint yang liu dan iter yichong xu shuohang wang ruochen xu and chenguang zhu gpteval nlg evaluation using gpt4 with better human alignment arxiv preprint arxiv230316634 2023b urlhttpsarxivorgabs230316634 ximing lu sean welleck jack hessel liwei jiang lianhui qin peter west prithviraj am manabrolu and yejin choi quark controllable text generation with reinforced unlearning inadvances in neural information processing systems 2022 url httpsopenreview netforumid5haids3ux5o hongyin luo yungsung chuang yuan gong tianhua zhang yoon kim xixin wu danny fox helen meng and james glass sail searchaugmented instruction learning arxiv preprint arxiv230515225 2023 url httpsarxivorgabs230515225 aman madaan niket tandon prakhar gupta skyler hallinan luyu gao sarah wiegreffe uri alon nouha dziri shrimai prabhumoye yiming yang shashank gupta bodhisattwa prasad majumder katherine hermann sean welleck amir yazdanbakhsh and peter clark self refine iterative refinement with selffeedback arxiv preprint arxiv230317651 2023 url httpsarxivorgabs230317651 alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi when not to trust language models investigating effectiveness of parametric and nonparametric memories in proceedings of the 61st annual meeting of the association for computational linguistics volume 1 long papers 2023 mimetype textplain start_char_idx 728656 end_char_idx 733773 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6ed14b48b909431594b83db9f5d3dba2 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id",
        "mimetype": "text/plain",
        "start_char_idx": 1134332,
        "end_char_idx": 1139520,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "fa4f128b-c197-42cc-af3c-47ff96dd68a0",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8f30ab19-5646-4613-acc0-4a0b96f2f776",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "28070f32631cc93fc926602627fe6f413866f63c60d427876b65127d63d41791",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "afd5c0b3-e62d-461a-9c59-eabbb2849e1f",
                "node_type": "1",
                "metadata": {},
                "hash": "c8352660c9d1c7f5a5d5e04f2d66edd6210eaa3bd21c4a32bf8876a391ee50d0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi when not to trust language models investigating effectiveness of parametric and nonparametric memories in proceedings of the 61st annual meeting of the association for computational linguistics volume 1 long papers 2023 mimetype textplain start_char_idx 728656 end_char_idx 733773 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6ed14b48b909431594b83db9f5d3dba2 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id a198021ac7ba4e9cb65afe60bdec00a4 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 61f8560d1d31b75fd8c5665722caad1520dabf1f913a1fd55ec98a150ca933b1 class_name relatednodeinfo  3  node_id bc0d19f801654a2496c64b381266a524 node_type 1 metadata  hash 45f9f876cf246ef65a8163524c82e2236a51c17f2f0f9cfdfd399ff9d04ee8c0 class_name relatednodeinfo   text instruction learning arxiv preprint arxiv230515225 2023 url httpsarxivorgabs230515225 aman madaan niket tandon prakhar gupta skyler hallinan luyu gao sarah wiegreffe uri alon nouha dziri shrimai prabhumoye yiming yang shashank gupta bodhisattwa prasad majumder katherine hermann sean welleck amir yazdanbakhsh and peter clark self refine iterative refinement with selffeedback arxiv preprint arxiv230317651 2023 url httpsarxivorgabs230317651 alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi when not to trust language models investigating effectiveness of parametric and nonparametric memories in proceedings of the 61st annual meeting of the association for computational linguistics volume 1 long papers 2023 url httpsaclanthologyorg2023 acllong546 jacob menick maja trebacz vladimir mikulik john aslanides francis song martin chadwick mia glaese susannah young lucy campbellgillingham geoffrey irving et al teaching language models to support answers with verified quotes arxiv preprint arxiv220311147 2022 urlhttpsarxivorgabs220311147 todor mihaylov peter clark tushar khot and ashish sabharwal can a suit of armor conduct electricity a new dataset for open book question answering in proceedings of the 2018 conference on empirical methods in natural language processing 2018 url httpsaclanthology orgd181260 sewon min danqi chen hannaneh hajishirzi and luke zettlemoyer a discrete hard em approach for weakly supervised question answering in proceedings of the 2019 conference on empirical methods in natural language processing and the 9th international joint conference on natu ral language processing emnlpijcnlp 2019 url httpsaclanthologyorg d191284 sewon min kalpesh krishna xinxi lyu mike lewis wentau yih pang wei koh mohit iyyer luke zettlemoyer and hannaneh hajishirzi factscore finegrained atomic evaluation of factual precision in long form text generation arxiv preprint arxiv230514251 2023 url https arxivorgabs230514251 reiichiro nakano jacob hilton suchir balaji jeff wu long ouyang christina kim christopher hesse shantanu jain vineet kosaraju william saunders et al webgpt browserassisted questionanswering with human feedback arxiv preprint arxiv211209332 2021 url https arxivorgabs211209332 jianmo ni chen qu jing lu zhuyun dai gustavo hernandez abrego ji ma vincent zhao yi luan keith hall mingwei chang and yinfei yang large dual encoders are generalizable retrievers in proceedings of the 2022 conference on empirical methods in natural language processing 2022 url httpsaclanthologyorg2022emnlpmain669 openai gpt4 technical report arxiv preprint arxiv230308774 2023 url httpsarxiv orgabs230308774 long ouyang jeffrey wu xu jiang diogo almeida carroll wainwright pamela mishkin chong zhang sandhini agarwal katarina slama alex gray john schulman jacob hilton fraser kelton luke miller maddie simens amanda askell peter welinder paul christiano jan leike and 13 mimetype textplain start_char_idx 0 end_char_idx 3558 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2233c7e0795e494197804d30b79c5d3d embedding null metadata page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date",
        "mimetype": "text/plain",
        "start_char_idx": 1138699,
        "end_char_idx": 1143774,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "afd5c0b3-e62d-461a-9c59-eabbb2849e1f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "fa4f128b-c197-42cc-af3c-47ff96dd68a0",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "f2fdd5bdb3e6bf429c72321ef807526eb542f07be6e9af64e0578e7383b4603e",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "671f5736-6ae3-4e93-ac23-47de1297f10d",
                "node_type": "1",
                "metadata": {},
                "hash": "4a4dbe7fa43f16c998e32df27faa89d76be7d739d1f9bbeb035ec7e98cc9f81c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "url httpsarxiv orgabs230308774 long ouyang jeffrey wu xu jiang diogo almeida carroll wainwright pamela mishkin chong zhang sandhini agarwal katarina slama alex gray john schulman jacob hilton fraser kelton luke miller maddie simens amanda askell peter welinder paul christiano jan leike and 13 mimetype textplain start_char_idx 0 end_char_idx 3558 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 2233c7e0795e494197804d30b79c5d3d embedding null metadata page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 238d8fcfaed94074a59be0d334ca7fc5 node_type 4 metadata page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 324830fe4d2c1b58fa5aae3382e7de88cd45421a91cdf5273fa1e7cc978a9e5f class_name relatednodeinfo text preprint ryan lowe training language models to follow instructions with human feedback in advances in neural information processing systems 2022 url httpsopenreviewnetforum idtg8kacxeon debjit paul mete ismayilzada maxime peyrard beatriz borges antoine bosselut robert west and boi faltings refiner reasoning feedback on intermediate representations arxiv preprint arxiv230401904 2023 url httpsarxivorgabs230401904 fabio petroni aleksandra piktus angela fan patrick lewis majid yazdani nicola de cao james thorne yacine jernite vladimir karpukhin jean maillard vassilis plachouras tim rockt aschel and sebastian riedel kilt a benchmark for knowledge intensive language tasks in proceedings of the 2021 conference of the north american chapter of the association for computational linguistics human language technologies 2021 url httpsaclanthologyorg 2021naaclmain200 krishna pillutla swabha swayamdipta rowan zellers john thickstun sean welleck yejin choi and zaid harchaoui mauve measuring the gap between neural text and human text using divergence frontiers in advances in neural information processing systems 2021 url https openreviewnetforumidtqx7njp7pr samyam rajbhandari jeff rasley olatunji ruwase and yuxiong he zero memory optimizations toward training trillion parameter models in proceedings of the international conference for high performance computing networking storage and analysis 2020 url httpsdlacm orgdoi10555534337013433727 ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua mimetype textplain start_char_idx 733023 end_char_idx 738366 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ bc0d19f801654a2496c64b381266a524 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 6ed14b48b909431594b83db9f5d3dba2 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash c30de8e3e20e01c116f78a40b4391a210882cec05ecc06a637f813546fc48a1f class_name relatednodeinfo  3  node_id 1a050bbf87704424841c10f25f6e7f05 node_type 1 metadata  hash 815686ccc5277b553e875f0b27db8cad58587a128abd6ce1f1207bcd507c61de class_name relatednodeinfo   text language tasks in proceedings of the 2021 conference of the north american chapter of the association for computational linguistics human language technologies 2021 url httpsaclanthologyorg 2021naaclmain200 krishna pillutla swabha swayamdipta rowan zellers john thickstun sean welleck yejin choi and zaid harchaoui mauve measuring the gap between neural text and human text using divergence frontiers in advances in neural information processing systems 2021 url https openreviewnetforumidtqx7njp7pr samyam rajbhandari jeff rasley olatunji ruwase and yuxiong he zero memory optimizations toward training trillion parameter models in proceedings of the international conference for high performance computing networking storage and analysis 2020 url httpsdlacm orgdoi10555534337013433727 ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham incontext retrievalaugmented language models transactions of the association for computational linguistics 2023 url httpsarxivorgabs230200083 victor sanh albert webson colin",
        "mimetype": "text/plain",
        "start_char_idx": 1143051,
        "end_char_idx": 1148217,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "671f5736-6ae3-4e93-ac23-47de1297f10d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "afd5c0b3-e62d-461a-9c59-eabbb2849e1f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "475006662d1b630849a063ed58db2375ea388b4c793b41e23711d5988d5fb509",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "26758fc1-c53e-4b30-a367-4138d6e4725e",
                "node_type": "1",
                "metadata": {},
                "hash": "ea1f85cd7008cc041fad08a82353dea76d56ef8b18aed620003e2442ef9d3df3",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "swayamdipta rowan zellers john thickstun sean welleck yejin choi and zaid harchaoui mauve measuring the gap between neural text and human text using divergence frontiers in advances in neural information processing systems 2021 url https openreviewnetforumidtqx7njp7pr samyam rajbhandari jeff rasley olatunji ruwase and yuxiong he zero memory optimizations toward training trillion parameter models in proceedings of the international conference for high performance computing networking storage and analysis 2020 url httpsdlacm orgdoi10555534337013433727 ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham incontext retrievalaugmented language models transactions of the association for computational linguistics 2023 url httpsarxivorgabs230200083 victor sanh albert webson colin raffel stephen bach lintang sutawika zaid alyafeai antoine chaffin arnaud stiegler arun raja manan dey m saiful bari canwen xu urmish thakker shanya sharma sharma eliza szczechla taewoon kim gunjan chhablani nihal nayak de bajyoti datta jonathan chang mike tianjian jiang han wang matteo manica sheng shen zheng xin yong harshit pandey rachel bawden thomas wang trishala neeraj jos rozen abheesht sharma andrea santilli thibault fevry jason alan fries ryan teehan teven le scao stella biderman leo gao thomas wolf and alexander m rush multitask prompted training enables zeroshot task generalization in international conference on learning representations 2022 url httpsopenreviewnetforumid9vrb9d0wi4 timo schick jane dwivediyu roberto dess u0131 roberta raileanu maria lomeli luke zettlemoyer nicola cancedda and thomas scialom toolformer language models can teach themselves to use tools arxiv preprint arxiv230204761 2023 url httpsarxivorgabs2302 04761 john schulman filip wolski prafulla dhariwal alec radford and oleg klimov proximal policy optimization algorithms arxiv preprint arxiv170706347 2017 url httpsarxivorg abs170706347 freda shi xinyun chen kanishka misra nathan scales david dohan ed h chi nathanael scharli and denny zhou large language models can be easily distracted by irrelevant context inproceedings of the 40th international conference on machine learning 2023 url https proceedingsmlrpressv202shi23ahtml ivan stelmakh yi luan bhuwan dhingra and mingwei chang asqa factoid questions meet long form answers in proceedings of the 2022 conference on empirical methods in natural language processing 2022 url httpsaclanthologyorg2022emnlpmain566 james thorne andreas vlachos christos christodoulopoulos and arpit mittal fever a large scale dataset for fact extraction and verification in proceedings of the 2018 conference of the north american chapter of the association for computational linguistics human language tech nologies volume 1 long papers 2018 url httpsaclanthologyorgn181074 14 mimetype textplain start_char_idx 0 end_char_idx 3749 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ee8c9272f1a440cdaa82b80c43ede153 embedding null metadata page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 3d662e1b2e234fbfb2aae945c9041a0a node_type 4 metadata page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 59f460130c999ae0ddfb07f337c5c7ae670d0759a2e53a4df2566663989554ee class_name relatednodeinfo text preprint hugo touvron louis martin kevin stone peter albert amjad almahairi yasmine babaei nikolay bashlykov soumya batra prajjwal bhargava shruti bhosale et al llama 2 open foundation and finetuned chat models arxiv preprint arxiv230709288 2023 url httpsarxiv orgabs230709288 yizhong wang hamish ivison pradeep dasigi jack hessel tushar khot khyathi raghavi chandu david wadden kelsey macmillan noah a smith iz beltagy et al how far can camels go exploring the state of instruction tuning on open resources arxiv preprint arxiv230604751 2023 urlhttpsarxivorgabs230604751 jason wei maarten bosma vincent zhao kelvin guu adams wei yu brian lester nan du andrew m dai and quoc v le finetuned language models are zeroshot learners in international conference on learning representations 2022 url httpsopenreviewnetforum idgezrgcozdqr zeqiu wu yushi hu weijia shi nouha dziri alane suhr prithviraj ammanabrolu noah a smith mari ostendorf and hannaneh hajishirzi finegrained human feedback gives better rewards for language model training arxiv preprint arxiv230601693 2023 url https arxivorgabs230601693 yuxi xie kenji kawaguchi yiran zhao xu zhao minyen kan junxian he and qizhe xie decom position enhances reasoning via selfevaluation guided decoding arxiv preprint mimetype textplain start_char_idx 737518 end_char_idx 742757 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 1a050bbf87704424841c10f25f6e7f05 embedding null metadata  file_path",
        "mimetype": "text/plain",
        "start_char_idx": 1147392,
        "end_char_idx": 1152628,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "26758fc1-c53e-4b30-a367-4138d6e4725e",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "671f5736-6ae3-4e93-ac23-47de1297f10d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "76f25f66ea1b85a58f9b36afcd29c61393133ac1ccc47e04842535680e7fc6f4",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "694a7a37-2608-4d54-9cd1-d8c9a217e150",
                "node_type": "1",
                "metadata": {},
                "hash": "e44b7457e980a179e04495b843e14953d82083062f5e833310b53b4cc550fe0e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "url httpsopenreviewnetforum idgezrgcozdqr zeqiu wu yushi hu weijia shi nouha dziri alane suhr prithviraj ammanabrolu noah a smith mari ostendorf and hannaneh hajishirzi finegrained human feedback gives better rewards for language model training arxiv preprint arxiv230601693 2023 url https arxivorgabs230601693 yuxi xie kenji kawaguchi yiran zhao xu zhao minyen kan junxian he and qizhe xie decom position enhances reasoning via selfevaluation guided decoding arxiv preprint mimetype textplain start_char_idx 737518 end_char_idx 742757 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 1a050bbf87704424841c10f25f6e7f05 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id bc0d19f801654a2496c64b381266a524 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash b8aa867e3f84754d236dae07485601156595770f47da57f80b386c5955af1aa2 class_name relatednodeinfo  3  node_id c8e243a87d6e4bc494c1b3796a41ec60 node_type 1 metadata  hash 4bbb82713ea12df75535f0ecdd6715570cbc5acc361ce5bfdb1416aca0e6be7c class_name relatednodeinfo   text urlhttpsarxivorgabs230604751 jason wei maarten bosma vincent zhao kelvin guu adams wei yu brian lester nan du andrew m dai and quoc v le finetuned language models are zeroshot learners in international conference on learning representations 2022 url httpsopenreviewnetforum idgezrgcozdqr zeqiu wu yushi hu weijia shi nouha dziri alane suhr prithviraj ammanabrolu noah a smith mari ostendorf and hannaneh hajishirzi finegrained human feedback gives better rewards for language model training arxiv preprint arxiv230601693 2023 url https arxivorgabs230601693 yuxi xie kenji kawaguchi yiran zhao xu zhao minyen kan junxian he and qizhe xie decom position enhances reasoning via selfevaluation guided decoding arxiv preprint arxiv230500633 2023 url httpsarxivorgabs230500633 fangyuan xu weijia shi and eunsol choi recomp improving retrievalaugmented lms with compression and selective augmentation 2023 url httpsarxivorgabs2310 04408 ori yoran tomer wolfson ori ram and jonathan berant making retrievalaugmented language models robust to irrelevant context 2023 url httpsarxivorgabs231001558 xiang yue boshi wang kai zhang ziru chen yu su and huan sun automatic evaluation of attribution by large language models arxiv preprint arxiv230506311 2023 url https arxivorgabs230506311 tianhua zhang hongyin luo yungsung chuang wei fang luc gaitskell thomas hartvigsen xixin wu danny fox helen meng and james glass interpretable unified language checking arxiv preprint arxiv230403728 2023 url httpsarxivorgabs230403728 andy zhou kai yan michal shlapentokhrothman haohan wang and yuxiong wang language agent tree search unifies reasoning acting and planning in language models 2023 url https arxivorgabs231004406 daniel m ziegler nisan stiennon jeffrey wu tom b brown alec radford dario amodei paul christiano and geoffrey irving finetuning language models from human preferences arxiv preprint arxiv190908593 2019 url httpsarxivorgabs190908593 15 mimetype textplain start_char_idx 0 end_char_idx 2498 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ deb614691ac3490283f2757d58c3bb0f embedding null metadata page_label 16 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 057dfa76ee934488ae415be5ceb32c77 node_type 4 metadata page_label 16 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash b4b64915df660c6ac84f37319de0b7abd7384b62a6df4d9bd5cbdd3a174c753b class_name relatednodeinfo text preprint appendix a s elfragdetails 17 a1 reflection tokens 17 a2 s elfragtraining 17 a3 s elfraginference 19 b experimental details 19 b1 more details of training",
        "mimetype": "text/plain",
        "start_char_idx": 1151914,
        "end_char_idx": 1156796,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "694a7a37-2608-4d54-9cd1-d8c9a217e150",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "26758fc1-c53e-4b30-a367-4138d6e4725e",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "92ab32a26ce9d3304a39f7703c61fca0c7b74810a2a8058c29f9cab0cf696c07",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c270d11d-ba3e-4b01-b3f0-b90cc6e0b309",
                "node_type": "1",
                "metadata": {},
                "hash": "9776fc6cdd33310118f4216221a9cef3ad45a058816c66a51ca64b813958d2fb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 057dfa76ee934488ae415be5ceb32c77 node_type 4 metadata page_label 16 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash b4b64915df660c6ac84f37319de0b7abd7384b62a6df4d9bd5cbdd3a174c753b class_name relatednodeinfo text preprint appendix a s elfragdetails 17 a1 reflection tokens 17 a2 s elfragtraining 17 a3 s elfraginference 19 b experimental details 19 b1 more details of training 19 b2 more details of evaluations 20 c results 20 c1 analysis 20 c2 human evaluation examples 21 c3 qualitative examples 21 d full list of instructions and demonstrations for gpt4 21 16 mimetype textplain start_char_idx 0 end_char_idx 612 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ b93371c1caaa42d699490ecdddcc3276 embedding null metadata page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 5b8aa3b28b0b4384a8b27d1e007a744c node_type 4 metadata page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 973e7e556688d460a35d7068f09aee7a8015ad1bbf62f6db47ef5f527fcd7d0c class_name relatednodeinfo text preprint a s elfragdetails a1 r eflection tokens definitions of reflection tokens below we provide a detailed definition of reflection type and output tokens the first three aspects will be provided at each segment level while the final aspect is only given at each output level retrievalondemand retrieve given an input and previousstep generation if applicable an lm determines whether the continuation requires factual grounding noindicates retrieval is unnecessary as the sequence does not require factual grounding or may not be enhanced by knowledge retrieval yes indicates retrieval is necessary we additionally have continue to use evidence which indicates that a model can continue to use the evidence retrieved previously for instance a passage may contain rich factual information and thus selfrag generates multiple segments based on the passage relevant isrel retrieved knowledge may not be always relevant to the input this aspect indicates whether the evidence provides useful information relevant or not irrelevant supported issup attribution is the concept of whether the output is fully supported by certain evidence menick et al 2022 bohnet et al 2022 this aspect judges how much infor mation in the output is entailed by the evidence we evaluate attributions in three scale fully supported partially supported and no support contradictory follow ing yue et al 2023 nakano et al 2021 useful isuse following the definitions from liu et al mimetype textplain start_char_idx 742037 end_char_idx 747591 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c8e243a87d6e4bc494c1b3796a41ec60 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 1a050bbf87704424841c10f25f6e7f05 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 6a84afa736c9f7cf8409f0ff8b6957793d508dfe0492668cdc007fdf6e0ce8ef class_name relatednodeinfo  3  node_id a7dcf4d964ed4ee88a6c360e865b624b node_type 1 metadata  hash 51199ed99235ac309df6fd5eee75ceee799f3d7d764a6430d0ef5876b50f0c19 class_name relatednodeinfo   text and previousstep generation if applicable an lm determines whether the continuation requires factual grounding noindicates retrieval is unnecessary as the sequence does not require factual grounding or may not be enhanced by knowledge retrieval yes indicates retrieval is necessary we additionally have continue to use evidence which indicates that a model can continue to use the evidence retrieved previously for instance a passage may contain rich factual information and thus selfrag generates multiple segments based on the passage relevant isrel retrieved knowledge may not be always relevant to the input this aspect indicates whether the evidence provides useful information relevant or not irrelevant supported issup attribution is the concept of whether the output is fully supported by certain evidence menick et al 2022 bohnet et al 2022 this aspect judges how much infor mation in the output is entailed by the evidence we evaluate attributions in three scale fully supported partially supported and no support contradictory follow ing yue et al 2023 nakano et al 2021 useful isuse",
        "mimetype": "text/plain",
        "start_char_idx": 1156119,
        "end_char_idx": 1161840,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c270d11d-ba3e-4b01-b3f0-b90cc6e0b309",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "694a7a37-2608-4d54-9cd1-d8c9a217e150",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "99ffc9daf00e14f6f2e77e386f97efabb20f365c8a62ad28bae3abb8eff65e0b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d3dd4aaa-f855-4fec-bce5-c2d8d3523cac",
                "node_type": "1",
                "metadata": {},
                "hash": "7b77d671a40dd029319c1211d91efb8c316f30b5cff5aa8815c5394bd1668d1e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo   text and previousstep generation if applicable an lm determines whether the continuation requires factual grounding noindicates retrieval is unnecessary as the sequence does not require factual grounding or may not be enhanced by knowledge retrieval yes indicates retrieval is necessary we additionally have continue to use evidence which indicates that a model can continue to use the evidence retrieved previously for instance a passage may contain rich factual information and thus selfrag generates multiple segments based on the passage relevant isrel retrieved knowledge may not be always relevant to the input this aspect indicates whether the evidence provides useful information relevant or not irrelevant supported issup attribution is the concept of whether the output is fully supported by certain evidence menick et al 2022 bohnet et al 2022 this aspect judges how much infor mation in the output is entailed by the evidence we evaluate attributions in three scale fully supported partially supported and no support contradictory follow ing yue et al 2023 nakano et al 2021 useful isuse following the definitions from liu et al 2023a we define the perceived utility as whether the response is a helpful and informative answer to the query independently from whether it is in fact factual or not this can be also viewed as plausibility in menick et al 2022 for usefulness we use a fivescale evaluation 1 is the lowest and 5 is the highest details of gpt4based data collections we use the instruction and demonstration pairs to prompt gpt4 listed in section d following an official recommendation we separate instructions and outputs with we use the temperature 1 and set the maximum output token counts to be 200 we discard instances where gpt4 does not follow the designated output formats or output sequences that do not match our expected category names as a result we collected 12594 for retrieve 11181 for issup 19317 for relevance 3831 for utility manual analysis of the gpt4 predictions the authors of this paper manually assess randomly sampled 20 instances for each aspect and check if gpt4 predictions match their assessments given the same instruction demonstrations and test instances we found our assessments show high agreement with gpt4 predictions especially for relevance 95 retrieval necessity 95 and the degree of support 90 agreement was slightly lower in usefulness 80 mostly due to the disagreement between 1 and 2 or 4 and 5 a2 s elfragtraining overview of training algorithm 2 provides a highlevel overview of our training full list of seed datasets to sample diverse inputoutput pairs we sample instances of the open instruct wang et al 2023 dataset in particular we use their sharegpt gpt4 alpaca alpaca openassistant and flan subsets subsets we also sample instances from a couple of knowledge intensive datasets natural questions kwiatkowski et al 2019 wizard of wikipedia dinan et al 2019 and fever thorne et al 2018 from the kilt benchmark petroni et al 2021 asqa stel makh et al 2022 and multiple qa datasets including arceasy and openbookqa mihaylov et al 2018 table 3 shows the full list of training instances and in total we use 145619 instances performance of the critic cwe evaluate the accuracy of reward predictions by splitting gpt4 generated feedback into training development and test sets the accuracy of the reward model is as follows table 5 shows the model performance of predicting gpt4 judgments as you can see overall our finetuned reward model shows high prediction matching with gpt4 predicted feedback 17 mimetype textplain start_char_idx 0 end_char_idx 3895 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a1019bfdf516431c86eb67af39ccb6a5 embedding null metadata page_label 18 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id efdada659e5243ffa10b3a375538ab49 node_type 4 metadata page_label 18 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 53d4171fd21e9de1357ba6f6c8532a8247fdd33f5a5024df87e07417f8008281 class_name relatednodeinfo text preprint algorithm 2 selfragtraining 1input inputoutput data dx y generator mcu03b8 2initialize cwith a pretrained lm 3sample data xsample ysample x y training critic lm section 321 4forx yxsample ysampledo data collections for c 5 prompt gpt4 to collect a reflection token rforx y 6 addx y r todcritic 7update cwith next token prediction loss critic learning eq 1 8initialize mwith a pretrained lm training generator lm section 322 9forx yx y do data collection for mwithdcritic 10 runcto predict rgiven x y 11 addx y r todgen 12update mondgenwith next token prediction loss generator lm learning eq 2 dataset name category data source the number of instances gpt4 alpaca instructionfollowing openinstruct 26168 stanford alpaca instructionfollowing openinstruct 25153 flanv2 instructionfollowing openinstruct 17817 sharegpt instructionfollowing openinstruct 13406 open assistant 1 instructionfollowing openinstruct 9464 wizard of wikipedia knowledgeintensive kilt 17367 natural questions knowledgeintensive kilt 15535 fever knowledgeintensive kilt 9966 openboookqa knowledgeintensive hf dataset 4699 arceasy knowledgeintensive hf dataset 2147 asqa knowledgeintensive asqa 3897 table 3 the generator lm mtraining data statistics base lm retrieve issup isrel isuse llama27b 938 935 802 735 flan3b 856 731 820 721 figure 5 reward prediction accuracy using gpt4 predictions as groundtruth predictions while our final model uses llama27b as a base lm we also train and compare flan3b wei et al 2022 model on the same data to investigate the effectiveness of different data sizes affect final reward predictions in most aspects our reward model shows higher than 80 accuracy indicating the powerful ability of finetuned specialized lms to evaluate text while both models show relatively lower performance on isuse this is because both models often confuse between the two highest cases 5 and 4 mimetype textplain",
        "mimetype": "text/plain",
        "start_char_idx": 1160712,
        "end_char_idx": 1167110,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d3dd4aaa-f855-4fec-bce5-c2d8d3523cac",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c270d11d-ba3e-4b01-b3f0-b90cc6e0b309",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "5904325ab0901f46c474f0a21e97594508175f974a070256b76a4a2c87d948d5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "01a3c815-0b4c-447f-a9e2-cfe9d5cc1210",
                "node_type": "1",
                "metadata": {},
                "hash": "a12ff27e140c26d33a20f151b93a5520d1d16342d79d58ecdfb30442fa7c1d9e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "fever knowledgeintensive kilt 9966 openboookqa knowledgeintensive hf dataset 4699 arceasy knowledgeintensive hf dataset 2147 asqa knowledgeintensive asqa 3897 table 3 the generator lm mtraining data statistics base lm retrieve issup isrel isuse llama27b 938 935 802 735 flan3b 856 731 820 721 figure 5 reward prediction accuracy using gpt4 predictions as groundtruth predictions while our final model uses llama27b as a base lm we also train and compare flan3b wei et al 2022 model on the same data to investigate the effectiveness of different data sizes affect final reward predictions in most aspects our reward model shows higher than 80 accuracy indicating the powerful ability of finetuned specialized lms to evaluate text while both models show relatively lower performance on isuse this is because both models often confuse between the two highest cases 5 and 4 mimetype textplain start_char_idx 746456 end_char_idx 752813 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a7dcf4d964ed4ee88a6c360e865b624b embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id c8e243a87d6e4bc494c1b3796a41ec60 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 78d419e098f72cd767efb823282f0ff2df2afa2189e6270df44aef604b9c023f class_name relatednodeinfo  3  node_id 81c503a55ad740faaee9fdb5ae51f311 node_type 1 metadata  hash e16f8e8ddd23322f6829e5b7a4d993bf7f8d2e51fe926f8c51fb772cc88fd58f class_name relatednodeinfo   text 15535 fever knowledgeintensive kilt 9966 openboookqa knowledgeintensive hf dataset 4699 arceasy knowledgeintensive hf dataset 2147 asqa knowledgeintensive asqa 3897 table 3 the generator lm mtraining data statistics base lm retrieve issup isrel isuse llama27b 938 935 802 735 flan3b 856 731 820 721 figure 5 reward prediction accuracy using gpt4 predictions as groundtruth predictions while our final model uses llama27b as a base lm we also train and compare flan3b wei et al 2022 model on the same data to investigate the effectiveness of different data sizes affect final reward predictions in most aspects our reward model shows higher than 80 accuracy indicating the powerful ability of finetuned specialized lms to evaluate text while both models show relatively lower performance on isuse this is because both models often confuse between the two highest cases 5 and 4 where human annotators can also disagree details of mdata creation here we provide detailed data creation procedures algorithm 3 summarizes the process here we set yttoyfor simplification once we train the critic model we first run it on input data from the aforementioned datasets to predict whether retrieval is needed or not for the instances where the critic predicts retrieve no we only predict the isusegiven input and output for the instances where the critic predicts retrieve yes we first retrieve passages using the input and the entire output as queries to find passages that are relevant to the entire output we then split output sentences using spacy7for each sentence we run cto predict whether the retrieval is necessary or not given the input preceding segments and the initial retrieved passage if cpredicts retrieve no then do not insert any paragraph at the tth segment if cpredicts retrieve yes then we use the original input and the tth segment as a retrieval query to find relevant passages for the tth segment for each retrieved passage we predict isreland issup if there is any passage and continuation with isrelrelevant and issupfully supported issuppartially 7httpsspacyio 18 mimetype textplain start_char_idx 0 end_char_idx 3089 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ ae10a97c983e462ba56a38783308a9d1 embedding null metadata page_label 19 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 7f007008c6544572874ff4aecd3929ec node_type 4 metadata page_label 19 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 3bc38399a202d33dafec7ec7771deab1ab36de1340c05be8d5bc6e924cc632eb class_name relatednodeinfo text preprint supported then we sample it as the continuation if there is more than one passage satisfying this criterion we use the one with the highest retrieval score if there are only isrelirrelevant or issupno support passages we randomly sample one passage algorithm 3 mgendata creation 1input inputoutput data dx y 2forx y x ydo 3 given x ycpredicts retrieve 4",
        "mimetype": "text/plain",
        "start_char_idx": 1166222,
        "end_char_idx": 1171840,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "01a3c815-0b4c-447f-a9e2-cfe9d5cc1210",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d3dd4aaa-f855-4fec-bce5-c2d8d3523cac",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "695f0405bf1d169fe7c98cb3e47e60510a46c111ce925b1e4d00862a02983790",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b13e1fa0-cdbd-43fe-92ce-c3683f296c87",
                "node_type": "1",
                "metadata": {},
                "hash": "46cbe4a9122ebe484eecdaa661373f190d70f0890ffac0cf38a6c91297b99b75",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 4 metadata page_label 19 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 3bc38399a202d33dafec7ec7771deab1ab36de1340c05be8d5bc6e924cc632eb class_name relatednodeinfo text preprint supported then we sample it as the continuation if there is more than one passage satisfying this criterion we use the one with the highest retrieval score if there are only isrelirrelevant or issupno support passages we randomly sample one passage algorithm 3 mgendata creation 1input inputoutput data dx y 2forx y x ydo 3 given x ycpredicts retrieve 4 ifretrieve is predicted then 5 retrieve relevant passages dusingrgiven x y retrieve passages 6 fordddo 7 cpredicts isrelfor each d predict relevance of passages 8 cpredicts issupfor each y d predict supports of outputs 9 cpredicts isusefor each d predict overall utility ttonly 10 sample d 11 else if retrieve is not predicted then 12 cpredicts isusegiven x y add augmented x y d r todgen training examples table 4 show several training examples used for mtraining a3 s elfraginference details of beamsearch score calculations we first compute scores for each critique type by taking the normalized probabilities of desirable tokens for isrel we compute the score as follows sisrel pisrelrelevant pisrelrelevant pisrelirrelevant for issup we compute the score as follows sisrel pissupfully s 05pissuppartially s where sp tfullypartially nopissupt for isusewhere we have a fivescale score we compute the weighted sum of the scores we assigns weighted scores of w1050051 to the tokens isuse12345 and compute the final scores as follows sisuse 5x iwipisusei s where sp t12345pisuset details of adaptive retrieval for retrieval based on soft constraints we trigger retrieval if the following condition is satisfied pretrieve yes pretrieve yes ppretrieve no u03b4 b e xperimental details b1 m ore details of training more details of training and computations we use 4 nvidia a100 with 80gb memory to train our models all models are trained for 3 epochs with a batch size of 128 a peak learning rate of 2e5 with 3 warmup steps and linear decay afterward we set the maximum token length to be 2048 for the 7b model and 1524 for the 13b model due to the memory constraint we use deepspeed stage 3 rajbhandari et al 2020 to conduct multigpu distributed training with training precision bfloat16 enabled flashattention dao et al 2022 is used to make the longcontext training more efficient we run inference of our trained models using 12 quadro rtx 6000 gpus with 24gb memory 19 mimetype textplain start_char_idx 0 end_char_idx 2336 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7d3592eefbfc4eb98a368fb9bc63c1ed embedding null metadata page_label 20 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id be542c5aaeab474084534c6b706bef4b node_type 4 metadata page_label 20 file_name selfragpdf file_path mimetype textplain start_char_idx 751938 end_char_idx 757881 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 81c503a55ad740faaee9fdb5ae51f311 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id a7dcf4d964ed4ee88a6c360e865b624b node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 2440df4c573560b7058014cca08e4ca9df2e6652c3b752ea0ca73515283c0eb8 class_name relatednodeinfo  3  node_id 88628c458e0b4bebb0af16f093f13a49 node_type 1 metadata  hash 59690b4e5112806ab765336ac89b1889386f2059678003f7e2fcebec5f8f27dc class_name relatednodeinfo   text efficient we run inference of our trained models using 12 quadro rtx 6000 gpus with 24gb memory 19 mimetype textplain start_char_idx 0 end_char_idx 2336 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7d3592eefbfc4eb98a368fb9bc63c1ed embedding null metadata page_label 20 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys",
        "mimetype": "text/plain",
        "start_char_idx": 1171136,
        "end_char_idx": 1176407,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b13e1fa0-cdbd-43fe-92ce-c3683f296c87",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "01a3c815-0b4c-447f-a9e2-cfe9d5cc1210",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d02e6e0d8bf6ba69a629af6583d378fe81ee8626b7d33e9b06d5cb118ba3eb34",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c1813fa2-0f63-4a06-bf28-0808f85992fb",
                "node_type": "1",
                "metadata": {},
                "hash": "0bafd1ba58bc64a39b69212e6accab28d66908ccb30c62a8cbacd00603ebe2ff",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "node_type 1 metadata  hash 59690b4e5112806ab765336ac89b1889386f2059678003f7e2fcebec5f8f27dc class_name relatednodeinfo   text efficient we run inference of our trained models using 12 quadro rtx 6000 gpus with 24gb memory 19 mimetype textplain start_char_idx 0 end_char_idx 2336 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7d3592eefbfc4eb98a368fb9bc63c1ed embedding null metadata page_label 20 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id be542c5aaeab474084534c6b706bef4b node_type 4 metadata page_label 20 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 0b31a0e9477dc9d2a4686b799ca47b25cc8d385ff47feac0d38494176f6e303b class_name relatednodeinfo text preprint b2 m ore details of evaluations retrieval setup details by default we use contrieverms marco to retrieve the top five documents from wikipedia and use official wikipedia embeddings based on 2018 english wikipedia on popqa where question and answer pairs are created based on wikidata in 2022 we found that the 2018 wikipedia sometimes lacks articles about some entities that have been more recently added to wikipedia therefore for popqa we used the december 2020 preprocessed wikipedia corpus provided by izacard et al 2022b and generated document embeddings8the issues of performance variance from different wikipedia dumps have been reported by prior work asai et al 2020 izacard et al 2022b yet we observe limited effectiveness of such offtheshelf retrieval models trained primarily on knowledgeintensive tasks for openended generation eg instruction following recent or concurrent work studies instructiontuning of retrieval systems asai et al 2023b or joint training of retrieval and lm components lin et al 2023 while we leave exploring the effectivess of such appraoches for future work for bio generation and opendomain qa tasks we additionally retrieve five documents using google programmable search9and search documents from english wikipedia as this api only provides snippets we retrieve wikipedia introductory paragraphs for the corresponding entities detailed experimental settings for individual datasets for openqa datasets we set the max imum new token number to 100 tokens for closedset tasks pubhealth and arcc we set the maximum new token length to 50 for all baselines for selfraginference on pubhealth and arcc instead of determining the output with the highest score 4 as in other tasks we aggregate the scores for each option and select the answer option with the highest score we found in zeroshot settings of fact checking some llms can generate capitalized class labels eg true while our gold labels are lowercased therefore across different lms for fact checking we lowercase the predictions in multiple choice tasks we found some models generate answers in slightly different ways eg a instead of a we slightly modify instructions for each llm to avoid such format violations and further conduct string matching between each candidate and model predictions if format violations still remain after that processing in closed set tasks model predictions match one of the gold classes in almost all cases for alce we found that llama2chat tend to generate significantly lower outputs than other models eg on average their output is nearly 100 token while chatgpt generates 40 tokens on average resulting in inflated strem scores we limit the maximum generation length to 100 tokens for all baselines to avoid this issue rather than the original 300 tokens in the alce paper consequently all of the baseline output length is within 3060 tokens for factscore we set the maximum new token length to 500 for baselines and 200 for selfragat each segment level taskspecific instructions table 5 shows the list of the instructions used during evaluations for opendomain qa we do not provide explicit instructions c r esults c1 a nalysis reliance on parametric and nonparametric memories we conduct analysis on how frequently model answers come from retrieved passages nonparametric memories or their own parametric memories on two opendomain qa datasets triviaqa and popqa we conduct the following analysis 1 sample query models successfully answer correctly 2 for each query in this group check whether the matched groundtruth answer is a substring of the retrieved passage or not we evaluate selfrag7b alpaca 7b alpaca 13b and llama2chat13b we found that selfrag significantly less frequently generates answers that are not included in the provided evidence in particular in alpaca 30b 20 of the correct predictions are not included in the provided passages followed by llama2chat 13b 18 and alpaca 15 while it is only 2 in selfrag when retrieved passages are not relevant selfraggenerates isrelirrelevant indicating that the following answers may not be factually grounded while those instructiontuned models continue to generate plausible answers 8httpsgithubcomfacebookresearchatlas 9httpsprogrammablesearchenginegooglecomabout 20 mimetype textplain start_char_idx 0 end_char_idx 4265 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 7c75597643b34b8a849613dcaf2e1422 embedding null metadata page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 90b008231920419fb6a3957ac6493453 node_type 4 metadata page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 150f6769c3018801521c367ab8a5bebf77a4fc01ff97e5cb3f5a339e8944395c class_name relatednodeinfo text",
        "mimetype": "text/plain",
        "start_char_idx": 1175715,
        "end_char_idx": 1181992,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c1813fa2-0f63-4a06-bf28-0808f85992fb",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b13e1fa0-cdbd-43fe-92ce-c3683f296c87",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9eaf19e7c638e0dc13304e82e34788d8da3c4c6d58e0f55b293690221b3615bf",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a60fa9e4-34a2-4019-bf74-ac026a39fa93",
                "node_type": "1",
                "metadata": {},
                "hash": "c9ec3313dc88d199edde225f5c85e55f983d4bdd9ed78e205c42614cc14468b7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "null metadata page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 90b008231920419fb6a3957ac6493453 node_type 4 metadata page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 150f6769c3018801521c367ab8a5bebf77a4fc01ff97e5cb3f5a339e8944395c class_name relatednodeinfo text preprint c2 h uman evaluation examples table 6 shows examples with human evaluations on sp and correctness of isreland issup reflection mimetype textplain start_char_idx 757156 end_char_idx 763467 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 88628c458e0b4bebb0af16f093f13a49 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 81c503a55ad740faaee9fdb5ae51f311 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 3b3bf284c2a0794ed7d8b17051b21c25bfa79ab8b46267f15bd2c1507ee0c3be class_name relatednodeinfo  3  node_id a3344fd160e44daeb2f432af367a2bc0 node_type 1 metadata  hash 3b3c5edcfc8b039efefcc87e572933981284e33a740f7a80a1fe950d81daa91f class_name relatednodeinfo   text file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 90b008231920419fb6a3957ac6493453 node_type 4 metadata page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 150f6769c3018801521c367ab8a5bebf77a4fc01ff97e5cb3f5a339e8944395c class_name relatednodeinfo text preprint c2 h uman evaluation examples table 6 shows examples with human evaluations on sp and correctness of isreland issup reflection tokens c3 q ualitative examples table 7 shows several examples predicted by our selfrag13b the first example is the model output to an asqa question the first reference states that emperor constantine made sunday a day of rest from labor and further the second citation supports the fact that the official adoption of sunday as a day of rest by constantine in ad 321 in the second example the model predicts contradictory to the first output as the output says the person has served as the ceo since 2010 while the passage says he stepped down as ceo in 2015 indicating those factual contradictions as reflection tokens enables to enforcement of hard control and also verification of model outputs easily in the third example while the generation is mostly correct selfragpredicts partially support to the statement listing the name of the songs as they were not explicitly mentioned d f ull list of instructions and demonstrations for gpt4 here we show the instructions and demonstrations used to prompt gpt4 to collect reflection tokens table 8 shows the instructions and demonstrations for the initial retrieval token table 9 shows the instruction and demonstrations used to collect the threeway output tokens for retrieve given instruction preceding sentences and previously retrieved passages due to the longer demonstration and test input we only use a single demonstration table 10 shows an instruction and demonstrations used to collect the threeway output tokens for isrel table 11 shows an instruction and demon strations used to collect the threeway output tokens for isrel table 12 shows an instruction and demonstrations used to collect the fiveway output tokens for isuse 21 mimetype textplain start_char_idx 0 end_char_idx 1824 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e805b1852b424dc9ba38cfc67a3a15dc embedding null metadata page_label 22 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0e9c53c4a59544b68e09e33be02ccdd5 node_type 4 metadata page_label 22 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 1181305,
        "end_char_idx": 1186712,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a60fa9e4-34a2-4019-bf74-ac026a39fa93",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c1813fa2-0f63-4a06-bf28-0808f85992fb",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3a5d5739cd606a55e0ebad232f357556ea42e5fcf803885654acfcf9f5e289d0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6e54e4f7-f844-4867-8a72-6c634bcf8c73",
                "node_type": "1",
                "metadata": {},
                "hash": "be5c3d5c11d40c93676e98fb8c014c928a92018c0ef738f52cb0d3458a8d8ad7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ e805b1852b424dc9ba38cfc67a3a15dc embedding null metadata page_label 22 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 0e9c53c4a59544b68e09e33be02ccdd5 node_type 4 metadata page_label 22 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 12dcc1d02c89891b28dbaf42b04184e5a68858bc211588ad496c9cc854e8b26e class_name relatednodeinfo text preprint input identify the two types of computer memory from gpt4 alpaca output retrieve yespcomputer memory computer memory in computing memory refers to the computer hardware integrated circuits that store information for immediate use in a computer it is synonymous with the term primary storage computer memory operates at a high speed for example randomaccess memory ram as a distinction from storage that provides slowtoaccess information but offers higher capacities if needed contents of the computer memory can be transferred to secondary storage a very common way of doing this is through a memory management technique called virtual memory an archaic synonym for memory is store the term memory meaning primary storage or main memory is pisrelrelevant primary memory also known as main memory is the memory that the computer can directly access and manipulate issupfully supported retrieve yespcomputer memoryoften associated with addressable semiconductor memory ie integrated circuits consisting of siliconbased transistors used for example as primary storage but also other purposes in computers and other digital electronic devices there are two main kinds of semiconductor memory volatile and nonvolatile examples of nonvolatile memory are flash memory used as secondary memory and rom prom eprom and eeprom memory used for storing firmware such as bios examples of volatile memory are primary storage which is typically dynamic randomaccess memory dram and fast cpu cache memory which is typically static randomaccess memory sram that is fast but energyconsuming offering lower memory pisrelrelevant primary memory can be accessed quickly but it is volatile meaning that the data is lost if the power is turned off issuppartially supported isuse5 input give an example of a situation where you have to delegate tasks from gpt4 alpaca output retrieve nothe manager realizes that there is an extensive list of tasks that need to be completed in order to make the event a success retrieve yespdelegationdelegation is the assignment of any responsi bility or authority to another person normally from a manager to a subordinate to carry out specific activities it is one of the core concepts of management leadership however the person who delegated the work remains accountable for the outcome of the delegated work delegation empowers a subordinate to make decisions ie it is a shifting of decisionmaking authority from one organizational level to a lower one delegation if properly done is not fabrication the opposite of effective delegation is micromanagement where a manager provides too much input pisrelrelevant this includes tasks such as creating a guest list designing and sending in vitations booking a venue coordinating with vendors planning the event s program and monitoring the budget issuppartially supported retrieve nosince it is not possible for the manager to handle everything alone they must delegate tasks to their team members retrieve nothe manager would then assign each team member specific responsibilities based on their individual skillsets and strengths retrieve yespjoint application design subject matter experts these are the business users the is professionals and the outside experts that will be needed for a successful workshop this group is the backbone of the meeting pisrel irrelevant for instance the team s graphic designer might be tasked with designing the invitations while the event coordinator would be in charge of planning the program and working with vendors retrieve noby delegating tasks the manager can ensure that all necessary tasks are completed in a timely manner while also empowering their team members to take on responsibilities and contribute mimetype textplain start_char_idx 762774 end_char_idx 769784 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a3344fd160e44daeb2f432af367a2bc0 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 88628c458e0b4bebb0af16f093f13a49 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e7b4e94396d5c0a8b4e517d36848e1d02af02e8b8d203adb620668f0ae0644b class_name relatednodeinfo  3  node_id 5d138345c8ee4a4490f7b5d8e0619989 node_type 1 metadata  hash 897a7eb3127528b6fee75b0f86cfa4b6cf678c7b96b4366b0f741adb3ea4e956 class_name relatednodeinfo   text not fabrication the opposite of effective delegation is micromanagement where a manager provides too much input pisrelrelevant this includes tasks such as creating a guest list designing and sending in vitations booking a venue coordinating with vendors planning the event s program and monitoring the budget issuppartially supported retrieve nosince it is not possible for the manager to handle everything",
        "mimetype": "text/plain",
        "start_char_idx": 1185984,
        "end_char_idx": 1192351,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6e54e4f7-f844-4867-8a72-6c634bcf8c73",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a60fa9e4-34a2-4019-bf74-ac026a39fa93",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ec2ffa7bd915a322ec52f12c1ee23a0fa8a814ad695d30a21a125592df31fa77",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7adfa138-957e-4089-b930-d27a0339c6c9",
                "node_type": "1",
                "metadata": {},
                "hash": "5e2938cd746b967d280e5490b971edffef46aa69e243664dc4ebe3936933564f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "4e7b4e94396d5c0a8b4e517d36848e1d02af02e8b8d203adb620668f0ae0644b class_name relatednodeinfo  3  node_id 5d138345c8ee4a4490f7b5d8e0619989 node_type 1 metadata  hash 897a7eb3127528b6fee75b0f86cfa4b6cf678c7b96b4366b0f741adb3ea4e956 class_name relatednodeinfo   text not fabrication the opposite of effective delegation is micromanagement where a manager provides too much input pisrelrelevant this includes tasks such as creating a guest list designing and sending in vitations booking a venue coordinating with vendors planning the event s program and monitoring the budget issuppartially supported retrieve nosince it is not possible for the manager to handle everything alone they must delegate tasks to their team members retrieve nothe manager would then assign each team member specific responsibilities based on their individual skillsets and strengths retrieve yespjoint application design subject matter experts these are the business users the is professionals and the outside experts that will be needed for a successful workshop this group is the backbone of the meeting pisrel irrelevant for instance the team s graphic designer might be tasked with designing the invitations while the event coordinator would be in charge of planning the program and working with vendors retrieve noby delegating tasks the manager can ensure that all necessary tasks are completed in a timely manner while also empowering their team members to take on responsibilities and contribute to the success of the event isuse 5 input synthesize a poem based on this promptthe sun is setting from stanford alpaca output retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve no they flicker like a silent dance a peaceful moment in its trance retrieve no they flicker like a silent dance a peaceful moment in its trance retrieve no a chorus of crickets sing a lullaby to every creature that roams the sky isuse5 input when did walking dead season 7 come out from nq output retrieve yespthe walking dead season 7the walking dead season 7 the seventh season of the walking dead an american postapocalyptic horror television series on amc premiered on october 23 2016 and concluded on april 2 2017 consisting of 16 episodes developed for television by frank darabont the series is based on the eponymous series of comic books by robert kirkman tony moore and charlie adlard pisrelrelevant october 23 2016 issupfully supported isuse5 input given a chat history separated by new lines generates an informative knowledgeable and engaging response hello i love german shepherd dogs and you my favorite dog they are officially known as german shepherd dogs yes i have a german shepherd in my house and she is pregnant from wow output hey also are easily trained obedient and intelligent retrieve yespgerman shepherd a simple difference of opinion it is the fundamental issue of the breed s essential conformation and movement they are known for being easy to train and good for performing tasks and following instructions they are especially well known for their police work being used for tracking criminals patrolling troubled areas and detecting and holding suspects pisrelrelevant because of this they are often used for disability assistance and for police work issuppartially supported isuse2 table 4 list of the training examples 22 mimetype textplain start_char_idx 0 end_char_idx 5703 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 554efa2bfe8c473f8002079913f038d0 embedding null metadata page_label 23 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 211ab3a92e4944f2bf65d6264d070bde node_type 4 metadata page_label 23 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 1972b2e7014a78fdf695520eff68f4067698c905ce740fc0d330e0a109dc9170 class_name relatednodeinfo text preprint dataset instruction arcc given four answer candidates a b c and d choose the best answer choice please answer with the capitalized alphabet only without adding any extra phrase or period pubhealth is the following statement correct or not say true if its correct otherwise say false dont capitalize or add periods just say true or false bio generation tell me a bio about person name asqa baseline instruction write an accurate engaging and concise answer for the given question using only the provided search results some of which might be irrelevant and cite them properly use an unbiased and journalistic tone always cite for any factual claim when citing several search results use 123 cite at least one document and at most three documents in each sentence if multiple documents support the sentence only cite a minimum sufficient subset of the documents asqa ours answer the following question the question may be ambiguous and have multiple correct answers and in that case you have to provide a longform answer including all correct answers table 5 full list of instructions used during zeroshot evaluations for opendomain qa we dont use any task specific instruction and simply use the original questions as input query 23 mimetype textplain start_char_idx 0 end_char_idx 1240 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 872545bd568b4211bc2d33e494797b43 embedding null metadata page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id d421b6f5d6a04382a1094375b584aa86 node_type 4 metadata page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash",
        "mimetype": "text/plain",
        "start_char_idx": 1191682,
        "end_char_idx": 1198056,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7adfa138-957e-4089-b930-d27a0339c6c9",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6e54e4f7-f844-4867-8a72-6c634bcf8c73",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "70cab4906b91d3128ea8a9de556955d837ab8f1267047a3d6c06a9ec02595688",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "3c66f1c7-f847-4206-ab8e-cd79cbad4886",
                "node_type": "1",
                "metadata": {},
                "hash": "0b8e6731461adf7ee7c14618415dfc511268c63583aab9d8e32f55dec2a17b7c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "1240 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 872545bd568b4211bc2d33e494797b43 embedding null metadata page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id d421b6f5d6a04382a1094375b584aa86 node_type 4 metadata page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 3a9a0d76064aacfb6371067a8e4072654a1c84ef1ca7e497f6b4d51fb1ab964a class_name relatednodeinfo text preprint input what genre is a question and answer guide to astronomy popqa output retrieve yespreference 1 pisrelrelevant a question and answer guide to as tronomy is a nonfiction book that falls under the genre of astronomy and cosmology issupfully supported isuse5 reference 1 a question and answer guide to astronomy is a book about astronomy and cosmology and is mimetype textplain start_char_idx 768570 end_char_idx 775170 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 5d138345c8ee4a4490f7b5d8e0619989 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id a3344fd160e44daeb2f432af367a2bc0 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 890252b7a9ee9d3c7119299d4c6c01a08875ec1e941738a3a41f348af2be125d class_name relatednodeinfo  3  node_id 0eb1c8e658d94e909283dc87e8ace313 node_type 1 metadata  hash c4f2f903ae7d12d7411004b34044e8123627438e68f77ce1ea3892a5d94bba46 class_name relatednodeinfo   text node_type 4 metadata page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 3a9a0d76064aacfb6371067a8e4072654a1c84ef1ca7e497f6b4d51fb1ab964a class_name relatednodeinfo text preprint input what genre is a question and answer guide to astronomy popqa output retrieve yespreference 1 pisrelrelevant a question and answer guide to as tronomy is a nonfiction book that falls under the genre of astronomy and cosmology issupfully supported isuse5 reference 1 a question and answer guide to astronomy is a book about astronomy and cosmology and is intended for a general audience the book was written by pierreyves bely carol christian and jeanrene roy and published in english by cambridge university press in 2010 it was originally written in french the content within the book is written using a question and answer format it contains some 250 questions which the science teacher states each are answered with a concise and wellformulated essay that is informative and readable the science teacher review goes on to state that many of the answers given in the book are little gems of science writing the science teacher summarizes by stating that each question is likely to be thought of by a student and that the answers are informative well constructed and thorough the book covers information about the planets the earth the universe practical astronomy history and awkward questions such as astronomy in the bible ufos and aliens also covered are subjects such as the big bang comprehension of large numbers and the moon illusion sp supported and plausible correctness of isreland issupboth isreland issupare correct as the reference 1 provides detailed information of the book including the genre and the model output is fully supported by the reference input who is the author of the lie popqa output retrieve yespreference 1 pisrelrelevant the author of the lie is sam harris issupfully supported isuse5 reference 1 lying is a 2011 longform essay book by american author and neuroscience expert sam harris harris argues that we can radically simplify our lives and improve society by merely telling the truth in situations where others often lie sp plausible but not supported correctness of isreland issupboth isreland issupare incorrect as the reference 1 is about a different book whose title is similar to the lie input tell me a bio about ronaldinho bio output retrieve yespreference 1 pisrelrelevant ronaldinho is a retired professional footballer from brazil issupfully supported retrieve continue he played as an attacking midfielder and was known for his technical skills creativity dribbling ability and accuracy from free kicks retrieve continue he won two fifa world player of the year awards and a ballon dor isuse5 reference 1 ronaldo de assis moreira born 21 march 1980 commonly known as ronaldinho ga ucho or simply",
        "mimetype": "text/plain",
        "start_char_idx": 1197309,
        "end_char_idx": 1202938,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3c66f1c7-f847-4206-ab8e-cd79cbad4886",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7adfa138-957e-4089-b930-d27a0339c6c9",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "122804621bc5a45ec4e9a2c996ed1670201b273e45e63c354c4823425c0ae13c",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "5f60e94f-9a37-4abc-8428-213045bb7b8f",
                "node_type": "1",
                "metadata": {},
                "hash": "b14db5b8cd3fbc17fa1cabbf9f4e03dce59f903883c29979b45f51002da0982c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "sam harris issupfully supported isuse5 reference 1 lying is a 2011 longform essay book by american author and neuroscience expert sam harris harris argues that we can radically simplify our lives and improve society by merely telling the truth in situations where others often lie sp plausible but not supported correctness of isreland issupboth isreland issupare incorrect as the reference 1 is about a different book whose title is similar to the lie input tell me a bio about ronaldinho bio output retrieve yespreference 1 pisrelrelevant ronaldinho is a retired professional footballer from brazil issupfully supported retrieve continue he played as an attacking midfielder and was known for his technical skills creativity dribbling ability and accuracy from free kicks retrieve continue he won two fifa world player of the year awards and a ballon dor isuse5 reference 1 ronaldo de assis moreira born 21 march 1980 commonly known as ronaldinho ga ucho or simply ronaldinho is a brazilian retired professional footballer who played mostly as an attacking midfielder but was also deployed as a winger considered one of the best players of his generation and regarded by many as one of the greatest of all time ronaldinho won two fifa world player of the year awards and a ballon dor a global icon of the sport he was renowned for his technical skills creativity dribbling ability and accuracy from freekicks as well as his use of tricks feints nolook passes and overhead sp plausible and fully supported correctness of isreland issupboth isreland issupare correct input tell me a bio about sergei bodrov bio output retrieve yespreference 1 p isrelrelevant sergei vladimirovich bodrov born june 28 1948 is a russian film director screenwriter and producer issupfully supported retrieve continue he was born in moscow russia retrieve continue he is the presi dent of the russian guild of film producers isuse5 reference 1 sergei vladimirovich bodrov born june 28 1948 is a russian film director screenwriter and producer in 2003 he was the president of the jury at the 25th moscow international film festival sp plausible but only partially supported the the reference 1 does not explicitly mention the person is born in moscow and there is no description about the russian guild of film producers correctness of isreland issup isreland issupare correct as the reference document is highly relevant and the first sentence is fully supported table 6 examples of human evaluation results 24 mimetype textplain start_char_idx 0 end_char_idx 4195 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ adabf62124e74dc3a431d7808eca38b3 embedding null metadata page_label 25 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 372aaa044c6c4b5e960743663c57bbfc node_type 4 metadata page_label 25 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash f7c5f0edf24fea5ca7e0a890f9aa3b994c9bffbbd8a0220d03d4c3fb94033263 class_name relatednodeinfo text preprint input when did sunday became the seventh day of the week asqa output retrieve yespreference 1 pisrelrelevant in 321 ad the roman emperor con stantine the great made sunday a day of rest from labor stating on the venerable day of the sun let the magistrates and people residing in cities rest and let all workshops be closed issupfully supported retrieve yespreference 2 pisrelrelevant the official adoption of sunday as a day of rest by constantine the great in ad 321 made sunday the seventh day of the week 2issupfully supported isuse5 reference 1 emperor constantine then enacted the first sunday laws for the venerable day of the sun in 321 ad on march 7 321 the roman emperor constantine issued a decree making sunday a day of rest from labor stating we find a good description of this in sources such as the book rest days which states early christian observance of both the spiritual seventhday mimetype textplain start_char_idx 774457 end_char_idx 780804 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 0eb1c8e658d94e909283dc87e8ace313 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 5d138345c8ee4a4490f7b5d8e0619989 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 9e06807eae94994ae9620e3e0e7ad13913cee2434c02cd1f4db282806479aa26 class_name relatednodeinfo  3  node_id 6fc75d808cf945878c824fdf8bf4bc61 node_type 1 metadata  hash",
        "mimetype": "text/plain",
        "start_char_idx": 1201972,
        "end_char_idx": 1207580,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5f60e94f-9a37-4abc-8428-213045bb7b8f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "3c66f1c7-f847-4206-ab8e-cd79cbad4886",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d69d535f275fa14a5808cc44b9b1fcad160258f7bc74d818dbd4220c7fe6d45b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8680cc98-a3c0-419e-a848-f921bcb1b421",
                "node_type": "1",
                "metadata": {},
                "hash": "470fc33e118ac43cd9e4b8fd93cf8d7282ff83f3483e6c80938edb236516b5ce",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo  2  node_id 5d138345c8ee4a4490f7b5d8e0619989 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 9e06807eae94994ae9620e3e0e7ad13913cee2434c02cd1f4db282806479aa26 class_name relatednodeinfo  3  node_id 6fc75d808cf945878c824fdf8bf4bc61 node_type 1 metadata  hash f0a04373de48c39b05201bfe76d6f51939890e03dd867a05db24f09f5e14fd5f class_name relatednodeinfo   text relatednodeinfo text preprint input when did sunday became the seventh day of the week asqa output retrieve yespreference 1 pisrelrelevant in 321 ad the roman emperor con stantine the great made sunday a day of rest from labor stating on the venerable day of the sun let the magistrates and people residing in cities rest and let all workshops be closed issupfully supported retrieve yespreference 2 pisrelrelevant the official adoption of sunday as a day of rest by constantine the great in ad 321 made sunday the seventh day of the week 2issupfully supported isuse5 reference 1 emperor constantine then enacted the first sunday laws for the venerable day of the sun in 321 ad on march 7 321 the roman emperor constantine issued a decree making sunday a day of rest from labor stating we find a good description of this in sources such as the book rest days which states early christian observance of both the spiritual seventhday sabbath and a lord s day assembly is evidenced in ignatius s letter to the magnesians ca 110 reference 2 despite the official adoption of sunday as a day of rest by constantine the sevenday week and the nundial cycle continued to be used sidebyside until at least the calendar of 354 and probably later the fact that the canon had to be issued at all is an indication that adoption of constantines decree of 321 was still not universal input tell me a bio about rory tapner bio generation output preference 1 pisrelrelevant rory tapner is a british businessman who has served as the chief executive officer of coutts a private banking and wealth management company since 2010 issup contradictory reference 2 pisrelrelevant rory tapner was born on 30 september 1959 in london england issupfully supported reference 1 rory tapner rory tapner is a uk businessman who in september 2010 was appointed ceo of coutts the wealth management division of royal bank of scotland group in february 2015 he stepped down as ceo when he was replaced in the role by alison rose reference 2 holdings from august 2016 and the council of the university of buckingham from july 2017 rory tapner rory tapner born 30 september 1959 is a uk businessman input tell me a bio about g venugopa bio generation output ranked 1 retrieve yespreference 1 pisrelrelevant g venugopal is a popu lar playback singer in the malayalam film industry retrieve continue he has sung over 300 songs in malayalam tamil and hindi movies issuppartially supported retrieve yespreference 2pg venugopal was born on december 10 1960 in india issupfully supported reference 1 g venugopal g venugopal born 10 december 1960 is an indian playback singer known for his work in malayalam films he started his singing career in the film odaruthammaava aalariyaam 1984 since then he has sung in more than 300 films and has over 500 private albums to his credit the many awards he has won include the coveted best playback singer kerala state which he won thrice the film critics award and the kerala kaumudi gallop poll award twice he won the kerala state award for best playback singer 2004 third time for the song aadedeeaadaadedee from the film ullamvenugopal reference 2 kerala state film awards kerala film critics award kerala state government award profes sional drama asianet film awards kerala kaumadi gallup poll award academic g venugopal g venugopal born 10 december 1960 is an indian playback singer known for his work in malayalam films table 7 examples of outputs 25 mimetype textplain start_char_idx 0 end_char_idx 3453 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ eeec74c96bd84e58801d5b231bf6735e embedding null metadata page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id ab92a26efe3d4f14ae5cea5781ee546e node_type 4 metadata page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 9203899c3ecdb6b066748bf03f451d7f62a32e8e5acac0019ab7f7b722b23e45 class_name relatednodeinfo text preprint instructions given an instruction please make a judgment on whether finding some external documents from the web eg wikipedia helps to generate a better response please answer yes or no and write an explanation demonstrations instruction give three tips for staying healthy need retrieval yes explanation there might be some online sources listing three tips for staying healthy or some reliable sources to explain the effects of different behaviors on health so retrieving documents is helpful to improve the response to this query instruction describe a time when you had to make a difficult decision need retrieval no explanation this instruction is asking about some personal experience and thus it does not require one to find some external documents instruction write a short story in third person narration about a protagonist who has to make an important career decision need retrieval no explanation this instruction asks us to write a short story which does not require external evidence to verify instruction what is the capital of france need",
        "mimetype": "text/plain",
        "start_char_idx": 1207114,
        "end_char_idx": 1213092,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8680cc98-a3c0-419e-a848-f921bcb1b421",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "5f60e94f-9a37-4abc-8428-213045bb7b8f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "839eb5a48ad7e557e8da3f9febaf40433e148830c3494bd4c4298fd1ec468d14",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "2fd3a1b5-2046-4e86-a13f-04eb18f6e1a4",
                "node_type": "1",
                "metadata": {},
                "hash": "9c4b239bb55bac1f1ba30a06f63c852bf7dd364118f91acd76d3eb5c63888bc7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text preprint instructions given an instruction please make a judgment on whether finding some external documents from the web eg wikipedia helps to generate a better response please answer yes or no and write an explanation demonstrations instruction give three tips for staying healthy need retrieval yes explanation there might be some online sources listing three tips for staying healthy or some reliable sources to explain the effects of different behaviors on health so retrieving documents is helpful to improve the response to this query instruction describe a time when you had to make a difficult decision need retrieval no explanation this instruction is asking about some personal experience and thus it does not require one to find some external documents instruction write a short story in third person narration about a protagonist who has to make an important career decision need retrieval no explanation this instruction asks us to write a short story which does not require external evidence to verify instruction what is the capital of france need retrieval yes explanation while the instruction simply asks us to answer the capital of france which is a widely known fact retrieving web documents for this question can still help instruction find the area of a circle given its radius radius 4 need retrieval no explanation this is a math question and although we may be able to find some documents describing a formula it is unlikely to find a document exactly mentioning the answer instruction arrange the words in the given sentence to form a grammatically cor rect sentence quickly the brown fox jumped need retrieval no explanation this task doesnt require any external evidence as it is a simple grammatical question instruction explain the process of cellular respiration in plants need retrieval yes explanation this instruction asks for a detailed description of a scientific concept and is highly likely that we can find a reliable and useful document to support the response table 8 instructions and demonstrations for retrieve aspect given the input only 26 mimetype textplain start_char_idx 0 end_char_idx 2086 text_template metadata_strnncontent metadata_template key value mimetype textplain start_char_idx 779871 end_char_idx 786437 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 6fc75d808cf945878c824fdf8bf4bc61 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 0eb1c8e658d94e909283dc87e8ace313 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4f4b7ea0b77ee994d92a61cc08adeaaf7ddd231e727a853fd508325108483daa class_name relatednodeinfo  3  node_id 4c0d26705c794067842ec3aebee4d43a node_type 1 metadata  hash a200b0dcda575c1e454692383119dd40237353b125bdaece61b002ff3136e215 class_name relatednodeinfo   text of france need retrieval yes explanation while the instruction simply asks us to answer the capital of france which is a widely known fact retrieving web documents for this question can still help instruction find the area of a circle given its radius radius 4 need retrieval no explanation this is a math question and although we may be able to find some documents describing a formula it is unlikely to find a document exactly mentioning the answer instruction arrange the words in the given sentence to form a grammatically cor rect sentence quickly the brown fox jumped need retrieval no explanation this task doesnt require any external evidence as it is a simple grammatical question instruction explain the process of cellular respiration in plants need retrieval yes explanation this instruction asks for a detailed description of a scientific concept and is highly likely that we can find a reliable and useful document to support the response table 8 instructions and demonstrations for retrieve aspect given the input only 26 mimetype textplain start_char_idx 0 end_char_idx 2086 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 3e3bd88274354fbcbe48f5eb2910636e embedding null metadata page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 41c871c2cbd84d779aa04df75fc90401 node_type 4 metadata page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 6ac66103bd4950cddcd5db748c9eb8aebe4f44dfab437ee9f3ff534094e3deeb class_name relatednodeinfo text preprint instructions you will be provided with an instruction evidence output sentence and preceding sentences optional if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to determine whether the information in the output sentence can be fully verified by the evidence or if it requires further external verification there are three cases if the output sentence can be verified solely with the evidence then respond with continue to use evidence if the sentence doesnt require any factual verification eg a subjective sentence or a sentence about common sense then respond with no retrieval if additional information is needed to verify the output sentence respond with retrieval please provide explanations for your judgments instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words",
        "mimetype": "text/plain",
        "start_char_idx": 1211997,
        "end_char_idx": 1218681,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2fd3a1b5-2046-4e86-a13f-04eb18f6e1a4",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8680cc98-a3c0-419e-a848-f921bcb1b421",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "afdbc56c4e5b6cd988a7646ca650e0545d51993d5b0066f1801ac4336fd54ad5",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c24770c4-dc2c-486c-98b5-62001754f954",
                "node_type": "1",
                "metadata": {},
                "hash": "1e602b0405fe154b13873a15c865b30400704608f8518f7774844a845858e219",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo text preprint instructions you will be provided with an instruction evidence output sentence and preceding sentences optional if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to determine whether the information in the output sentence can be fully verified by the evidence or if it requires further external verification there are three cases if the output sentence can be verified solely with the evidence then respond with continue to use evidence if the sentence doesnt require any factual verification eg a subjective sentence or a sentence about common sense then respond with no retrieval if additional information is needed to verify the output sentence respond with retrieval please provide explanations for your judgments instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words and the context in which they are used to be measured evidence word embedding word embedding is the collective name for a set of language modeling and feature learning techniques in natural language processing nlp where words or phrases from the vocabulary are mapped to vectors of real numbers conceptually it involves a mathematical embedding from a space with one dimension per word to a continuous vector space with a much lower dimension output word embeddings are useful for tasks such as sentiment analysis text classification predicting the next word in a sequence and understanding synonyms and analogies rating retrieval explanation the output discusses the applications of word embeddings while the evidence only discusses the definitions of word embeddings and how they work therefore we need to retrieve other evidence to verify whether the output is correct or not table 9 instructions and demonstrations for retrieve aspect given the input preceding generations and retrieved passages 27 mimetype textplain start_char_idx 0 end_char_idx 2111 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ a0ea36e32fbe4cf5b5e3bef8e43e1b7e embedding null metadata page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id f6dad09e52874583a5f38fbb8b9846e9 node_type 4 metadata page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 9176c6faaaa2ca6c69d9e0c638fb984c1f934d394a178a88d91bf52d7820a0af class_name relatednodeinfo text preprint instructions youll be provided with an instruction along with evidence and possibly some preceding sentences when there are preceding sentences your focus should be on the sentence that comes after them your job is to determine if the evidence is relevant to the initial instruction and the preceding context and provides useful information to complete the task described in the instruction if the evidence meets this requirement respond with relevant otherwise generate irrelevant instruction given four answer options a b c and d choose the best answer input earths rotating causes a the cycling of am and pm b the creation of volcanic eruptions c the cycling of the tides d the creation of gravity evidence rotation causes the daynight cycle which also creates a corresponding cycle of temperature and humidity creates a corresponding cycle of temperature and humidity sea level rises and falls twice a day as the earth rotates rating relevant explanation the evidence explicitly mentions that the rotation causes a daynight cycle as described in the answer option a instruction age to run for us house of representatives evidence the constitution sets three qualifications for service in the us senate age at least thirty years of age us citizenship at least nine years and residency in the state a senator represents at the time of election rating irrelevant explanation the evidence only discusses the ages to run for the us senate not for the house of representatives table 10 instructions and demonstrations for isrelaspect given the input only 28 mimetype textplain start_char_idx 0 end_char_idx 1564 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ cbe67b0c595648b2a4d24e09bb8bbb9c embedding null metadata page_label 29 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date mimetype textplain start_char_idx 785283 end_char_idx 792209 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4c0d26705c794067842ec3aebee4d43a embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 6fc75d808cf945878c824fdf8bf4bc61 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 79978c2c398fe2efc51d104138d5e3a7092fe19d7490f215a72da4c6b255384d class_name relatednodeinfo  3  node_id bec5fe7602274172a70167599ca38cb9 node_type 1 metadata  hash 924659294a43ae60959abf2b1fdce5787991b4627ca94b0dd4c706a44d470646 class_name relatednodeinfo",
        "mimetype": "text/plain",
        "start_char_idx": 1217545,
        "end_char_idx": 1223951,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c24770c4-dc2c-486c-98b5-62001754f954",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "2fd3a1b5-2046-4e86-a13f-04eb18f6e1a4",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "0e4bb774b12285ba4b84a6160a7fd38d7372e6699b357ef605f960a0cab56153",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "dc0d0944-8543-45d1-91aa-0c2a69fa657c",
                "node_type": "1",
                "metadata": {},
                "hash": "40321fbb1c082ed9a5bf8ce0257862a13d661ae2c13aef62a81bc0e689a8dd83",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "relatednodeinfo  2  node_id 6fc75d808cf945878c824fdf8bf4bc61 node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 79978c2c398fe2efc51d104138d5e3a7092fe19d7490f215a72da4c6b255384d class_name relatednodeinfo  3  node_id bec5fe7602274172a70167599ca38cb9 node_type 1 metadata  hash 924659294a43ae60959abf2b1fdce5787991b4627ca94b0dd4c706a44d470646 class_name relatednodeinfo   text as described in the answer option a instruction age to run for us house of representatives evidence the constitution sets three qualifications for service in the us senate age at least thirty years of age us citizenship at least nine years and residency in the state a senator represents at the time of election rating irrelevant explanation the evidence only discusses the ages to run for the us senate not for the house of representatives table 10 instructions and demonstrations for isrelaspect given the input only 28 mimetype textplain start_char_idx 0 end_char_idx 1564 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ cbe67b0c595648b2a4d24e09bb8bbb9c embedding null metadata page_label 29 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 7912ccd05a1d47478d41e96b061816a4 node_type 4 metadata page_label 29 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash 5060e47f4fd3a8ffa016324c0ee1041a45e03e7085953c74e64eacc086370c35 class_name relatednodeinfo text preprint instructions you will receive an instruction evidence and output and optional preceding sentences if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to evaluate if the output is fully supported by the information provided in the evidence use the following entailment scale to generate a score fully supported all information in output is supported by the evidence or extractions from the evidence this is only applicable when the output and part of the evidence are almost identical partially supported the output is supported by the evidence to some extent but there is major information in the output that is not discussed in the evidence for example if an instruction asks about two concepts and the evidence only discusses either of them it should be considered a partially supported no support contradictory the output completely ignores evidence is unrelated to the evidence or contradicts the evidence this can also happen if the evidence is irrelevant to the instruction make sure to not use any external informationknowledge to judge whether the out put is true or not only check whether the output is supported by the evidence and not whether the output follows the instructions or not instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words and the context in which they are used to be measured output word embeddings are useful for tasks such as sentiment analysis text classification predicting the next word in a sequence and understanding synonyms and analogies evidence word embedding word embedding is the collective name for a set of language modeling and feature learning techniques in natural language processing nlp where words or phrases from the vocabulary are mapped to vectors of real numbers conceptually it involves a mathematical embedding from a space with one dimension per word to a continuous vector space with a much lower dimension methods to generate this mapping include neural networks dimensionality reduction on the word cooccurrence matrix probabilistic models explainable knowledge base method and explicit representation in terms of the context in which words appear word and phrase embeddings when used as the underlying input representation have been shown to boost the performance in nlp tasks such as syntactic parsing sentiment analysis next token predictions as well and analogy detection score fully supported explanation the output sentence discusses the application of word embeddings and the evidence mentions all of the applications syntactic parsing sentiment analysis next token predictions as well as analogy detection as the applications therefore the score should be fully supported table 11 instructions and demonstrations for issuptokens 29 mimetype textplain start_char_idx 0 end_char_idx 3037 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode id_ 375a5e73ba5e42149a81b2542c73b293 embedding null metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 excluded_embed_metadata_keys excluded_llm_metadata_keys relationships 1 node_id 08d9d5be6d704f50bd2099f3f61447a3 node_type 4 metadata page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash c07a4c5c8feb4a4fc99185d20f3e9105f32e4457b5ea3eb2045379736182257c class_name relatednodeinfo text preprint instructions given an instruction and an output rate whether the response appears to be a helpful and informative answer to the query from 1 lowest 5 highest we call this score perceived utility the detailed criterion is as follows 5 the response provides a complete highly detailed and informative response to the query fully satisfying the information needs 4 the response mostly fulfills the need in the query while there can be some minor improvements such as discussing more detailed information having better structure of the response or im proving coherence 3 the response is acceptable but some major additions or improvements are needed to satisfy users needs 2 the",
        "mimetype": "text/plain",
        "start_char_idx": 1223404,
        "end_char_idx": 1229983,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "dc0d0944-8543-45d1-91aa-0c2a69fa657c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c24770c4-dc2c-486c-98b5-62001754f954",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "0e7975e2b5ac2b754ee343027fcae7642e48e8ee6ad33f3e54be725ea963b6f8",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "796517d7-2642-4fc6-ac9a-37e34a468db3",
                "node_type": "1",
                "metadata": {},
                "hash": "8305165fe2f56f54cf1099bda4b22551da0b37644abf8e5beb8c3d46a8f01e70",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015 hash c07a4c5c8feb4a4fc99185d20f3e9105f32e4457b5ea3eb2045379736182257c class_name relatednodeinfo text preprint instructions given an instruction and an output rate whether the response appears to be a helpful and informative answer to the query from 1 lowest 5 highest we call this score perceived utility the detailed criterion is as follows 5 the response provides a complete highly detailed and informative response to the query fully satisfying the information needs 4 the response mostly fulfills the need in the query while there can be some minor improvements such as discussing more detailed information having better structure of the response or im proving coherence 3 the response is acceptable but some major additions or improvements are needed to satisfy users needs 2 the response still addresses the main request but it is not complete or not relevant to the query 1 the response is barely ontopic or completely irrelevant instruction who is the current prime minister of the uk as of 2023 output boris johnson was the prime minister of the uk from 2019 2022 perceived utility 2 explanation while the output provides a factually correct statement about the uk prime minister from 2019 to 2022 this instruction asks who the prime minister is as of 2023 so it doesnt answer the instruction therefore the utility is 2 instruction given a description of a travel destination recommend 10 tourist attrac tions with detailed descriptions of each the travel destination is tokyo japan output tokyo is a vibrant city full of exciting tourist attractions some mustsee sights include the tokyo skytree tokyo disneyland sensoji temple meiji mimetype textplain start_char_idx 791283 end_char_idx 798190 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ bec5fe7602274172a70167599ca38cb9 embedding null metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41c5f1a9c51246c9884c640d6a361816 node_type 4 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 4e381dcc32a1bd40a089b2131888ca3e7f2b463be4c84480fab5214d51f4ebbb class_name relatednodeinfo  2  node_id 4c0d26705c794067842ec3aebee4d43a node_type 1 metadata  file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidatanodesjson file_name nodesjson file_type applicationjson file_size 938164 creation_date 20241015 last_modified_date 20241021  hash 3e83ffac992f6cff194a5e3b0e6a3efb227ac669e18690c5be4fa09686733a5b class_name relatednodeinfo   text 3 the response is acceptable but some major additions or improvements are needed to satisfy users needs 2 the response still addresses the main request but it is not complete or not relevant to the query 1 the response is barely ontopic or completely irrelevant instruction who is the current prime minister of the uk as of 2023 output boris johnson was the prime minister of the uk from 2019 2022 perceived utility 2 explanation while the output provides a factually correct statement about the uk prime minister from 2019 to 2022 this instruction asks who the prime minister is as of 2023 so it doesnt answer the instruction therefore the utility is 2 instruction given a description of a travel destination recommend 10 tourist attrac tions with detailed descriptions of each the travel destination is tokyo japan output tokyo is a vibrant city full of exciting tourist attractions some mustsee sights include the tokyo skytree tokyo disneyland sensoji temple meiji shrine tsukiji fish market harajuku and shinjuku gyoen perceived utility 3 explanation this output doesnt provide descriptions of each attraction and the number of the attractions is also less than 10 while this output partially answers the instructions it doesnt match the instructions strictly table 12 instructions and demonstrations for isusetokens 30 mimetype textplain start_char_idx 0 end_char_idx 1900 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode mimetype textplain start_char_idx 550828 end_char_idx 552311 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2f6bc4e0b5034c85bab4b70d46694651 embedding null metadata  page_label 1 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id ba83345332a443efa222dc4d7f25cb50 node_type 4 metadata  page_label 1 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 2ccf488eee56df61048e0b929bbf35d5d33da60b4cbafe5c96728dca051a3e1a class_name relatednodeinfo   text preprint under review raft adapting language model to domain specific rag tianjun zhang department of computer science uc berkeley berkeley ca 94720 usa tianjunzberkeleyedushishir g patil naman jain sheng shen department of computer science uc berkeley berkeley ca 94720 usa shishirpatilnaman_jainshengsberkeleyedu matei zaharia ion stoica joseph e gonzalez department of computer science uc berkeley berkeley ca",
        "mimetype": "text/plain",
        "start_char_idx": 1229104,
        "end_char_idx": 1234885,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "796517d7-2642-4fc6-ac9a-37e34a468db3",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "dc0d0944-8543-45d1-91aa-0c2a69fa657c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4de66631be701814c792fa23a567085411a4d83c1e402f31fc55838970f48f7d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7879faea-b40e-425f-8d4c-5c601832aa2f",
                "node_type": "1",
                "metadata": {},
                "hash": "d0a5c142840671abd0301345f74945ae1e2470824cf3fb6232b74ce22bb10c7f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 2ccf488eee56df61048e0b929bbf35d5d33da60b4cbafe5c96728dca051a3e1a class_name relatednodeinfo   text preprint under review raft adapting language model to domain specific rag tianjun zhang department of computer science uc berkeley berkeley ca 94720 usa tianjunzberkeleyedushishir g patil naman jain sheng shen department of computer science uc berkeley berkeley ca 94720 usa shishirpatilnaman_jainshengsberkeleyedu matei zaharia ion stoica joseph e gonzalez department of computer science uc berkeley berkeley ca 94720 usa mateiistoicajegonzalberkeleyedu abstract pretraining large language models llms on large corpora of textual data is now a standard paradigm when using these llms for many downstream applications it is common to additionally incorporate new in formation into the pretrained model either through ragbasedprompting or finetuning however the best methodology to incorporate information remains an open question in this paper we present retrieval augmented fine tuning raft a training recipe which improves the models ability to answer questions in openbook indomain settings in training raft given a question and a set of retrieved documents we train the model to ignore those documents that dont help in answering the question which we call distractor documents raft accomplishes this by citing verbatim the right sequence from the relevant document to help answer the question this coupled with rafts chainofthoughtstyle response helps improve the models ability to reason in domain specific rag raft consistently improves the models performance across pubmed hotpotqa and gorilla datasets presenting a posttraining recipe to improve pretrained llms to indomain rag 1 introduction trained on vast quantities of public data large language models llms have achieved significant advances in a wide range of general knowledge reasoning tasks brown et al 2020 wei et al 2022 however increasingly llms are being employed in specialized domains to support tasks ranging from code completion for specific software frameworks to question answering on specific document collections eg legal or medical documents in these settings general knowledge reasoning is less critical and instead the primary goal is to maximize accuracy based on a given set of documents indeed adapting llms to the specialized domains eg recent news enterprise private documents or program resources constructed after the training cutoff is essential to many emerging applications vu et al 2023 lazaridou et al 2022 and is the focus of this work this paper studies the following question how do we adapt pretrained llms for retrieval augmented generation rag in specialized domains when it comes to adapting llms to specialized domains we consider the following two candidates incontext learning through retrievalaugmented generation rag and super vised finetuning rag based methods allow the llm to reference the documents when corresponding author personal website tianjunzgithubio 1arxiv240310131v2 cscl 5 jun 2024 mimetype textplain start_char_idx 0 end_char_idx 2904 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 8635f141c85045c5b14be1f9d9a667b0 embedding null metadata  page_label 2 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 77383a2f27c74e78977644a30f778ae6 node_type 4 metadata  page_label 2 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 49da6baf6dac54ab69f939ea7aa23ed9c3276eed2dc91ba05e2d3f4cffad302d class_name relatednodeinfo   text preprint under review open book query answerclosed book query answerbake in knowledge at train timemodel can use external docs at test raft proposed query answerteach model to use external docs at test figure 1 how best to prepare for an exam a finetuning based approaches implement studying by either directly memorizing the input documents or answering practice qa without referencing the documents b alternatively incontext retrieval methods fail to leverage the learning opportunity afforded by the fixed domain and are equivalent to taking an openbook exam without studying in contrast our approach c raft leverages finetuning with questionanswer pairs while referencing the documents in a simulated imperfect retrieval setting thereby effectively preparing for the openbook exam setting answering questions however rag based incontext learning methods fail to leverage the learning opportunity afforded by the fixed domain setting and early access to the test documents alternatively supervised finetuning offers the opportunity to learn more general patterns in the documents and better align to end tasks and user preferences zhou et al 2023 however existing finetuning based approaches either fail to leverage the documents at test time dont incorporate rag or fail to account for the imperfections in retrieval process during training we can draw an analogy to an openbook exam existing incontext retrieval methods are equivalent to taking an openbook exam without studying alternatively existing fine tuning based approaches implement studying by either directly memorizing xiong et al 2023 the input documents or answering practice questions wang et al 2022 without referencing the documents while these approaches leverage indomain learning they fail to prepare for the openbook nature of the test setting in this paper we study how to combine instruction finetuning ift with retrieval aug mented generation rag we propose a novel adaptation strategy retrievalaugmented fine tuning raft raft specifically addresses the challenge of finetuning llms to both incorporate domain knowledge while also improving indomain rag performance raft aims to not only enable models to learn domainspecific knowledge through finetuning but also to ensure robustness against distracting retrieved information this is achieved by training the models to understand the dynamics between the question prompt the domainspecific documents retrieved and the right answer going back to our analogy to the open book exam our approach is analogous to studying for an openbook exam by recognizing relevant and irrelevant retrieved documents in raft we train the model to answer the question q from documents d to generate answer a where a includes chainofthought reasoning wei et al 2022 anthropic 2023 and in the presence of distractor documents dk we explain the methodology in section 3 and analyze the sensitivity to the number of distractor documents k at train and test time in section 5 raft consistently outperforms",
        "mimetype": "text/plain",
        "start_char_idx": 1234275,
        "end_char_idx": 1241275,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7879faea-b40e-425f-8d4c-5c601832aa2f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "796517d7-2642-4fc6-ac9a-37e34a468db3",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3494dc6363723badebdf433987febfb57558081f743d69474cacf805d512873a",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "69d73dcd-1674-4bb5-acdf-cdc4ee4e7376",
                "node_type": "1",
                "metadata": {},
                "hash": "981d49331c036e80aa7000e3be1083be621178950435f666ec843001688e37de",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "with retrieval aug mented generation rag we propose a novel adaptation strategy retrievalaugmented fine tuning raft raft specifically addresses the challenge of finetuning llms to both incorporate domain knowledge while also improving indomain rag performance raft aims to not only enable models to learn domainspecific knowledge through finetuning but also to ensure robustness against distracting retrieved information this is achieved by training the models to understand the dynamics between the question prompt the domainspecific documents retrieved and the right answer going back to our analogy to the open book exam our approach is analogous to studying for an openbook exam by recognizing relevant and irrelevant retrieved documents in raft we train the model to answer the question q from documents d to generate answer a where a includes chainofthought reasoning wei et al 2022 anthropic 2023 and in the presence of distractor documents dk we explain the methodology in section 3 and analyze the sensitivity to the number of distractor documents k at train and test time in section 5 raft consistently outperforms supervisedfinetuning both with and without rag across pubmed dernoncourt lee 2017 hotpot qa yang et al 2018 and huggingface hub torch hub and tensorflow hub gorilla datasets patil et al 2023 presenting a novel yet simple technique to improve pretrained llms for indomain rag our code is available at httpsgithubcomshishirpatilgorilla 2 llms for openbook exam to understand our goal better we expand on our analogy between training an llm with the realworld setting of prepararing for an exam closedbook exam a closed book exam often refers to the scenario where the llms do not have access to any additional documents or references to answer the questions during 2 mimetype textplain start_char_idx 0 end_char_idx 3679 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 765c1f7672bb42198e530c4cce36b903 embedding null metadata  page_label 3 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 9d88d1d4a0cc41b09af3549c92908cc8 node_type 4 metadata  page_label 3 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 3095e2292be19d045960a06018239f5fe92d7535ff5316e4845308895c85e8ed class_name relatednodeinfo   text preprint under review figure 2 overview of our raft method the topleft figure depicts our approach of adapting llms to reading solution from a set of positive and distractor documents in contrast to standard rag setup where models are trained based on the retriever outputs which is a mixture of both memorization and reading at test time all methods follow the standard rag setting provided with a topk retrieved documents in the context the exam for llms this is equivalent to the scenario for example in which the llm is used as a chatbot in this scenario the llm draws from the knowledge baked in during pretraining and supervisedfinetuning to respond to the users prompt open book exam in contrast we liken the openbook exam setting to the scenario in which the llm can refer to external sources of information eg a website or a book chapter in such scenarios typically the llm is paired with retriever which retrieves k documents or specific segments of the document which are appended to the users prompt it is only through these documents retrieved that the llm gains access to domainspecific information as a result we argue that the llms performance in these settings where it is trained as a generalpurpose llm is largely dependent on the quality of the retriever and how accurately the retriever can identify the most relevant piece of information domainspecific openbook exam in this paper we focus on the narrower but increas ingly popular domain than the general open book exam which we call the domainspecific openbook exam here we know apriori the domain in which the llm will be tested the llm can respond to the users prompt using use any and all information from this specific domain which it has been finetuned on examples of domain specific examples include enterprise documents code repositories belonging to an organization etc in all these scenarios the llm will be used to respond to the questions whose answers can be found within a collection of documents the retrieval technique itself has little to noimpact on the mechanism though it may impact the accuracy this paper studies the domainspecific openbook setting and how to adapt a pretrained llm to this specific domain including how to make it more robust to a varying number of retrieved documents and distractors 3 raft in this section we present raft a novel way of training llms for domainspecific open book exams we first introduce the classical technique of supervised finetuning followed with the key takeaways from our experiments then we introduce raft a modified version of general instruction tuning lastly we provide an overview of the experiments to expect in the later sections supervised finetuning consider the supervised finetuning sft setting for a questionanswer dataset the formulation consists of the dataset d from which a set of question q and corresponding answer a pairs are derived or already available in the classical sft setting the model is trained to improve its ability to answer the questions based on its knowledge obtained either during pretraining or during the sft training phase the model so trained can also 3 mimetype textplain start_char_idx 0 end_char_idx 3136 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f2938a528f534c08a49852ec05fcbd54 embedding null metadata  page_label 4 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id f31817ead2184571a84a4cd9dca3f720 node_type 4 metadata  page_label 4 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash",
        "mimetype": "text/plain",
        "start_char_idx": 1240151,
        "end_char_idx": 1246753,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "69d73dcd-1674-4bb5-acdf-cdc4ee4e7376",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7879faea-b40e-425f-8d4c-5c601832aa2f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4182c2e0f07b1952e6bff221c2d3ab94daaef71e60b80386b552d862aecd6619",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c7553432-7cec-4371-9bfd-43b164deb7c4",
                "node_type": "1",
                "metadata": {},
                "hash": "f3141d40ecb31f267e55b3bb71e8ee12ced66011b2b1fb647308325ec2c937ea",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f2938a528f534c08a49852ec05fcbd54 embedding null metadata  page_label 4 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id f31817ead2184571a84a4cd9dca3f720 node_type 4 metadata  page_label 4 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 52dd61275c10480377711a57a4c6d68698db46224b09c99da29df2309b846e5a class_name relatednodeinfo   text preprint under review be used at testtime with retrieval augmented generation rag setting where additional documents can be introduced in the prompt to help the model answer the question this can be represented as follows train qa 0shot inference qa rag inference qda raft retrieval augmented finetuning raft presents a novel recipe to prepare fine tuning data to tailor the models for domainspecific openbook setting equivalent to in domain rag in raft we prepare the training data such that each data point contains a question q a set of documents dk and a corresponding chainofthough style answer a generated from one of the document d we differentiate between two types of documents golden documents d ie the documents from which the answer to the question can be deduced and distractor documents di that do not contain answer relevant information as an implementation detail the golden document doesnt need to be a single document but can be more than one document as is the case in hotpotqa yang et al 2018 then for pfraction of the questions qi in the dataset we retain the golden document d i along with distractor documents dk1 for 1pfraction of the questions qi in the dataset we include no golden document and only include distractor documents dk we then finetune the language model using standard supervised training sft technique training it to generate answers from the provided documents and question fig 2 illustrates the highlevel design principal for raft we demonstrate that our rag approach trains the model to perform better rag on the set of documents it is trained on ie indomain by removing the golden documents in some instances we are compelling the model to memorize answers instead of deriving them from the context the training data for raft is as follows and an example training data can be seen in fig 3 p of data qdd1d2 dka 1p of data qd1d2 dka subsequently for the test scenario the model is provided with the q and topk documents retrieved by the rag pipeline note that raft is independent of the retriever used a key factor in enhancing training quality is the generation of a reasoning process such as chainofthought to explain the provided answers raft approach is similar we demonstrate that creating a full reasoning chain and inaddition clearly citing sources enhances the models accuracy in answering questions in fig 3 we illustrate this set up generating the training data in this fashion involves presenting the model with a question context and verified answers and then requesting it to form a reasoning chain that appropriately references the original context for all the datasets in our experiments we generate the answers using the technique described above note that the gorilla apibench dataset already includes reasoning in the answers we provide an example of the generation step in fig 3 the detailed reasoning answer includes a citation from the original context inside begin_quote and end_quote as well as the detailed explanation on how to reach the conclusion based on the citations we demonstrate that adding detailed reasoning paragraphs can help boost the models performance in our experiment section 4 evaluation we design our experiments to study how well raft performs compared to various base lines we find that the raft7b model a finetuned version of llama2 is better at reading and extracting information from indomain documents than domainspecific finetuned model and generalpurpose model with rag as an ablation we also demonstrate how important it is for the model to learn with chainofthought responses in this section we will first introduce all the datasets we used in the experiments then all the baseline modelfinetuning techniques that we benchmark against 4 mimetype textplain start_char_idx 0 end_char_idx 3753 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3f14f26ae0a5428a9aff5717337e7337 embedding null metadata  page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 5c742c3b3857424eba2fc57c310e963e node_type 4 metadata  page_label 5 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash e6630670f60dd706978c644d85ff75105f78782ca76a05a9049278f7cfd5b283 class_name relatednodeinfo   text preprint under review question the oberoi family is part of a hotel company that has a head office in what city context the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi groupit is located in city center of jakarta near mega kuningan adjacent to the sister jw marriott hotel it is operated by the ritzcarlton hotel company the complex has two towers that comprises a hotel and the airlangga apartment respectivelythe oberoi group is a hotel company with its head office in delhi instruction given the question context and answer above provide a logical reasoning for that answer please use the format of reason reason answer answer cot answer reason the document begin_quote the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi group end_quote establishes that the oberoi family is involved in the oberoi group and the document begin_quote the oberoi group is a hotel company with its head office in delhi end_quote establishes the head office of the oberoi group therefore the oberoi family is part of a hotel company whose head office is",
        "mimetype": "text/plain",
        "start_char_idx": 1246031,
        "end_char_idx": 1252632,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c7553432-7cec-4371-9bfd-43b164deb7c4",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "69d73dcd-1674-4bb5-acdf-cdc4ee4e7376",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bd3c7c858ee587843c76d3ed7c88843ddb72326b56a45f18acb109b31c952409",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "7782104a-8457-4fc7-8c6e-2dbce420468b",
                "node_type": "1",
                "metadata": {},
                "hash": "3518dc280d30cc56b67af5e3e5d7a06398f96f4cb02b198a4ac34ba49e88693b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "family is an indian family that is famous for its involvement in hotels namely through the oberoi groupit is located in city center of jakarta near mega kuningan adjacent to the sister jw marriott hotel it is operated by the ritzcarlton hotel company the complex has two towers that comprises a hotel and the airlangga apartment respectivelythe oberoi group is a hotel company with its head office in delhi instruction given the question context and answer above provide a logical reasoning for that answer please use the format of reason reason answer answer cot answer reason the document begin_quote the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi group end_quote establishes that the oberoi family is involved in the oberoi group and the document begin_quote the oberoi group is a hotel company with its head office in delhi end_quote establishes the head office of the oberoi group therefore the oberoi family is part of a hotel company whose head office is in delhi answer delhi figure 3 raft prompt to help llm evaluate its own generated reasoning and answers contrasting them with the correct reasoning and answers the llm is prompted to identify errors in its reasoning and extract key insights for improvement this figure specifically represents the generateexplanation step in the raft algorithm section 3 table 1 raft improves rag performance for all specialized domains across pubmed hotpot huggingface torch hub and tensorflow hub we see that domainspecific fine tuning improves significantly of the performance of the base model raft consistently outperforms the existing domainspecific finetuning method with or without rag this suggests the need to train the model with context we compare our model with llama finetuning receipes and provide gpt35 for reference pubmed hotpot huggingface torch hub tensorflow gpt35 rag 7160 415 2908 6021 6559 llama27b 565 054 022 0 0 llama27b rag 588 003 2643 0860 4306 dsf 597 638 6106 8494 8656 dsf rag 716 441 4259 8280 6029 raft llama27b 7330 3528 7400 8495 8686 datasets in our experiments we use the following datasets to evaluate our model and all baselines we selected these datasets to represent both popular and diverse domains including wikipedia codingapi documents and questionanswering on medical docu ments natural questions nq kwiatkowski et al 2019 trivia qa joshi et al 2017 and hotpotqa yang et al 2018 are the opendomain questionanswers based on wikipedia mainly focused on common knowledge eg movies sports etc huggingface torch hub and tensorflow hub are from the apibench patil et al 2023 proposed in the gorilla paper these benchmarks measure how to generate the correct functional and executable api calls based on the documentation pubmed qa jin et al 2019 is a questionanswering dataset tailored only for biomedicalresearch questionanswering it mainly focuses on answering medical and biology questions based on a given set of documents we would 5 mimetype textplain start_char_idx 0 end_char_idx 3122 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 41b78995000446bab0919b6abba261d6 embedding null metadata  page_label 6 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id f11289d4ec844e7287e69c1d4e0c2f3f node_type 4 metadata  page_label 6 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 541c13842a8d06a26f11203fdccdb13211b94a3e197b5c42a0fdcf65c56b927f class_name relatednodeinfo   text preprint under review like to highlight that nq trivia qa and hotpotqa are relatively general domain whereas the latter two domains are on domainspecific documents baselines we consider the following baselines for our experiments llama27bchat model with 0shot prompting this is the commonly used instructionfinetuned model for qa tasks where we provide clearly written instruc tions but no reference documentation llama27bchat model with rag llama2 rag similar to the previous setting except here we include reference documents this is a popular technique when dealing with domainspecific qa tasks domainspecific finetuning with 0shot prompting dsf standard supervised finetuning without documents in context we find that its mostly useful to align the answering style of the model as well as get familiar with the domain context domainspecific finetuning with rag dsf rag equip a domainspecific finetunedmodel with external knowledge using rag so for the knowledge the model does not know it can still refer to the context 41 results using the above datasets and baselines we evaluate our model raft and demonstrate the effectiveness of raft in tab 1 we see that raft consistently and significantly outperforms the baselines compared with the base llama2 instructiontuned model raft with rag does much better in terms of extracting information as well as being robust towards distractors the gain can be as big as 3525 on hotpot qa and 7635 on torch hub evaluation compared with dsf on the specific dataset our model does better at relying on the provided context to solve the problem raft does much better on the tasks like hotpot and huggingface datasets 3087 on hotpot and 3141 on huggingface note that for pubmed qa since it is a binary yesno question we dont observe significant gains when we compare our model with dsf rag even compared with a much larger and better model gpt35 raft demonstrates significant advantages overall the llama7b model both with and without the rag performs poorly due to its answering style not aligning with the ground truth by applying domainspecific tuning we significantly enhance its performance this process enables the model to learn and adopt the appropriate style of answering however introducing rag to a domainspecifically finetuned dsf model doesnt invariably lead to better outcomes this might indicate that the model lacks training in context processing and extracting useful information from it by incorporating our method raft we train the model not only to match its answering style with that required but also to improve its document processing capabilities consequently our approach outperforms all others 42 effect of cot we also conduct an analysis to evaluate the effectiveness of",
        "mimetype": "text/plain",
        "start_char_idx": 1251609,
        "end_char_idx": 1258223,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7782104a-8457-4fc7-8c6e-2dbce420468b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c7553432-7cec-4371-9bfd-43b164deb7c4",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2ddc581879fb978773b4ba62e63d4bd1ee9c11df290daa7a52afb9667044ed62",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6d625451-d638-4b31-bae7-f54660924c56",
                "node_type": "1",
                "metadata": {},
                "hash": "e2d297d863517fa5095194ef97e3747cfa93e0d2da8b936d0e59bed21792be82",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "and huggingface datasets 3087 on hotpot and 3141 on huggingface note that for pubmed qa since it is a binary yesno question we dont observe significant gains when we compare our model with dsf rag even compared with a much larger and better model gpt35 raft demonstrates significant advantages overall the llama7b model both with and without the rag performs poorly due to its answering style not aligning with the ground truth by applying domainspecific tuning we significantly enhance its performance this process enables the model to learn and adopt the appropriate style of answering however introducing rag to a domainspecifically finetuned dsf model doesnt invariably lead to better outcomes this might indicate that the model lacks training in context processing and extracting useful information from it by incorporating our method raft we train the model not only to match its answering style with that required but also to improve its document processing capabilities consequently our approach outperforms all others 42 effect of cot we also conduct an analysis to evaluate the effectiveness of the chainofthought approach in enhancing the models performance as indicated in table 2 simply providing the answer to a question may not always be adequate this approach can lead to a rapid decrease in loss resulting in the model beginning to overfit incorporating a reasoning chain that not only guides the model to the answer but also enriches the models understanding can improve the overall accuracy and prevent overfitting to concise answers in our experiments integrating the chainofthought significantly enhances training robustness we employ gpt41106 to generate our chainofthought prompts and include an example of the prompt we used in figure 3 43 qualitative analysis to illustrate the potential advantages of raft over the domainspecifically finetuned dsf approach we present a comparative example in figure 4 this example qualitatively 6 mimetype textplain start_char_idx 0 end_char_idx 3593 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 583cf1d7f08e4b9080a5429bf91eddc4 embedding null metadata  page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id a2f9a9d4c14d45f7ba15931d7d4a11f3 node_type 4 metadata  page_label 7 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 1a9d45a5b993abc7a04a2252ae969b380d322f21ce8daccf6a593a421e47ef6a class_name relatednodeinfo   text preprint under review table 2 ablation on chainofthought the numbers of raft and raft without cot results on various datasets show that adding cot can significantly improve the performance of the finetuned model with a gains of 966 and 1493 in the hotpot qa and huggingface datasets respectively pubmed hotpotqa huggingface torch hub tensorflow raft wo cot 6830 2562 5907 8656 8321 raft 7330 3528 7400 8495 8686 demonstrates a scenario where the dsf model becomes confused by a question asking for the identity of a screenwriter instead of providing the correct name it mistakenly cites one of the films written by the screenwriter in contrast the raft model accurately answers the question this discrepancy suggests that training a model solely with questionanswer pairs may impair its ability to derive relevant context from provided documents the comparison underscores the importance of incorporating both standard instructional tuning and context comprehension into the training dataset to preserve and enhance the models ability to process text effectively hotpot qa question what screenwriter with credits for evolution01879e a film starring nicolas cage and tu00e9a leoni documents david weiss man is a screen writer and director his film credits include the family man 2000 evo lution 2001 and when in rome 2010 the family man is a 2000 american romantic comedydrama film directed by brett ratner written by david diamond and david weissman and starring nico lascage and tu00e9aleoni raft reason the screenwriter with credits for the film evolution starring nicolas cage and tu00e9a leoni is david weissman this information is provided in the reference documents where it mentions david weissman as a screenwriter with film credits including the family man 2000 evolution 2001 and when in rome 2010 therefore the screenwriter for evolution is david weissman answer david weiss man dsf the fam ilyman figure 4 comparison of raft and dsf on the hotpot qa dataset we can see that dsf model extracts the wrong information from the context when the question is asking who is the screen writer and it answers a film name raft manages to get the accurate results 44 should we train the llm always with the golden context for rag in our exploration of whether large language models llms should always be trained with the golden context for retrievalaugmented generation rag we address a key question what proportion p of the training data should include golden documents intuitively one might assume that for effective training in reading and extracting information from context eg rag tasks the golden document should always be included during training p 100 however our findings challenge this assumption incorporating a portion of the training data without the golden document in the context p 80 appears to enhance the models performance on rag tasks 7 mimetype textplain start_char_idx 0 end_char_idx 2860 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2069ed7dde30499e9e7b1da1ab3765f3 embedding null metadata  page_label 8 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 149518afcf844263a36e93d5633464fd node_type 4 metadata  page_label 8 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date",
        "mimetype": "text/plain",
        "start_char_idx": 1257119,
        "end_char_idx": 1263599,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6d625451-d638-4b31-bae7-f54660924c56",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "7782104a-8457-4fc7-8c6e-2dbce420468b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "910214647b3e618c018904991cea59a12da720bce331bee69c256d1636be1f13",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "c5920966-d289-492d-9c74-6086eece402d",
                "node_type": "1",
                "metadata": {},
                "hash": "5e6b6e39441ba0bdbc9017977d238662bd1a3c0568b3c0687e3221489eb8a4cb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2069ed7dde30499e9e7b1da1ab3765f3 embedding null metadata  page_label 8 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 149518afcf844263a36e93d5633464fd node_type 4 metadata  page_label 8 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 2a78a850fcd7bcbbcbbea85872d5cb2f360921535cd38bd91d65eddb61f56484 class_name relatednodeinfo   text preprint under review 0 20 40 60 80 100 p golden retrieved context at training025030035040045final accuracy t est domain nq 0 20 40 60 80 100 golden retrieved context at training050055060065final accuracy t est domain tqa 0 20 40 60 80 100 p golden retrieved context at training040045050055060final accuracy t est domain hopo figure 5 how many golden documents to involve we study the hyperparameter p where it indicates how much portion of training data is with golden document results on nq tqa and hotpotqa suggest that mixing some amount of data that the golden document is not put in the context is helpful for indomain rag figure 5 presents our investigation into the hyperparameter p which represents the percentage of training instances that should include golden documents we find that the optimal proportion varies across datasets with p ranging from 40 60 and 100 this indicates that training your llm without the correct corresponding context at times can be beneficial for the downstream task of answering questions related to the documents in our training setup we include four distractor documents alongside the golden document and at test time we maintain this format by providing the golden document with four distractors our findings suggest that for domainspecific rag tasks including a certain percentage of training data without the golden documents in the context proves to be advantageous 5 raft generalizes to topk rag we now study another important problem how does the number of distractor documents in raft affect the models performance when augmented with topk rag results during evaluation previous research has highlighted the vulnerability of llms to irrelevant text see studies shi et al 2023a weston sukhbaatar 2023 liu et al 2023 this issue is particularly critical for llms rag since topk rag is frequently employed at test time to ensure high recall such a scenario necessitates the model to have the ability to discern and disregard irrelevant content focusing solely on pertinent information 51 making model robust to topk rag to tackle the challenge of enhancing large language models llms ability to sift through irrelevant text within the retrieval pipeline our analysis revealed that training solely with golden highly relevant documents can inadvertently diminish the models ability to dis cern and disregard irrelevant information to address this our algorithm raft adopts a strategy that integrates golden documents with a mix of irrelevant ones this method ology prompts us to investigate the ideal fraction of distractor irrelevant documents to incorporate throughout the training process and to assess how well this training approach adapts to different volumes of documents encountered by the retrievalaugmented gen eration rag during the test phase our aim is to refine the balance between relevant and irrelevant information to strenghten the models efficiency in identifying and utilizing pertinent content notice that sec 44 looked what what p of training data should include distractors while in this section we study testtime scenarios training with distractor documents to enhance the robustness of llms against irrelevant text in retrieved documents we adopted a finetuning approach that incorporates both golden highly relevant documents and distractor irrelevant documents the model was trained with varying numbers of distractor documents but consistently evaluated using the top3 documents obtained from the retriever not to be confused with p our findings detailed in fig 6 reveal that finetuning with only the golden document frequently results in inferior performance compared to configurations that include a greater number of distractor documents as we can see in the figure the better performance for natural questions is 8 mimetype textplain start_char_idx 0 end_char_idx 3797 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7bef94cf28ec4f029e7ff1f639fb0d6b embedding null metadata  page_label 9 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 5a9fdb21a2eb4fc295c117e18384ef93 node_type 4 metadata  page_label 9 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash a8f24b1693432140f9687debf705c45b6f3e810a1a3562b3831c2698254b07c1 class_name relatednodeinfo   text preprint under review 2 4 6 8 10 t est documents t opk022024026028030032final accuracy natural questions train d train d 1d train d 2d train d 3d 2 4 6 8 10 t est documents t opk012501500175020002250250final accuracy hotpot qa train d train d 1d train d 2d train d 3d figure 6 testtime documents varying to analyze how robust raft is to varying number of testtime documents we study three domains nq trivia qa and hotpot qa in nq we find that training with 4 documents leads to optimal performance and this changes to 3 and 2 for for trivia qa and hotpot qa respectively however we see that training with only golden documents leads to poor performance training with d3dand it is d1ddocuments with hotpot qa this insight has been particularly beneficial for our algorithm raft in our experiments we consistently employ a training setup consisting",
        "mimetype": "text/plain",
        "start_char_idx": 1262878,
        "end_char_idx": 1269241,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "c5920966-d289-492d-9c74-6086eece402d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6d625451-d638-4b31-bae7-f54660924c56",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "60df77e6693f7948faf5cb84880fbbaa9ccce85979d6a43ac396b22b70ef5c64",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "77942cbd-d7a2-4c89-95fd-e563e85ecc3a",
                "node_type": "1",
                "metadata": {},
                "hash": "64553a8a39251fa7a3e14e219c65c55ac584c3654432ddf743fdf32870edc2e5",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "6 8 10 t est documents t opk022024026028030032final accuracy natural questions train d train d 1d train d 2d train d 3d 2 4 6 8 10 t est documents t opk012501500175020002250250final accuracy hotpot qa train d train d 1d train d 2d train d 3d figure 6 testtime documents varying to analyze how robust raft is to varying number of testtime documents we study three domains nq trivia qa and hotpot qa in nq we find that training with 4 documents leads to optimal performance and this changes to 3 and 2 for for trivia qa and hotpot qa respectively however we see that training with only golden documents leads to poor performance training with d3dand it is d1ddocuments with hotpot qa this insight has been particularly beneficial for our algorithm raft in our experiments we consistently employ a training setup consisting of one golden document alongside four distractor documents generalization to a variable number of testtime documents we extended our research to examine the impact of different quantities of testtime documents on the models per formance specifically our experiments focused on assessing how models trained with varying numbers of distractor documents respond to changes in the number of documents presented at test time the results illustrated in fig 6 confirm that the inclusion of distrac tor documents during training indeed makes the model more resilient to fluctuations in the number of documents encountered during testing this ability to maintain consistent perfor mance despite variations in testtime document numbers further validates the robustness of our approach raft this finding underscores the importance of a wellcalibrated training environment to prepare the model for a range of scenarios it may encounter in realworld 6 related works retrievalaugmented language models retrievalaugmented language models ralms enhance llms by integrating a retrieval module that sources relevant information from external knowledge bases significantly improving performance across various nlp tasks including language modeling guu et al 2020 borgeaud et al 2022 khandelwal et al 2019 shi et al 2023d lin et al 2023b shi et al 2023c asai et al 2023 xu et al 2023 wang et al 2023 and opendomain question answering izacard et al 2023 lewis et al 2020 for instance atlas izacard et al 2023 finetunes t5 models with the retriever treating documents as latent variables while retro borgeaud et al 2022 modifies the decoderonly architecture to include retrieved texts and conducts pretraining from scratch knnlm khandelwal et al 2019 interpolates between the lms next token distribution and distributions computed from retrieved tokens at inference shi et al 2023d ram et al 2023 assume blackbox access to an llm combining it with either offtheshelf or finetuned retriever memorization a key question around large neural language models is whether they truly understand text feldman 2020 power et al 2022 or simply rely on surface pattern memorization carlini et al 2019 tu00e4nzer et al 2022 feldman 2020 carlini et al 2019 2022 develop methodologies to quantify the extent of memorization in neural models brown et al 2020 power et al 2022 liu et al 2022 further explored how memorization impacts the models generalization capabilities carlini et al 2021 shi et al 2023b demonstrated the ability of language models to memorize and regurgitate training data raising significant privacy concerns kandpal et al 2022 pan et al 2020 finetuning for rag more recently several papers have been exploring the idea of fine tuning a pretrained llm to be better at rag tasks lin et al 2023a wang et al 2023 xu 9 mimetype textplain start_char_idx 0 end_char_idx 3651 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 88c71a0d1c1b47f697dac5d42df3450b embedding null metadata  page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 2e2ebef79edf4130b428981c44be1e8a node_type 4 metadata  page_label 10 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 6f802d080246f5ef17b35e81ac6e4ad9a8c4e6753d6769bcc867746c86ef2953 class_name relatednodeinfo   text preprint under review et al 2023 liu et al 2024 these works focus on constructing a combination of finetuning dataset for rag and train a model to perform well on these tasks in particular in their settings at test time the domain or documents can be different than the training time whereas our paper studies a slightly opposite scenario where we only care about testing the llm on the same set of documents 7 conclusion raft is a training strategy designed to enhance the models performance in answering questions within a specific domain in openbook settings we highlight several crucial design decisions such as training the model alongside distractor documents organizing the dataset so a portion lacks golden documents in their context and formulating answers in a chainofthought manner with direct quotations from the relevant text our evaluations on pubmed hotpotqa and gorilla api bench underline rafts significant potential references anthropic prompt engineering for claudes long context window 2023 asai a wu z wang y sil a and hajishirzi h selfrag learning to retrieve generate and critique through selfreflection arxiv preprint arxiv231011511 2023 borgeaud s mensch a hoffmann j cai t rutherford e millican k van den driess che g b lespiau jb damoc b clark a et al improving language models by retrieving from trillions of tokens in international conference on machine learning pp 22062240 pmlr 2022 brown t mann b ryder n subbiah m kaplan j d dhariwal p neelakantan a shyam p sastry g askell a et al language models are fewshot learners advances in neural information processing systems 3318771901",
        "mimetype": "text/plain",
        "start_char_idx": 1268421,
        "end_char_idx": 1274543,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "77942cbd-d7a2-4c89-95fd-e563e85ecc3a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "c5920966-d289-492d-9c74-6086eece402d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "27a6ef1a7be528e98638773054989b750578f2f4952cff6c54791b8acf483a12",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "130adbbf-1555-49a3-8695-5c317e0b7884",
                "node_type": "1",
                "metadata": {},
                "hash": "510044dc48a69da754947256fd614421605f66229eec5f005ba82d6abbe42825",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "with direct quotations from the relevant text our evaluations on pubmed hotpotqa and gorilla api bench underline rafts significant potential references anthropic prompt engineering for claudes long context window 2023 asai a wu z wang y sil a and hajishirzi h selfrag learning to retrieve generate and critique through selfreflection arxiv preprint arxiv231011511 2023 borgeaud s mensch a hoffmann j cai t rutherford e millican k van den driess che g b lespiau jb damoc b clark a et al improving language models by retrieving from trillions of tokens in international conference on machine learning pp 22062240 pmlr 2022 brown t mann b ryder n subbiah m kaplan j d dhariwal p neelakantan a shyam p sastry g askell a et al language models are fewshot learners advances in neural information processing systems 3318771901 2020 carlini n liu c erlingsson u00fa kos j and song d the secret sharer evaluating and testing unintended memorization in neural networks in 28th usenix security symposium usenix security 19 pp 267284 2019 carlini n tramer f wallace e jagielski m herbertvoss a lee k roberts a brown t song d erlingsson u et al extracting training data from large language models in 30th usenix security symposium usenix security 21 pp 26332650 2021 carlini n ippolito d jagielski m lee k tramer f and zhang c quantifying memorization across neural language models in the eleventh international conference on learning representations 2022 dernoncourt f and lee j y pubmed 200k rct a dataset for sequential sentence classification in medical abstracts arxiv preprint arxiv171006071 2017 feldman v does learning require memorization a short tale about a long tail in proceedings of the 52nd annual acm sigact symposium on theory of computing pp 954959 2020 guu k lee k tung z pasupat p and chang m retrieval augmented language model pretraining in international conference on machine learning pp 39293938 pmlr 2020 izacard g lewis p lomeli m hosseini l petroni f schick t dwivediyu j joulin a riedel s and grave e atlas fewshot learning with retrieval augmented language models journal of machine learning research 24251143 2023 url http jmlrorgpapersv24230037html jin q dhingra b liu z cohen w w and lu x pubmedqa a dataset for biomedical research question answering arxiv preprint arxiv190906146 2019 10 mimetype textplain start_char_idx 0 end_char_idx 3113 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f0830a11f4964a009c6dbdeea15ad10b embedding null metadata  page_label 11 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 5823c9f1755e4707b6a349baead9d960 node_type 4 metadata  page_label 11 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash d31cb2933df85c461600b4aef036b940079342594df045fd359209ca3a888d12 class_name relatednodeinfo   text preprint under review joshi m choi e weld d s and zettlemoyer l triviaqa a large scale distantly supervised challenge dataset for reading comprehension arxiv preprint arxiv170503551 2017 kandpal n wallace e and raffel c deduplicating training data mitigates privacy risks in language models in international conference on machine learning pp 1069710707 pmlr 2022 khandelwal u levy o jurafsky d zettlemoyer l and lewis m general ization through memorization nearest neighbor language models arxiv preprint arxiv191100172 2019 kwiatkowski t palomaki j redfield o collins m parikh a alberti c epstein d polosukhin i devlin j lee k et al natural questions a benchmark for question answering research transactions of the association for computational linguistics 7453466 2019 lazaridou a gribovskaya e stokowiec w and grigorev n internetaugmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115 2022 lewis p perez e piktus a petroni f karpukhin v goyal n ku00fcttler h lewis m yih wt rocktu00e4schel t et al retrievalaugmented generation for knowledgeintensive nlp tasks advances in neural information processing systems 3394599474 2020 lin x v chen x chen m shi w lomeli m james r rodriguez p kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352 2023a lin x v chen x chen m shi w lomeli m james r rodriguez p kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352 2023b liu n f lin k hewitt j paranjape a bevilacqua m petroni f and liang p lost in the middle how language models use long contexts arxiv preprint arxiv230703172 2023 liu z kitouni o nolte n s michaud e tegmark m and williams m towards understanding grokking an effective theory of representation learning advances in neural information processing systems 353465134663 2022 liu z ping w roy r xu p shoeybi m and catanzaro b chatqa building gpt4 level conversational qa models arxiv preprint arxiv240110225 2024 pan x zhang m ji s and yang m privacy risks",
        "mimetype": "text/plain",
        "start_char_idx": 1273724,
        "end_char_idx": 1279011,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "130adbbf-1555-49a3-8695-5c317e0b7884",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "77942cbd-d7a2-4c89-95fd-e563e85ecc3a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "1c40d166aac2b5d51b0d0f35b0cc68ed35fe88504e4695b7259146d9f62e0c28",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "0c42df1d-2fb2-44a1-84df-56f41d79d23f",
                "node_type": "1",
                "metadata": {},
                "hash": "c34f936fb759591820380e114007d2919a6c0efee451a8657756be3e91705111",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "chen m shi w lomeli m james r rodriguez p kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352 2023b liu n f lin k hewitt j paranjape a bevilacqua m petroni f and liang p lost in the middle how language models use long contexts arxiv preprint arxiv230703172 2023 liu z kitouni o nolte n s michaud e tegmark m and williams m towards understanding grokking an effective theory of representation learning advances in neural information processing systems 353465134663 2022 liu z ping w roy r xu p shoeybi m and catanzaro b chatqa building gpt4 level conversational qa models arxiv preprint arxiv240110225 2024 pan x zhang m ji s and yang m privacy risks of generalpurpose language models in2020 ieee symposium on security and privacy sp pp 13141331 ieee 2020 patil s g zhang t wang x and gonzalez j e gorilla large language model connected with massive apis arxiv preprint arxiv230515334 2023 power a burda y edwards h babuschkin i and misra v grokking generalization beyond overfitting on small algorithmic datasets arxiv preprint arxiv220102177 2022 ram o levine y dalmedigos i muhlgay d shashua a leytonbrown k and shoham y incontext retrievalaugmented language models arxiv preprint arxiv230200083 2023 shi f chen x misra k scales n dohan d chi e h schu00e4rli n and zhou d large language models can be easily distracted by irrelevant context in international conference on machine learning pp 3121031227 pmlr 2023a shi w ajith a xia m huang y liu d blevins t chen d and zettlemoyer l detecting pretraining data from large language models arxiv preprint arxiv231016789 2023b 11 mimetype textplain start_char_idx 0 end_char_idx 3029 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a0a2c4c425494550847bd8ab481f9e7b embedding null metadata  page_label 12 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 4500e50755704cb2a260007f74943dcd node_type 4 metadata  page_label 12 file_name raftpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataraftpdf file_type applicationpdf file_size 784351 creation_date 20241015 last_modified_date 20241015  hash 9b3f2861df120138de8b77925ef76a031e4723c31fa02ec1d082727d01c90ae6 class_name relatednodeinfo   text preprint under review shi w min s lomeli m zhou c li m lin v smith n a zettlemoyer l yih s and lewis m incontext pretraining language modeling beyond document boundaries arxiv preprint arxiv231010638 2023c shi w min s yasunaga m seo m james r lewis m zettlemoyer l and yih wt replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652 2023d tu00e4nzer m ruder s and rei m memorisation versus generalisation in pretrained lan guage models in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers pp 75647578 2022 vu t iyyer m wang x constant n wei j wei j tar c sung yh zhou d le q et al freshllms refreshing large language models with search engine augmentation arxiv preprint arxiv231003214 2023 wang b ping w mcafee l xu p li b shoeybi m and catanzaro b instructretro instruction tuning post retrievalaugmented pretraining arxiv preprint arxiv231007713 2023 wang y kordi y mishra s liu a smith n a khashabi d and hajishirzi h selfinstruct aligning language models with selfgenerated instructions arxiv preprint arxiv221210560 2022 wei j wang x schuurmans d bosma m xia f chi e le q v zhou d et al chainofthought prompting elicits reasoning in large language models advances in neural information processing systems 352482424837 2022 weston j and sukhbaatar s system 2 attention is something you might need too arxiv preprint arxiv231111829 2023 xiong w liu j molybog i zhang h bhargava p hou r martin l rungta r sankararaman k a oguz b et al effective longcontext scaling of foundation models arxiv preprint arxiv230916039 2023 xu p ping w wu x mcafee l zhu c liu z subramanian s bakhturina e shoeybi m and catanzaro b retrieval meets long context large language models arxiv preprint arxiv231003025 2023 yang z qi p zhang s bengio y cohen w w salakhutdinov r and manning c d hotpotqa a dataset for diverse explainable multihop question answering arxiv preprint arxiv180909600 2018 zhou c liu p xu p iyer s sun j mao y ma x efrat a yu p yu l et al lima less is more for alignment arxiv preprint arxiv230511206 2023 12 mimetype textplain start_char_idx 0 end_char_idx 2113 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3183a3691d5f4f4a9185037af0be1b32 embedding null metadata  page_label 1 file_name ragnaru00f6kpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 1278303,
        "end_char_idx": 1283200,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0c42df1d-2fb2-44a1-84df-56f41d79d23f",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "130adbbf-1555-49a3-8695-5c317e0b7884",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "95c8d53b94fe59cf8a62e787a98f29a6f45d429403d7428fd9ecd5e8d02eaf4d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d917305a-e658-4e6f-91ac-a97ea0c58440",
                "node_type": "1",
                "metadata": {},
                "hash": "f58620b3de2772c2ea31af76a8c155bb2aba8542d373a6d84cd26a6abcb315ec",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "retrieval meets long context large language models arxiv preprint arxiv231003025 2023 yang z qi p zhang s bengio y cohen w w salakhutdinov r and manning c d hotpotqa a dataset for diverse explainable multihop question answering arxiv preprint arxiv180909600 2018 zhou c liu p xu p iyer s sun j mao y ma x efrat a yu p yu l et al lima less is more for alignment arxiv preprint arxiv230511206 2023 12 mimetype textplain start_char_idx 0 end_char_idx 2113 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3183a3691d5f4f4a9185037af0be1b32 embedding null metadata  page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id ad2e5a09eb7b45e88a18155c6a6e4f8e node_type 4 metadata  page_label 1 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash d551ead61e972aa3eec2d5b0e3b9756b5b0e7c728303090c29e483a7efb82a84 class_name relatednodeinfo   text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track ronak pradeep university of waterloo waterloo canadanandan thakur university of waterloo waterloo canadasahel sharifymoghaddam university of waterloo waterloo canadaeric zhang university of waterloo waterloo canada ryan nguyen university of waterloo waterloo canadadaniel campos snowflake inc new york usanick craswell microsoft seattle usajimmy lin university of waterloo waterloo canada abstract did you try out the new bing search or maybe you fiddled around with google ai overviews these might sound familiar because the modernday search stack has recently evolved to include retrieval augmented generation rag systems they allow searching and incorporating realtime data into large language models llms to provide a wellinformed attributed concise summary in contrast to the traditional search paradigm that relies on displaying a ranked list of documents therefore given these recent advancements it is crucial to have an arena to build test visualize and systematically evaluate ragbased search systems with this in mind we propose the trec 2024 rag track to foster innovation in evaluating rag systems in our work we lay out the steps weve made towards making this track a reality we describe the details of our reusable framework ragnaru00f6k explain the curation of the new ms marco v21 collection choice release the development topics for the track and standardize the io definitions which assist the end user next using ragnaru00f6k we identify and provide key industrial baselines such as openais gpt4o or coheres command r further we introduce a webbased user interface for an interactive arena allow ing benchmarking pairwise rag systems by crowdsourcing we opensource our ragnaru00f6k framework and baselines to achieve a unified standard for future rag systems httpsgithubcomcastoriniragnarok 1 introduction retrieval augmented generation rag 10212229 has emerged as a popular technique to augment large language model llm gen eration for knowledgeintensive tasks such as opendomain ques tion answering or fact verification 44 using the top ud835udc58retrieved segments from a suitable retrieval system rag systems output an answer summary grounded on the relevant context rag systems mitigate factual inconsistencies in llm outputs 19262934 and enhance interpretability 21 and generalization 20 thus facilitat ing a wider adoption across several domains like medicine 55 and finance 23 several companies provide endtoend rag frameworks such as bing search 39 or google gemini 5 most of these systems are either proprietary or offer limited user customization likewise the absence of a standardized rag framework makes implementing both authors contributed equally to the paper correspondence to ronak pradeep rpradeepuwaterlooca and nandan thakur nandanthakuruwaterloocarag at a large scale challenging implementing atop existing frame works requires custom code for multiple steps including retrieval reranking and generation to promote wider adoption of rag in academia we develop ragnaru00f6k a userfriendly reusable end toend rag framework offering code for customizable retrievers rerankers and generation models ragnaru00f6k comprises two key modules r retrieval and ag augmented generation the retrieval module incorporates both the retrieval and reranking stages to yield the top ud835udc58retrieved seg ments for an input user topic next the augmented generation module uses the userprovided topic and retrieved segments to produce an rag answer formatted into individual sentences cit ing the relevant information from the top ud835udc58retrieved segments ragnaru00f6k is deeply integrated with existing python frameworks such as pyserini 31 and rank_llm 4647 and can be easily in stalled via pypi using pip install pyragnarok the framework offers easytouse rest apis and an integrated webui to enhance userfriendliness and improve the human evaluation experience the ragnaru00f6k framework will be used for providing baselines in the upcoming trec 2024 retrieval augmented generation rag track1an ideal framework should include a sufficiently large doc ument collection covering diverse information and nonfactoid decompositional topics requiring longform answers in our frame work we deduplicate the existing ms marco v2 document col lection in addition we provide a segment collection using a slidingwindow chunking technique discussed in section 4 fur ther we release two sets of development topics i trecraggy 2024 a filtered subset of topics with longform answers from trec deep learning 202123 1517 and ii trecresearchy 2024 a subset of the researchy questions introduced in rosset et al 51 our ragnaru00f6k framework supports a headtohead rag battle arena for the answer evaluation heavily inspired by recent work such as the chatbot arena 1358 we include key industrial base lines such as",
        "mimetype": "text/plain",
        "start_char_idx": 1282530,
        "end_char_idx": 1288781,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d917305a-e658-4e6f-91ac-a97ea0c58440",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0c42df1d-2fb2-44a1-84df-56f41d79d23f",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "921648003868f50f741f8397b44b95823ac990f883bbe75ea61fdd905e2d1373",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "60389426-e02a-48f7-8982-49f36957c4a6",
                "node_type": "1",
                "metadata": {},
                "hash": "9de02564a6b2b317f3a67d1188a1d6d3cdff158809bc2cca1b97e2524833c394",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "evaluation experience the ragnaru00f6k framework will be used for providing baselines in the upcoming trec 2024 retrieval augmented generation rag track1an ideal framework should include a sufficiently large doc ument collection covering diverse information and nonfactoid decompositional topics requiring longform answers in our frame work we deduplicate the existing ms marco v2 document col lection in addition we provide a segment collection using a slidingwindow chunking technique discussed in section 4 fur ther we release two sets of development topics i trecraggy 2024 a filtered subset of topics with longform answers from trec deep learning 202123 1517 and ii trecresearchy 2024 a subset of the researchy questions introduced in rosset et al 51 our ragnaru00f6k framework supports a headtohead rag battle arena for the answer evaluation heavily inspired by recent work such as the chatbot arena 1358 we include key industrial base lines such as cohere command r 14 and openai gpt4o 41 and evaluate both the baselines using the retrieval setup involving bm25 49 and rankzephyr 47 with human preferences overall we observe gpt4o to provide more detailed answers over com mand r on the development set of topics discussed in section 6 finally we opensource ragnaru00f6k and make it publicly available at the following url httpsgithubcomcastoriniragnarok in the future we will include a wider variety of llms as baselines and continue to improve our framework 1trec 2024 retrieval augmented generation rag track httpstrecraggithubioarxiv240616828v1 csir 24 jun 2024 mimetype textplain start_char_idx 0 end_char_idx 5495 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 538ba56466324062862d545fe2dabc1f embedding null metadata  page_label 2 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id fe4d1cd5c36d4070924113b7fb1f8ec5 node_type 4 metadata  page_label 2 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 9f49aa60ee4bfdc59735aaa351bfd9ba63f3d626f875f719adfd4ade63aca6e4 class_name relatednodeinfo   text conference17 july 2017 washington dc usa pradeep and thakur et al r retrieval module bm25 rankzephyr user topic how often should you take your toddler to the potty when potty training referencesdoc0 doc1 doc19 response_length 728 answer text the frequency with which you should take your toddler to the potty depends on their readiness for potty training citations 0 1 12 13 19 text if they are reluctant to use the potty dont force them citations 6 8 doc0 how often should i take my toddler to the potty doc1 how to potty train your kid doc19 potty training how to get the job done topk segments ag augmented generation module command r gpt4orag output json prompting llm retrieval rerank rag retrievalaugmented generation module figure 1 schematic diagram of the ragnaru00f6k framework given a user topic left the process consists of two steps 1 r retrieval rerank where the topic yields the top ud835udc58relevant segments from our document collection eg potty training articles and 2 ag augmentedgeneration where the retrieved segments with a suitable prompt template is fed to the large language model llm to generate the postprocessed answer response json containing individual sentencelevel citations 2 related work rag frameworks existing rag systems are primarily closed source and difficult to reproduce opensource frameworks such as langchain 12 and llamaindex 33 while available are not researchfriendly and lack proper evaluation and benchmarking flashrag 24 a concurrent work is a similarly motivated toolkit to improve the rag experience for researchers while the frame work is extensive and designed for pipeline flexibility ragnaru00f6k offers a few additional capabilities a webui serving a rag battle arena easytouse rest apis a standardized io definition working with sentencelevel citations and a tight integration with popular retrieval reranking frameworks like pyserini 31 and rankllm collection selection current rag datasets are constructed using the english wikipedia as the document collection however their scale is limited to provide rich and comprehensive information to support rag systems in addition clueweb22 42 offers an exten sive collection of 22 billion curated web pages previously utilized in trec tracks such as the trec conversational assistance track cast 43 and the forthcoming trec interactive knowledge as sistance track ikat 3 another alternative is the ms marco v2 document collection used in the trec deep learning dl track topic selection recently there has been a surge in datasets pro viding topics with longform answers for evaluating rag systems asqa 52 eli5 18 and qampari 4 were utilized for evaluation in the automatic llms citation evaluation alce framework 19 similarly related longform qa datasets include aquamuse 27 expertqa 36 and truthfulqa 32 another recently introduced dataset is clapnq 50 created from the subset of natural ques tions nq 28 and hagrid 25 built on a subset of ms marco dev 8 almost all previous datasets are built on english wikipedia in contrast our work deliberately avoids english wikipedia to pre vent the overfitting commonly seen in existing benchmarks 4054 in our work we reutilize topics from previous trec tracks such as the deep learning dl track because human judgments are available on the ms marco v2 corpora and researchy questions 51 as it covers a wide range of topics based on clueweb22 423 our framework ragnaru00f6k is an opensource reproducible and reusable framework implementing an endtoend retrievalaugmented generation rag pipeline comprising two modules applied sequentially 1 r re trieval and 2 ag augmented generation through the ragnaru00f6k framework we will provide several baselines to all participants in the upcoming trec 2024 rag track an overview of the frame work is provided in figure 1 we first describe both modules and expand",
        "mimetype": "text/plain",
        "start_char_idx": 1287826,
        "end_char_idx": 1294173,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "60389426-e02a-48f7-8982-49f36957c4a6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d917305a-e658-4e6f-91ac-a97ea0c58440",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9132d4a25bf338731e0759f91d2a86fbefdf3dd040fcd6c2b834763d2b8d2815",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9f78b5ab-428f-4dba-a12a-b42c49152654",
                "node_type": "1",
                "metadata": {},
                "hash": "07bd3be21276b50b51d024f4130f7e2ea21b85f07c378266e7971ba8fbd9f431",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "28 and hagrid 25 built on a subset of ms marco dev 8 almost all previous datasets are built on english wikipedia in contrast our work deliberately avoids english wikipedia to pre vent the overfitting commonly seen in existing benchmarks 4054 in our work we reutilize topics from previous trec tracks such as the deep learning dl track because human judgments are available on the ms marco v2 corpora and researchy questions 51 as it covers a wide range of topics based on clueweb22 423 our framework ragnaru00f6k is an opensource reproducible and reusable framework implementing an endtoend retrievalaugmented generation rag pipeline comprising two modules applied sequentially 1 r re trieval and 2 ag augmented generation through the ragnaru00f6k framework we will provide several baselines to all participants in the upcoming trec 2024 rag track an overview of the frame work is provided in figure 1 we first describe both modules and expand on the io specifications in our framework retrieval module this module retrieves the relevant segments for a user topic as the input it supports i firststage lexical re trieval models such as bm25 49 and ii reranking models such as rankzephyr 47 the retrieval system searches for relevant segments in the document collection and retrieves the top 100seg ments further reranked by the reranker model to filter out the top20relevant segments for the next stage augmented generation module this module takes in the user topic and the top 20retrieved segments from the retrieval module as the input and a prompting strategy to the large language model llm to generate the answer response with incontext citations for the topic the answer response is divided into individual sentences each sentence within the answer contains text and is grounded on retrieved documents provided as references 31 rag inputoutput definitions rag input the input specifications are straightforward as the user can formulate any question they wish to ask provide the user topic and call our ragnaru00f6k restapi framework rag output the user receives a json output in response to their topic from the ragnaru00f6k framework the first key in the output json schema references provides an ordered list of the top 20 ranked segment ids from our retrieval module next answer pro vides the llmgenerated rag answer to the user topic presented as a toptobottom list of sentencelevel texts with corresponding seg ment citations all citations are zerobased indexed indicating the exact position of the segment id from the references list finally response_length provides the total count of the text characters present in the output rag answer mimetype textplain start_char_idx 0 end_char_idx 5569 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c3eb97c077cd4a3cbc2a1dcc91f01d96 embedding null metadata  page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 07ebc3bd06ed433d8ce614746f32e37c node_type 4 metadata  page_label 3 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash aee8796a813c0b2082673989703925c24697f589646b776db4a8600124dea651 class_name relatednodeinfo   text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa table 1 comparison of document and segment counts be tween versions v2 and v21 our version after removing near duplicates of the ms marco collection collection version v2 version v21 ours ms marco document 11959635 10960555 ms marco segment 124131414 113520750 4 document collection the ms marco v2 document collection earlier used in the trec dl tracks contains a substantial overlap of nearduplicates docu ments with sufficiently similar text information within the collec tion 1617 when left intact these nearduplicates degrade the downstream retrieval accuracy and reduce the diversity of the col lected documents potentially impacting the effectiveness of rag systems in addition chunking which breaks down a long verbose document into smaller compact representations is a key challenge in rag as the retrieved chunk representations correlate with the rag answer quality 34 ms marco v21 document collection we conduct a deduplica tion strategy in the ms marco v2 document collection to avoid nearduplicates in two stages in the first stage we establish an equivalence class of the documents using locality sensitive hashing lsh with minhash 11 and 9gram shingles next we selected a representative document for each equivalence class for our refined ms marco v21 document collection2reducing the duplicates in the original ms marco v2 document collection by 835 as shown in table 1 ms marco v21 segment collection we segment the ms marco v21 document collection into overlapping segments or chunks and develop the ms marco v21 segment collection3with more than 113 million text segments table 1 we utilize a sliding window technique to generate the segments by fixing the sliding window size of 10 sentences and a stride of 5 sentences to create each seg ment roughly on average between 5001000 characters long to easily map each segment back to the document every segment contains the document id within the segment id further two new fields start_char andend_char indicate the start and the end position character of where the segment begins and ends in the mapped ms marco v21 document collection 5 topic collection topics ie user queries are crucial for robust evaluation of rag systems traditionally popular retrieval and traditional qa bench marks primarily consist of factoid queries where answers are typi cally found within a single sentence or paragraph however these topics lack complexity leading to short answers that can be easily memorized by llms for instance ms marco 8 surprisingly con tains up to 55 factoid queries 951 to avoid shortform answers in rag we utilize two collections containing nonfactoid topics covering information about diverse topics and requiring longform answers we describe these collections below 2ms marco v21 document collection msmarco_v21_doctar 3ms marco v21 segment collection msmarco_v21_doc_segmentedtartable 2 trecraggy and trecresearchy 2024 topic dis tribution the table shows",
        "mimetype": "text/plain",
        "start_char_idx": 1293230,
        "end_char_idx": 1299882,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9f78b5ab-428f-4dba-a12a-b42c49152654",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "60389426-e02a-48f7-8982-49f36957c4a6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2650404f2c165b9b46c713d4bc2a90482e2f0f4d1a60f050f77ad43f55ae487d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "538e8d71-8d4c-4014-a6d1-3322ece0c0cb",
                "node_type": "1",
                "metadata": {},
                "hash": "e719d3c4f92bf53bd6a5c148b3bc7afc85ab6c6c91ac2a4098698e973fa5fd81",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "andend_char indicate the start and the end position character of where the segment begins and ends in the mapped ms marco v21 document collection 5 topic collection topics ie user queries are crucial for robust evaluation of rag systems traditionally popular retrieval and traditional qa bench marks primarily consist of factoid queries where answers are typi cally found within a single sentence or paragraph however these topics lack complexity leading to short answers that can be easily memorized by llms for instance ms marco 8 surprisingly con tains up to 55 factoid queries 951 to avoid shortform answers in rag we utilize two collections containing nonfactoid topics covering information about diverse topics and requiring longform answers we describe these collections below 2ms marco v21 document collection msmarco_v21_doctar 3ms marco v21 segment collection msmarco_v21_doc_segmentedtartable 2 trecraggy and trecresearchy 2024 topic dis tribution the table shows the top 5categories in topic clas sification for trecraggy intrinsic attributes for trec researchy and the first word in all topics definitions in more detail can be found in appendix a b trecraggy 2024 trecresearchy 2024 topic category first word intrinsic attributes first word aggregation 242 what 375 knowledgeintensive 798 how 410 simple w cond 233 how 275 multifaceted 757 why 255 set 208 why 33 reasoningintensive 755 what 150 simple 100 is 25 subjective 485 is 52 comparison 67 when 17 assumptive 257 should 22 trecraggy 2024 we develop trecraggy 2024 a collection with topics filtered from trec deep learning 20212023 tracks 15 17 based on topic category and generatedanswer classification we classify each available topic into seven categories described in appendix a and filter out a subset of topics that either have a long form answer or require information aggregation across multiple sources of information out of the 210 original topics available we filter and include 120 topics 571 in the trecraggy 2024 topic collection4from table 2 we observe 242 of the topics included are aggregation indicating rag systems require to aggregate information from multiple retrieved segments to generate an accu rate longform answer similarly 65 of the topics start with what or how overall a majority of the topics are useful for evaluation containing diverse topic categories requiring a longform answer trecresearchy 2024 researchy questions introduced in ros set et al 51 contains 102k nonfactoid topics with longform answers these topics were curated from bing search logs and eval uated by gpt4 on a scale of 010 based on eight intrinsic attributes such as subjectivity and multifacetedness definitions provided in appendix b notably unlike trecraggy 2024 these queries lack relevance judgments to curate a smaller development subset for a faster evaluation of rag systems we employ a sampler designed to maximize diversity based on the eight intrinsic attributes this is achieved by iteratively selecting the query with the highest ud835udc591 norm in the intrinsic attribute space of all eight dimensions rela tive to the alreadysampled set the resultant topic set we dub as trecresearchy 20245from table 2 about 80 of the topics are knowledgeintensive and about 76 are multifaceted highlighting the need for effective rag systems additionally 665 of topics start with how or why emphasizing explanatory questions these distributions suggest that trecresearchy 2024 prioritizes complex and multidimensional topics 6 trec 2024 rag baselines retrieval our retrieval module integrates both firststage retriev ers and rerankers we use bm25 available in anserini 57 with the following default parameters ud835udc58109andud835udc4f04 to retrieve the top 100segments for a given topic next rankzephyr 47 a stateoftheart listwise reranker is used to rerank the top 100can didates we use rankzephyr ud835udf0c a variant that reranks the candidates progressively ie makes three passes iteratively refining the final 4trecraggy 2024 topic collection topicsrag24raggydevtxt 5trecresearchy 2024 topic collection topicsrag24researchydevtxt mimetype textplain start_char_idx 0 end_char_idx 6185 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d4bf6475ec4a4ecc9dfa80e5f969b347 embedding null metadata  page_label 4 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id f34bf8a47c7c4171ae3f3555e35752c7 node_type 4 metadata  page_label 4 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash c088c4fa2fc2d9855a0f32eb54622c9b4aa101b1237679c5c8184be7cab18d65 class_name relatednodeinfo   text conference17 july 2017 washington dc usa pradeep and thakur et al ranked candidate list to achieve better precision an easytouse implementation of rankzephyr is available via the rank_llm pack age along with various other rerankers like rankgpt 53 which we provide as secondary baselines finally the top 20reranked documents from the document collection are passed onto the next stage for rag generation augmented generation our generation module integrates two popular and commercially available llms i command r is coheres instruction following llm developed for complex rag pipelines 14 ii gpt4o is the latest gpt version from ope nai 41 given that command r cites in a span level we map the citations to their parent sentences for gpt4o we follow the zeroshot chatqa prompt template 35 and cite relevant segments within the text inline using the ieee format an example of the prompt template is shown in figure 2 in the appendix ragbench evaluation evaluating different rag answers is chal lenging as multiple factors within the output response are crucial for effectiveness evaluation to combat this recent works rely on an llmasajudge setup 58 where strong llm assessors judge the raggenerated output",
        "mimetype": "text/plain",
        "start_char_idx": 1298908,
        "end_char_idx": 1305150,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "538e8d71-8d4c-4014-a6d1-3322ece0c0cb",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9f78b5ab-428f-4dba-a12a-b42c49152654",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "99e1631f0d9b84b5dc40eea3a6548c09c3f8674ba12ac79a8c2e768fe062f767",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "4e1ac76e-3a20-4e1e-9fbc-491532e19c5b",
                "node_type": "1",
                "metadata": {},
                "hash": "ebbd0947a68b27ea699c4a834a3b359dc5fc0d089564457bd7d1087b2a19edbb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "along with various other rerankers like rankgpt 53 which we provide as secondary baselines finally the top 20reranked documents from the document collection are passed onto the next stage for rag generation augmented generation our generation module integrates two popular and commercially available llms i command r is coheres instruction following llm developed for complex rag pipelines 14 ii gpt4o is the latest gpt version from ope nai 41 given that command r cites in a span level we map the citations to their parent sentences for gpt4o we follow the zeroshot chatqa prompt template 35 and cite relevant segments within the text inline using the ieee format an example of the prompt template is shown in figure 2 in the appendix ragbench evaluation evaluating different rag answers is chal lenging as multiple factors within the output response are crucial for effectiveness evaluation to combat this recent works rely on an llmasajudge setup 58 where strong llm assessors judge the raggenerated output in a pairwise evaluation style sidebyside in a headon tournament in our work we briefly overview our baseline techniques using human evaluators a complete illustra tion can be found in table 4 in the appendix the command r baseline outputs shorter answers and cites more relevant segments whereas the gpt4o baseline outputs longer and more detailed answers and cites fewer segments therefore for topics in both trecraggy and trecresearchy 2024 gpt4o intuitively is the better choice for rag answer generation we leave it for future work to empirically compute the win rates in between our baselines in the ragbench evaluation 61 ragnaru00f6k system arena heavily inspired by the success of chatbot arena 1358 a crowd sourcing benchmark webui featuring anonymous battles we ex tend the concept to multistage configurable rag pipelines with ragnaru00f6k in the arena users interact with two unblindedblinded rag systems simultaneously issuing the same topic to both the participants evaluate and select the pipeline that delivers their most preferred response with the identities of the modules in the endto end pipeline revealed after the voting process in the blinded case we leverage gradio 1 to build the webui for ragnaru00f6k each step of the pipeline uses rest apis for intercommunication enabling easy module switching within the pipeline this modular design simplifies the integration of different retrieval and llm configura tions enhancing scalability and maintainability figure 3 in the appendix illustrates an example topic what inspired pink floyds the wall processed by two different pipelines pipeline a comprising bm25 rankzephyrgpt4o left and pipeline b comprising bm25 rankgpt4ocommand r right in the unblinded tab the outputs generated by each pipeline are compared allowing users to discern which system provided a more satisfactory answer note that when the user hovers the mouse over a citation they can preview the cited segment further in appendix c we discuss the blinded pairwise evaluation and the responses json output tab available in the webui for ragnaru00f6k7 ongoing work ragnaru00f6k is the first step for the ongoing work in the trec 2024 rag track by releasing the document collections development topics and baseline strategies for participants we will continue to update the pipelines to include more diverse retrieval models including stateoftheart dual encoders such as articembed 38 and effective pointwisepairwise rerankers 45 we plan to add additional support for more advanced rag techniques like self rag 7 and crag 56 for the trec 2024 rag track test topics we plan to conduct a new and fresh scrape of the bing search logs closer to the submission period this approach will compile a fresh and recent set of topics similar to rosset et al 51 thereby mini mizing the risk of data leakage and ensuring a fair evaluation with existing commercially available llms the next phase of our efforts will focus on finalizing the eval uation methodology using an automatic nuggetbased evaluation following earlier work in lin and demnerfushman 30 and first discussed in the trec rag 2024 presentation deck6the nugget based evaluation is recently gaining popularity 263748 and is becoming the de facto strategy for rag evaluation 8 conclusion the emergence of retrievalaugmented generation rag has rev olutionized modern search systems by allowing realtime data in corporation into large language models llms in our work we develop a reusable endtoend framework ragnaru00f6k providing reproducible baselines and a webui serving a rag battle arena for retriever reranker and generation models we also introduce the ms marco v21 collection carefully curated topics from the trecdl 20212023 queries and researchy questions and io defi nitions to assist users in the rag paradigm additionally the paper identifies key industrial baselines such as coheres command r and openais gpt4o and includes a qualitative analysis of the baselines on the development topics by opensourcing this frame work we aim to standardize rag applications in preparation for the upcoming trec 2024 rag challenge acknowledgments we thank ian soboroff for the ms marco v2 document collection deduplication for our trec 2024 rag track cohere for providing us with the necessary credits to evaluate commandr and mi crosoft for providing azure credits to evaluate gpt4o additionally we thank corby rosset for the discussions surrounding researchy questions 51 references 1abubakar abid ali abdalla ali abid dawood khan abdulrahman alfozan and james y zou 2019 gradio hasslefree sharing and testing of ml models in the wild corr abs190602569 2019 arxiv190602569 httparxivorgabs 190602569 2marwah alaofi negar arabzadeh charles l a clarke and mark sanderson 2024 generative information retrieval evaluation corr abs240408137 2024 httpsdoiorg1048550arxiv240408137 arxiv240408137 3mohammad aliannejadi zahra abbasiantaeb shubham chatterjee jeffery dal ton and leif azzopardi 2024 trec ikat 2023 the interactive knowledge assistance track overview corr abs240101330 2024 httpsdoiorg10 48550arxiv240101330 arxiv240101330 6httpscsuwaterlooca jimmylinpublicationslin_etal_trec2023planningpdf mimetype textplain start_char_idx 0 end_char_idx 6383 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 57efc5e11fde4f6cae241454103b5a2f embedding null metadata  page_label 5 file_name ragnaru00f6kpdf file_path",
        "mimetype": "text/plain",
        "start_char_idx": 1304141,
        "end_char_idx": 1310608,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4e1ac76e-3a20-4e1e-9fbc-491532e19c5b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "538e8d71-8d4c-4014-a6d1-3322ece0c0cb",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "9847809f9fb6cbfcb997c71c3cdadb7a18b3b3c17ddb12c505ec04e40b2108f6",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a27b20ab-071d-4eb6-bc8c-3c41d983e4e9",
                "node_type": "1",
                "metadata": {},
                "hash": "9f53c5761ec5d87e1f95478ddfb42c57c38494fe84d48ef387ca8ebd730be0aa",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "evaluation corr abs240408137 2024 httpsdoiorg1048550arxiv240408137 arxiv240408137 3mohammad aliannejadi zahra abbasiantaeb shubham chatterjee jeffery dal ton and leif azzopardi 2024 trec ikat 2023 the interactive knowledge assistance track overview corr abs240101330 2024 httpsdoiorg10 48550arxiv240101330 arxiv240101330 6httpscsuwaterlooca jimmylinpublicationslin_etal_trec2023planningpdf mimetype textplain start_char_idx 0 end_char_idx 6383 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 57efc5e11fde4f6cae241454103b5a2f embedding null metadata  page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 7a09d7608e004a998798a5c0c67164f1 node_type 4 metadata  page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo  3  node_id 834f143d3bf541a3863f48b16943e16b node_type 1 metadata  hash f8592af8718ae1fd9c1dd37d50dc4c967a34a1117643ba1765806e6da549d0d9 class_name relatednodeinfo   text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa 4samuel joseph amouyal ohad rubin ori yoran tomer wolfson jonathan herzig and jonathan berant 2022 qampari an opendomain question answering benchmark for questions with many answers from multiple para graphs corr abs220512665 2022 httpsdoiorg1048550arxiv220512665 arxiv220512665 5rohan anil sebastian borgeaud yonghui wu jeanbaptiste alayrac jiahui yu radu soricut johan schalkwyk andrew m dai anja hauth katie mil lican david silver slav petrov melvin johnson ioannis antonoglou julian schrittwieser amelia glaese jilin chen emily pitler timothy p lillicrap ange liki lazaridou orhan firat james molloy michael isard paul ronald barham tom hennigan benjamin lee fabio viola malcolm reynolds yuanzhong xu ryan doherty eli collins clemens meyer eliza rutherford erica moreira ka reem ayoub megha goel george tucker enrique piqueras maxim krikun iain barr nikolay savinov ivo danihelka becca roelofs anau00efs white an ders andreassen tamara von glehn lakshman yagati mehran kazemi lu cas gonzalez misha khalman jakub sygnowski and et al 2023 gemini a family of highly capable multimodal models corr abs231211805 2023 httpsdoiorg1048550arxiv231211805 arxiv231211805 6negar arabzadeh and charles l a clarke 2024 a comparison of methods for evaluating generative ir corr abs240404044 2024 httpsdoiorg1048550 arxiv240404044 arxiv240404044 7akari asai zeqiu wu yizhong wang avirup sil and hannaneh hajishirzi 2023 selfrag learning to retrieve generate and critique through self reflection corr abs231011511 2023 httpsdoiorg1048550arxiv2310 11511 arxiv231011511 8payal bajaj daniel campos nick craswell li deng jianfeng gao xiaodong liu rangan majumder andrew mcnamara bhaskar mitra tri nguyen mir rosenberg xia song alina stoica saurabh tiwary and tong wang 2016 ms marco a human generated machine reading comprehension dataset corr abs161109268 2016 arxiv161109268 httparxivorgabs161109268 9valeria bolotova vladislav blinov falk scholer w bruce croft and mark sander son 2022 a nonfactoid questionanswering taxonomy in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 11961207 httpsdoiorg10114534774953531926 10 sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza ruther ford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen simonyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international con ference on machine learning icml 2022 1723 july 2022 baltimore maryland usa proceedings of machine learning research vol 162 kamalika chaudhuri stefanie jegelka le song csaba",
        "mimetype": "text/plain",
        "start_char_idx": 1309947,
        "end_char_idx": 1314552,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a27b20ab-071d-4eb6-bc8c-3c41d983e4e9",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "4e1ac76e-3a20-4e1e-9fbc-491532e19c5b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "af6dd05a3b8e4ee6942f43ce1edba3406d98bfc7fa468428b0ebe27a2cfd4934",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "9e901e55-4dcf-4571-b252-ac20e5b8393d",
                "node_type": "1",
                "metadata": {},
                "hash": "ad1cec47e20ce1880f7db1b482233f910b1784de0faf857c9f05a2002b143bd0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "10 sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza ruther ford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen simonyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international con ference on machine learning icml 2022 1723 july 2022 baltimore maryland usa proceedings of machine learning research vol 162 kamalika chaudhuri stefanie jegelka le song csaba szepesvu00e1ri gang niu and sivan sabato eds pmlr 22062240 httpsproceedingsmlrpressv162borgeaud22ahtml 11 andrei z broder 1997 on the resemblance and containment of documents incompression and complexity of sequences 1997 positano amalfitan coast salerno italy june 1113 1997 proceedings bruno carpentieri alfredo de santis ugo vaccaro and james a storer eds ieee 2129 httpsdoiorg101109 sequen1997666900 12 harrison chase 2022 langchain httpsgithubcomlangchainailangchain 13 weilin chiang lianmin zheng ying sheng anastasios nikolas angelopoulos tianle li dacheng li hao zhang banghua zhu michael i jordan joseph e gonzalez and ion stoica 2024 chatbot arena an open platform for evaluating llms by human preference corr abs240304132 2024 httpsdoiorg10 48550arxiv240304132 arxiv240304132 14 cohere 2024 introducing command r a scalable llm built for business https coherecomblogcommandrplusmicrosoftazure 15 nick craswell bhaskar mitra emine yilmaz daniel campos and jimmy lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell mimetype textplain start_char_idx 0 end_char_idx 4847 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 834f143d3bf541a3863f48b16943e16b embedding null metadata  page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 7a09d7608e004a998798a5c0c67164f1 node_type 4 metadata  page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo  2  node_id 57efc5e11fde4f6cae241454103b5a2f node_type 1 metadata  page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash e3c9e6911f1a65c49be2daa61a96c88d2e00e1f22394c8f60d869027a943298b class_name relatednodeinfo  3  node_id 59792221cc6847f8bcb56c6cf246227c node_type 1 metadata  hash 65cf89cac13ee655fadab85d4f6f66a8c2838dcfefd6a42951ee29e278141a8f class_name relatednodeinfo   text lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell bhaskar mitra emine yilmaz hossein a rahmani daniel cam pos jimmy lin ellen m voorhees and ian soboroff 2024",
        "mimetype": "text/plain",
        "start_char_idx": 1313867,
        "end_char_idx": 1318624,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9e901e55-4dcf-4571-b252-ac20e5b8393d",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a27b20ab-071d-4eb6-bc8c-3c41d983e4e9",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "778884618912155c9da1f7ffb3878ba5618cd0463fab9c410e37dc55f55f309f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "330157e4-2c0f-4e21-a265-8585be4e6842",
                "node_type": "1",
                "metadata": {},
                "hash": "708b2c2c4f1c3ee93393a999b3673fc1c00cc426c283884ae4611e3505eaffe4",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "2021 nist special publication vol 500335 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell bhaskar mitra emine yilmaz hossein a rahmani daniel cam pos jimmy lin ellen m voorhees and ian soboroff 2024 overview of the trec 2023 deep learning track in text retrieval conference trec nist trec httpswwwmicrosoftcomenusresearchpublicationoverviewofthe trec2023deeplearningtrack18 angela fan yacine jernite ethan perez david grangier jason weston and michael auli 2019 eli5 long form question answering in proceedings of the 57th conference of the association for computational linguistics acl 2019 florence italy july 28 august 2 2019 volume 1 long papers anna korhonen david r traum and lluu00eds mu00e0rquez eds association for computational lin guistics 35583567 httpsdoiorg1018653v1p191346 19 tianyu gao howard yen jiatong yu and danqi chen 2023 enabling large language models to generate text with citations in proceedings of the 2023 conference on empirical methods in natural language processing emnlp 2023 singapore december 610 2023 houda bouamor juan pino and kalika bali eds association for computational linguistics 64656488 httpsdoiorg1018653 v12023emnlpmain398 20 yunfan gao yun xiong xinyu gao kangxiang jia jinliu pan yuxi bi yi dai jiawei sun qianyu guo meng wang and haofen wang 2023 retrievalaugmented generation for large language models a survey corr abs231210997 2023 httpsdoiorg1048550arxiv231210997 arxiv231210997 21 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang 2020 retrieval augmented language model pretraining in proceedings of the 37th international conference on machine learning icml 2020 1318 july 2020 virtual event proceedings of machine learning research vol 119 pmlr 39293938 httpproceedingsmlrpressv119guu20ahtml 22 gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open domain question answering in proceedings of the 16th conference of the european chapter of the association for computational linguistics main volume eacl 2021 online april 19 23 2021 paola merlo ju00f6rg tiedemann and reut tsarfaty eds association for computational linguistics 874880 httpsdoiorg1018653v12021eaclmain74 23 antonio jimenoyepes yao you jan milczek sebastian laverde and renyu li 2024 financial report chunking for effective retrieval augmented genera tion corr abs240205131 2024 httpsdoiorg1048550arxiv240205131 arxiv240205131 24 jiajie jin yutao zhu xinyu yang chenghao zhang and zhicheng dou 2024 flashrag a modular toolkit for efficient retrievalaugmented generation research corr abs240513576 2024 arxiv240513576 httpsarxivorgabs 240513576 25 ehsan kamalloo aref jafari xinyu zhang nandan thakur and jimmy lin 2023 hagrid a humanllm collaborative dataset for generative information seeking with attribution corr abs230716883 2023 httpsdoiorg1048550 arxiv230716883 arxiv230716883 26 urvashi khandelwal omer levy dan jurafsky luke zettlemoyer and mike lewis 2020 generalization through memorization nearest neighbor language models in 8th international conference on learning representations iclr 2020 addis ababa ethiopia april 2630 2020 openreviewnet httpsopenreview netforumidhklbjcekvh 27 sayali kulkarni sheide chammas wan zhu fei sha and eugene ie 2020 aqua muse automatically generating datasets for querybased multidocument summarization corr abs201012694 2020 arxiv201012694 httpsarxivorg abs201012694 28 tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur p parikh chris alberti danielle epstein illia polosukhin jacob de vlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natural questions a benchmark for question answering research trans assoc comput linguistics 7 2019 452466 httpsdoiorg101162tacl_a_00276 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval mimetype textplain start_char_idx 4091 end_char_idx 9223 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_",
        "mimetype": "text/plain",
        "start_char_idx": 1317905,
        "end_char_idx": 1323071,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "330157e4-2c0f-4e21-a265-8585be4e6842",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "9e901e55-4dcf-4571-b252-ac20e5b8393d",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "3b86db5d75dfbe124ad5199f9cbd660c37cf1213d43c72b9d3dbd0ea256a2bbe",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "667e18d2-0b59-4da0-8ea4-a8bc45f08ee6",
                "node_type": "1",
                "metadata": {},
                "hash": "ba1b0b1d7826cf9818eca2c78285f529b4529a5f8c49c4325cf5ea28207828f7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval mimetype textplain start_char_idx 4091 end_char_idx 9223 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 59792221cc6847f8bcb56c6cf246227c embedding null metadata  page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 7a09d7608e004a998798a5c0c67164f1 node_type 4 metadata  page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec class_name relatednodeinfo  2  node_id 834f143d3bf541a3863f48b16943e16b node_type 1 metadata  page_label 5 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 47ee7bae968976d7d2b42316c1e90976f16600339bade6c2fe3b81d86b80a949 class_name relatednodeinfo   text 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich ku00fcttler mike lewis wentau yih tim rocktu00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval uating answers to complex questions inf retr 9 5 2006 565587 https doiorg101007s1079100690037 31 jimmy lin xueguang ma shengchieh lin jhenghong yang ronak pradeep and rodrigo nogueira 2021 pyserini a python toolkit for reproducible informa tion retrieval research with sparse and dense representations in proceedings of the 44th annual international acm sigir conference on research and development in information retrieval sigir 2021 23562362 32 stephanie lin jacob hilton and owain evans 2022 truthfulqa measuring how models mimic human falsehoods in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers acl 2022 dublin ireland may 2227 2022 smaranda muresan preslav nakov and aline villavicencio eds association for computational linguistics 32143252 httpsdoiorg1018653v12022acllong229 mimetype textplain start_char_idx 8564 end_char_idx 10070 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 9b1f18ea7ce84c01931a3243fd22f377 embedding null metadata  page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 6013fdfa0ec6475d926921b83fa4922a node_type 4 metadata  page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60 class_name relatednodeinfo  3  node_id 2f65f988fa2b4e25a5909f82ad3da77d node_type 1 metadata  hash 857a050bc031171988069793554b08f82d61fcd1046738fda54cfe8d2ad87560 class_name relatednodeinfo   text conference17 july 2017 washington dc usa pradeep and thakur et al 33 jerry liu 2022 llamaindex httpswwwllamaindexai 34 nelson f liu kevin lin john hewitt",
        "mimetype": "text/plain",
        "start_char_idx": 1322327,
        "end_char_idx": 1326981,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "667e18d2-0b59-4da0-8ea4-a8bc45f08ee6",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "330157e4-2c0f-4e21-a265-8585be4e6842",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2e642e912655612ec487e4235e262da084300747f913ed3d702d197b89fe7522",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ff6b8496-c7fe-4359-889e-f110f94b3d03",
                "node_type": "1",
                "metadata": {},
                "hash": "4ed074f127cf319aead66fbf55f313edb7a799bae00272419ece5561b5ce5af8",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60 class_name relatednodeinfo  3  node_id 2f65f988fa2b4e25a5909f82ad3da77d node_type 1 metadata  hash 857a050bc031171988069793554b08f82d61fcd1046738fda54cfe8d2ad87560 class_name relatednodeinfo   text conference17 july 2017 washington dc usa pradeep and thakur et al 33 jerry liu 2022 llamaindex httpswwwllamaindexai 34 nelson f liu kevin lin john hewitt ashwin paranjape michele bevilacqua fabio petroni and percy liang 2024 lost in the mid dle how language models use long contexts transactions of the association for computational linguistics 12 02 2024 157173 httpsdoiorg101162tacl_a_00638 arxivhttpsdirectmitedutaclarticle pdfdoi101162tacl_a_006382336043tacl_a_00638pdf 35 zihan liu wei ping rajarshi roy peng xu chankyu lee mohammad shoeybi and bryan catanzaro 2024 chatqa building gpt4 level conversational qa models corr abs240110225 2024 httpsdoiorg1048550arxiv240110225 arxiv240110225 36 chaitanya malaviya subin lee sihao chen elizabeth sieber mark yatskar and dan roth 2023 expertqa expertcurated questions and attributed an swers corr abs230907852 2023 httpsdoiorg1048550arxiv230907852 arxiv230907852 37 james mayfield eugene yang dawn lawrie sean macavaney paul mcnamee douglas w oard luca soldaini ian soboroff orion weller efsun kayi kate sanders marc mason and noah hibbler 2024 on the evaluation of machine generated reports in proceedings of the 47th international acm sigir conference on research and development in information retrieval 38 luke merrick danmei xu gaurav nuti and daniel campos 2024 arcticembed scalable efficient and accurate text embedding models arxiv240505374 cscl 39 microsoft 2023 reinventing search with a new aipowered microsoft bing and edge your copilot for the web httpsblogsmicrosoftcomblog20230207reinventing searchwithanewaipoweredmicrosoftbingandedgeyourcopilotfor theweb 40 niklas muennighoff nouamane tazi lou00efc magne and nils reimers 2023 mteb massive text embedding benchmark in proceedings of the 17th conference of the european chapter of the association for computational linguistics eacl 2023 dubrovnik croatia may 26 2023 andreas vlachos and isabelle augenstein eds association for computational linguistics 20062029 httpsdoiorg10 18653v12023eaclmain148 41 openai 2024 hello gpt4o httpsopenaicomindexhellogpt4o 42 arnold overwijk chenyan xiong and jamie callan 2022 clueweb22 10 billion web documents with rich information in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11 15 2022 enrique amigu00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 33603362 httpsdoiorg10114534774953536321 43 paul owoicho jeff dalton mohammad aliannejadi leif azzopardi johanne r trippas and svitlana vakulenko 2022 trec cast 2022 going beyond user ask and system retrieve with initiative and response generation in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338 ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgov pubstrec31papersoverview_castpdf 44 fabio petroni aleksandra piktus angela fan patrick s h lewis majid yaz dani nicola de cao james thorne yacine jernite vladimir karpukhin jean maillard vassilis plachouras tim rocktu00e4schel and sebastian riedel 2021 kilt a benchmark for knowledge intensive language tasks in proceedings of the 2021 conference of the north american chapter of the association for compu tational linguistics human language technologies naaclhlt 2021 online june 611 2021 kristina toutanova anna rumshisky luke zettlemoyer dilek hakkanitu00fcr iz beltagy steven bethard ryan cotterell tanmoy chakraborty and yichao zhou eds association for computational linguistics 25232544 httpsdoiorg1018653v12021naaclmain200 45 ronak pradeep rodrigo nogueira and jimmy lin 2021 the expandomono duo design pattern for text ranking with pretrained sequencetosequence models arxiv210105667 2021 46 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankvicuna zeroshot listwise document reranking with opensource large language models corr abs230915088 2023 httpsdoiorg1048550arxiv230915088 arxiv230915088 47 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankzephyr ef fective and robust zeroshot listwise reranking is a breeze corr abs231202724 2023 httpsdoiorg1048550arxiv231202724 arxiv231202724 48 vatsal raina and mark gales 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389",
        "mimetype": "text/plain",
        "start_char_idx": 1326465,
        "end_char_idx": 1331313,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ff6b8496-c7fe-4359-889e-f110f94b3d03",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "667e18d2-0b59-4da0-8ea4-a8bc45f08ee6",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "72897329bd30ed2a9af3be7d5d7ecc4ca875d8df1b4362f68ab9e3c36a97b456",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d5b5079f-9352-4c6b-ab9c-a61c51c2e654",
                "node_type": "1",
                "metadata": {},
                "hash": "4e4ea2ce9eb08fe3bb5ff05d2dfac026e5c0aa7bb7b2607e9f93cef123f78116",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "2021 46 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankvicuna zeroshot listwise document reranking with opensource large language models corr abs230915088 2023 httpsdoiorg1048550arxiv230915088 arxiv230915088 47 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankzephyr ef fective and robust zeroshot listwise reranking is a breeze corr abs231202724 2023 httpsdoiorg1048550arxiv231202724 arxiv231202724 48 vatsal raina and mark gales 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 httpsdoiorg1048550arxiv240402103 arxiv24040210351 corby rosset holam chung guanghui qin ethan c chau zhuo feng ahmed awadallah jennifer neville and nikhil rao 2024 researchy ques tions a dataset of multiperspective decompositional questions for llm web agents corr abs240217896 2024 mimetype textplain start_char_idx 0 end_char_idx 4960 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2f65f988fa2b4e25a5909f82ad3da77d embedding null metadata  page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 6013fdfa0ec6475d926921b83fa4922a node_type 4 metadata  page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60 class_name relatednodeinfo  2  node_id 9b1f18ea7ce84c01931a3243fd22f377 node_type 1 metadata  page_label 6 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 9ad18c07c68d9b02585d1b884b392d14033691bd0d80a0b34a2ccd970c6e756a class_name relatednodeinfo   text 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 httpsdoiorg1048550arxiv240402103 arxiv24040210351 corby rosset holam chung guanghui qin ethan c chau zhuo feng ahmed awadallah jennifer neville and nikhil rao 2024 researchy ques tions a dataset of multiperspective decompositional questions for llm web agents corr abs240217896 2024 httpsdoiorg1048550arxiv240217896 arxiv240217896 52 ivan stelmakh yi luan bhuwan dhingra and mingwei chang 2022 asqa factoid questions meet longform answers in proceedings of the 2022 conference on empirical methods in natural language processing emnlp 2022 abu dhabi united arab emirates december 711 2022 yoav goldberg zornitsa kozareva and yue zhang eds association for computational linguistics 82738288 httpsdoiorg1018653v12022emnlpmain566 53 weiwei sun lingyong yan xinyu ma pengjie ren dawei yin and zhaochun ren 2023 is chatgpt good at search investigating large language models as reranking agent arxiv230409542 2023 54 nandan thakur nils reimers andreas ru00fccklu00e9 abhishek srivastava and iryna gurevych 2021 beir a heterogeneous benchmark for zeroshot evalua tion of information retrieval models in proceedings of the neural information processing systems track on datasets and benchmarks 1 neurips datasets and benchmarks 2021 december 2021 virtual joaquin vanschoren and saikit yeung eds httpsdatasetsbenchmarksproceedingsneuripsccpaper2021hash 65b9eea6e1cc6bb9f0cd2a47751a186fabstractround2html 55 guangzhi xiong qiao jin zhiyong lu and aidong zhang 2024 benchmarking retrievalaugmented generation for medicine corr abs240213178 2024 httpsdoiorg1048550arxiv240213178 arxiv240213178 56 shiqi yan jiachen gu yun zhu and zhenhua ling 2024 corrective retrieval augmented generation corr abs240115884 2024 httpsdoiorg1048550 arxiv240115884 arxiv240115884 57 peilin yang hui fang and jimmy lin 2017 anserini enabling the use of lucene",
        "mimetype": "text/plain",
        "start_char_idx": 1330634,
        "end_char_idx": 1335365,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d5b5079f-9352-4c6b-ab9c-a61c51c2e654",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ff6b8496-c7fe-4359-889e-f110f94b3d03",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "88b2f21834bff2c58cb465dfbf30806368a32d16cc488176fbec66c132029255",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6c4cd375-bedc-4cca-840a-c2478e245de0",
                "node_type": "1",
                "metadata": {},
                "hash": "eb3ba22fd7fb2a6e9708dd862077cfea84027611fcef49497e024aadb0ae4c50",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "neurips datasets and benchmarks 2021 december 2021 virtual joaquin vanschoren and saikit yeung eds httpsdatasetsbenchmarksproceedingsneuripsccpaper2021hash 65b9eea6e1cc6bb9f0cd2a47751a186fabstractround2html 55 guangzhi xiong qiao jin zhiyong lu and aidong zhang 2024 benchmarking retrievalaugmented generation for medicine corr abs240213178 2024 httpsdoiorg1048550arxiv240213178 arxiv240213178 56 shiqi yan jiachen gu yun zhu and zhenhua ling 2024 corrective retrieval augmented generation corr abs240115884 2024 httpsdoiorg1048550 arxiv240115884 arxiv240115884 57 peilin yang hui fang and jimmy lin 2017 anserini enabling the use of lucene for information retrieval research in international conference on research and development in information retrieval sigir httpsdoiorg1011453077136 3080721 58 lianmin zheng weilin chiang ying sheng siyuan zhuang zhanghao wu yonghao zhuang zi lin zhuohan li dacheng li eric p xing hao zhang joseph e gonzalez and ion stoica 2023 judging llmasajudge with mtbench and chatbot arena in advances in neural information pro cessing systems 36 annual conference on neural information processing sys tems 2023 neurips 2023 new orleans la usa december 10 16 2023 alice oh tristan naumann amir globerson kate saenko moritz hardt and sergey levine eds httppapersnipsccpaper_filespaper2023hash 91f18a1287b398d378ef22505bf41832abstractdatasets_and_benchmarkshtml mimetype textplain start_char_idx 4254 end_char_idx 7251 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2c2c1d1b6ccf432d93b177cd0c08048b embedding null metadata  page_label 7 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 192319d75c3043f4b308209348774f41 node_type 4 metadata  page_label 7 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 41d73e731716400566f38f37375fb72cb2bb5dcca2da6d0f2f25964bb931aecc class_name relatednodeinfo   text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa a trecraggy 2024 additional details we manually classify each available topic in trec deep learn ing tracks 20212023 131516 into one of the seven different topic categories we manually labeled each topic following the guidelines7mentioned below simple topic asking for information about a simple fact eg how to emulsion a house simple with condition topic asking for information about a topic with an imposed condition eg how to cook thinly sliced home fries set a topic containing multiple short entities in the answer eg what themes are in action movies aggregation a topic that requires aggregation of multiple retrieved segments eg how to put together a scuba regu lator comparison a topic that requires comparison of the retrieved segments eg does light intensity or concentration of car bon dioxide have a higher rate of photosynthesis multihop a topic that requires to chain multiple information from different retrieved segments eg the population of kings grant fayetteville prior to liberty hills false premise a topic that has a false preposition or assump tion eg do larger lobsters become tougher when cooked b trecresearchy 2024 additional details note that for researchy questions 51 the following eight intrinsic attributes were measured by gpt4 on a scale of 010 ambiguity checks if the questions intent is moderately ambiguous suggesting multiple interpretations incompleteness checks if the question is difficult to answer due to missing crucial context or details assumptive checks if the question has some builtin assump tions that may influence the answer multifaceted checks if the question requires considering multiple perspectives to provide a comprehensive answer knowledgeintensive checks if the question demands spe cialized knowledge and extensive research to answer thor oughly subjective measures if the question contains some level of subjectivity with potential for varying opinions reasoningintensive checks if the question requires signifi cant reasoning and synthesis of information to answer harmful checks to what extent the question is harmful or inappropriate it is worth noting that all the questions provided scored 0 in harm fulness and a tiny fraction scored highly on ambiguity we used a score of 5as the threshold to label the query for that intrinsic attribute c ragnaru00f6k system arena figure 4 showcases the ragnaru00f6k webui dark mode and the user query why have used car prices increased from trec2024 re searchy issued to two blinded systems this blind setup enables 7guidelines have been inspired from the 2024 meta comprehensive rag benchmarksystem this is a chat between a user and an artificial intelligence assistant the assistant gives helpful detailed and polite answers to the users questions based on the context the assistant should also indicate when the answer cannot be found in the context instruction please give a complete answer to the question cite each context document that supports your answer within brackets using the ieee format question query contexts 1 passage title passage text 2 passage title passage text 20 passage title passage text instruction please give a complete answer to the question cite each context document that supports your answer within brackets using the ieee format figure 2 chatqa prompt template 35 used for rag gen eration with intext citations with gpt4o in our ragnaru00f6k framework fair leaderboards especially when incentives to game leaderboards are huge in this competitive proprietary llm space the output displays the answers in humanreadable form allowing users to assess the quality of responses without bias figure 5 demonstrates the responses tab for the example in fig ure 4 the responses tab reformats the final answers into the json output expected",
        "mimetype": "text/plain",
        "start_char_idx": 1334725,
        "end_char_idx": 1340954,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6c4cd375-bedc-4cca-840a-c2478e245de0",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d5b5079f-9352-4c6b-ab9c-a61c51c2e654",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "8fd08f104fbe9959e02825f9d6b2c4298dcd523738ec07c70101af1f37391587",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "56421985-77a4-4ab7-818c-33d39e9916be",
                "node_type": "1",
                "metadata": {},
                "hash": "cc5fe43dcba2c264392836868f93f2cdaf55e6f2906c865d7e3ed16b1387d6c5",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "intelligence assistant the assistant gives helpful detailed and polite answers to the users questions based on the context the assistant should also indicate when the answer cannot be found in the context instruction please give a complete answer to the question cite each context document that supports your answer within brackets using the ieee format question query contexts 1 passage title passage text 2 passage title passage text 20 passage title passage text instruction please give a complete answer to the question cite each context document that supports your answer within brackets using the ieee format figure 2 chatqa prompt template 35 used for rag gen eration with intext citations with gpt4o in our ragnaru00f6k framework fair leaderboards especially when incentives to game leaderboards are huge in this competitive proprietary llm space the output displays the answers in humanreadable form allowing users to assess the quality of responses without bias figure 5 demonstrates the responses tab for the example in fig ure 4 the responses tab reformats the final answers into the json output expected by the io definitions of the trec 2024 rag track this feature is particularly useful for developers and researchers who need to ensure that their systems outputs conform to specific standards and formats required by evaluation frameworks by incorporating both humanreadable and jsonformatted out puts ragnaru00f6k provides a comprehensive evaluation platform that caters to a wide range of needs in the research and development community the ability to toggle between different views and for mats ensures that users can efficiently analyze and interpret the effectiveness of various rag systems mimetype textplain start_char_idx 0 end_char_idx 4500 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d0b8810048ea44409fce4112251c1c4e embedding null metadata  page_label 8 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 6e7b402586544fcf888f13c63b36b2f3 node_type 4 metadata  page_label 8 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 048b5c673dec02a492a52693af73ad855a9cda6fffe250f3f842507ccc71c4c4 class_name relatednodeinfo   text conference17 july 2017 washington dc usa pradeep and thakur et al figure 3 webui showcasing the ragnaru00f6k system arena and the user query what inspired pink floyds the wall with answers from two pipelines sidebyside comparing gpt4o answer left and command r answer right table 3 an example of the first segment of two nearduplicate documents present in the ms marco v2 segment collection during the deduplication procedure the segments of one of the documents is kept in the ms marco v21 segment collection msmarco_doc_00_9951701740 whereas the other segment is discarded as a duplicate msmarco_doc_00_9951711910 segment id url title segment ms marco v21 segment discarded msmarco_doc_00 _9951711910httpcenterserveorgtt fp_tipshtmlserve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner ms marco v21 segment kept msmarco_doc_00 _9951701740httpcenterserveorgtt serve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner mimetype textplain start_char_idx 0 end_char_idx 2460 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 8b5833ab9bb3432bb76860d3754f1a10 embedding null metadata  page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 796cad9b678b42ebbe0217395de96489 node_type 4 metadata  page_label 9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 32edabda4ac9d5e48b23dd420dcb5b6d02ec13e88a61d4045b46c4dbfdf1d27d class_name relatednodeinfo   text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa figure 4 webui dark mode showcasing the ragnaru00f6k system arena for the user query on why have used car prices increased from trec2024 researchy with two different blinded pipelines the output tab displays the",
        "mimetype": "text/plain",
        "start_char_idx": 1339838,
        "end_char_idx": 1346217,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "56421985-77a4-4ab7-818c-33d39e9916be",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6c4cd375-bedc-4cca-840a-c2478e245de0",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "a6eded88e6735f12f3da4e7ba988f2c781bac3a17b6f8d2b33de0b4bd837ba66",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "113dce0b-cc79-463f-9b19-314571fadcaf",
                "node_type": "1",
                "metadata": {},
                "hash": "374dcddb309fc2f4ba86b092bf264ed9ce2c89ff570f20d20ad4fb3ab4ea912c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "9 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash 32edabda4ac9d5e48b23dd420dcb5b6d02ec13e88a61d4045b46c4dbfdf1d27d class_name relatednodeinfo   text ragnaru00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa figure 4 webui dark mode showcasing the ragnaru00f6k system arena for the user query on why have used car prices increased from trec2024 researchy with two different blinded pipelines the output tab displays the answers in humanreadable form figure 5 the responses tab for the example in figure 4 note that the responses tab reformats the final answers into the json format expected by the io definitions of the trec 2024 rag track mimetype textplain start_char_idx 0 end_char_idx 566 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c043c4620d584d6995d05401b646f727 embedding null metadata  page_label 10 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 24ae17884df4451fad840964ff5140e0 node_type 4 metadata  page_label 10 file_name ragnaru00f6kpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataragnaru00f6kpdf file_type applicationpdf file_size 1681358 creation_date 20241015 last_modified_date 20241015  hash adaf4afaff3e974bed55e81a336c89054330ab4a4cc3dc951a43e566cae79562 class_name relatednodeinfo   text conference17 july 2017 washington dc usa pradeep and thakur et al table 4 an endtoend rag example for a randomly sampled topic topic id 2027497 in the trecraggy 2024 collection how often should you take your toddler to the potty when potty training 1 top10 retrieved segments from the r retrieval stage ordered from top to bottom in terms of relevancy segment id title segment 1 msmarco_v21_doc_51_766815931 2_1606878413how often should i take my tod dler to the potty there are some guidelines to followselfesteem can be fragile at this time so its important to toilet train gently letting your child lead the way additionally its unwise to begin potty training unless your child is truly ready take this potty training readiness quiz featured in parents before you begin elizabeth pantley and you still must be on the lookout for signs your toddler has to go ahead of schedule 2 msmarco_v21_doc_51_766815931 6_1606884302how often should i take my tod dler to the potty there are some guidelines to followdavis and keyser stressed the importance of keeping your own emotions in check throughout the toilet training process the bottom line when it comes to potty time theres no magic number youll just have that much longer to plan a good one 3 msmarco_v21_doc_08_935420812 8_1683502976qa know your childs level of readiness for potty training par entsstart by sitting on the toilet the first thing in the morning after taking off the overnight diaper make it funsing songs read a book drink some juice and see what happens dr carrie m brown my 3yearold is adamant about not using the potty how can i motivate her 4 msmarco_v21_doc_08_935420812 0_1683481876qa know your childs level of readiness for potty training par entsqa know your childs level of readiness for potty training parents home toddlers preschoolers potty training potty training tips qa have your child sit on the potty soon after shes finished breakfast and again after dinner 5 msmarco_v21_doc_28_472446307 23_1012991039potty trained toddler having acci dents on purposebut dont feel disappointed if most of these tries end up with no pee in the pottyyou wouldnt be able to pee get more tips on how to ease your childs potty training poop anxiety 6 msmarco_v21_doc_28_472446307 22_1012988885potty trained toddler having acci dents on purposeget tips on what to do when your 4 year old wont poop on potty routines give him the predictability he needs so he knows exactly what to do and when you might use the potty after waking up before leaving the house or after eating meals 7 msmarco_v21_doc_57_1222573163 16_2241797192tips on starting potty training how to potty train your toddlerteach him to check for dryness this offers him an added sense of control if hes dry give him a pat on the back or a big hug but dont criticize him if hes wet if you overreact you might discourage your toddlers future attempts 8 msmarco_v21_doc_57_1222573163 15_2241795642tips on starting potty training how to potty train your toddlereven if youre too late and hes already done the deed have him sit on the potty anyway to reinforce the connection keep her motivated even the most enthu siastic toddler can take several weeks to master potty training proficiency often with as many steps backward as forward 9 msmarco_v21_doc_51_766815931 5_1606882767how often should i take my tod dler to the potty there are some guidelines to followaccording to becoming the parent you want to be by laura davis and janis keyser its common for children to go back and forth somedays preferring diapers and other days selecting to use the toilet you can only take your child to the bathroom too much if it begins to feel stressful or punitive 10 msmarco_v21_doc_51_766815931",
        "mimetype": "text/plain",
        "start_char_idx": 1345541,
        "end_char_idx": 1351076,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "113dce0b-cc79-463f-9b19-314571fadcaf",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "56421985-77a4-4ab7-818c-33d39e9916be",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4acd36d8a691a5f4eea47ee21a31fe7fe1487deb2d8c72f6723ca3710b67c79b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "232fc3b8-f57a-4deb-ba58-28bd655e293c",
                "node_type": "1",
                "metadata": {},
                "hash": "32a44baf4438fb3190317d9bd3f1ed8c8178a1a3cd8062099af9d372bd625f9e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "15_2241795642tips on starting potty training how to potty train your toddlereven if youre too late and hes already done the deed have him sit on the potty anyway to reinforce the connection keep her motivated even the most enthu siastic toddler can take several weeks to master potty training proficiency often with as many steps backward as forward 9 msmarco_v21_doc_51_766815931 5_1606882767how often should i take my tod dler to the potty there are some guidelines to followaccording to becoming the parent you want to be by laura davis and janis keyser its common for children to go back and forth somedays preferring diapers and other days selecting to use the toilet you can only take your child to the bathroom too much if it begins to feel stressful or punitive 10 msmarco_v21_doc_51_766815931 0_1606874600how often should i take my tod dler to the potty there are some guidelines to followhow often should i take my toddler to the potty there are some guidelines to follow life ashley batzromper how often should i take my toddler to the potty there are some guidelines to follow by kelly mullenmcwilliams july 22 2017 i dont know about you but im personally super pumped for that perfect day he article noted that toilet training is also one of the most difficult milestones for children and their parents and that it can become highly emotional 2 results from the ag augmented generation stage using top10 retrieved segments model rag answer command r text there is no magic number for how often you should take your toddler to the potty when potty training citations 1 8 text however it is recommended to take them frequently especially after waking up before leaving the house after eating meals or before bath time citations 0 1 2 3 4 5 8 text you can also use a timer and set it to every 30 minutes to an hour for a potty break citations 5 text it is important to be patient and gentle throughout the process as it can be emotionally challenging for both the child and the parent citations 0 1 3 6 7 8 9 gpt4o text when potty training your toddler it is recommended to take them to the potty frequently to increase the chances of success citations text according to elizabeth pantley author of the nocry potty training solution most toddlers pee four to eight times per day and have one or two bowel movements daily citations text she suggests setting up a potty routine such as taking your toddler to the potty first thing in the morning after eating and before activities like riding in the car or going to sleep citations 0 text additionally davis and keyser emphasize the importance of following a schedule such as morning pee and before nap time while also being attentive to signs that your toddler needs to go citations text they caution against making the process stressful or punitive as negative emotions can hinder progress citations 1 text dr carrie m brown recommends planning bathroom trips every 90120 minutes during the day and remaining calm and consistent even if accidents occur citations text this approach helps toddlers learn the routine and increases the likelihood of successful potty use citations 2 mimetype textplain start_char_idx 0 end_char_idx 6093 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2849c404ebed4228a7b9abc9b086648a embedding null metadata  page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 0fb2fc74455443e8b7b311236cde49dd node_type 4 metadata  page_label 1 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash c0b57e683f5230839d8ab5bf00b429f96f65ff2bbc69947a19155d1e41924bb9 class_name relatednodeinfo   text preprint selfrag learning to retrieve generate and critique through selfreflection akari asai zeqiu wu yizhong wang avirup sil hannaneh hajishirzi university of washingtonallen institute for aiibm research ai akarizeqiuwuyizhongwhannaneh cswashingtonedu aviusibmcom abstract despite their remarkable capabilities large language models llms often produce responses containing factual inaccuracies due to their sole reliance on the paramet ric knowledge they encapsulate retrievalaugmented generation rag an ad hoc approach that augments lms with retrieval of relevant knowledge decreases such issues however indiscriminately retrieving and incorporating a fixed number of retrieved passages regardless of whether retrieval is necessary or passages are relevant diminishes lm versatility or can lead to unhelpful response generation we introduce a new framework called selfreflective retrievalaugmented gen eration selfragthat enhances an lms quality and factuality through retrieval and selfreflection our framework trains a single arbitrary lm that adaptively retrieves passages ondemand and generates and reflects on retrieved passages and its own generations using special tokens called reflection tokens generating reflection tokens makes the lm controllable during the inference phase enabling it to tailor its behavior to diverse task requirements experiments show that self rag7b and 13b parameters significantly outperforms stateoftheart llms and retrievalaugmented models on a diverse set of tasks specifically selfrag outperforms chatgpt and retrievalaugmented llama2chat on opendomain qa reasoning and fact verification tasks and it shows significant gains in improving factuality and citation accuracy for longform generations relative to these models1 1 i ntroduction stateoftheart llms continue to struggle with factual errors mallen et al 2023 min et al 2023 despite their increased model and data scale ouyang et al 2022 retrievalaugmented generation rag methods figure 1 left lewis et al 2020 guu et al 2020 augment the input of llms with relevant retrieved passages reducing factual errors in knowledgeintensive tasks ram et al 2023 asai et al 2023a however these methods may hinder the versatility of llms or introduce unnecessary or offtopic passages that lead to lowquality generations shi et al 2023 since they retrieve passages indiscriminately regardless of whether the factual grounding is helpful moreover the output is not guaranteed to be consistent with retrieved relevant passages gao",
        "mimetype": "text/plain",
        "start_char_idx": 1350275,
        "end_char_idx": 1356832,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "232fc3b8-f57a-4deb-ba58-28bd655e293c",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "113dce0b-cc79-463f-9b19-314571fadcaf",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "bf18523542a2894f149f9800b4a38918011e5f5763116222d6ef2d18abc9de97",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a5692021-23de-4109-a97c-8a40aa3c60bf",
                "node_type": "1",
                "metadata": {},
                "hash": "59077768f75c6cc9ab1cff80ac8f84172ec3ba3d5db2a8224f8fbf632a321cbf",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "and retrievalaugmented llama2chat on opendomain qa reasoning and fact verification tasks and it shows significant gains in improving factuality and citation accuracy for longform generations relative to these models1 1 i ntroduction stateoftheart llms continue to struggle with factual errors mallen et al 2023 min et al 2023 despite their increased model and data scale ouyang et al 2022 retrievalaugmented generation rag methods figure 1 left lewis et al 2020 guu et al 2020 augment the input of llms with relevant retrieved passages reducing factual errors in knowledgeintensive tasks ram et al 2023 asai et al 2023a however these methods may hinder the versatility of llms or introduce unnecessary or offtopic passages that lead to lowquality generations shi et al 2023 since they retrieve passages indiscriminately regardless of whether the factual grounding is helpful moreover the output is not guaranteed to be consistent with retrieved relevant passages gao et al 2023 since the models are not explicitly trained to leverage and follow facts from provided passages this work introduces selfreflective retrievalaugmented generation selfragto improve an llms generation quality including its factual accuracy without hurting its versatility via ondemand retrieval and selfreflection we train an arbitrary lm in an endtoend manner to learn to reflect on its own generation process given a task input by generating both task output and intermittent special tokens ie reflection tokens reflection tokens are categorized into retrieval andcritique tokens to indicate the need for retrieval and its generation quality respectively figure 1 right in particular given an input prompt and preceding generations selfragfirst determines if augmenting the continued generation with retrieved passages would be helpful if so it outputs a retrieval token that calls a retriever model on demand step 1 subsequently selfragconcurrently processes multiple retrieved passages evaluating their relevance and then generating corresponding task outputs step 2 it then generates critique tokens to criticize its own output and choose best one step 3 in terms of factuality and overall quality this process differs from conventional rag figure 1 left which 1our code and trained models are available at httpsselfraggithubio 1arxiv231011511v1 cscl 17 oct 2023 mimetype textplain start_char_idx 0 end_char_idx 3895 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f403a7e6198341afbe67a03d9d9b935f embedding null metadata  page_label 2 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id fa9c7266b5814f7ebf08cf9ca0d991c4 node_type 4 metadata  page_label 2 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 87aee53fa089bb7906356c1bcfcfc27c7e6a2c26bdf4065705eccf0010103bac class_name relatednodeinfo   text preprint step 1 retrieve k documentscalifornia was named after a ufb01ctional island in a spanish book prompt how did us states get their names us states got their names from a variety of sources eleven states are named after an individual person eg california was named after christopher columbus some states including texas and utah are named after native american tribe retrievalaugmented generation ragours selfreufb02ective retrievalaugmented generation selfrag popular names by states in texas emma is a popular baby name of the ufb01fty states eleven are named after an individual person prompt how did us states get their names step 2 prompt lm with k docs and generateretriever lm prompt how did us states get their names us states got their names from a variety of sources retrievestep 1 retrieve on demand prompt 11 of 50 state namesrelevant step 2 generate segment in parallel come from personssupportedirrelevanttexas is namedafter a native american tribe step 3 critique outputs and select best segmentorigins in a 16thcentury novel las sergas de esplandiu00e1n californias name has itsrelevantpartially us states got their names from a variety of sources 11 of 50 states names are come from persons 26 states are named after native americans including utah prompt write an essay of your best summer vacation prompt write an essay of your best summer vacation no retrievalmy best summer vacation is when my family and i embarked on a road trip along my best repeat no information in passagescontradictoryprompt prompt retrieve figure 1 overview of selfragselfraglearns to retrieve critique and generate text passages to enhance overall generation quality factuality and verifiability consistently retrieves a fixed number of documents for generation regardless of the retrieval necessity eg the bottom figure example does not require factual knowledge and never second visits the generation quality moreover selfragprovides citations for each segment with its selfassessment of whether the output is supported by the passage leading to easier fact verification selfragtrains an arbitrary lm to generate text with reflection tokens by unifying them as the next token prediction from the expanded model vocabulary we train our generator lm on a diverse collection of text interleaved with reflection tokens and retrieved passages reflection tokens inspired by reward models used in reinforcement learning ziegler et al 2019 ouyang et al 2022 are inserted offline into the original corpus by a trained critic model this eliminates the need to host a critic model during training reducing overhead the critic model in part is supervised on a dataset of input output and corresponding reflection tokens collected by prompting a propriety lm ie gpt4 openai 2023 while we draw inspiration from studies that use control tokens to start and guide text generation lu et al 2022 keskar et al 2019 our trained lm uses critique tokens to assess its own predictions after each generated segment as an integral part of the generation output selfragfurther enables a customizable decoding algorithm to satisfy hard or soft constraints which are defined by reflection token predictions in particular our inferencetime algorithm enables us to 1 flexibly adjust retrieval frequency for different downstream applications and 2 customize models behaviors to user preferences by leveraging reflection tokens through segmentlevel beam search using the weighted linear sum of the reflection token probabilities as segment score empirical results on six tasks including reasoning and longform generation demonstrate that self ragsignificantly outperforms pretrained and instructiontuned llms that have more parameters and widely adopted rag approaches with higher citation accuracy in particular",
        "mimetype": "text/plain",
        "start_char_idx": 1355866,
        "end_char_idx": 1362898,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a5692021-23de-4109-a97c-8a40aa3c60bf",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "232fc3b8-f57a-4deb-ba58-28bd655e293c",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "0ed7f2fa53095110f496adf0a814a33c0929a84783a6370ee2556a56afc89d55",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "b967558d-de5c-4e15-97a9-b1b9469656a5",
                "node_type": "1",
                "metadata": {},
                "hash": "f164bf3c574707075e2eeecc09f7a2f9ac2f2a783af7344ad30ab78fe06623b7",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "model in part is supervised on a dataset of input output and corresponding reflection tokens collected by prompting a propriety lm ie gpt4 openai 2023 while we draw inspiration from studies that use control tokens to start and guide text generation lu et al 2022 keskar et al 2019 our trained lm uses critique tokens to assess its own predictions after each generated segment as an integral part of the generation output selfragfurther enables a customizable decoding algorithm to satisfy hard or soft constraints which are defined by reflection token predictions in particular our inferencetime algorithm enables us to 1 flexibly adjust retrieval frequency for different downstream applications and 2 customize models behaviors to user preferences by leveraging reflection tokens through segmentlevel beam search using the weighted linear sum of the reflection token probabilities as segment score empirical results on six tasks including reasoning and longform generation demonstrate that self ragsignificantly outperforms pretrained and instructiontuned llms that have more parameters and widely adopted rag approaches with higher citation accuracy in particular selfragoutperforms retrievalaugmented chatgpt on four tasks llama2chat touvron et al 2023 and alpaca dubois et al 2023 on all tasks our analysis demonstrates the effectiveness of training and inference with reflection tokens for overall performance improvements as well as testtime model customizations eg balancing the tradeoff between citation previsions and completeness 2 r elated work retrievalaugmented generation retrievalaugmented generation rag augments the input space of lms with retrieved text passages guu et al 2020 lewis et al 2020 leading to large improvements in knowledgeintensive tasks after finetuning or used with offtheshelf lms ram et al 2023 a more recent work luo et al 2023 instructiontunes an lm with a fixed number 2 mimetype textplain start_char_idx 0 end_char_idx 4517 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3e1838d0688d4b5499c6935065722807 embedding null metadata  page_label 3 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id b8eb8a1d47d34e6dbbac023401ce6cdf node_type 4 metadata  page_label 3 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash d48ff1c873ae1d6fc4594d474e82561524d7c1ac635373f967ce61c5158f894b class_name relatednodeinfo   text preprint of retrieved passages prepended to input or pretrain a retriever and lm jointly followed by few shot finetuning on task datasets izacard et al 2022b while prior work often retrieves only once at the beginning jiang et al 2023 propose to adaptively retrieve passages for generation on top of a proprietary llm or schick et al 2023 train an lm to generate api calls for named entities yet the improved task performance of such approaches often comes at the expense of runtime efficiency mallen et al 2023 robustness to irrelevant context shi et al 2023 and lack of attributions liu et al 2023a gao et al 2023 we introduce a method to train an arbitrary lm to learn to use retrieval ondemand for diverse instructionfollowing queries and introduce controlled generation guided by reflections tokens to further improve generation quality and attributions concurrent rag work a few concurrent works2on rag propose new training or prompting strategies to improve widelyadopted rag approaches lin et al 2023 finetune both the retriever and lm on instructiontuning datasets in two steps while we also train our model on diverse instructionfollowing datasets selfragenables retrieval on demand and selection of the best possible model output via finegrained selfreflection making it widely applicable and more robust and controllable yoran et al 2023 use a natural language inference model and xu et al 2023 use a summarization model to filter out or compress retrieved passages before using them to prompt the lm to generate the output selfragprocesses passages in parallel and filters out irrelevant ones through selfreflection without relying on external models at inference moreover our selfreflection mechanism also evaluates other aspects of the model output quality including factuality lats zhou et al 2023 prompt offtheshelf lms to search for relevant information for question answering tasks and to generate with tree search guided by lmgenerated value scores while their value function simply indicates an overall score of each generation selfragtrains to an arbitrary lm to learn to generate finegrained selfreflection and customizable inference training and generating with critics training llms with reinforcement learning eg proximal policy optimization or ppo schulman et al 2017 from human feedback rlhf has proven effective in aligning llms with human preferences ouyang et al 2022 wu et al 2023 introduce finegrained rlhf with multiple reward models though our work also studies finegrained critique on retrieval and generation we train our target lm on task examples augmented with reflection tokens from a critic model offline with a far lower training cost compared to rlhf in addition reflection tokens in s elfragenable controllable generation at inference while rlhf focuses on human preference alignment during training other works use general control tokens to guide lm generation lu et al 2022 korbak et al 2023 while selfraguses reflection tokens to decide the need for retrieval and to selfevaluate generation quality xie et al 2023 propose a selfevaluation guided decoding framework but they focus only on reasoning tasks with one evaluation dimension reasoning path consistency and without retrieval recent work on llm refinement dhuliawala et al 2023 madaan et al 2023 paul et al 2023 prompts a model to generate task output natural language feedback and refined task output iteratively but at the cost of inference efficiency 3 s elfrag learning to retrieve generate and critique we introduce selfreflective retrievalaugmented generation selfrag shown in figure 1 selfragis a framework that enhances the quality and factuality of an llm through retrieval and selfreflection without sacrificing llms original creativity and versatility our endtoend training lets an lm mgenerate text informed by retrieved passages if needed and criticize the output by learning to generate special tokens these reflection tokens table 1 signal the need for retrieval or confirm the outputs relevance support or completeness in contrast common rag approaches retrieve passages indiscriminately without ensuring complete support from",
        "mimetype": "text/plain",
        "start_char_idx": 1361733,
        "end_char_idx": 1368695,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b967558d-de5c-4e15-97a9-b1b9469656a5",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "a5692021-23de-4109-a97c-8a40aa3c60bf",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ed063be0b01b10698b9d4ccbdb0592570982fc227fb2ae5ee690e261fa188aea",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "e69a5d37-eecf-4cf7-b927-ab55a7db31c3",
                "node_type": "1",
                "metadata": {},
                "hash": "f1361a4bb160f330b6c042a4a1244c853fef7b4e60a8b03aa38332cb249ca165",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "xie et al 2023 propose a selfevaluation guided decoding framework but they focus only on reasoning tasks with one evaluation dimension reasoning path consistency and without retrieval recent work on llm refinement dhuliawala et al 2023 madaan et al 2023 paul et al 2023 prompts a model to generate task output natural language feedback and refined task output iteratively but at the cost of inference efficiency 3 s elfrag learning to retrieve generate and critique we introduce selfreflective retrievalaugmented generation selfrag shown in figure 1 selfragis a framework that enhances the quality and factuality of an llm through retrieval and selfreflection without sacrificing llms original creativity and versatility our endtoend training lets an lm mgenerate text informed by retrieved passages if needed and criticize the output by learning to generate special tokens these reflection tokens table 1 signal the need for retrieval or confirm the outputs relevance support or completeness in contrast common rag approaches retrieve passages indiscriminately without ensuring complete support from cited sources 31 p roblem formalization and overview formally given input x we train mto sequentially generate textual outputs yconsisting of multiple segments y y1 y t where ytindicates a sequence of tokens for the tth segment3generated tokens in ytinclude text from the original vocabulary as well as the reflection tokens table 1 2all work is arxived within a week of this preprint 3in this paper we treat one sentence as a segment in our experiments but our framework is applicable to any segment unit ie subsentence 3 mimetype textplain start_char_idx 0 end_char_idx 4676 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3c6216ddba454e74bc58d7f19741bfc4 embedding null metadata  page_label 4 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id e1efb65d0e50439495db5498251c4d50 node_type 4 metadata  page_label 4 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 21937819cdd88f3518235207a7bba349155c0e7e91d09115b549a895d845153a class_name relatednodeinfo   text preprint type input output definitions retrieve xx y yes no continue decides when to retrieve with r isrel x d relevant irrelevant dprovides useful information to solve x issup x d y fully supported partially supported no support all of the verificationworthy statement in y is supported by d isuse x y 5 4 3 2 1 yis a useful response to x table 1 four types of reflection tokens used in selfrag each type uses several tokens to represent its output values the bottom three rows are three types of critique tokens and the bold text indicates the most desirable critique tokens x y d indicate input output and a relevant passage respectively algorithm 1 selfraginference require generator lm m retriever r largescale passage collections d1 d n 1input input prompt xand preceding generation ytoutput next output segment yt 2mpredicts retrieve given x yt 3ifretrieve yes then 4 retrieve relevant text passages dusingrgiven x yt1 retrieve 5 mpredicts isrelgiven x dandytgiven x d y tfor each dd generate 6 mpredicts issupand isusegiven x yt dfor each dd critique 7 rank ytbased on isrelissupisuse detailed in section 33 8else if retrieve nothen 9 mgenpredicts ytgiven x generate 10 mgenpredicts isusegiven x yt critique inference overview figure 1 and algorithm 1 present an overview of s elfragat inference for every xand preceding generation yt the model decodes a retrieval token to evaluate the utility of retrieval if retrieval is not required the model predicts the next output segment as it does in a standard lm if retrieval is needed the model generates a critique token to evaluate the retrieved passages relevance the next response segment and a critique token to evaluate if the information in the response segment is supported by the passage finally a new critique token evaluates the overall utility of the response4to generate each segment selfragprocesses multiple passages in parallel and uses its own generated reflection tokens to enforce soft constraints section 33 or hard control algorithm 1 over the generated task output for instance in figure 1 right the retrieved passages d1is selected at the first time step since d2does not provide direct evidence isrelis irrelevant andd3output is only partially supported while d1are fully supported training overview selfragenables an arbitrary lm to generate text with reflection tokens by unifying them as next token predictions from the expanded model vocabulary ie the original vocabulary plus reflection tokens specifically we train the generator model mon a curated corpus with interleaving passages retrieved by a retriever rand reflection tokens predicted by a critic model csummarized in appendix algorithm 2 we train cto generate reflection tokens for evaluating retrieved passages and the quality of a given task output section 321 using the critic model we update the training corpus by inserting reflection tokens into task outputs offline subsequently we train the final generator model m using the conventional lm objective section 322 to enable mto generate reflection tokens by itself without relying on the critic at inference time 32 s elfragtraining here we describe the supervised data collection and training of two models the critic csection 321 and the generator msection 322 321 t raining the critic model data collection for critic model manual annotation of reflection tokens for each segment is expensive wu et al 2023 a stateoftheart llm like gpt4 openai 2023 can be effectively 4we follow liu et al 2023a in using a perceived utility value that is independent of retrieved passages 4 mimetype textplain start_char_idx 0 end_char_idx 3586 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ fd0f84c1681046a1a39b8ab5bd6c33bb embedding null metadata  page_label 5 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015",
        "mimetype": "text/plain",
        "start_char_idx": 1367595,
        "end_char_idx": 1374138,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e69a5d37-eecf-4cf7-b927-ab55a7db31c3",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "b967558d-de5c-4e15-97a9-b1b9469656a5",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c1b0f961ed22189c717698fda6e513e15553399609489735f55918f3a5c916ac",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "bc19f3a9-13d7-40be-a7e4-de4c91aac379",
                "node_type": "1",
                "metadata": {},
                "hash": "15a37fcc786fc287aec5703a99d2ead8d19dd8f7f4ca338cfe255532ac2d663a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "generator msection 322 321 t raining the critic model data collection for critic model manual annotation of reflection tokens for each segment is expensive wu et al 2023 a stateoftheart llm like gpt4 openai 2023 can be effectively 4we follow liu et al 2023a in using a perceived utility value that is independent of retrieved passages 4 mimetype textplain start_char_idx 0 end_char_idx 3586 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ fd0f84c1681046a1a39b8ab5bd6c33bb embedding null metadata  page_label 5 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id c08e93251a184ba691594e19583d51af node_type 4 metadata  page_label 5 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash ce81cb5bf023b6c2df8736023bf10f75252b79699b73cb37a602f5a4866e4812 class_name relatednodeinfo   text preprint input how did us states get their names input write an essay of your best summer vacationoutput my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable critic lmoutput 1 of 50 states names come from persons for instance louisiana was named in honor of king louis xiv of france and georgia was named after king george ii retrieve partially augmented output retrieveplouisiana named inpof the ufb01fty states eleven are named after an individual personp 11 of 50 states names come from person relevantsupportedhonor of louis xiv of francep relevantfor instance louisiana was named after king louis xiv andutil 5georgia was named after king george ii util 5augmented output my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable experienceno retrievalno retrieval retriever figure 2 selfragtraining examples the left example does not require retrieval while the right one requires retrieval thus passages are inserted more examples are in appendix table 4 used to generate such feedback liu et al 2023b however depending on such proprietary lms can raise api costs and diminish reproducibility chen et al 2023 we create supervised data by prompting gpt4 to generate reflection tokens and then distill their knowledge into an inhouse c for each group of reflection tokens we randomly sample instances from the original training data xsample ysample x y as different reflection token groups have their own definitions and input as shown in table 1 we use different instruction prompts for them here we use retrieve as an example we prompt gpt4 with a typespecific instruction given an instruction make a judgment on whether finding some external documents from the web helps to generate a better response followed by fewshot demonstrations ithe original task input xand output yto predict an appropriate reflection token as text pri x y manual assessment reveals that gpt4 reflection token predictions show high agreement with human evaluations we collect 4k20k supervised training data for each type and combine them to form training data for c appendix section d shows the full list of instructions and a1 contains more details and our analysis critic learning after we collect training data dcritic we initialize cwith a pretrained lm and train it on dcritic using a standard conditional language modeling objective maximizing likelihood max cexyrdcritic logpcrx y rfor reflection tokens 1 though the initial model can be any pretrained lm we use the same one as the generator lm ie llama 27b touvron et al 2023 for cinitialization the critic achieves a higher than 90 agreement with gpt4based predictions on most reflection token categories appendix table 5 322 t raining the generator model data collection for generator given an inputoutput pair x y we augment the original output yusing the retrieval and critic models to create supervised data that precisely mimics the self raginferencetime process section 31 for each segment yty we run cto assess whether additional passages could help to enhance generation if retrieval is required the retrieval special token retrieve yes is added and rretrieves the top kpassages d for each passage cfurther evaluates whether the passage is relevant and predicts isrel if a passage is relevant cfurther evaluates whether the passage supports the model generation and predicts issup critique tokens isreland issupare appended after the retrieved passage or generations at the end of the output y orytcpredicts the overall utility token isuse and an augmented output with reflection tokens and the original input pair is added to dgen see the example training data in figure 2 generator learning we train the generator model mby training on the curated corpus augmented with reflection tokens dgenusing the standard next token objective max mexyr dgenlogpmy rx 2 unlike ctraining eq 1 mlearns to predict the target output as well as the reflection tokens during training we mask out the retrieved text chunks surrounded by p andp in figure 2 for loss calculation and expand the original vocabulary vwith a set of reflection tokens critique retrieve connections to prior work on learning with critique recent work incorporates additional critique feedback during training eg rlhf ouyang et al 2022 via ppo while ppo relies on 5 mimetype textplain start_char_idx 0 end_char_idx 4450 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d0e7c829016b4cdfb9cb7e5f2e1d64c9 embedding null metadata  page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 5645423a298242539af46d4789c7bf77 node_type 4 metadata  page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size",
        "mimetype": "text/plain",
        "start_char_idx": 1373361,
        "end_char_idx": 1379792,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "bc19f3a9-13d7-40be-a7e4-de4c91aac379",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "e69a5d37-eecf-4cf7-b927-ab55a7db31c3",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c1457e5ee9bb1fb8db07f90ad731e4341bd40991ff84b844b21892640de5518f",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "dd5c8c82-da5d-4d5d-adc1-2d640ce62ae1",
                "node_type": "1",
                "metadata": {},
                "hash": "08d79a95d00291835f16c9bfa6978383c4953e623e1880164aad45433274f3d4",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "end_char_idx 4450 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ d0e7c829016b4cdfb9cb7e5f2e1d64c9 embedding null metadata  page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 5645423a298242539af46d4789c7bf77 node_type 4 metadata  page_label 6 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 6f66a422f5dca00c21b68750e3e28c615fecc2a83cb629293e5b1ae516c0cdae class_name relatednodeinfo   text preprint separate reward models during training we compute critique offline and directly insert them into the training corpus where the generator lm is trained with a standard lm objective this significantly reduces training costs compared to ppo our work also relates to prior work that incorporates special tokens to control generation keskar et al 2019 lu et al 2022 korbak et al 2023 our selfrag learns to generate special tokens to evaluate its own prediction after each generated segment enabling the use of a soft reranking mechanism or hard constraints at inference discussed next 33 s elfraginference generating reflection tokens to selfevaluate its own output makes selfragcontrollable during the inference phase enabling it to tailor its behavior to diverse task requirements for tasks demanding factual accuracy min et al 2023 we aim for the model to retrieve passages more frequently to ensure that the output aligns closely with the available evidence conversely in more openended tasks like composing a personal experience essay the emphasis shifts towards retrieving less and prioritizing the overall creativity or utility score in this section we describe approaches to enforce control to meet these distinct objectives during the inference process adaptive retrieval with threshold selfragdynamically decides when to retrieve text passages by predicting retrieve alternatively our framework allows a threshold to be set specifically if the prob ability of generating the retrieve yes token normalized over all output tokens in retrieve surpasses a designated threshold we trigger retrieval details in appendix section a3 treedecoding with critique tokens at each segment step t when retrieval is required based either on hard or soft conditions rretrieves kpassages and the generator mprocesses each passage in parallel and outputs kdifferent continuation candidates we conduct a segmentlevel beam search with the beam size b to obtain the top bsegment continuations at each timestamp t and return the best sequence at the end of generation the score of each segment ytwith respect to passage dis updated with a critic score sthat is the linear weighted sum of the normalized probability of each critique token type for each critique token group geg isrel we denote its score at timestamp tassg t and we compute a segment score as follows fyt d critique pytx d y t scritique where 3 scritique x ggwgsg tforgisrelissupisuse 4 where sg tptu02c6rpng i1ptristands for the generation probability of the most desirable reflection token u02c6reg isrelrelevant for the critique token type gwithngdistinct tokens that represent different possible values for g the weights wgin eq 4 are hyperparameters that can be adjusted at inference time to enable customized behaviors at test time for instance to ensure that result yis mostly supported by evidence we can set a weight term for the issupscore higher while relatively lowering weights for other aspects alternatively we could further enforce hard constraints during decoding using critique instead of using a soft reward function in eq 4 we could explicitly filter out a segment continuation when the model generates an undesirable critique token eg issupno support balancing the tradeoff between multiple preferences has been studied in rlhf touvron et al 2023 wu et al 2023 which often requires training to change models behaviors s elfragtailors an lm with no additional training 4 e xperiments 41 t asks and datasets we conduct evaluations of our selfragand diverse baselines on a range of downstream tasks holistically evaluating outputs with metrics designed to assess overall correctness factuality and fluency throughout these experiments we conduct zeroshot evaluations where we provide instruc tions describing tasks without fewshot demonstrations wei et al 2022 sanh et al 2022 details of our experiments settings including testtime instructions are available in the appendix section b1 closedset tasks include two datasets ie a fact verification dataset about public health pubhealth zhang et al 2023 and a multiplechoice reasoning dataset created from scientific exams arc 6 mimetype textplain start_char_idx 0 end_char_idx 4151 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7a8f43ad6c06422cb81c472557698f59 embedding null metadata  page_label 7 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 9368bacbc5134e1482351d590f1ed43b node_type 4 metadata  page_label 7 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash a756e676290b5ffacd99717a805bbdc73999aefcd7dd476c44117237664fef8a class_name relatednodeinfo   text preprint challenge clark et al 2018 we use accuracy as an evaluation metric and report on the test set we aggregate the answer probabilities of target classes for both of these datasets appendix section b2 shortform generations tasks include two opendomain question answering qa datasets popqa mallen et al 2023 and triviaqaunfiltered joshi et al 2017 where systems need to answer arbitrary questions about factual knowledge for popqa we use the longtail subset consisting of 1399 rare entity queries whose monthly wikipedia page views are less than 100 as the triviaqaunfiltered open test",
        "mimetype": "text/plain",
        "start_char_idx": 1379089,
        "end_char_idx": 1385600,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "dd5c8c82-da5d-4d5d-adc1-2d640ce62ae1",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "bc19f3a9-13d7-40be-a7e4-de4c91aac379",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "8a28aa4485dba79edc23438380e9c0740205aa0ca0e7da82fb7ba636389f5a2b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6b34e92b-4d6e-4273-9015-6db603f7f0cd",
                "node_type": "1",
                "metadata": {},
                "hash": "c2c87f0fa8b4d4a1844d1e602d5274c2b1018922141dbd2d74ecbffbebae9b2e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash a756e676290b5ffacd99717a805bbdc73999aefcd7dd476c44117237664fef8a class_name relatednodeinfo   text preprint challenge clark et al 2018 we use accuracy as an evaluation metric and report on the test set we aggregate the answer probabilities of target classes for both of these datasets appendix section b2 shortform generations tasks include two opendomain question answering qa datasets popqa mallen et al 2023 and triviaqaunfiltered joshi et al 2017 where systems need to answer arbitrary questions about factual knowledge for popqa we use the longtail subset consisting of 1399 rare entity queries whose monthly wikipedia page views are less than 100 as the triviaqaunfiltered open test set is not publicly available we follow prior works validation and test split min et al 2019 guu et al 2020 using 11313 test queries for evaluation we evaluate performance based on whether gold answers are included in the model generations instead of strictly requiring exact matching following mallen et al 2023 schick et al 2023 longform generation tasks include a biography generation task min et al 2023 and a longform qa task alceasqa gao et al 2023 stelmakh et al 2022 we use factscore min et al 2023 to evaluate biographies and we use official metrics of correctness strem fluency based on mauve pillutla et al 2021 and citation precision and recall gao et al 2023 for asqa5 42 b aselines baselines without retrievals we evaluate strong publicly available pretrained llms llama2 7b13btouvron et al 2023 instructiontuned models alpaca 7b13bdubois et al 2023 our replication based on llama2 and models trained and reinforced using private data chat gpt ouyang et al 2022 and llama2chat 13b for instructiontuned lms we use the official system prompt or instruction format used during training if publicly available we also compare our method to concurrent work cove 65bdhuliawala et al 2023 which introduces iterative prompt engineering to improve the factuality of llm generations baselines with retrievals we evaluate models augmented with retrieval at test time or during training the first category includes standard rag baselines where an lm llama2 alpaca generates output given the query prepended with the top retrieved documents using the same retriever as in our system it also includes llama2ft where llama2 is finetuned on all training data we use without the reflection tokens or retrieved passages we also report the result of retrievalaugmented baselines with lms trained with private data retchatgpt and retllama2chat which deploy the same augmentation technique above as well as perplexityai an instructgptbased production search system the second category includes concurrent methods that are trained with retrieved text passages ie sail luo et al 2023 to instructiontune an lm on the alpaca instructiontuning data with top retrieved documents inserted before instructions and toolformer schick et al 2023 to pretrain an lm with api calls eg wikipedia apis6 43 e xperimental settings training data and settings our training data consists of diverse instructionfollowing inputoutput pairs in particular we sample instances from openinstruct processed data wang et al 2023 and knowledgeintensive datasets petroni et al 2021 stelmakh et al 2022 mihaylov et al 2018 in total we use 150k instructionoutput pairs we use llama2 7b and 13b touvron et al 2023 as our generator base lm and we use llama2 7b as our base critic lm for the retriever model r we use offtheshelf contrieverms marco izacard et al 2022a by default and retrieve up to ten documents for each input more training details are in the appendix section b1 inference settings as a default configuration we assign the weight terms isrelissupisuse values of 10 10 and 05 respectively to encourage frequent retrieval we set the retrieval threshold to 02 for most tasks and to 0 for alce gao et al 2023 due to citation requirements we speed up inference using vllm kwon et al 2023 at each segment level we adopt a beam width of 2 for a tokenlevel generation we use greedy decoding by default we use the top five documents from contrieverms marco izacard et al 2022a for biographies and opendomain qa we use additional top five documents retrieved by a web search engine following luo et al 2023 for asqa we use the authorprovided top 5 documents by gtrxxl ni et al 2022 across all baselines for a fair comparison 5httpsgithubcomprincetonnlpalce 6we report numbers using the results reported in the paper as the implementations are not available 7 mimetype textplain start_char_idx 0 end_char_idx 4412 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 19dc093494eb47c0af5c92228bf8eb0d embedding null metadata  page_label 8 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 17aad9c163264bd3b24b50308a2c9557 node_type 4 metadata  page_label 8 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash e0a5c08be47e6c67db52eccbfdb9fe786b18f04ced31dbfaafd7f4fb39346ae0 class_name relatednodeinfo   text preprint table 2 overall experiment results on six tasks bold numbers indicate the best performance among nonproprietary models and graycolored bold text indicates the best proprietary model when they outperforms all nonproprietary modelsindicates concurrent or recent results reported by concurrent work indicates numbers that are not reported by the original papers or are not applicable models are sorted based on scale fs em rg mau prec rec denote factscore factuality strem rouge correctness mauve fluency citation precision and recall respectively shortform closedset",
        "mimetype": "text/plain",
        "start_char_idx": 1384812,
        "end_char_idx": 1390900,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6b34e92b-4d6e-4273-9015-6db603f7f0cd",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "dd5c8c82-da5d-4d5d-adc1-2d640ce62ae1",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "fb58821356d1c57abd772bb45926f38b7046fd75db0c0717682df9ec33006371",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "03c0c9e5-462a-48f5-85ee-96db74234235",
                "node_type": "1",
                "metadata": {},
                "hash": "085869b8b801deaa3e1e6890a630c6a76a403a9413acbaee7d252c84b26ced4f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash e0a5c08be47e6c67db52eccbfdb9fe786b18f04ced31dbfaafd7f4fb39346ae0 class_name relatednodeinfo   text preprint table 2 overall experiment results on six tasks bold numbers indicate the best performance among nonproprietary models and graycolored bold text indicates the best proprietary model when they outperforms all nonproprietary modelsindicates concurrent or recent results reported by concurrent work indicates numbers that are not reported by the original papers or are not applicable models are sorted based on scale fs em rg mau prec rec denote factscore factuality strem rouge correctness mauve fluency citation precision and recall respectively shortform closedset longform generations with citations popqa tqa pub arc bio asqa lm acc acc acc acc fs em rg mau pre rec lms with proprietary data llama2c 13b 200 593 494 384 559 224 296 286 retllama2c 13b 518 598 521 379 799 328 348 438 198 361 chatgpt 293 743 701 753 718 353 362 688 retchatgpt 508 657 547 753 407 399 797 651 766 perplexityai 712 baselines without retrieval llama2 7b 147 305 342 218 445 79 153 190 alpaca 7b 236 545 498 450 458 188 294 617 llama2 13b 147 385 294 294 534 72 124 160 alpaca 13b 244 613 555 549 502 229 320 706 cove 65b 712 baselines with retrieval toolformer 6b 488 llama2 7b 382 425 300 480 780 152 221 320 29 40 alpaca 7b 467 641 402 480 766 309 333 579 55 72 llama2ft 7b 487 573 643 658 782 310 358 512 50 75 sail 7b 692 484 llama2 13b 457 470 302 260 775 163 205 247 23 36 alpaca 13b 461 669 511 576 777 348 367 566 20 38 our selfrag 7b 549 664 724 673 812 300 357 743 669 678 our selfrag 13b 558 693 745 731 802 317 370 716 703 713 5 r esults and analysis 51 m ainresults comparison against baselines without retrieval table 2 top presents the baselines without retrieval our selfragbottom two rows demonstrates a substantial performance advantage over supervised finetuned llms in all tasks and even outperforms chatgpt in pubhealth popqa biography generations and asqa rouge and mauve our approach also significantly outperforms a concurrent method that employs sophisticated prompt engineering specifically on the bio generation task our 7b and 13b models outperform the concurrent cove dhuliawala et al 2023 which iteratively prompts llama2 65bto refine output comparison against baselines with retrieval as shown in tables 2 bottom our selfragalso outperforms existing rag in many tasks obtaining the best performance among nonproprietary lmbased models on all tasks while our method outperforms other baselines on popqa or bio powerful instructiontuned lms with retrieval eg llama2chat alpaca show large gains from their nonretrieval baselines however we found that these baselines provide limited solutions for tasks where we cannot simply copy or extract substrings of retrieved passages on pubhealth and arcchallenge baselines with retrieval do not improve performance notably from their no retrieval counterparts we also observe that most baselines with retrieval struggle to improve citation accuracy on asqa our model shows significantly higher citation precision and recall than all models except chatgpt gao et al 2023 found that chatgpt consistently exhibits superior efficacy in this particular task surpassing smaller lms our selfragbridges this performance gap even outperforming chatgpt in citation precision which measures whether the modelgenerated claim is fully supported by cited evidence we also found that on the metrics for factual precision selfrag 7b occasionally outperforms our 13b due to the tendency of smaller selfragto often generate 8 mimetype textplain start_char_idx 0 end_char_idx 3516 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 910a806716b84806a5c37cd6bd391b49 embedding null metadata  page_label 9 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 21368db67be4493e8500d710105197b8 node_type 4 metadata  page_label 9 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash fd0ec9d36a0071d78485990d8d238fe983c8af80c407f5205d6e226b0e5d6b98 class_name relatednodeinfo   text preprint pqa med as acc acc em selfrag50k 455 735 321 training no retriever r 436 678 310 no critic c 426 720 181 test no retrieval 247 730 hard constraints 283 726 retrieve top1 418 731 286 remove issup 441 732 306 a ablation 1 2700705precision 1 2 weight for issupport9095mauve b customization 00 02 04 06098099099100accuracy pubhealth 00 02 04 06 retrieval threshold060810accuracypopqa000510 frequency 025050075100 frequency c retrieval figure 3 analysis on selfragaablation studies for key components of selfragtraining and",
        "mimetype": "text/plain",
        "start_char_idx": 1390038,
        "end_char_idx": 1395226,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "03c0c9e5-462a-48f5-85ee-96db74234235",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6b34e92b-4d6e-4273-9015-6db603f7f0cd",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "c08f3cbf422d370c643c38d099b3296444494695f70d42c1767b75ab5d04003a",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8d9f4be2-2edf-4047-9417-c5d9c01c6c0b",
                "node_type": "1",
                "metadata": {},
                "hash": "b8e50358d643394495b04cfd90d0b13491e3a6a5cea497cddf321a59abd9a55e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "class_name relatednodeinfo   text preprint pqa med as acc acc em selfrag50k 455 735 321 training no retriever r 436 678 310 no critic c 426 720 181 test no retrieval 247 730 hard constraints 283 726 retrieve top1 418 731 286 remove issup 441 732 306 a ablation 1 2700705precision 1 2 weight for issupport9095mauve b customization 00 02 04 06098099099100accuracy pubhealth 00 02 04 06 retrieval threshold060810accuracypopqa000510 frequency 025050075100 frequency c retrieval figure 3 analysis on selfragaablation studies for key components of selfragtraining and inference based on our 7b model b effects of soft weights on asqa citation precision and mauve fluency c retrieval frequency andnormalized accuracy on pubhealth and popqa precisely grounded yet shorter outputs llama2ft 7b which is the baseline lm trained on the same instructionoutput pairs as selfragwithout retrieval or selfreflection and is retrievalaugmented at test time only lags behind s elfrag this result indicates s elfraggains are not solely from training data and demonstrate the effectiveness of s elfragframework 52 a nalysis ablation studies we conduct a set of ablations of our framework to identify which factors play key roles we evaluate two model variants trained differently than our model no retriever trains an lm using the standard instructionfollowing method given instructionoutput pairs without retrieved passages no critic trains an lm trained with inputoutput pairs that are always augmented with the top one retrieved document without reflection tokens this is similar to sail luo et al 2023 and we use our instructionoutput data instead of using the alpaca dataset dubois et al 2023 as in sail we also conduct ablation on our inferencetime algorithm including no retrieval disables retrieval during inference hard constraints indicates the model performance that retrieves when retrieve yes instead of using the adaptive threshold retrieve top 1 always retrieves and uses the top one document only similar to standard rag approaches remove issupindicates the model performance that removes issupscore only during critiqueguided beam search in eq 4 in this ablation experiment we use a training instance size of 50k for a more efficient exploration of training variations later in this section we conduct an analysis of the effect of training data size we conduct the ablation studies on three datasets popqa pubhealth and asqa on asqa we evaluate models on sampled 150 instances and exclude ablations involving adaptive or no retrieval processes we show in table 3a the ablation results the top part of the table shows results for training ablations and the bottom part is for inference ablations we see that all components play important roles we also observe a large performance gap between selfragand no retriever or critic baselines across tasks indicating that training an lm with those models largely contributes to the performance gain of selfrag using the top passages regardless of their relevance retrieve top 1 as in conventional rag approaches causes a large drop in popqa and asqa and removing issupduring the beam search results hurts performance on asqa this demonstrates the effectiveness of selfrags capabilities of carefully selecting generations based finegrained multiple criterion instead of naively using all of the top passages from the retrieval model or solely depending on relevance scores effects of inferencetime customization one key benefit of our proposed framework is that it enables us to control how much each critique type affects the final generation sampling we analyze the effects of different parameter weights on the top of our 7b model during inference time on asqa where multiple evaluation aspects are considered figure 3b shows the effects of changing the weighting term for issup which criticizes how supported the output is by the text passage as the figure shows increasing the weight leads to positive effects on the models citation precision since this puts more emphasis on whether model generation is supported by the evidence on the 9 mimetype textplain start_char_idx 0 end_char_idx 4047 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a8665485a6c54caa8742580b8e399de6 embedding null metadata  page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id fcdbe80bb6a541e2be7c1978352d530b node_type 4 metadata  page_label 10 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 4a45f4d732c038377f752ae94ddf3b8f1991a409a824c924fdabdf5ee301d37a class_name relatednodeinfo   text preprint 0 50 100 150 num of training k3540455055perfomance a popqa 0 100 num of training k717273 b pubhealth 0 100 num of training k4060 c asqa precpop bio s p 925 700 isrel 950 900 issup 900 850 d human evaluation on popqa and bio generation figure 4 training scale and human analysis a b c training scale analysis shows the effect of the training data scale on popqa pubhealth and asqa citation precision respectively d human analysis on s elfragoutputs as well as reflection tokens contrary a larger weight results in lower mauve scores when generation gets longer and more fluent there are often more claims that are not fully supported by citations consistent with findings by liu et al 2023a our framework lets practitioners choose and customize models behaviors at test time by adjusting such parameters without requiring additional training efficiency and accuracy tradeoff using our framework practitioners can adjust how often retrieval occurs using the token probability of reward tokens we evaluate how this adaptive threshold affects overall accuracy and frequency of retrieval and we evaluate the performance with varying numbers of threshold u03b4larger u03b4results in less retrieval on pubhealth and popqa figure 3c shows that the models retrieval frequencies dramatically change on both datasets as u03b4varies on one hand performance deterioration by retrieving less is smaller on pubhealth but larger in popqa effects of training data size we conduct an analysis of how the data scale affects the models performance in particular we randomly sample 5k 10k 20k and 50k instances from our original 150k training instances and finetune four selfrag",
        "mimetype": "text/plain",
        "start_char_idx": 1394665,
        "end_char_idx": 1401317,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8d9f4be2-2edf-4047-9417-c5d9c01c6c0b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "03c0c9e5-462a-48f5-85ee-96db74234235",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "2e1ed34d68a2a47ddb2814ce15e6d505e304395b60daa8f8545cdb04f467d7fe",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "695d78e6-47e1-4e54-ae57-922082a5ba30",
                "node_type": "1",
                "metadata": {},
                "hash": "a9bcba7c95247856c485e8e9548bcc16452a5f5ae29b9c0fa7e09ae4f5195799",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "are often more claims that are not fully supported by citations consistent with findings by liu et al 2023a our framework lets practitioners choose and customize models behaviors at test time by adjusting such parameters without requiring additional training efficiency and accuracy tradeoff using our framework practitioners can adjust how often retrieval occurs using the token probability of reward tokens we evaluate how this adaptive threshold affects overall accuracy and frequency of retrieval and we evaluate the performance with varying numbers of threshold u03b4larger u03b4results in less retrieval on pubhealth and popqa figure 3c shows that the models retrieval frequencies dramatically change on both datasets as u03b4varies on one hand performance deterioration by retrieving less is smaller on pubhealth but larger in popqa effects of training data size we conduct an analysis of how the data scale affects the models performance in particular we randomly sample 5k 10k 20k and 50k instances from our original 150k training instances and finetune four selfrag 7bvariants on those subsets then we compare the model performance on popqa pubhealth and asqa citation precision with our final self ragtrained on the full 150k instances we also evaluate figures 4a 4b and 4c shows the models performance trained on different amount of data across all datasets increasing data size often shows upward trajectories and the improvements are significantly larger in popqa and asqa while we do not observed such significant improvements on llama2ft 7bwhen increasing the training data from 50k to 150k these results also indicate that further expanding the training data of selfragmay lead to further improvements although in this work we limit our training data size to 150k human evaluations we conduct small human evaluations on selfragoutputs as well as the reliability of predicted reflection tokens in particular we sampled 50 samples from popqa and bio results following menick et al 2022 human annotators evaluate sp which indicates whether the model output is plausible ie the output is a reasonable and ontopic response to the question as if it were occurring in a conversation and supported ie the provided evidence is sufficient to verify the validity of the answer for sp we do not consider the instances where selfrag predicts irrelevant orno support we then ask our annotators whether the modelpredicted reflection tokens about isreland issupmatch their inspections eg whether the fully supported output is supported by the cited evidence human annotators find selfraganswers are often plausible and supported by relevant passages with higher sp scores on shortform popqa which is consistent with menick et al 2022 human annotators also find isreland issupreflection token predictions are mostly aligned with their assessments appendix table 6 shows several annotated examples and explanations on assessments 6 c onclusion this work introduces selfrag a new framework to enhance the quality and factuality of llms through retrieval on demand and selfreflection selfragtrains an lm to learn to retrieve generate and critique text passages and its own generation by predicting the next tokens from its original vocabulary as well as newly added special tokens called reflection tokens selfragfurther enables the tailoring of lm behaviors at test time by leveraging reflection tokens our holistic evaluations on six tasks using multiple metrics demonstrate that selfragsignificantly outperforms llms with more parameters or with conventional retrievalaugmented generation approaches 10 mimetype textplain start_char_idx 0 end_char_idx 4184 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ bf7911c203254bd8b0ecb0867b6c52e8 embedding null metadata  page_label 11 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id e35add9d2b5340029c897a2eb7035111 node_type 4 metadata  page_label 11 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 4622935fb013489788254e5d2375605d04a5b6a9bcd33558a722a4951bd208cf class_name relatednodeinfo   text preprint ethical concerns this work aims to improve the factuality of llm outputs the lack of which continues to cause nu merous realworld problems eg spread of misinformation and provision of incorrect and dangerous advice while our method shows significant improvements in terms of performance factuality and citation accuracy it can still generate outputs that are not fully supported by the citations we hope that explicit selfreflection and finegrained attribution may help users verify factual errors in the model outputs acknowledgments we thank sewon min scott wentau yih sean welleck and kawin ethayarajh for fruitful discussions in the early stages of this work we thank sewon min joongwon daniel kim and sandy kaplan for valuable feedback on the paper and tianyu gao and weijia shi for their help on evaluations akari asai is supported by the ibm fellowship we thank stability ai for providing computing to train and evaluate the lms in this work and microsoft accelerate foundation models research program for the access to openai apis this work was funded in part by the darpa mcs program through niwc pacific n660011924031 nsf iis2044660 and gifts from ai2 references akari asai kazuma hashimoto hannaneh hajishirzi richard socher and caiming xiong learn ing to retrieve reasoning paths over wikipedia graph for question answering in international conference on learning representations 2020 url httpsopenreviewnetforum idsjgvhkrydh akari asai sewon min zexuan zhong and danqi chen retrievalbased language models and appli cations in proceedings of the 61st annual meeting of the association for computational linguistics tutorial 2023a url httpsaclanthologyorg2023acltutorials6 akari asai timo schick patrick lewis xilun chen gautier izacard sebastian riedel hannaneh hajishirzi and wentau yih taskaware retrieval with instructions in findings of the associ ation for computational linguistics 2023b url httpsaclanthologyorg2023 findingsacl225 bernd bohnet vinh q tran pat verga roee aharoni daniel andor livio baldini soares jacob eisenstein kuzman ganchev jonathan herzig kai hui et al attributed question answering evaluation and modeling for attributed large language models arxiv",
        "mimetype": "text/plain",
        "start_char_idx": 1400242,
        "end_char_idx": 1406950,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "695d78e6-47e1-4e54-ae57-922082a5ba30",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8d9f4be2-2edf-4047-9417-c5d9c01c6c0b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "971dfbf4673d8d5c99c03a9e990177afac1cba629c184f5383f2fa1b3a111324",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "60f800ab-be6f-4296-8c8a-f092765369d9",
                "node_type": "1",
                "metadata": {},
                "hash": "c64af1d0b8a0ba34959cd21002e77a09baad3a756ac706aee8c1b89bbf565088",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "idsjgvhkrydh akari asai sewon min zexuan zhong and danqi chen retrievalbased language models and appli cations in proceedings of the 61st annual meeting of the association for computational linguistics tutorial 2023a url httpsaclanthologyorg2023acltutorials6 akari asai timo schick patrick lewis xilun chen gautier izacard sebastian riedel hannaneh hajishirzi and wentau yih taskaware retrieval with instructions in findings of the associ ation for computational linguistics 2023b url httpsaclanthologyorg2023 findingsacl225 bernd bohnet vinh q tran pat verga roee aharoni daniel andor livio baldini soares jacob eisenstein kuzman ganchev jonathan herzig kai hui et al attributed question answering evaluation and modeling for attributed large language models arxiv preprint arxiv221208037 2022 url httpsarxivorgabs221208037 lingjiao chen matei zaharia and james zou how is chatgpts behavior changing over time arxiv preprint arxiv230709009 2023 url httpsarxivorgabs230709009 peter clark isaac cowhey oren etzioni tushar khot ashish sabharwal carissa schoenick and oyvind tafjord think you have solved question answering try arc the ai2 reasoning challenge arxiv preprint arxiv180305457 2018 url httpsarxivorgabs180305457 tri dao dan fu stefano ermon atri rudra and christopher r e flashattention fast and memory efficient exact attention with ioawareness in advances in neural information processing systems 2022 url httpsopenreviewnetforumidh4dqfpsibmx shehzaad dhuliawala mojtaba komeili jing xu roberta raileanu xian li asli celikyilmaz and jason weston chainofverification reduces hallucination in large language models arxiv preprint arxiv230911495 2023 url httpsarxivorgabs230911495 emily dinan stephen roller kurt shuster angela fan michael auli and jason weston wizard of wikipedia knowledgepowered conversational agents in international conference on learning representations 2019 url httpsopenreviewnetforumidr1l73irqkm yann dubois xuechen li rohan taori tianyi zhang ishaan gulrajani jimmy ba carlos guestrin percy liang and tatsunori b hashimoto alpacafarm a simulation framework for methods that 11 mimetype textplain start_char_idx 0 end_char_idx 3564 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ aa9dcc01a0e24b509059abd243a5b30f embedding null metadata  page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 1a98e8867ec945da99b84ffbeb631c57 node_type 4 metadata  page_label 12 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 76d5d73c776596bf26163dad0d55fdaafc0fe5e8260db1812e275f7b59cb2986 class_name relatednodeinfo   text preprint learn from human feedback arxiv preprint arxiv230514387 2023 url httpsarxiv orgabs230514387 tianyu gao howard yen jiatong yu and danqi chen enabling large language models to generate text with citations arxiv preprint arxiv230514627 2023 url httpsarxivorgabs 230514627 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang retrieval augmented language model pretraining in international conference on machine learning 2020 url httpsdlacmorgdoipdf10555535249383525306 gautier izacard mathilde caron lucas hosseini sebastian riedel piotr bojanowski armand joulin and edouard grave unsupervised dense information retrieval with contrastive learning transactions on machine learning research 2022a url httpsopenreviewnet forumidjkn1pxi7b0 gautier izacard patrick lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave fewshot learning with retrieval augmented language models arxiv preprint arxiv220803299 2022b url https arxivorgabs220803299 zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig active retrieval augmented generation arxiv preprint arxiv230506983 2023 url httpsarxivorgabs230506983 mandar joshi eunsol choi daniel weld and luke zettlemoyer triviaqa a large scale distantly supervised challenge dataset for reading comprehension in proceedings of the 55th annual meeting of the association for computational linguistics volume 1 long papers 2017 url httpsaclanthologyorgp171147 nitish shirish keskar bryan mccann lav r varshney caiming xiong and richard socher ctrl a conditional transformer language model for controllable generation arxiv preprint arxiv190905858 2019 url httpsarxivorgabs190905858 tomasz korbak kejian shi angelica chen rasika vinayak bhalerao christopher buckley jason phang samuel r bowman and ethan perez pretraining language models with human preferences ininternational conference on machine learning 2023 url httpsopenreviewnet forumidat8iw8koec tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob",
        "mimetype": "text/plain",
        "start_char_idx": 1406185,
        "end_char_idx": 1411470,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "60f800ab-be6f-4296-8c8a-f092765369d9",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "695d78e6-47e1-4e54-ae57-922082a5ba30",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "042a3c81de108b20f6d6f633f5f013a6e0860302b26b75fdfd46c60ead0f31e3",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ff41eb50-37c9-4182-aea7-ca9bdb3ea972",
                "node_type": "1",
                "metadata": {},
                "hash": "6ce320240e0a9fab055b2767ecc4ac3392ad6e5e2c44dcb6806ff0c407a59ec1",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "nitish shirish keskar bryan mccann lav r varshney caiming xiong and richard socher ctrl a conditional transformer language model for controllable generation arxiv preprint arxiv190905858 2019 url httpsarxivorgabs190905858 tomasz korbak kejian shi angelica chen rasika vinayak bhalerao christopher buckley jason phang samuel r bowman and ethan perez pretraining language models with human preferences ininternational conference on machine learning 2023 url httpsopenreviewnet forumidat8iw8koec tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov natural questions a benchmark for question answering research transactions of the association for computational linguistics 2019 url httpsaclanthologyorg q191026 woosuk kwon zhuohan li siyuan zhuang ying sheng lianmin zheng cody hao yu joseph e gonzalez hao zhang and ion stoica efficient memory management for large language model serving with pagedattention in proceedings of the acm sigops 29th symposium on operating systems principles 2023 url httpsarxivorgabs230906180 patrick lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich k uttler mike lewis wentau yih tim rockt aschel sebastian riedel and douwe kiela retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural infor mation processing systems 2020 url httpsproceedingsneuripsccpaper 2020file6b493230205f780e1bc26945df7481e5paperpdf xi victoria lin xilun chen mingda chen weijia shi maria lomeli rich james pedro rodriguez jacob kahn gergely szilvasy mike lewis luke zettlemoyer and scott yih radit retrieval augmented dual instruction tuning 2023 url httpsarxivorgabs231001352 nelson f liu tianyi zhang and percy liang evaluating verifiability in generative search engines arxiv preprint arxiv230409848 2023a url httpsarxivorgabs230409848 12 mimetype textplain start_char_idx 0 end_char_idx 3597 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ be63a0e795634896ba6b7f28beb511b0 embedding null metadata  page_label 13 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id b7f71bfaed7d46a586f6c6bbf3ee3988 node_type 4 metadata  page_label 13 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash aad168f5d58823fa69af2160a7f8258c7157f3440f67277c3b87d306dd51e674 class_name relatednodeinfo   text preprint yang liu dan iter yichong xu shuohang wang ruochen xu and chenguang zhu gpteval nlg evaluation using gpt4 with better human alignment arxiv preprint arxiv230316634 2023b urlhttpsarxivorgabs230316634 ximing lu sean welleck jack hessel liwei jiang lianhui qin peter west prithviraj am manabrolu and yejin choi quark controllable text generation with reinforced unlearning inadvances in neural information processing systems 2022 url httpsopenreview netforumid5haids3ux5o hongyin luo yungsung chuang yuan gong tianhua zhang yoon kim xixin wu danny fox helen meng and james glass sail searchaugmented instruction learning arxiv preprint arxiv230515225 2023 url httpsarxivorgabs230515225 aman madaan niket tandon prakhar gupta skyler hallinan luyu gao sarah wiegreffe uri alon nouha dziri shrimai prabhumoye yiming yang shashank gupta bodhisattwa prasad majumder katherine hermann sean welleck amir yazdanbakhsh and peter clark self refine iterative refinement with selffeedback arxiv preprint arxiv230317651 2023 url httpsarxivorgabs230317651 alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi when not to trust language models investigating effectiveness of parametric and nonparametric memories in proceedings of the 61st annual meeting of the association for computational linguistics volume 1 long papers 2023 url httpsaclanthologyorg2023 acllong546 jacob menick maja trebacz vladimir mikulik john aslanides francis song martin chadwick mia glaese susannah young lucy campbellgillingham geoffrey irving et al teaching language models to support answers with verified quotes arxiv preprint arxiv220311147 2022 urlhttpsarxivorgabs220311147 todor mihaylov peter clark tushar khot and ashish sabharwal can a suit of armor conduct electricity a new dataset for open book question answering in proceedings of the 2018 conference on empirical methods in natural language processing 2018 url httpsaclanthology orgd181260 sewon min danqi chen hannaneh hajishirzi and luke zettlemoyer a discrete hard em approach for weakly supervised question answering in proceedings of the 2019 conference on empirical methods in natural language processing and the 9th international joint conference on natu ral language processing emnlpijcnlp 2019 url",
        "mimetype": "text/plain",
        "start_char_idx": 1410746,
        "end_char_idx": 1415957,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ff41eb50-37c9-4182-aea7-ca9bdb3ea972",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "60f800ab-be6f-4296-8c8a-f092765369d9",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "8d451c9e8855e417b37c0744d8e1b52f76767dbc1fb84169a3f40ca40c0f2d67",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "cfa2d4b9-13e6-4c9f-a617-0a71aa3e7d34",
                "node_type": "1",
                "metadata": {},
                "hash": "b6f95ca5a08162fb06447d159c1cdc14b9e17b2f34868055b947ac17a5d38ef3",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "mikulik john aslanides francis song martin chadwick mia glaese susannah young lucy campbellgillingham geoffrey irving et al teaching language models to support answers with verified quotes arxiv preprint arxiv220311147 2022 urlhttpsarxivorgabs220311147 todor mihaylov peter clark tushar khot and ashish sabharwal can a suit of armor conduct electricity a new dataset for open book question answering in proceedings of the 2018 conference on empirical methods in natural language processing 2018 url httpsaclanthology orgd181260 sewon min danqi chen hannaneh hajishirzi and luke zettlemoyer a discrete hard em approach for weakly supervised question answering in proceedings of the 2019 conference on empirical methods in natural language processing and the 9th international joint conference on natu ral language processing emnlpijcnlp 2019 url httpsaclanthologyorg d191284 sewon min kalpesh krishna xinxi lyu mike lewis wentau yih pang wei koh mohit iyyer luke zettlemoyer and hannaneh hajishirzi factscore finegrained atomic evaluation of factual precision in long form text generation arxiv preprint arxiv230514251 2023 url https arxivorgabs230514251 reiichiro nakano jacob hilton suchir balaji jeff wu long ouyang christina kim christopher hesse shantanu jain vineet kosaraju william saunders et al webgpt browserassisted questionanswering with human feedback arxiv preprint arxiv211209332 2021 url https arxivorgabs211209332 jianmo ni chen qu jing lu zhuyun dai gustavo hernandez abrego ji ma vincent zhao yi luan keith hall mingwei chang and yinfei yang large dual encoders are generalizable retrievers in proceedings of the 2022 conference on empirical methods in natural language processing 2022 url httpsaclanthologyorg2022emnlpmain669 openai gpt4 technical report arxiv preprint arxiv230308774 2023 url httpsarxiv orgabs230308774 long ouyang jeffrey wu xu jiang diogo almeida carroll wainwright pamela mishkin chong zhang sandhini agarwal katarina slama alex gray john schulman jacob hilton fraser kelton luke miller maddie simens amanda askell peter welinder paul christiano jan leike and 13 mimetype textplain start_char_idx 0 end_char_idx 3558 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4cf69e84f16e437993b32abeeb2644a1 embedding null metadata  page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id f87e1df215234fb1b041c3dc481853b5 node_type 4 metadata  page_label 14 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 324830fe4d2c1b58fa5aae3382e7de88cd45421a91cdf5273fa1e7cc978a9e5f class_name relatednodeinfo   text preprint ryan lowe training language models to follow instructions with human feedback in advances in neural information processing systems 2022 url httpsopenreviewnetforum idtg8kacxeon debjit paul mete ismayilzada maxime peyrard beatriz borges antoine bosselut robert west and boi faltings refiner reasoning feedback on intermediate representations arxiv preprint arxiv230401904 2023 url httpsarxivorgabs230401904 fabio petroni aleksandra piktus angela fan patrick lewis majid yazdani nicola de cao james thorne yacine jernite vladimir karpukhin jean maillard vassilis plachouras tim rockt aschel and sebastian riedel kilt a benchmark for knowledge intensive language tasks in proceedings of the 2021 conference of the north american chapter of the association for computational linguistics human language technologies 2021 url httpsaclanthologyorg 2021naaclmain200 krishna pillutla swabha swayamdipta rowan zellers john thickstun sean welleck yejin choi and zaid harchaoui mauve measuring the gap between neural text and human text using divergence frontiers in advances in neural information processing systems 2021 url https openreviewnetforumidtqx7njp7pr samyam rajbhandari jeff rasley olatunji ruwase and yuxiong he zero memory optimizations toward training trillion parameter models in proceedings of the international conference for high performance computing networking storage and analysis 2020 url httpsdlacm orgdoi10555534337013433727 ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham incontext retrievalaugmented language models transactions of the association for computational linguistics 2023 url httpsarxivorgabs230200083 victor sanh albert webson colin raffel stephen bach lintang sutawika zaid alyafeai antoine chaffin arnaud stiegler arun raja manan dey m saiful bari canwen xu urmish thakker shanya sharma sharma eliza szczechla taewoon kim gunjan chhablani nihal nayak de bajyoti datta jonathan chang mike tianjian jiang han wang matteo manica sheng shen zheng xin yong harshit pandey rachel bawden thomas wang trishala neeraj jos rozen abheesht sharma andrea santilli thibault fevry jason alan fries ryan teehan teven le scao stella biderman leo gao thomas wolf and alexander m rush",
        "mimetype": "text/plain",
        "start_char_idx": 1415113,
        "end_char_idx": 1420373,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cfa2d4b9-13e6-4c9f-a617-0a71aa3e7d34",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ff41eb50-37c9-4182-aea7-ca9bdb3ea972",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "fba62b0ea71d14e452b30630557f1a110dd470e4d3eb614971f481edc5fdcc9d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "13a97ab0-7ff2-4bc9-9974-b3b2a0974882",
                "node_type": "1",
                "metadata": {},
                "hash": "3edf0f3e7d5c37786eb08941a3ceff7fbc4934021fbd852e8c3cf2d6dfd17b06",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "linguistics 2023 url httpsarxivorgabs230200083 victor sanh albert webson colin raffel stephen bach lintang sutawika zaid alyafeai antoine chaffin arnaud stiegler arun raja manan dey m saiful bari canwen xu urmish thakker shanya sharma sharma eliza szczechla taewoon kim gunjan chhablani nihal nayak de bajyoti datta jonathan chang mike tianjian jiang han wang matteo manica sheng shen zheng xin yong harshit pandey rachel bawden thomas wang trishala neeraj jos rozen abheesht sharma andrea santilli thibault fevry jason alan fries ryan teehan teven le scao stella biderman leo gao thomas wolf and alexander m rush multitask prompted training enables zeroshot task generalization in international conference on learning representations 2022 url httpsopenreviewnetforumid9vrb9d0wi4 timo schick jane dwivediyu roberto dess u0131 roberta raileanu maria lomeli luke zettlemoyer nicola cancedda and thomas scialom toolformer language models can teach themselves to use tools arxiv preprint arxiv230204761 2023 url httpsarxivorgabs2302 04761 john schulman filip wolski prafulla dhariwal alec radford and oleg klimov proximal policy optimization algorithms arxiv preprint arxiv170706347 2017 url httpsarxivorg abs170706347 freda shi xinyun chen kanishka misra nathan scales david dohan ed h chi nathanael scharli and denny zhou large language models can be easily distracted by irrelevant context inproceedings of the 40th international conference on machine learning 2023 url https proceedingsmlrpressv202shi23ahtml ivan stelmakh yi luan bhuwan dhingra and mingwei chang asqa factoid questions meet long form answers in proceedings of the 2022 conference on empirical methods in natural language processing 2022 url httpsaclanthologyorg2022emnlpmain566 james thorne andreas vlachos christos christodoulopoulos and arpit mittal fever a large scale dataset for fact extraction and verification in proceedings of the 2018 conference of the north american chapter of the association for computational linguistics human language tech nologies volume 1 long papers 2018 url httpsaclanthologyorgn181074 14 mimetype textplain start_char_idx 0 end_char_idx 3749 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ da395ad562a140a59aaee0b9906a67fd embedding null metadata  page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 9b12babf48984cdaa69a4eb774dbf8ba node_type 4 metadata  page_label 15 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 59f460130c999ae0ddfb07f337c5c7ae670d0759a2e53a4df2566663989554ee class_name relatednodeinfo   text preprint hugo touvron louis martin kevin stone peter albert amjad almahairi yasmine babaei nikolay bashlykov soumya batra prajjwal bhargava shruti bhosale et al llama 2 open foundation and finetuned chat models arxiv preprint arxiv230709288 2023 url httpsarxiv orgabs230709288 yizhong wang hamish ivison pradeep dasigi jack hessel tushar khot khyathi raghavi chandu david wadden kelsey macmillan noah a smith iz beltagy et al how far can camels go exploring the state of instruction tuning on open resources arxiv preprint arxiv230604751 2023 urlhttpsarxivorgabs230604751 jason wei maarten bosma vincent zhao kelvin guu adams wei yu brian lester nan du andrew m dai and quoc v le finetuned language models are zeroshot learners in international conference on learning representations 2022 url httpsopenreviewnetforum idgezrgcozdqr zeqiu wu yushi hu weijia shi nouha dziri alane suhr prithviraj ammanabrolu noah a smith mari ostendorf and hannaneh hajishirzi finegrained human feedback gives better rewards for language model training arxiv preprint arxiv230601693 2023 url https arxivorgabs230601693 yuxi xie kenji kawaguchi yiran zhao xu zhao minyen kan junxian he and qizhe xie decom position enhances reasoning via selfevaluation guided decoding arxiv preprint arxiv230500633 2023 url httpsarxivorgabs230500633 fangyuan xu weijia shi and eunsol choi recomp improving retrievalaugmented lms with compression and selective augmentation 2023 url httpsarxivorgabs2310 04408 ori yoran tomer wolfson ori ram and jonathan berant making retrievalaugmented language models robust to irrelevant context 2023 url httpsarxivorgabs231001558 xiang yue boshi wang kai zhang ziru chen yu su and huan sun automatic evaluation of attribution by large language models arxiv preprint arxiv230506311 2023 url https arxivorgabs230506311 tianhua zhang hongyin luo yungsung chuang wei fang luc gaitskell thomas hartvigsen xixin wu danny fox helen meng and james glass interpretable unified language checking arxiv preprint arxiv230403728 2023 url httpsarxivorgabs230403728 andy zhou kai yan michal",
        "mimetype": "text/plain",
        "start_char_idx": 1419760,
        "end_char_idx": 1424834,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "13a97ab0-7ff2-4bc9-9974-b3b2a0974882",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "cfa2d4b9-13e6-4c9f-a617-0a71aa3e7d34",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d5ca7458c0790b93393ac2b0320a0c9e4fd664aa8ba5a38766b77da69460b3f0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "ca5e0d1f-7a24-427f-a33f-dfa8b94d4d0b",
                "node_type": "1",
                "metadata": {},
                "hash": "afecaf6a633dcccfb8215268c30fafc18b50c3fca79f826ddf146cbe65779bb1",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "shi and eunsol choi recomp improving retrievalaugmented lms with compression and selective augmentation 2023 url httpsarxivorgabs2310 04408 ori yoran tomer wolfson ori ram and jonathan berant making retrievalaugmented language models robust to irrelevant context 2023 url httpsarxivorgabs231001558 xiang yue boshi wang kai zhang ziru chen yu su and huan sun automatic evaluation of attribution by large language models arxiv preprint arxiv230506311 2023 url https arxivorgabs230506311 tianhua zhang hongyin luo yungsung chuang wei fang luc gaitskell thomas hartvigsen xixin wu danny fox helen meng and james glass interpretable unified language checking arxiv preprint arxiv230403728 2023 url httpsarxivorgabs230403728 andy zhou kai yan michal shlapentokhrothman haohan wang and yuxiong wang language agent tree search unifies reasoning acting and planning in language models 2023 url https arxivorgabs231004406 daniel m ziegler nisan stiennon jeffrey wu tom b brown alec radford dario amodei paul christiano and geoffrey irving finetuning language models from human preferences arxiv preprint arxiv190908593 2019 url httpsarxivorgabs190908593 15 mimetype textplain start_char_idx 0 end_char_idx 2498 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 95a014f250da4dcda4462a67891b3876 embedding null metadata  page_label 16 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id ac309eae0e224665a079e4485606960a node_type 4 metadata  page_label 16 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash b4b64915df660c6ac84f37319de0b7abd7384b62a6df4d9bd5cbdd3a174c753b class_name relatednodeinfo   text preprint appendix a s elfragdetails 17 a1 reflection tokens 17 a2 s elfragtraining 17 a3 s elfraginference 19 b experimental details 19 b1 more details of training 19 b2 more details of evaluations 20 c results 20 c1 analysis 20 c2 human evaluation examples 21 c3 qualitative examples 21 d full list of instructions and demonstrations for gpt4 21 16 mimetype textplain start_char_idx 0 end_char_idx 612 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 25cd27a152d44be8a643ca5ddd91b632 embedding null metadata  page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 531f63c190814150bf1035b17f7fc025 node_type 4 metadata  page_label 17 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 973e7e556688d460a35d7068f09aee7a8015ad1bbf62f6db47ef5f527fcd7d0c class_name relatednodeinfo   text preprint a s elfragdetails a1 r eflection tokens definitions of reflection tokens below we provide a detailed definition of reflection type and output tokens the first three aspects will be provided at each segment level while the final aspect is only given at each output level retrievalondemand retrieve given an input and previousstep generation if applicable an lm determines whether the continuation requires factual grounding noindicates retrieval is unnecessary as the sequence does not require factual grounding or may not be enhanced by knowledge retrieval yes indicates retrieval is necessary we additionally have continue to use evidence which indicates that a model can continue to use the evidence retrieved previously for instance a passage may contain rich factual information and thus selfrag generates multiple segments based on the passage relevant isrel retrieved knowledge may not be always relevant to the input this aspect indicates whether the evidence provides useful information relevant or not irrelevant supported issup attribution is the concept of whether the output is fully supported by certain evidence menick et al 2022 bohnet et al 2022 this aspect judges how much infor mation in the output is entailed by the evidence we evaluate attributions in three scale fully supported partially supported and no support contradictory follow ing yue et al 2023 nakano et al 2021 useful isuse following the definitions from liu et al 2023a we define the perceived utility as whether the response is a helpful and informative answer to the query independently from whether it is in fact factual or not this can be also viewed as plausibility in menick et al 2022 for usefulness we use a fivescale evaluation 1 is the lowest and 5 is the highest details of gpt4based data collections we use the instruction and demonstration pairs to prompt gpt4 listed in section d following an official recommendation we separate instructions and outputs with we use the temperature 1 and set the maximum output token counts to be 200 we discard instances where gpt4 does not follow the designated output formats or output sequences that do not match our expected category names as a result we collected 12594 for retrieve 11181 for issup 19317 for relevance 3831 for utility manual analysis of the gpt4 predictions the authors of this paper manually assess randomly sampled 20 instances for each aspect and check if gpt4 predictions match their assessments given the same instruction demonstrations and test instances we found our assessments show high agreement with gpt4 predictions especially for relevance",
        "mimetype": "text/plain",
        "start_char_idx": 1424091,
        "end_char_idx": 1430015,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "ca5e0d1f-7a24-427f-a33f-dfa8b94d4d0b",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "13a97ab0-7ff2-4bc9-9974-b3b2a0974882",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b8fc18b63bce266dd80fff576bbbfb9fb863d0e38981045c658a7cf184227964",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "20bd3f88-26ef-42b8-b809-57597eab85bd",
                "node_type": "1",
                "metadata": {},
                "hash": "4782bfbd2a7c070ee00e25b2444825aa5bf65279d4e04c819b9437bb0eb8b6be",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "in fact factual or not this can be also viewed as plausibility in menick et al 2022 for usefulness we use a fivescale evaluation 1 is the lowest and 5 is the highest details of gpt4based data collections we use the instruction and demonstration pairs to prompt gpt4 listed in section d following an official recommendation we separate instructions and outputs with we use the temperature 1 and set the maximum output token counts to be 200 we discard instances where gpt4 does not follow the designated output formats or output sequences that do not match our expected category names as a result we collected 12594 for retrieve 11181 for issup 19317 for relevance 3831 for utility manual analysis of the gpt4 predictions the authors of this paper manually assess randomly sampled 20 instances for each aspect and check if gpt4 predictions match their assessments given the same instruction demonstrations and test instances we found our assessments show high agreement with gpt4 predictions especially for relevance 95 retrieval necessity 95 and the degree of support 90 agreement was slightly lower in usefulness 80 mostly due to the disagreement between 1 and 2 or 4 and 5 a2 s elfragtraining overview of training algorithm 2 provides a highlevel overview of our training full list of seed datasets to sample diverse inputoutput pairs we sample instances of the open instruct wang et al 2023 dataset in particular we use their sharegpt gpt4 alpaca alpaca openassistant and flan subsets subsets we also sample instances from a couple of knowledge intensive datasets natural questions kwiatkowski et al 2019 wizard of wikipedia dinan et al 2019 and fever thorne et al 2018 from the kilt benchmark petroni et al 2021 asqa stel makh et al 2022 and multiple qa datasets including arceasy and openbookqa mihaylov et al 2018 table 3 shows the full list of training instances and in total we use 145619 instances performance of the critic cwe evaluate the accuracy of reward predictions by splitting gpt4 generated feedback into training development and test sets the accuracy of the reward model is as follows table 5 shows the model performance of predicting gpt4 judgments as you can see overall our finetuned reward model shows high prediction matching with gpt4 predicted feedback 17 mimetype textplain start_char_idx 0 end_char_idx 3895 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 3c344c1dad4d4a45b2a081b01f7ea9a3 embedding null metadata  page_label 18 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 7c45daec534b4b169cee97dd3003938e node_type 4 metadata  page_label 18 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 53d4171fd21e9de1357ba6f6c8532a8247fdd33f5a5024df87e07417f8008281 class_name relatednodeinfo   text preprint algorithm 2 selfragtraining 1input inputoutput data dx y generator mcu03b8 2initialize cwith a pretrained lm 3sample data xsample ysample x y training critic lm section 321 4forx yxsample ysampledo data collections for c 5 prompt gpt4 to collect a reflection token rforx y 6 addx y r todcritic 7update cwith next token prediction loss critic learning eq 1 8initialize mwith a pretrained lm training generator lm section 322 9forx yx y do data collection for mwithdcritic 10 runcto predict rgiven x y 11 addx y r todgen 12update mondgenwith next token prediction loss generator lm learning eq 2 dataset name category data source the number of instances gpt4 alpaca instructionfollowing openinstruct 26168 stanford alpaca instructionfollowing openinstruct 25153 flanv2 instructionfollowing openinstruct 17817 sharegpt instructionfollowing openinstruct 13406 open assistant 1 instructionfollowing openinstruct 9464 wizard of wikipedia knowledgeintensive kilt 17367 natural questions knowledgeintensive kilt 15535 fever knowledgeintensive kilt 9966 openboookqa knowledgeintensive hf dataset 4699 arceasy knowledgeintensive hf dataset 2147 asqa knowledgeintensive asqa 3897 table 3 the generator lm mtraining data statistics base lm retrieve issup isrel isuse llama27b 938 935 802 735 flan3b 856 731 820 721 figure 5 reward prediction accuracy using gpt4 predictions as groundtruth predictions while our final model uses llama27b as a base lm we also train and compare flan3b wei et al 2022 model on the same data to investigate the effectiveness of different data sizes affect final reward predictions in most aspects our reward model shows higher than 80 accuracy indicating the powerful ability of finetuned specialized lms to evaluate text while both models show relatively lower performance on isuse this is because both models often confuse between the two highest cases 5 and 4 where human annotators can also disagree details of mdata creation here we provide detailed data creation procedures algorithm 3 summarizes the process here we set yttoyfor simplification once we train the critic model we first run it on input data from the aforementioned datasets to predict whether retrieval is needed or not for the instances where the critic predicts retrieve no we only predict the isusegiven input and output for the instances where the critic predicts retrieve yes we first retrieve passages using the input and the entire output as queries to find passages that are relevant to the entire output we then split output sentences using spacy7for each sentence we run cto predict whether the retrieval is necessary or not given the input preceding segments and the initial retrieved passage if cpredicts retrieve no then do not insert any paragraph at the tth segment if cpredicts retrieve yes then we use the original input and the tth segment as a retrieval query to find relevant passages for the tth segment for each retrieved passage we predict isreland issup if there is any passage and continuation with isrelrelevant and issupfully supported",
        "mimetype": "text/plain",
        "start_char_idx": 1429000,
        "end_char_idx": 1435248,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "20bd3f88-26ef-42b8-b809-57597eab85bd",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "ca5e0d1f-7a24-427f-a33f-dfa8b94d4d0b",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "05a24f1482d54a557637d140ddc5774376d851b5a7d3c9d9a32411515ce4ed8d",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "cb286cdf-6b02-4459-acb2-895e40b53e3a",
                "node_type": "1",
                "metadata": {},
                "hash": "0a3413e2e453aa5bde57884e24d84d99f94a46a39f02eac41fb5528d7091955f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "data creation procedures algorithm 3 summarizes the process here we set yttoyfor simplification once we train the critic model we first run it on input data from the aforementioned datasets to predict whether retrieval is needed or not for the instances where the critic predicts retrieve no we only predict the isusegiven input and output for the instances where the critic predicts retrieve yes we first retrieve passages using the input and the entire output as queries to find passages that are relevant to the entire output we then split output sentences using spacy7for each sentence we run cto predict whether the retrieval is necessary or not given the input preceding segments and the initial retrieved passage if cpredicts retrieve no then do not insert any paragraph at the tth segment if cpredicts retrieve yes then we use the original input and the tth segment as a retrieval query to find relevant passages for the tth segment for each retrieved passage we predict isreland issup if there is any passage and continuation with isrelrelevant and issupfully supported issuppartially 7httpsspacyio 18 mimetype textplain start_char_idx 0 end_char_idx 3089 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ f95d3b699d274fbaa463346e72e71063 embedding null metadata  page_label 19 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 41511fabfbf9430d99e745d51ac59672 node_type 4 metadata  page_label 19 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 3bc38399a202d33dafec7ec7771deab1ab36de1340c05be8d5bc6e924cc632eb class_name relatednodeinfo   text preprint supported then we sample it as the continuation if there is more than one passage satisfying this criterion we use the one with the highest retrieval score if there are only isrelirrelevant or issupno support passages we randomly sample one passage algorithm 3 mgendata creation 1input inputoutput data dx y 2forx y x ydo 3 given x ycpredicts retrieve 4 ifretrieve is predicted then 5 retrieve relevant passages dusingrgiven x y retrieve passages 6 fordddo 7 cpredicts isrelfor each d predict relevance of passages 8 cpredicts issupfor each y d predict supports of outputs 9 cpredicts isusefor each d predict overall utility ttonly 10 sample d 11 else if retrieve is not predicted then 12 cpredicts isusegiven x y add augmented x y d r todgen training examples table 4 show several training examples used for mtraining a3 s elfraginference details of beamsearch score calculations we first compute scores for each critique type by taking the normalized probabilities of desirable tokens for isrel we compute the score as follows sisrel pisrelrelevant pisrelrelevant pisrelirrelevant for issup we compute the score as follows sisrel pissupfully s 05pissuppartially s where sp tfullypartially nopissupt for isusewhere we have a fivescale score we compute the weighted sum of the scores we assigns weighted scores of w1050051 to the tokens isuse12345 and compute the final scores as follows sisuse 5x iwipisusei s where sp t12345pisuset details of adaptive retrieval for retrieval based on soft constraints we trigger retrieval if the following condition is satisfied pretrieve yes pretrieve yes ppretrieve no u03b4 b e xperimental details b1 m ore details of training more details of training and computations we use 4 nvidia a100 with 80gb memory to train our models all models are trained for 3 epochs with a batch size of 128 a peak learning rate of 2e5 with 3 warmup steps and linear decay afterward we set the maximum token length to be 2048 for the 7b model and 1524 for the 13b model due to the memory constraint we use deepspeed stage 3 rajbhandari et al 2020 to conduct multigpu distributed training with training precision bfloat16 enabled flashattention dao et al 2022 is used to make the longcontext training more efficient we run inference of our trained models using 12 quadro rtx 6000 gpus with 24gb memory 19 mimetype textplain start_char_idx 0 end_char_idx 2336 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 2bd960ee803246b18cd9ce0962d4a1f0 embedding null metadata  page_label 20 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id f737b5f91daa4dea8029c7eb790f30e7 node_type 4 metadata  page_label 20 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 0b31a0e9477dc9d2a4686b799ca47b25cc8d385ff47feac0d38494176f6e303b class_name relatednodeinfo   text preprint b2 m ore details of evaluations retrieval setup details by default we use contrieverms marco to retrieve the top five documents from wikipedia and use official wikipedia embeddings based on 2018 english wikipedia on popqa where question and answer pairs are created based on wikidata in 2022 we found that the 2018 wikipedia sometimes lacks articles about some entities that have been more recently added to wikipedia therefore for popqa we used the december 2020 preprocessed wikipedia corpus provided by izacard et al 2022b and generated document embeddings8the issues of performance variance from different wikipedia dumps have been reported by prior work",
        "mimetype": "text/plain",
        "start_char_idx": 1434170,
        "end_char_idx": 1440092,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cb286cdf-6b02-4459-acb2-895e40b53e3a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "20bd3f88-26ef-42b8-b809-57597eab85bd",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "23a000896a91d65f17725d36245477a7498aa0b217135131e7e09e8a14be46c0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d0fdc437-05ad-4f72-b346-96ab77b417d2",
                "node_type": "1",
                "metadata": {},
                "hash": "583473f8a9c74944a558202bfc4dc21d46a8c022270b325860486125cf0962ac",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 0b31a0e9477dc9d2a4686b799ca47b25cc8d385ff47feac0d38494176f6e303b class_name relatednodeinfo   text preprint b2 m ore details of evaluations retrieval setup details by default we use contrieverms marco to retrieve the top five documents from wikipedia and use official wikipedia embeddings based on 2018 english wikipedia on popqa where question and answer pairs are created based on wikidata in 2022 we found that the 2018 wikipedia sometimes lacks articles about some entities that have been more recently added to wikipedia therefore for popqa we used the december 2020 preprocessed wikipedia corpus provided by izacard et al 2022b and generated document embeddings8the issues of performance variance from different wikipedia dumps have been reported by prior work asai et al 2020 izacard et al 2022b yet we observe limited effectiveness of such offtheshelf retrieval models trained primarily on knowledgeintensive tasks for openended generation eg instruction following recent or concurrent work studies instructiontuning of retrieval systems asai et al 2023b or joint training of retrieval and lm components lin et al 2023 while we leave exploring the effectivess of such appraoches for future work for bio generation and opendomain qa tasks we additionally retrieve five documents using google programmable search9and search documents from english wikipedia as this api only provides snippets we retrieve wikipedia introductory paragraphs for the corresponding entities detailed experimental settings for individual datasets for openqa datasets we set the max imum new token number to 100 tokens for closedset tasks pubhealth and arcc we set the maximum new token length to 50 for all baselines for selfraginference on pubhealth and arcc instead of determining the output with the highest score 4 as in other tasks we aggregate the scores for each option and select the answer option with the highest score we found in zeroshot settings of fact checking some llms can generate capitalized class labels eg true while our gold labels are lowercased therefore across different lms for fact checking we lowercase the predictions in multiple choice tasks we found some models generate answers in slightly different ways eg a instead of a we slightly modify instructions for each llm to avoid such format violations and further conduct string matching between each candidate and model predictions if format violations still remain after that processing in closed set tasks model predictions match one of the gold classes in almost all cases for alce we found that llama2chat tend to generate significantly lower outputs than other models eg on average their output is nearly 100 token while chatgpt generates 40 tokens on average resulting in inflated strem scores we limit the maximum generation length to 100 tokens for all baselines to avoid this issue rather than the original 300 tokens in the alce paper consequently all of the baseline output length is within 3060 tokens for factscore we set the maximum new token length to 500 for baselines and 200 for selfragat each segment level taskspecific instructions table 5 shows the list of the instructions used during evaluations for opendomain qa we do not provide explicit instructions c r esults c1 a nalysis reliance on parametric and nonparametric memories we conduct analysis on how frequently model answers come from retrieved passages nonparametric memories or their own parametric memories on two opendomain qa datasets triviaqa and popqa we conduct the following analysis 1 sample query models successfully answer correctly 2 for each query in this group check whether the matched groundtruth answer is a substring of the retrieved passage or not we evaluate selfrag7b alpaca 7b alpaca 13b and llama2chat13b we found that selfrag significantly less frequently generates answers that are not included in the provided evidence in particular in alpaca 30b 20 of the correct predictions are not included in the provided passages followed by llama2chat 13b 18 and alpaca 15 while it is only 2 in selfrag when retrieved passages are not relevant selfraggenerates isrelirrelevant indicating that the following answers may not be factually grounded while those instructiontuned models continue to generate plausible answers 8httpsgithubcomfacebookresearchatlas 9httpsprogrammablesearchenginegooglecomabout 20 mimetype textplain start_char_idx 0 end_char_idx 4265 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ a012487c5e1c4b9483887f3717753c43 embedding null metadata  page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 2e6e99aba4514cdc873980fef27469bb node_type 4 metadata  page_label 21 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 150f6769c3018801521c367ab8a5bebf77a4fc01ff97e5cb3f5a339e8944395c class_name relatednodeinfo   text preprint c2 h uman evaluation examples table 6 shows examples with human evaluations on sp and correctness of isreland issup reflection tokens c3 q ualitative examples table 7 shows several examples predicted by our selfrag13b the first example is the model output to an asqa question the first reference states that emperor constantine made sunday a day of rest from labor and further the second citation supports the fact that the official adoption of sunday as a day of rest by constantine in ad 321 in the second example the model predicts contradictory to the first output as the output says the person has served as the ceo since 2010 while the passage says he stepped down as ceo in 2015 indicating those factual contradictions as reflection tokens enables to enforcement of hard control and also verification of model outputs easily in the third example while the generation is mostly correct selfragpredicts partially support to the statement listing the name of the songs as they were not explicitly mentioned d f ull list of instructions and demonstrations for gpt4 here we show the instructions and demonstrations used to prompt gpt4 to collect reflection tokens table 8 shows the instructions and demonstrations for the initial retrieval token table 9 shows the instruction and demonstrations used to collect the",
        "mimetype": "text/plain",
        "start_char_idx": 1439226,
        "end_char_idx": 1445921,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d0fdc437-05ad-4f72-b346-96ab77b417d2",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "cb286cdf-6b02-4459-acb2-895e40b53e3a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "d95bbba7eea5475d2a50aa85ecfabc28e0a7a8da110409c52e0748fd72f76816",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8093face-5126-42f0-baf1-396831f6ca6a",
                "node_type": "1",
                "metadata": {},
                "hash": "1822d5f57ca5d167ec8bec9a8e6b28b91c97ced4194eb205b6bdd6a66b6de30d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "first example is the model output to an asqa question the first reference states that emperor constantine made sunday a day of rest from labor and further the second citation supports the fact that the official adoption of sunday as a day of rest by constantine in ad 321 in the second example the model predicts contradictory to the first output as the output says the person has served as the ceo since 2010 while the passage says he stepped down as ceo in 2015 indicating those factual contradictions as reflection tokens enables to enforcement of hard control and also verification of model outputs easily in the third example while the generation is mostly correct selfragpredicts partially support to the statement listing the name of the songs as they were not explicitly mentioned d f ull list of instructions and demonstrations for gpt4 here we show the instructions and demonstrations used to prompt gpt4 to collect reflection tokens table 8 shows the instructions and demonstrations for the initial retrieval token table 9 shows the instruction and demonstrations used to collect the threeway output tokens for retrieve given instruction preceding sentences and previously retrieved passages due to the longer demonstration and test input we only use a single demonstration table 10 shows an instruction and demonstrations used to collect the threeway output tokens for isrel table 11 shows an instruction and demon strations used to collect the threeway output tokens for isrel table 12 shows an instruction and demonstrations used to collect the fiveway output tokens for isuse 21 mimetype textplain start_char_idx 0 end_char_idx 1824 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 7958bcc3d53440178bf955d844bfd61a embedding null metadata  page_label 22 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 032d1f48f878485e9b89487ccffa930a node_type 4 metadata  page_label 22 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 12dcc1d02c89891b28dbaf42b04184e5a68858bc211588ad496c9cc854e8b26e class_name relatednodeinfo   text preprint input identify the two types of computer memory from gpt4 alpaca output retrieve yespcomputer memory computer memory in computing memory refers to the computer hardware integrated circuits that store information for immediate use in a computer it is synonymous with the term primary storage computer memory operates at a high speed for example randomaccess memory ram as a distinction from storage that provides slowtoaccess information but offers higher capacities if needed contents of the computer memory can be transferred to secondary storage a very common way of doing this is through a memory management technique called virtual memory an archaic synonym for memory is store the term memory meaning primary storage or main memory is pisrelrelevant primary memory also known as main memory is the memory that the computer can directly access and manipulate issupfully supported retrieve yespcomputer memoryoften associated with addressable semiconductor memory ie integrated circuits consisting of siliconbased transistors used for example as primary storage but also other purposes in computers and other digital electronic devices there are two main kinds of semiconductor memory volatile and nonvolatile examples of nonvolatile memory are flash memory used as secondary memory and rom prom eprom and eeprom memory used for storing firmware such as bios examples of volatile memory are primary storage which is typically dynamic randomaccess memory dram and fast cpu cache memory which is typically static randomaccess memory sram that is fast but energyconsuming offering lower memory pisrelrelevant primary memory can be accessed quickly but it is volatile meaning that the data is lost if the power is turned off issuppartially supported isuse5 input give an example of a situation where you have to delegate tasks from gpt4 alpaca output retrieve nothe manager realizes that there is an extensive list of tasks that need to be completed in order to make the event a success retrieve yespdelegationdelegation is the assignment of any responsi bility or authority to another person normally from a manager to a subordinate to carry out specific activities it is one of the core concepts of management leadership however the person who delegated the work remains accountable for the outcome of the delegated work delegation empowers a subordinate to make decisions ie it is a shifting of decisionmaking authority from one organizational level to a lower one delegation if properly done is not fabrication the opposite of effective delegation is micromanagement where a manager provides too much input pisrelrelevant this includes tasks such as creating a guest list designing and sending in vitations booking a venue coordinating with vendors planning the event s program and monitoring the budget issuppartially supported retrieve nosince it is not possible for the manager to handle everything alone they must delegate tasks to their team members retrieve nothe manager would then assign each team member specific responsibilities based on their individual skillsets and strengths retrieve yespjoint application design subject matter experts these are the business users the is professionals and the outside experts that will be needed for a successful workshop this group is the backbone of the meeting pisrel irrelevant for instance the team s graphic designer might be tasked with designing the invitations while the event coordinator would be in charge of planning the program and working with vendors retrieve noby delegating tasks the manager can ensure that all necessary tasks are completed in a timely manner while also empowering their team members to take on responsibilities and contribute to the success of the event isuse 5 input synthesize a poem based on this promptthe sun is setting from stanford alpaca output retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve no they flicker like a silent dance a peaceful moment in its trance retrieve no they flicker like a silent dance a peaceful moment in its trance retrieve no a chorus of crickets sing a lullaby to every creature that roams the sky isuse5 input when did walking dead season 7 come out from nq output retrieve yespthe walking dead season 7the walking dead season 7 the seventh season of the walking dead an american postapocalyptic horror television series on amc premiered on october 23 2016 and concluded on april 2 2017 consisting of 16 episodes developed for television by frank darabont the series is based on the eponymous series of comic books by robert kirkman tony moore and charlie adlard pisrelrelevant october 23",
        "mimetype": "text/plain",
        "start_char_idx": 1444827,
        "end_char_idx": 1452078,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8093face-5126-42f0-baf1-396831f6ca6a",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "d0fdc437-05ad-4f72-b346-96ab77b417d2",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "8a21f87a7ab3fa7fb74353323a80af54d6e0bf7254537a1a11a8631f4cf9e009",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "8e5d3add-929c-4263-82f8-93ee98cb29cc",
                "node_type": "1",
                "metadata": {},
                "hash": "6dd5a914da0a4de1dc9010121a2f3730cb4f4efe0c1e96171b239fbbda5d6814",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "alpaca output retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve no they flicker like a silent dance a peaceful moment in its trance retrieve no they flicker like a silent dance a peaceful moment in its trance retrieve no a chorus of crickets sing a lullaby to every creature that roams the sky isuse5 input when did walking dead season 7 come out from nq output retrieve yespthe walking dead season 7the walking dead season 7 the seventh season of the walking dead an american postapocalyptic horror television series on amc premiered on october 23 2016 and concluded on april 2 2017 consisting of 16 episodes developed for television by frank darabont the series is based on the eponymous series of comic books by robert kirkman tony moore and charlie adlard pisrelrelevant october 23 2016 issupfully supported isuse5 input given a chat history separated by new lines generates an informative knowledgeable and engaging response hello i love german shepherd dogs and you my favorite dog they are officially known as german shepherd dogs yes i have a german shepherd in my house and she is pregnant from wow output hey also are easily trained obedient and intelligent retrieve yespgerman shepherd a simple difference of opinion it is the fundamental issue of the breed s essential conformation and movement they are known for being easy to train and good for performing tasks and following instructions they are especially well known for their police work being used for tracking criminals patrolling troubled areas and detecting and holding suspects pisrelrelevant because of this they are often used for disability assistance and for police work issuppartially supported isuse2 table 4 list of the training examples 22 mimetype textplain start_char_idx 0 end_char_idx 5703 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 51e0f826780b42cfbff9f33a7cd4c954 embedding null metadata  page_label 23 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 31c1b7b317604fd7b6a33d50ec17de35 node_type 4 metadata  page_label 23 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 1972b2e7014a78fdf695520eff68f4067698c905ce740fc0d330e0a109dc9170 class_name relatednodeinfo   text preprint dataset instruction arcc given four answer candidates a b c and d choose the best answer choice please answer with the capitalized alphabet only without adding any extra phrase or period pubhealth is the following statement correct or not say true if its correct otherwise say false dont capitalize or add periods just say true or false bio generation tell me a bio about person name asqa baseline instruction write an accurate engaging and concise answer for the given question using only the provided search results some of which might be irrelevant and cite them properly use an unbiased and journalistic tone always cite for any factual claim when citing several search results use 123 cite at least one document and at most three documents in each sentence if multiple documents support the sentence only cite a minimum sufficient subset of the documents asqa ours answer the following question the question may be ambiguous and have multiple correct answers and in that case you have to provide a longform answer including all correct answers table 5 full list of instructions used during zeroshot evaluations for opendomain qa we dont use any task specific instruction and simply use the original questions as input query 23 mimetype textplain start_char_idx 0 end_char_idx 1240 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 1d926bf5d46e41e88a65f1758bb1be70 embedding null metadata  page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id eb82bd0c36a14f88880c31160c752555 node_type 4 metadata  page_label 24 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 3a9a0d76064aacfb6371067a8e4072654a1c84ef1ca7e497f6b4d51fb1ab964a class_name relatednodeinfo   text preprint input what genre is a question and answer guide to astronomy popqa output retrieve yespreference 1 pisrelrelevant a question and answer guide to as tronomy is a nonfiction book that falls under the genre of astronomy and cosmology issupfully supported isuse5 reference 1 a question and answer guide to astronomy is a book about astronomy and cosmology and is intended for a general audience the book was written by pierreyves bely carol christian and jeanrene roy and published in english by cambridge university press in 2010 it was originally written in french the content within the book is written using a question and answer format it contains some 250 questions which the science teacher states each are answered with a concise and wellformulated essay that is informative and readable the science teacher review goes on to state that many of the answers given in the book are little gems of science writing the science teacher summarizes by stating that each question is likely to be thought of by a student and that the answers are informative well constructed and thorough the book covers information about the planets the earth the universe practical astronomy history and awkward questions such as astronomy in the bible ufos and aliens also covered are subjects such as the big bang comprehension of large numbers and the moon illusion sp supported and plausible correctness of isreland issupboth isreland issupare correct as the reference 1 provides detailed information of the book including the genre and the model output is fully supported by the reference input who is",
        "mimetype": "text/plain",
        "start_char_idx": 1451162,
        "end_char_idx": 1457661,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8e5d3add-929c-4263-82f8-93ee98cb29cc",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8093face-5126-42f0-baf1-396831f6ca6a",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "cdfc870086b63df4abe88ad03e41c772ae48f98adbe3fe38a1922209c3ba87e0",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "6f4b6eeb-edc3-459e-ac4e-54a3236ac558",
                "node_type": "1",
                "metadata": {},
                "hash": "3f6b2e7478f1d5e0e3ab36b6743cc922be3b5b42cd7c8348dba0fd680a129191",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "roy and published in english by cambridge university press in 2010 it was originally written in french the content within the book is written using a question and answer format it contains some 250 questions which the science teacher states each are answered with a concise and wellformulated essay that is informative and readable the science teacher review goes on to state that many of the answers given in the book are little gems of science writing the science teacher summarizes by stating that each question is likely to be thought of by a student and that the answers are informative well constructed and thorough the book covers information about the planets the earth the universe practical astronomy history and awkward questions such as astronomy in the bible ufos and aliens also covered are subjects such as the big bang comprehension of large numbers and the moon illusion sp supported and plausible correctness of isreland issupboth isreland issupare correct as the reference 1 provides detailed information of the book including the genre and the model output is fully supported by the reference input who is the author of the lie popqa output retrieve yespreference 1 pisrelrelevant the author of the lie is sam harris issupfully supported isuse5 reference 1 lying is a 2011 longform essay book by american author and neuroscience expert sam harris harris argues that we can radically simplify our lives and improve society by merely telling the truth in situations where others often lie sp plausible but not supported correctness of isreland issupboth isreland issupare incorrect as the reference 1 is about a different book whose title is similar to the lie input tell me a bio about ronaldinho bio output retrieve yespreference 1 pisrelrelevant ronaldinho is a retired professional footballer from brazil issupfully supported retrieve continue he played as an attacking midfielder and was known for his technical skills creativity dribbling ability and accuracy from free kicks retrieve continue he won two fifa world player of the year awards and a ballon dor isuse5 reference 1 ronaldo de assis moreira born 21 march 1980 commonly known as ronaldinho ga ucho or simply ronaldinho is a brazilian retired professional footballer who played mostly as an attacking midfielder but was also deployed as a winger considered one of the best players of his generation and regarded by many as one of the greatest of all time ronaldinho won two fifa world player of the year awards and a ballon dor a global icon of the sport he was renowned for his technical skills creativity dribbling ability and accuracy from freekicks as well as his use of tricks feints nolook passes and overhead sp plausible and fully supported correctness of isreland issupboth isreland issupare correct input tell me a bio about sergei bodrov bio output retrieve yespreference 1 p isrelrelevant sergei vladimirovich bodrov born june 28 1948 is a russian film director screenwriter and producer issupfully supported retrieve continue he was born in moscow russia retrieve continue he is the presi dent of the russian guild of film producers isuse5 reference 1 sergei vladimirovich bodrov born june 28 1948 is a russian film director screenwriter and producer in 2003 he was the president of the jury at the 25th moscow international film festival sp plausible but only partially supported the the reference 1 does not explicitly mention the person is born in moscow and there is no description about the russian guild of film producers correctness of isreland issup isreland issupare correct as the reference document is highly relevant and the first sentence is fully supported table 6 examples of human evaluation results 24 mimetype textplain start_char_idx 0 end_char_idx 4195 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ c287847f33a14fe29ed0f9298b31d875 embedding null metadata  page_label 25 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id cf588f54862e488bb98ea92d4913a2ee node_type 4 metadata  page_label 25 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash f7c5f0edf24fea5ca7e0a890f9aa3b994c9bffbbd8a0220d03d4c3fb94033263 class_name relatednodeinfo   text preprint input when did sunday became the seventh day of the week asqa output retrieve yespreference 1 pisrelrelevant in 321 ad the roman emperor con stantine the great made sunday a day of rest from labor stating on the venerable day of the sun let the magistrates and people residing in cities rest and let all workshops be closed issupfully supported retrieve yespreference 2 pisrelrelevant the official adoption of sunday as a day of rest by constantine the great in ad 321 made sunday the seventh day of the week 2issupfully supported isuse5 reference 1 emperor constantine then enacted the first sunday laws for the venerable day of the sun in 321 ad on march 7 321 the roman emperor constantine issued a decree making sunday a day of rest from labor stating we find a good description of this in sources such as the book rest days which states early christian observance of both the spiritual seventhday sabbath and a lord s day assembly is evidenced in ignatius s letter to the magnesians ca 110 reference 2 despite the official adoption of sunday as a day of rest by constantine the sevenday week and the nundial cycle continued to be used sidebyside until at least the calendar of 354 and probably later the fact that the canon had to be issued at all is an indication that adoption of constantines decree of 321 was still not universal input tell me a bio about rory tapner bio generation output preference 1 pisrelrelevant rory tapner is a british businessman who has served as the chief executive officer of coutts a private banking and wealth management company since 2010 issup contradictory reference 2 pisrelrelevant rory tapner was born on 30 september 1959 in london england issupfully supported reference 1 rory tapner rory tapner is a uk businessman who in september 2010 was appointed ceo of coutts the wealth management division of royal bank",
        "mimetype": "text/plain",
        "start_char_idx": 1456536,
        "end_char_idx": 1463023,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6f4b6eeb-edc3-459e-ac4e-54a3236ac558",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "8e5d3add-929c-4263-82f8-93ee98cb29cc",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "4e3fee38f1ecc1094f3e31d398d4b9d116c4779842bf289a74c101fb0b5dc259",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "5e2b4914-8e16-46e3-ba37-e73b3c6bcfb5",
                "node_type": "1",
                "metadata": {},
                "hash": "086b160913634882a71e4b46376a4c61d7a309055efd4fca747760e187f7161a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "s letter to the magnesians ca 110 reference 2 despite the official adoption of sunday as a day of rest by constantine the sevenday week and the nundial cycle continued to be used sidebyside until at least the calendar of 354 and probably later the fact that the canon had to be issued at all is an indication that adoption of constantines decree of 321 was still not universal input tell me a bio about rory tapner bio generation output preference 1 pisrelrelevant rory tapner is a british businessman who has served as the chief executive officer of coutts a private banking and wealth management company since 2010 issup contradictory reference 2 pisrelrelevant rory tapner was born on 30 september 1959 in london england issupfully supported reference 1 rory tapner rory tapner is a uk businessman who in september 2010 was appointed ceo of coutts the wealth management division of royal bank of scotland group in february 2015 he stepped down as ceo when he was replaced in the role by alison rose reference 2 holdings from august 2016 and the council of the university of buckingham from july 2017 rory tapner rory tapner born 30 september 1959 is a uk businessman input tell me a bio about g venugopa bio generation output ranked 1 retrieve yespreference 1 pisrelrelevant g venugopal is a popu lar playback singer in the malayalam film industry retrieve continue he has sung over 300 songs in malayalam tamil and hindi movies issuppartially supported retrieve yespreference 2pg venugopal was born on december 10 1960 in india issupfully supported reference 1 g venugopal g venugopal born 10 december 1960 is an indian playback singer known for his work in malayalam films he started his singing career in the film odaruthammaava aalariyaam 1984 since then he has sung in more than 300 films and has over 500 private albums to his credit the many awards he has won include the coveted best playback singer kerala state which he won thrice the film critics award and the kerala kaumudi gallop poll award twice he won the kerala state award for best playback singer 2004 third time for the song aadedeeaadaadedee from the film ullamvenugopal reference 2 kerala state film awards kerala film critics award kerala state government award profes sional drama asianet film awards kerala kaumadi gallup poll award academic g venugopal g venugopal born 10 december 1960 is an indian playback singer known for his work in malayalam films table 7 examples of outputs 25 mimetype textplain start_char_idx 0 end_char_idx 3453 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 089e6de45c7445ed9594bfcf12d86053 embedding null metadata  page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 6a2e5f3fde5d4bac99868ae8200de074 node_type 4 metadata  page_label 26 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 9203899c3ecdb6b066748bf03f451d7f62a32e8e5acac0019ab7f7b722b23e45 class_name relatednodeinfo   text preprint instructions given an instruction please make a judgment on whether finding some external documents from the web eg wikipedia helps to generate a better response please answer yes or no and write an explanation demonstrations instruction give three tips for staying healthy need retrieval yes explanation there might be some online sources listing three tips for staying healthy or some reliable sources to explain the effects of different behaviors on health so retrieving documents is helpful to improve the response to this query instruction describe a time when you had to make a difficult decision need retrieval no explanation this instruction is asking about some personal experience and thus it does not require one to find some external documents instruction write a short story in third person narration about a protagonist who has to make an important career decision need retrieval no explanation this instruction asks us to write a short story which does not require external evidence to verify instruction what is the capital of france need retrieval yes explanation while the instruction simply asks us to answer the capital of france which is a widely known fact retrieving web documents for this question can still help instruction find the area of a circle given its radius radius 4 need retrieval no explanation this is a math question and although we may be able to find some documents describing a formula it is unlikely to find a document exactly mentioning the answer instruction arrange the words in the given sentence to form a grammatically cor rect sentence quickly the brown fox jumped need retrieval no explanation this task doesnt require any external evidence as it is a simple grammatical question instruction explain the process of cellular respiration in plants need retrieval yes explanation this instruction asks for a detailed description of a scientific concept and is highly likely that we can find a reliable and useful document to support the response table 8 instructions and demonstrations for retrieve aspect given the input only 26 mimetype textplain start_char_idx 0 end_char_idx 2086 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 993dd988f0c84a2685d4b981433beddc embedding null metadata  page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 21321ca5b6c14d33841097465b688d0c node_type 4 metadata  page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash",
        "mimetype": "text/plain",
        "start_char_idx": 1462128,
        "end_char_idx": 1468390,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5e2b4914-8e16-46e3-ba37-e73b3c6bcfb5",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "6f4b6eeb-edc3-459e-ac4e-54a3236ac558",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "b3c068de2751e8be5eca7f0d9389e3c84c3879617ee53f7e40314cca7873e398",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "eee171da-e2d6-499e-9297-8076e6f08f10",
                "node_type": "1",
                "metadata": {},
                "hash": "0fa33e8598755e560fc992082c61f1a1ce7f5e8450ef9fcae33a3c0ab8edb374",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "key value metadata_seperator n class_name textnode   id_ 993dd988f0c84a2685d4b981433beddc embedding null metadata  page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 21321ca5b6c14d33841097465b688d0c node_type 4 metadata  page_label 27 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 6ac66103bd4950cddcd5db748c9eb8aebe4f44dfab437ee9f3ff534094e3deeb class_name relatednodeinfo   text preprint instructions you will be provided with an instruction evidence output sentence and preceding sentences optional if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to determine whether the information in the output sentence can be fully verified by the evidence or if it requires further external verification there are three cases if the output sentence can be verified solely with the evidence then respond with continue to use evidence if the sentence doesnt require any factual verification eg a subjective sentence or a sentence about common sense then respond with no retrieval if additional information is needed to verify the output sentence respond with retrieval please provide explanations for your judgments instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words and the context in which they are used to be measured evidence word embedding word embedding is the collective name for a set of language modeling and feature learning techniques in natural language processing nlp where words or phrases from the vocabulary are mapped to vectors of real numbers conceptually it involves a mathematical embedding from a space with one dimension per word to a continuous vector space with a much lower dimension output word embeddings are useful for tasks such as sentiment analysis text classification predicting the next word in a sequence and understanding synonyms and analogies rating retrieval explanation the output discusses the applications of word embeddings while the evidence only discusses the definitions of word embeddings and how they work therefore we need to retrieve other evidence to verify whether the output is correct or not table 9 instructions and demonstrations for retrieve aspect given the input preceding generations and retrieved passages 27 mimetype textplain start_char_idx 0 end_char_idx 2111 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ 4b6d459afb894fd1a6259fb2a03ef83a embedding null metadata  page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 47c7b839ef204075a373ab7c46697bc3 node_type 4 metadata  page_label 28 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 9176c6faaaa2ca6c69d9e0c638fb984c1f934d394a178a88d91bf52d7820a0af class_name relatednodeinfo   text preprint instructions youll be provided with an instruction along with evidence and possibly some preceding sentences when there are preceding sentences your focus should be on the sentence that comes after them your job is to determine if the evidence is relevant to the initial instruction and the preceding context and provides useful information to complete the task described in the instruction if the evidence meets this requirement respond with relevant otherwise generate irrelevant instruction given four answer options a b c and d choose the best answer input earths rotating causes a the cycling of am and pm b the creation of volcanic eruptions c the cycling of the tides d the creation of gravity evidence rotation causes the daynight cycle which also creates a corresponding cycle of temperature and humidity creates a corresponding cycle of temperature and humidity sea level rises and falls twice a day as the earth rotates rating relevant explanation the evidence explicitly mentions that the rotation causes a daynight cycle as described in the answer option a instruction age to run for us house of representatives evidence the constitution sets three qualifications for service in the us senate age at least thirty years of age us citizenship at least nine years and residency in the state a senator represents at the time of election rating irrelevant explanation the evidence only discusses the ages to run for the us senate not for the house of representatives table 10 instructions and demonstrations for isrelaspect given the input only 28 mimetype textplain start_char_idx 0 end_char_idx 1564 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ de74d14759f24ed1bb528864d26b61ea embedding null metadata  page_label 29 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 556d8b892a6346de8e22cdfef1122df0 node_type 4 metadata  page_label 29 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 5060e47f4fd3a8ffa016324c0ee1041a45e03e7085953c74e64eacc086370c35 class_name relatednodeinfo   text preprint instructions you will receive an instruction evidence and output and optional preceding sentences if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to evaluate if the output is fully supported by the",
        "mimetype": "text/plain",
        "start_char_idx": 1467692,
        "end_char_idx": 1474254,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "eee171da-e2d6-499e-9297-8076e6f08f10",
        "embedding": null,
        "metadata": {
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
            "file_name": "nodes.json",
            "file_type": "application/json",
            "file_size": 1741454,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-21"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "73f4fa0c-cd8a-4714-969d-e9cd396a61b8",
                "node_type": "4",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "e1af05ee295bf86690c955c6467f1a83ae23b2fb629da4eb2ac69dfbef865ba9",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "5e2b4914-8e16-46e3-ba37-e73b3c6bcfb5",
                "node_type": "1",
                "metadata": {
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\nodes.json",
                    "file_name": "nodes.json",
                    "file_type": "application/json",
                    "file_size": 1741454,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-21"
                },
                "hash": "ed4f2977c83f3e882f9e726b50ebfb4acaac5c973256e711c43f939563fcbbc2",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 556d8b892a6346de8e22cdfef1122df0 node_type 4 metadata  page_label 29 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash 5060e47f4fd3a8ffa016324c0ee1041a45e03e7085953c74e64eacc086370c35 class_name relatednodeinfo   text preprint instructions you will receive an instruction evidence and output and optional preceding sentences if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to evaluate if the output is fully supported by the information provided in the evidence use the following entailment scale to generate a score fully supported all information in output is supported by the evidence or extractions from the evidence this is only applicable when the output and part of the evidence are almost identical partially supported the output is supported by the evidence to some extent but there is major information in the output that is not discussed in the evidence for example if an instruction asks about two concepts and the evidence only discusses either of them it should be considered a partially supported no support contradictory the output completely ignores evidence is unrelated to the evidence or contradicts the evidence this can also happen if the evidence is irrelevant to the instruction make sure to not use any external informationknowledge to judge whether the out put is true or not only check whether the output is supported by the evidence and not whether the output follows the instructions or not instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words and the context in which they are used to be measured output word embeddings are useful for tasks such as sentiment analysis text classification predicting the next word in a sequence and understanding synonyms and analogies evidence word embedding word embedding is the collective name for a set of language modeling and feature learning techniques in natural language processing nlp where words or phrases from the vocabulary are mapped to vectors of real numbers conceptually it involves a mathematical embedding from a space with one dimension per word to a continuous vector space with a much lower dimension methods to generate this mapping include neural networks dimensionality reduction on the word cooccurrence matrix probabilistic models explainable knowledge base method and explicit representation in terms of the context in which words appear word and phrase embeddings when used as the underlying input representation have been shown to boost the performance in nlp tasks such as syntactic parsing sentiment analysis next token predictions as well and analogy detection score fully supported explanation the output sentence discusses the application of word embeddings and the evidence mentions all of the applications syntactic parsing sentiment analysis next token predictions as well as analogy detection as the applications therefore the score should be fully supported table 11 instructions and demonstrations for issuptokens 29 mimetype textplain start_char_idx 0 end_char_idx 3037 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode   id_ b653625f8a8047ae9f91b19f25e8c495 embedding null metadata  page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  excluded_embed_metadata_keys  excluded_llm_metadata_keys  relationships  1  node_id 293da9ee688f470f9c430619f2a1092c node_type 4 metadata  page_label 30 file_name selfragpdf file_path cuserssuperprojectshybridragusingqdrantbm42llamaindexandmistralaidataselfragpdf file_type applicationpdf file_size 1405127 creation_date 20241015 last_modified_date 20241015  hash c07a4c5c8feb4a4fc99185d20f3e9105f32e4457b5ea3eb2045379736182257c class_name relatednodeinfo   text preprint instructions given an instruction and an output rate whether the response appears to be a helpful and informative answer to the query from 1 lowest 5 highest we call this score perceived utility the detailed criterion is as follows 5 the response provides a complete highly detailed and informative response to the query fully satisfying the information needs 4 the response mostly fulfills the need in the query while there can be some minor improvements such as discussing more detailed information having better structure of the response or im proving coherence 3 the response is acceptable but some major additions or improvements are needed to satisfy users needs 2 the response still addresses the main request but it is not complete or not relevant to the query 1 the response is barely ontopic or completely irrelevant instruction who is the current prime minister of the uk as of 2023 output boris johnson was the prime minister of the uk from 2019 2022 perceived utility 2 explanation while the output provides a factually correct statement about the uk prime minister from 2019 to 2022 this instruction asks who the prime minister is as of 2023 so it doesnt answer the instruction therefore the utility is 2 instruction given a description of a travel destination recommend 10 tourist attrac tions with detailed descriptions of each the travel destination is tokyo japan output tokyo is a vibrant city full of exciting tourist attractions some mustsee sights include the tokyo skytree tokyo disneyland sensoji temple meiji shrine tsukiji fish market harajuku and shinjuku gyoen perceived utility 3 explanation this output doesnt provide descriptions of each attraction and the number of the attractions is also less than 10 while this output partially answers the instructions it doesnt match the instructions strictly table 12 instructions and demonstrations for isusetokens 30 mimetype textplain start_char_idx 0 end_char_idx 1900 text_template metadata_strnncontent metadata_template key value metadata_seperator n class_name textnode",
        "mimetype": "text/plain",
        "start_char_idx": 1473502,
        "end_char_idx": 1479969,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3a9076f8-4d48-4dcc-aa1e-5fd4d7aaa81c",
        "embedding": null,
        "metadata": {
            "page_label": "1",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "d9b292e5-cca4-4696-abe5-a9016264b2c2",
                "node_type": "4",
                "metadata": {
                    "page_label": "1",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "2ccf488eee56df61048e0b929bbf35d5d33da60b4cbafe5c96728dca051a3e1a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review raft adapting language model to domain specific rag tianjun zhang department of computer science uc berkeley berkeley ca 94720 usa tianjunzberkeleyedushishir g patil naman jain sheng shen department of computer science uc berkeley berkeley ca 94720 usa shishirpatilnaman_jainshengsberkeleyedu matei zaharia ion stoica joseph e gonzalez department of computer science uc berkeley berkeley ca 94720 usa mateiistoicajegonzalberkeleyedu abstract pretraining large language models llms on large corpora of textual data is now a standard paradigm when using these llms for many downstream applications it is common to additionally incorporate new in formation into the pretrained model either through ragbasedprompting or finetuning however the best methodology to incorporate information remains an open question in this paper we present retrieval augmented fine tuning raft a training recipe which improves the models ability to answer questions in openbook indomain settings in training raft given a question and a set of retrieved documents we train the model to ignore those documents that dont help in answering the question which we call distractor documents raft accomplishes this by citing verbatim the right sequence from the relevant document to help answer the question this coupled with rafts chainofthoughtstyle response helps improve the models ability to reason in domain specific rag raft consistently improves the models performance across pubmed hotpotqa and gorilla datasets presenting a posttraining recipe to improve pretrained llms to indomain rag 1 introduction trained on vast quantities of public data large language models llms have achieved significant advances in a wide range of general knowledge reasoning tasks brown et al 2020 wei et al 2022 however increasingly llms are being employed in specialized domains to support tasks ranging from code completion for specific software frameworks to question answering on specific document collections eg legal or medical documents in these settings general knowledge reasoning is less critical and instead the primary goal is to maximize accuracy based on a given set of documents indeed adapting llms to the specialized domains eg recent news enterprise private documents or program resources constructed after the training cutoff is essential to many emerging applications vu et al 2023 lazaridou et al 2022 and is the focus of this work this paper studies the following question  how do we adapt pretrained llms for retrieval augmented generation rag in specialized domains when it comes to adapting llms to specialized domains we consider the following two candidates incontext learning through retrievalaugmented generation rag and super vised finetuning rag based methods allow the llm to reference the documents when corresponding author personal website tianjunzgithubio 1arxiv240310131v2 cscl 5 jun 2024",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 2904,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "69bf9f75-f593-4fcd-8494-ff02ee249fed",
        "embedding": null,
        "metadata": {
            "page_label": "2",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "d79dd30f-d8da-4709-b8e5-347423268438",
                "node_type": "4",
                "metadata": {
                    "page_label": "2",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "49da6baf6dac54ab69f939ea7aa23ed9c3276eed2dc91ba05e2d3f4cffad302d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review open book query answerclosed book query answerbake in knowledge at train timemodel can use external docs at test raft proposed query answerteach model to use external docs at test figure 1 how best to prepare for an exam a finetuning based approaches implement studying by either directly memorizing the input documents or answering practice qa without referencing the documents b alternatively incontext retrieval methods fail to leverage the learning opportunity afforded by the fixed domain and are equivalent to taking an openbook exam without studying in contrast our approach c raft leverages finetuning with questionanswer pairs while referencing the documents in a simulated imperfect retrieval setting  thereby effectively preparing for the openbook exam setting answering questions however rag based incontext learning methods fail to leverage the learning opportunity afforded by the fixed domain setting and early access to the test documents alternatively supervised finetuning offers the opportunity to learn more general patterns in the documents and better align to end tasks and user preferences zhou et al 2023 however existing finetuning based approaches either fail to leverage the documents at test time dont incorporate rag or fail to account for the imperfections in retrieval process during training we can draw an analogy to an openbook exam existing incontext retrieval methods are equivalent to taking an openbook exam without studying alternatively existing fine tuning based approaches implement studying by either directly memorizing xiong et al 2023 the input documents or answering practice questions wang et al 2022 without referencing the documents while these approaches leverage indomain learning they fail to prepare for the openbook nature of the test setting in this paper we study how to combine instruction finetuning ift with retrieval aug mented generation rag we propose a novel adaptation strategy  retrievalaugmented fine tuning raft raft specifically addresses the challenge of finetuning llms to both incorporate domain knowledge while also improving indomain rag performance raft aims to not only enable models to learn domainspecific knowledge through finetuning but also to ensure robustness against distracting retrieved information this is achieved by training the models to understand the dynamics between the question prompt the domainspecific documents retrieved and the right answer going back to our analogy to the open book exam our approach is analogous to studying for an openbook exam by recognizing relevant and irrelevant retrieved documents in raft we train the model to answer the question q from documents d to generate answer a where a includes chainofthought reasoning wei et al 2022 anthropic 2023 and in the presence of distractor documents  dk we explain the methodology in section 3 and analyze the sensitivity to the number of distractor documents  k at train and test time in section 5 raft consistently outperforms supervisedfinetuning both with and without rag across pubmed dernoncourt  lee 2017 hotpot qa yang et al 2018 and huggingface hub torch hub and tensorflow hub gorilla datasets patil et al 2023 presenting a novel yet simple technique to improve pretrained llms for indomain rag our code is available at httpsgithubcomshishirpatilgorilla  2 llms for openbook exam to understand our goal better we expand on our analogy between training an llm with the realworld setting of prepararing for an exam closedbook exam a closed book exam often refers to the scenario where the llms do not have access to any additional documents or references to answer the questions during 2",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3679,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a0ea17d0-cc71-4301-84b2-a9316e537078",
        "embedding": null,
        "metadata": {
            "page_label": "3",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "8efdd091-013f-45b6-95a1-1f2f64c73183",
                "node_type": "4",
                "metadata": {
                    "page_label": "3",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "3095e2292be19d045960a06018239f5fe92d7535ff5316e4845308895c85e8ed",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review figure 2 overview of our raft method the topleft figure depicts our approach of adapting llms to reading solution from a set of positive and distractor documents in contrast to standard rag setup where models are trained based on the retriever outputs which is a mixture of both memorization and reading at test time all methods follow the standard rag setting provided with a topk retrieved documents in the context the exam for llms this is equivalent to the scenario for example in which the llm is used as a chatbot in this scenario the llm draws from the knowledge baked in during pretraining and supervisedfinetuning to respond to the users prompt open book exam in contrast we liken the openbook exam setting to the scenario in which the llm can refer to external sources of information eg a website or a book chapter in such scenarios typically the llm is paired with retriever which retrieves k documents or specific segments of the document which are appended to the users prompt it is only through these documents retrieved that the llm gains access to domainspecific information as a result we argue that the llms performance in these settings where it is trained as a generalpurpose llm is largely dependent on the quality of the retriever and how accurately the retriever can identify the most relevant piece of information domainspecific openbook exam in this paper we focus on the narrower but increas ingly popular domain than the general open book exam which we call the domainspecific openbook exam here we know apriori the domain in which the llm will be tested the llm can respond to the users prompt using use any and all information from this specific domain which it has been finetuned on examples of domain specific examples include enterprise documents code repositories belonging to an organization etc in all these scenarios the llm will be used to respond to the questions whose answers can be found within a collection of documents the retrieval technique itself has little to noimpact on the mechanism though it may impact the accuracy this paper studies the domainspecific openbook setting and how to adapt a pretrained llm to this specific domain including how to make it more robust to a varying number of retrieved documents and distractors 3 raft in this section we present raft a novel way of training llms for domainspecific open book exams we first introduce the classical technique of supervised finetuning followed with the key takeaways from our experiments then we introduce raft  a modified version of general instruction tuning lastly we provide an overview of the experiments to expect in the later sections supervised finetuning consider the supervised finetuning sft setting for a questionanswer dataset the formulation consists of the dataset  d from which a set of question  q and corresponding answer  a pairs are derived or already available in the classical sft setting the model is trained to improve its ability to answer the questions based on its knowledge  obtained either during pretraining or during the sft training phase the model so trained can also 3",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3136,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "872773e4-8561-4c70-846f-e54ced3b009c",
        "embedding": null,
        "metadata": {
            "page_label": "4",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "e9690841-de76-4275-a5d2-43c41289ea15",
                "node_type": "4",
                "metadata": {
                    "page_label": "4",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "52dd61275c10480377711a57a4c6d68698db46224b09c99da29df2309b846e5a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review be used at testtime with retrieval augmented generation rag setting where additional documents can be introduced in the prompt to help the model answer the question this can be represented as follows train qa 0shot inference qa rag inference qda raft retrieval augmented finetuning raft presents a novel recipe to prepare fine tuning data to tailor the models for domainspecific openbook setting equivalent to in domain rag in raft we prepare the training data such that each data point contains a question  q a set of documents  dk and a corresponding chainofthough style answer a generated from one of the document  d we differentiate between two types of documents golden documents  d ie the documents from which the answer to the question can be deduced and distractor documents  di that do not contain answer relevant information as an implementation detail the golden document doesnt need to be a single document but can be more than one document as is the case in hotpotqa yang et al 2018 then for pfraction of the questions  qi in the dataset we retain the golden document  d i along with distractor documents  dk1 for 1pfraction of the questions qi in the dataset we include no golden document and only include distractor documents dk we then finetune the language model using standard supervised training sft technique training it to generate answers from the provided documents and question fig 2 illustrates the highlevel design principal for raft  we demonstrate that our rag approach trains the model to perform better rag on the set of documents it is trained on ie indomain  by removing the golden documents in some instances we are compelling the model to memorize answers instead of deriving them from the context the training data for raft is as follows and an example training data can be seen in fig 3 p of data qdd1d2     dka 1p  of data qd1d2     dka subsequently for the test scenario the model is provided with the q and topk documents retrieved by the rag pipeline note that raft is independent of the retriever used a key factor in enhancing training quality is the generation of a reasoning process such as chainofthought to explain the provided answers raft approach is similar we demonstrate that creating a full reasoning chain and inaddition clearly citing sources enhances the models accuracy in answering questions in fig 3 we illustrate this set up generating the training data in this fashion involves presenting the model with a question context and verified answers and then requesting it to form a reasoning chain that appropriately references the original context for all the datasets in our experiments we generate the answers using the technique described above note that the gorilla apibench dataset already includes reasoning in the answers we provide an example of the generation step in fig 3 the detailed reasoning answer includes a citation from the original context inside begin_quote and end_quote as well as the detailed explanation on how to reach the conclusion based on the citations we demonstrate that adding detailed reasoning paragraphs can help boost the models performance in our experiment section 4 evaluation we design our experiments to study how well raft performs compared to various base lines we find that the raft7b model a finetuned version of llama2 is better at reading and extracting information from indomain documents than domainspecific finetuned model and generalpurpose model with rag as an ablation we also demonstrate how important it is for the model to learn with chainofthought responses in this section we will first introduce all the datasets we used in the experiments then all the baseline modelfinetuning techniques that we benchmark against 4",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3753,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cef098a6-0955-40e2-bd63-81aa9c970b72",
        "embedding": null,
        "metadata": {
            "page_label": "5",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "c5fda8b2-8f3f-4ff0-b738-c8882890fb1b",
                "node_type": "4",
                "metadata": {
                    "page_label": "5",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "e6630670f60dd706978c644d85ff75105f78782ca76a05a9049278f7cfd5b283",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review question the oberoi family is part of a hotel company that has a head office in what city context the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi groupit is located in city center of jakarta near mega kuningan adjacent to the sister jw marriott hotel it is operated by the ritzcarlton hotel company the complex has two towers that comprises a hotel and the airlangga apartment respectivelythe oberoi group is a hotel company with its head office in delhi instruction given the question context and answer above provide a logical reasoning for that answer please use the format of reason reason answer answer  cot answer reason the document begin_quote the oberoi family is an indian family that is famous for its involvement in hotels namely through the oberoi group end_quote establishes that the oberoi family is involved in the oberoi group and the document begin_quote the oberoi group is a hotel company with its head office in delhi end_quote establishes the head office of the oberoi group therefore the oberoi family is part of a hotel company whose head office is in delhi answer delhi figure 3 raft prompt to help llm evaluate its own generated reasoning and answers contrasting them with the correct reasoning and answers the llm is prompted to identify errors in its reasoning and extract key insights for improvement this figure specifically represents the generateexplanation step in the raft algorithm section 3 table 1 raft improves rag performance for all specialized domains  across pubmed hotpot huggingface torch hub and tensorflow hub we see that domainspecific fine tuning improves significantly of the performance of the base model raft consistently outperforms the existing domainspecific finetuning method with or without rag this suggests the need to train the model with context we compare our model with llama finetuning receipes and provide gpt35 for reference pubmed hotpot huggingface torch hub tensorflow gpt35  rag 7160 415 2908 6021 6559 llama27b 565 054 022 0 0 llama27b  rag 588 003 2643 0860 4306 dsf 597 638 6106 8494 8656 dsf  rag 716 441 4259 8280 6029 raft llama27b 7330 3528 7400 8495 8686 datasets in our experiments we use the following datasets to evaluate our model and all baselines we selected these datasets to represent both popular and diverse domains including wikipedia codingapi documents and questionanswering on medical docu ments natural questions nq kwiatkowski et al 2019 trivia qa joshi et al 2017 and hotpotqa yang et al 2018 are the opendomain questionanswers based on wikipedia mainly focused on common knowledge eg movies sports etc huggingface torch hub and tensorflow hub are from the apibench patil et al 2023 proposed in the gorilla paper these benchmarks measure how to generate the correct functional and executable api calls based on the documentation pubmed qa jin et al 2019 is a questionanswering dataset tailored only for biomedicalresearch questionanswering it mainly focuses on answering medical and biology questions based on a given set of documents we would 5",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3122,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b5f3968a-e743-473a-8b77-13df541619d7",
        "embedding": null,
        "metadata": {
            "page_label": "6",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "5941e575-70e6-4e95-a974-9da6e24c91c9",
                "node_type": "4",
                "metadata": {
                    "page_label": "6",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "541c13842a8d06a26f11203fdccdb13211b94a3e197b5c42a0fdcf65c56b927f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review like to highlight that nq trivia qa and hotpotqa are relatively general domain whereas the latter two domains are on domainspecific documents baselines we consider the following baselines for our experiments llama27bchat model with 0shot prompting this is the commonly used instructionfinetuned model for qa tasks where we provide clearly written instruc tions but no reference documentation llama27bchat model with rag llama2  rag similar to the previous setting except here we include reference documents this is a popular technique when dealing with domainspecific qa tasks domainspecific finetuning with 0shot prompting dsf standard supervised finetuning without documents in context we find that its mostly useful to align the answering style of the model as well as get familiar with the domain context domainspecific finetuning with rag dsf  rag equip a domainspecific finetunedmodel with external knowledge using rag so for the knowledge the model does not know it can still refer to the context 41 results using the above datasets and baselines we evaluate our model raft and demonstrate the effectiveness of raft in tab 1 we see that raft consistently and significantly outperforms the baselines compared with the base llama2 instructiontuned model raft with rag does much better in terms of extracting information as well as being robust towards distractors the gain can be as big as 3525 on hotpot qa and 7635 on torch hub evaluation compared with dsf on the specific dataset our model does better at relying on the provided context to solve the problem raft does much better on the tasks like hotpot and huggingface datasets 3087 on hotpot and 3141 on huggingface note that for pubmed qa since it is a binary yesno question we dont observe significant gains when we compare our model with dsf  rag even compared with a much larger and better model gpt35 raft demonstrates significant advantages overall the llama7b model both with and without the rag performs poorly due to its answering style not aligning with the ground truth by applying domainspecific tuning we significantly enhance its performance this process enables the model to learn and adopt the appropriate style of answering however introducing rag to a domainspecifically finetuned dsf model doesnt invariably lead to better outcomes this might indicate that the model lacks training in context processing and extracting useful information from it by incorporating our method raft  we train the model not only to match its answering style with that required but also to improve its document processing capabilities consequently our approach outperforms all others 42 effect of cot we also conduct an analysis to evaluate the effectiveness of the chainofthought approach in enhancing the models performance as indicated in table 2 simply providing the answer to a question may not always be adequate this approach can lead to a rapid decrease in loss resulting in the model beginning to overfit incorporating a reasoning chain that not only guides the model to the answer but also enriches the models understanding can improve the overall accuracy and prevent overfitting to concise answers in our experiments integrating the chainofthought significantly enhances training robustness we employ gpt41106 to generate our chainofthought prompts and include an example of the prompt we used in figure 3 43 qualitative analysis to illustrate the potential advantages of raft over the domainspecifically finetuned dsf approach we present a comparative example in figure 4 this example qualitatively 6",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3593,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "94a05dae-a849-488c-987c-8f3e35f3e04c",
        "embedding": null,
        "metadata": {
            "page_label": "7",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "6412781f-f3a8-4b35-b7c3-31e59b70c752",
                "node_type": "4",
                "metadata": {
                    "page_label": "7",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "1a9d45a5b993abc7a04a2252ae969b380d322f21ce8daccf6a593a421e47ef6a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review table 2 ablation on chainofthought  the numbers of raft and raft without cot results on various datasets show that adding cot can significantly improve the performance of the finetuned model with a gains of 966 and 1493 in the hotpot qa and huggingface datasets respectively pubmed hotpotqa huggingface torch hub tensorflow raft wo cot 6830 2562 5907 8656 8321 raft 7330 3528 7400 8495 8686 demonstrates a scenario where the dsf model becomes confused by a question asking for the identity of a screenwriter instead of providing the correct name it mistakenly cites one of the films written by the screenwriter in contrast the raft model accurately answers the question this discrepancy suggests that training a model solely with questionanswer pairs may impair its ability to derive relevant context from provided documents the comparison underscores the importance of incorporating both standard instructional tuning and context comprehension into the training dataset to preserve and enhance the models ability to process text effectively hotpot qa question what screenwriter with credits for evolution01879e a film starring nicolas cage and t\u00e9a leoni documents   david weiss man is a screen writer and director his film credits include the family man 2000 evo lution 2001 and when in rome 2010    the family man is a 2000 american romantic comedydrama film directed by brett ratner written by david diamond and david weissman and starring nico lascage and t\u00e9aleoni      raft reason the screenwriter with credits for the film evolution starring nicolas cage and t\u00e9a leoni is david weissman this information is provided in the reference documents where it mentions david weissman as a screenwriter with film credits including the family man 2000 evolution 2001 and when in rome 2010 therefore the screenwriter for evolution is david weissman answer david weiss man dsf the fam ilyman figure 4 comparison of raft and dsf  on the hotpot qa dataset we can see that dsf model extracts the wrong information from the context when the question is asking who is the screen writer and it answers a film name raft manages to get the accurate results  44 should we train the llm always with the golden context for rag in our exploration of whether large language models llms should always be trained with the golden context for retrievalaugmented generation rag we address a key question what proportion p of the training data should include golden documents intuitively one might assume that for effective training in reading and extracting information from context eg rag tasks the golden document should always be included during training p  100 however our findings challenge this assumption incorporating a portion of the training data without the golden document in the context p  80 appears to enhance the models performance on rag tasks 7",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 2860,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "fcdc50e4-d4a9-4c48-bb32-e4f7bebc29a3",
        "embedding": null,
        "metadata": {
            "page_label": "8",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "7f8c5d95-96e8-42c7-985a-1f3db93c2ed8",
                "node_type": "4",
                "metadata": {
                    "page_label": "8",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "2a78a850fcd7bcbbcbbea85872d5cb2f360921535cd38bd91d65eddb61f56484",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review 0 20 40 60 80 100 p  golden retrieved context at training025030035040045final accuracy t est domain nq 0 20 40 60 80 100  golden retrieved context at training050055060065final accuracy t est domain tqa 0 20 40 60 80 100 p  golden retrieved context at training040045050055060final accuracy t est domain hopo figure 5 how many golden documents to involve we study the hyperparameter p where it indicates how much portion of training data is with golden document results on nq tqa and hotpotqa suggest that mixing some amount of data that the golden document is not put in the context is helpful for indomain rag figure 5 presents our investigation into the hyperparameter p which represents the percentage of training instances that should include golden documents we find that the optimal proportion varies across datasets with p ranging from 40 60 and 100 this indicates that training your llm without the correct corresponding context at times can be beneficial for the downstream task of answering questions related to the documents in our training setup we include four distractor documents alongside the golden document and at test time we maintain this format by providing the golden document with four distractors our findings suggest that for domainspecific rag tasks including a certain percentage of training data without the golden documents in the context proves to be advantageous 5 raft generalizes to topk rag we now study another important problem how does the number of distractor documents in raft affect the models performance when augmented with topk rag results during evaluation previous research has highlighted the vulnerability of llms to irrelevant text see studies shi et al 2023a weston  sukhbaatar 2023 liu et al 2023 this issue is particularly critical for llms  rag since topk rag is frequently employed at test time to ensure high recall such a scenario necessitates the model to have the ability to discern and disregard irrelevant content focusing solely on pertinent information 51 making model robust to topk rag to tackle the challenge of enhancing large language models llms ability to sift through irrelevant text within the retrieval pipeline our analysis revealed that training solely with golden highly relevant documents can inadvertently diminish the models ability to dis cern and disregard irrelevant information to address this our algorithm raft  adopts a strategy that integrates golden documents with a mix of irrelevant ones this method ology prompts us to investigate the ideal fraction of distractor irrelevant documents to incorporate throughout the training process and to assess how well this training approach adapts to different volumes of documents encountered by the retrievalaugmented gen eration rag during the test phase our aim is to refine the balance between relevant and irrelevant information to strenghten the models efficiency in identifying and utilizing pertinent content notice that sec 44 looked what what p of training data should include distractors while in this section we study testtime scenarios training with distractor documents to enhance the robustness of llms against irrelevant text in retrieved documents we adopted a finetuning approach that incorporates both golden highly relevant documents and distractor irrelevant documents the model was trained with varying numbers of distractor documents but consistently evaluated using the top3 documents obtained from the retriever  not to be confused with p our findings detailed in fig 6 reveal that finetuning with only the golden document frequently results in inferior performance compared to configurations that include a greater number of distractor documents as we can see in the figure the better performance for natural questions is 8",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3797,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "78c45858-167c-45ee-959c-c1477a0dac46",
        "embedding": null,
        "metadata": {
            "page_label": "9",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "83584b00-4972-487f-9572-f16e765fdbd8",
                "node_type": "4",
                "metadata": {
                    "page_label": "9",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "a8f24b1693432140f9687debf705c45b6f3e810a1a3562b3831c2698254b07c1",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review 2 4 6 8 10  t est documents t opk022024026028030032final accuracy natural questions train d train d  1d train d  2d train d  3d 2 4 6 8 10  t est documents t opk012501500175020002250250final accuracy hotpot qa train d train d  1d train d  2d train d  3d figure 6 testtime documents varying  to analyze how robust raft is to varying number of testtime documents we study three domains  nq trivia qa and hotpot qa in nq we find that training with 4 documents leads to optimal performance and this changes to 3 and 2 for for trivia qa and hotpot qa respectively however we see that training with only golden documents leads to poor performance training with d3dand it is d1ddocuments with hotpot qa this insight has been particularly beneficial for our algorithm raft  in our experiments we consistently employ a training setup consisting of one golden document alongside four distractor documents generalization to a variable number of testtime documents we extended our research to examine the impact of different quantities of testtime documents on the models per formance specifically our experiments focused on assessing how models trained with varying numbers of distractor documents respond to changes in the number of documents presented at test time the results illustrated in fig 6 confirm that the inclusion of distrac tor documents during training indeed makes the model more resilient to fluctuations in the number of documents encountered during testing this ability to maintain consistent perfor mance despite variations in testtime document numbers further validates the robustness of our approach raft  this finding underscores the importance of a wellcalibrated training environment to prepare the model for a range of scenarios it may encounter in realworld 6 related works retrievalaugmented language models retrievalaugmented language models ralms enhance llms by integrating a retrieval module that sources relevant information from external knowledge bases significantly improving performance across various nlp tasks including language modeling guu et al 2020 borgeaud et al 2022 khandelwal et al 2019 shi et al 2023d lin et al 2023b shi et al 2023c asai et al 2023 xu et al 2023 wang et al 2023 and opendomain question answering izacard et al 2023 lewis et al 2020 for instance atlas izacard et al 2023 finetunes t5 models with the retriever treating documents as latent variables while retro borgeaud et al 2022 modifies the decoderonly architecture to include retrieved texts and conducts pretraining from scratch knnlm khandelwal et al 2019 interpolates between the lms next token distribution and distributions computed from retrieved tokens at inference shi et al 2023d ram et al 2023 assume blackbox access to an llm combining it with either offtheshelf or finetuned retriever memorization a key question around large neural language models is whether they truly understand text feldman 2020 power et al 2022 or simply rely on surface pattern memorization carlini et al 2019 t\u00e4nzer et al 2022 feldman 2020 carlini et al 2019 2022 develop methodologies to quantify the extent of memorization in neural models brown et al 2020 power et al 2022 liu et al 2022 further explored how memorization impacts the models generalization capabilities carlini et al 2021 shi et al 2023b demonstrated the ability of language models to memorize and regurgitate training data raising significant privacy concerns kandpal et al 2022 pan et al 2020 finetuning for rag more recently several papers have been exploring the idea of fine tuning a pretrained llm to be better at rag tasks lin et al 2023a wang et al 2023 xu 9",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3651,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "2e3c46ea-e899-45df-aeb5-59dbef5281fe",
        "embedding": null,
        "metadata": {
            "page_label": "10",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "683a7a32-1e92-41e6-a5a4-6b34e2acf426",
                "node_type": "4",
                "metadata": {
                    "page_label": "10",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "6f802d080246f5ef17b35e81ac6e4ad9a8c4e6753d6769bcc867746c86ef2953",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review et al 2023 liu et al 2024 these works focus on constructing a combination of finetuning dataset for rag and train a model to perform well on these tasks in particular in their settings at test time the domain or documents can be different than the training time whereas our paper studies a slightly opposite scenario where we only care about testing the llm on the same set of documents 7 conclusion raft is a training strategy designed to enhance the models performance in answering questions within a specific domain in openbook settings we highlight several crucial design decisions such as training the model alongside distractor documents organizing the dataset so a portion lacks golden documents in their context and formulating answers in a chainofthought manner with direct quotations from the relevant text our evaluations on pubmed hotpotqa and gorilla api bench underline rafts significant potential references anthropic prompt engineering for claudes long context window 2023 asai a wu z wang y sil a and hajishirzi h selfrag learning to retrieve generate and critique through selfreflection arxiv preprint arxiv231011511  2023 borgeaud s mensch a hoffmann j cai t rutherford e millican k van den driess che g b lespiau jb damoc b clark a et al improving language models by retrieving from trillions of tokens in international conference on machine learning  pp 22062240 pmlr 2022 brown t mann b ryder n subbiah m kaplan j d dhariwal p  neelakantan a shyam p  sastry g askell a et al language models are fewshot learners advances in neural information processing systems  3318771901 2020 carlini n liu c erlingsson \u00fa kos j and song d the secret sharer evaluating and testing unintended memorization in neural networks in 28th usenix security symposium usenix security 19  pp 267284 2019 carlini n tramer f wallace e jagielski m herbertvoss a lee k roberts a brown t song d erlingsson u et al extracting training data from large language models in 30th usenix security symposium usenix security 21  pp 26332650 2021 carlini n ippolito d jagielski m lee k tramer f and zhang c quantifying memorization across neural language models in the eleventh international conference on learning representations  2022 dernoncourt f and lee j y pubmed 200k rct a dataset for sequential sentence classification in medical abstracts arxiv preprint arxiv171006071  2017 feldman v  does learning require memorization a short tale about a long tail in proceedings of the 52nd annual acm sigact symposium on theory of computing  pp 954959 2020 guu k lee k tung z pasupat p  and chang m retrieval augmented language model pretraining in international conference on machine learning  pp 39293938 pmlr 2020 izacard g lewis p  lomeli m hosseini l petroni f schick t dwivediyu j joulin a riedel s and grave e atlas fewshot learning with retrieval augmented language models journal of machine learning research  24251143 2023 url http jmlrorgpapersv24230037html  jin q dhingra b liu z cohen w w and lu x pubmedqa a dataset for biomedical research question answering arxiv preprint arxiv190906146  2019 10",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3113,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d3d99902-6aaf-4064-9545-60076a81e5c4",
        "embedding": null,
        "metadata": {
            "page_label": "11",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "1416b865-96e0-4d01-b57b-b3c7a14126af",
                "node_type": "4",
                "metadata": {
                    "page_label": "11",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "d31cb2933df85c461600b4aef036b940079342594df045fd359209ca3a888d12",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review joshi m choi e weld d s and zettlemoyer l triviaqa a large scale distantly supervised challenge dataset for reading comprehension arxiv preprint arxiv170503551  2017 kandpal n wallace e and raffel c deduplicating training data mitigates privacy risks in language models in international conference on machine learning  pp 1069710707 pmlr 2022 khandelwal u levy o jurafsky d zettlemoyer l and lewis m general ization through memorization nearest neighbor language models arxiv preprint arxiv191100172  2019 kwiatkowski t palomaki j redfield o collins m parikh a alberti c epstein d polosukhin i devlin j lee k et al natural questions a benchmark for question answering research transactions of the association for computational linguistics  7453466 2019 lazaridou a gribovskaya e stokowiec w and grigorev n internetaugmented language models through fewshot prompting for opendomain question answering arxiv preprint arxiv220305115  2022 lewis p  perez e piktus a petroni f karpukhin v  goyal n k\u00fcttler h lewis m yih wt rockt\u00e4schel t et al retrievalaugmented generation for knowledgeintensive nlp tasks advances in neural information processing systems  3394599474 2020 lin x v  chen x chen m shi w lomeli m james r rodriguez p  kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352  2023a lin x v  chen x chen m shi w lomeli m james r rodriguez p  kahn j szilvasy g lewis m et al radit retrievalaugmented dual instruction tuning arxiv preprint arxiv231001352  2023b liu n f lin k hewitt j paranjape a bevilacqua m petroni f and liang p  lost in the middle how language models use long contexts arxiv preprint arxiv230703172  2023 liu z kitouni o nolte n s michaud e tegmark m and williams m towards understanding grokking an effective theory of representation learning advances in neural information processing systems  353465134663 2022 liu z ping w roy r xu p  shoeybi m and catanzaro b chatqa building gpt4 level conversational qa models arxiv preprint arxiv240110225  2024 pan x zhang m ji s and yang m privacy risks of generalpurpose language models in2020 ieee symposium on security and privacy sp  pp 13141331 ieee 2020 patil s g zhang t wang x and gonzalez j e gorilla large language model connected with massive apis arxiv preprint arxiv230515334  2023 power a burda y edwards h babuschkin i and misra v  grokking generalization beyond overfitting on small algorithmic datasets arxiv preprint arxiv220102177  2022 ram o levine y dalmedigos i muhlgay d shashua a leytonbrown k and shoham y incontext retrievalaugmented language models arxiv preprint arxiv230200083  2023 shi f chen x misra k scales n dohan d chi e h sch\u00e4rli n and zhou d large language models can be easily distracted by irrelevant context in international conference on machine learning  pp 3121031227 pmlr 2023a shi w ajith a xia m huang y liu d blevins t chen d and zettlemoyer l detecting pretraining data from large language models arxiv preprint arxiv231016789  2023b 11",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3029,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "043c9ba3-a101-4373-afe8-541f9e3b0180",
        "embedding": null,
        "metadata": {
            "page_label": "12",
            "file_name": "RAFT.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
            "file_type": "application/pdf",
            "file_size": 784351,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "6c0160cf-787a-4d51-add3-759dad7cd4d0",
                "node_type": "4",
                "metadata": {
                    "page_label": "12",
                    "file_name": "RAFT.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\RAFT.pdf",
                    "file_type": "application/pdf",
                    "file_size": 784351,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "9b3f2861df120138de8b77925ef76a031e4723c31fa02ec1d082727d01c90ae6",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint under review shi w min s lomeli m zhou c li m lin v  smith n a zettlemoyer l yih s and lewis m incontext pretraining language modeling beyond document boundaries arxiv preprint arxiv231010638  2023c shi w min s yasunaga m seo m james r lewis m zettlemoyer l and yih wt replug retrievalaugmented blackbox language models arxiv preprint arxiv230112652  2023d t\u00e4nzer m ruder s and rei m memorisation versus generalisation in pretrained lan guage models in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers  pp 75647578 2022 vu t iyyer m wang x constant n wei j wei j tar c sung yh zhou d le q et al freshllms refreshing large language models with search engine augmentation arxiv preprint arxiv231003214  2023 wang b ping w mcafee l xu p  li b shoeybi m and catanzaro b instructretro instruction tuning post retrievalaugmented pretraining arxiv preprint arxiv231007713  2023 wang y kordi y mishra s liu a smith n a khashabi d and hajishirzi h selfinstruct aligning language models with selfgenerated instructions arxiv preprint arxiv221210560  2022 wei j wang x schuurmans d bosma m xia f chi e le q v  zhou d et al chainofthought prompting elicits reasoning in large language models advances in neural information processing systems  352482424837 2022 weston j and sukhbaatar s system 2 attention is something you might need too arxiv preprint arxiv231111829  2023 xiong w liu j molybog i zhang h bhargava p  hou r martin l rungta r sankararaman k a oguz b et al effective longcontext scaling of foundation models arxiv preprint arxiv230916039  2023 xu p  ping w wu x mcafee l zhu c liu z subramanian s bakhturina e shoeybi m and catanzaro b retrieval meets long context large language models arxiv preprint arxiv231003025  2023 yang z qi p  zhang s bengio y cohen w w salakhutdinov r and manning c d hotpotqa a dataset for diverse explainable multihop question answering arxiv preprint arxiv180909600  2018 zhou c liu p  xu p  iyer s sun j mao y ma x efrat a yu p  yu l et al lima less is more for alignment arxiv preprint arxiv230511206  2023 12",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 2113,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a46911b6-5d7d-48ed-9dbd-916e84415b62",
        "embedding": null,
        "metadata": {
            "page_label": "1",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "913a0855-2c36-4d8e-a2c9-ada8da50dfe2",
                "node_type": "4",
                "metadata": {
                    "page_label": "1",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "d551ead61e972aa3eec2d5b0e3b9756b5b0e7c728303090c29e483a7efb82a84",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "ragnar\u00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track ronak pradeep university of waterloo waterloo canadanandan thakur university of waterloo waterloo canadasahel sharifymoghaddam university of waterloo waterloo canadaeric zhang university of waterloo waterloo canada ryan nguyen university of waterloo waterloo canadadaniel campos snowflake inc new york usanick craswell microsoft seattle usajimmy lin university of waterloo waterloo canada abstract did you try out the new bing search or maybe you fiddled around with google ai overviews these might sound familiar because the modernday search stack has recently evolved to include retrieval augmented generation rag systems they allow searching and incorporating realtime data into large language models llms to provide a wellinformed attributed concise summary in contrast to the traditional search paradigm that relies on displaying a ranked list of documents therefore given these recent advancements it is crucial to have an arena to build test visualize and systematically evaluate ragbased search systems with this in mind we propose the trec 2024 rag track to foster innovation in evaluating rag systems in our work we lay out the steps weve made towards making this track a reality  we describe the details of our reusable framework ragnar\u00f6k explain the curation of the new ms marco v21 collection choice release the development topics for the track and standardize the io definitions which assist the end user next using ragnar\u00f6k we identify and provide key industrial baselines such as openais gpt4o or coheres command r further we introduce a webbased user interface for an interactive arena allow ing benchmarking pairwise rag systems by crowdsourcing we opensource our ragnar\u00f6k framework and baselines to achieve a unified standard for future rag systems httpsgithubcomcastoriniragnarok 1 introduction retrieval augmented generation rag  10212229 has emerged as a popular technique to augment large language model llm gen eration for knowledgeintensive tasks such as opendomain ques tion answering or fact verification  44 using the top \ud835\udc58retrieved segments from a suitable retrieval system rag systems output an answer summary grounded on the relevant context rag systems mitigate factual inconsistencies in llm outputs  19262934 and enhance interpretability  21 and generalization  20 thus facilitat ing a wider adoption across several domains like medicine  55 and finance 23 several companies provide endtoend rag frameworks such as bing search  39 or google gemini  5 most of these systems are either proprietary or offer limited user customization likewise the absence of a standardized rag framework makes implementing both authors contributed equally to the paper correspondence to ronak pradeep rpradeepuwaterlooca and nandan thakur nandanthakuruwaterloocarag at a large scale challenging implementing atop existing frame works requires custom code for multiple steps including retrieval reranking and generation to promote wider adoption of rag in academia we develop ragnar\u00f6k a userfriendly reusable end toend rag framework offering code for customizable retrievers rerankers and generation models ragnar\u00f6k comprises two key modules r retrieval and ag augmented generation the retrieval module incorporates both the retrieval and reranking stages to yield the top \ud835\udc58retrieved seg ments for an input user topic next the augmented generation module uses the userprovided topic and retrieved segments to produce an rag answer formatted into individual sentences cit ing the relevant information from the top \ud835\udc58retrieved segments ragnar\u00f6k is deeply integrated with existing python frameworks such as pyserini 31 and rank_llm 4647 and can be easily in stalled via pypi using  pip install pyragnarok  the framework offers easytouse rest apis and an integrated webui to enhance userfriendliness and improve the human evaluation experience the ragnar\u00f6k framework will be used for providing baselines in the upcoming trec 2024 retrieval augmented generation rag track1an ideal framework should include a sufficiently large doc ument collection covering diverse information and nonfactoid decompositional topics requiring longform answers in our frame work we deduplicate the existing ms marco v2 document col lection in addition we provide a segment collection using a slidingwindow chunking technique discussed in section 4 fur ther we release two sets of development topics i trecraggy 2024 a filtered subset of topics with longform answers from trec deep learning 202123  1517 and ii trecresearchy 2024 a subset of the researchy questions introduced in rosset et al 51 our ragnar\u00f6k framework supports a headtohead rag battle arena for the answer evaluation heavily inspired by recent work such as the chatbot arena  1358 we include key industrial base lines such as cohere command r  14 and openai gpt4o  41 and evaluate both the baselines using the retrieval setup involving bm25  49 and rankzephyr  47 with human preferences overall we observe gpt4o to provide more detailed answers over com mand r on the development set of topics discussed in section 6 finally we opensource ragnar\u00f6k and make it publicly available at the following url httpsgithubcomcastoriniragnarok in the future we will include a wider variety of llms as baselines and continue to improve our framework 1trec 2024 retrieval augmented generation rag track httpstrecraggithubioarxiv240616828v1 csir 24 jun 2024",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 5495,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "1975db8a-98be-4f36-8784-d8eb20da34d9",
        "embedding": null,
        "metadata": {
            "page_label": "2",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "261f4f32-12e7-43b5-8368-012efee2979d",
                "node_type": "4",
                "metadata": {
                    "page_label": "2",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "9f49aa60ee4bfdc59735aaa351bfd9ba63f3d626f875f719adfd4ade63aca6e4",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "conference17 july 2017 washington dc usa pradeep and thakur et al r retrieval module bm25 rankzephyr user topic how often should you take your toddler to the potty when potty training  referencesdoc0 doc1  doc19  response_length 728 answer  text  the frequency with which you should take your toddler to the potty depends on their readiness for potty training  citations 0 1 12 13 19   text  if they are reluctant to use the potty dont force them citations 6 8    doc0 how often should i take my toddler to the potty  doc1 how to potty train your kid  doc19 potty training how to get the job done topk segments ag augmented generation module command r gpt4orag output json prompting  llm retrieval  rerank rag retrievalaugmented generation module figure 1 schematic diagram of the ragnar\u00f6k framework given a user topic left the process consists of two steps 1 r retrieval  rerank where the topic yields the top \ud835\udc58relevant segments from our document collection eg potty training articles and 2 ag augmentedgeneration where the retrieved segments with a suitable prompt template is fed to the large language model llm to generate the postprocessed answer response json containing individual sentencelevel citations 2 related work rag frameworks existing rag systems are primarily closed source and difficult to reproduce opensource frameworks such as langchain  12 and llamaindex  33 while available are not researchfriendly and lack proper evaluation and benchmarking flashrag  24 a concurrent work is a similarly motivated toolkit to improve the rag experience for researchers while the frame work is extensive and designed for pipeline flexibility ragnar\u00f6k offers a few additional capabilities  a webui serving a rag battle arena easytouse rest apis a standardized io definition working with sentencelevel citations and a tight integration with popular retrieval  reranking frameworks like pyserini  31 and rankllm collection selection current rag datasets are constructed using the english wikipedia as the document collection however their scale is limited to provide rich and comprehensive information to support rag systems in addition clueweb22  42 offers an exten sive collection of 22 billion curated web pages previously utilized in trec tracks such as the trec conversational assistance track cast  43 and the forthcoming trec interactive knowledge as sistance track ikat  3 another alternative is the ms marco v2 document collection used in the trec deep learning dl track topic selection recently there has been a surge in datasets pro viding topics with longform answers for evaluating rag systems asqa  52 eli5  18 and qampari  4 were utilized for evaluation in the automatic llms citation evaluation alce framework  19 similarly related longform qa datasets include aquamuse  27 expertqa  36 and truthfulqa  32 another recently introduced dataset is clapnq  50 created from the subset of natural ques tions nq  28 and hagrid  25 built on a subset of ms marco dev  8 almost all previous datasets are built on english wikipedia in contrast our work deliberately avoids english wikipedia to pre vent the overfitting commonly seen in existing benchmarks  4054 in our work we reutilize topics from previous trec tracks such as the deep learning dl track because human judgments are available on the ms marco v2 corpora and researchy questions 51 as it covers a wide range of topics based on clueweb22 423 our framework ragnar\u00f6k is an opensource reproducible and reusable framework implementing an endtoend retrievalaugmented generation rag pipeline comprising two modules applied sequentially 1 r re trieval and 2 ag augmented generation through the ragnar\u00f6k framework we will provide several baselines to all participants in the upcoming trec 2024 rag track an overview of the frame work is provided in figure 1 we first describe both modules and expand on the io specifications in our framework retrieval module this module retrieves the relevant segments for a user topic as the input it supports i firststage lexical re trieval models such as bm25  49 and ii reranking models such as rankzephyr  47 the retrieval system searches for relevant segments in the document collection and retrieves the top 100seg ments further reranked by the reranker model to filter out the top20relevant segments for the next stage augmented generation module this module takes in the user topic and the top 20retrieved segments from the retrieval module as the input and a prompting strategy to the large language model llm to generate the answer response with incontext citations for the topic the answer response is divided into individual sentences each sentence within the answer contains text and is grounded on retrieved documents provided as references 31 rag inputoutput definitions rag input the input specifications are straightforward as the user can formulate any question they wish to ask provide the user topic and call our ragnar\u00f6k restapi framework rag output the user receives a json output in response to their topic from the ragnar\u00f6k framework the first key in the output json schema references  provides an ordered list of the top 20 ranked segment ids from our retrieval module next answer  pro vides the llmgenerated rag answer to the user topic presented as a toptobottom list of sentencelevel texts with corresponding seg ment citations all citations are zerobased indexed indicating the exact position of the segment id from the references list finally response_length  provides the total count of the text characters present in the output rag answer",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 5569,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6f68c669-8bdc-466d-831f-2ac540bd94c8",
        "embedding": null,
        "metadata": {
            "page_label": "3",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "fb8b290f-eec4-4e7b-aef0-d8b462015c6c",
                "node_type": "4",
                "metadata": {
                    "page_label": "3",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "aee8796a813c0b2082673989703925c24697f589646b776db4a8600124dea651",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "ragnar\u00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa table 1 comparison of document and segment counts be tween versions v2 and v21 our version after removing near duplicates of the ms marco collection collection version v2 version v21 ours ms marco document 11959635 10960555 ms marco segment 124131414 113520750 4 document collection the ms marco v2 document collection earlier used in the trec dl tracks contains a substantial overlap of nearduplicates docu ments with sufficiently similar text information within the collec tion  1617 when left intact these nearduplicates degrade the downstream retrieval accuracy and reduce the diversity of the col lected documents potentially impacting the effectiveness of rag systems in addition chunking which breaks down a long verbose document into smaller compact representations is a key challenge in rag as the retrieved chunk representations correlate with the rag answer quality 34 ms marco v21 document collection we conduct a deduplica tion strategy in the ms marco v2 document collection to avoid nearduplicates in two stages in the first stage we establish an equivalence class of the documents using locality sensitive hashing lsh with minhash  11 and 9gram shingles next we selected a representative document for each equivalence class for our refined ms marco v21 document collection2reducing the duplicates in the original ms marco v2 document collection by 835 as shown in table 1 ms marco v21 segment collection we segment the ms marco v21 document collection into overlapping segments or chunks and develop the ms marco v21 segment collection3with more than 113 million text segments table 1 we utilize a sliding window technique to generate the segments by fixing the sliding window size of 10 sentences and a stride of 5 sentences to create each seg ment roughly on average between 5001000 characters long to easily map each segment back to the document every segment contains the document id within the segment id further two new fields start_char andend_char indicate the start and the end position character of where the segment begins and ends in the mapped ms marco v21 document collection 5 topic collection topics ie user queries are crucial for robust evaluation of rag systems traditionally popular retrieval and traditional qa bench marks primarily consist of factoid queries where answers are typi cally found within a single sentence or paragraph however these topics lack complexity leading to short answers that can be easily memorized by llms for instance ms marco  8 surprisingly con tains up to 55 factoid queries  951 to avoid shortform answers in rag we utilize two collections containing nonfactoid topics covering information about diverse topics and requiring longform answers we describe these collections below 2ms marco v21 document collection msmarco_v21_doctar 3ms marco v21 segment collection msmarco_v21_doc_segmentedtartable 2 trecraggy and trecresearchy 2024 topic dis tribution the table shows the top 5categories in topic clas sification for trecraggy intrinsic attributes for trec researchy and the first word in all topics definitions in more detail can be found in appendix a  b trecraggy 2024 trecresearchy 2024 topic category first word  intrinsic attributes first word  aggregation 242 what 375 knowledgeintensive 798 how 410 simple w cond 233 how 275 multifaceted 757 why 255 set 208 why 33 reasoningintensive 755 what 150 simple 100 is 25 subjective 485 is 52 comparison 67 when 17 assumptive 257 should 22 trecraggy 2024 we develop trecraggy 2024 a collection with topics filtered from trec deep learning 20212023 tracks  15 17 based on topic category and generatedanswer classification we classify each available topic into seven categories described in appendix a and filter out a subset of topics that either have a long form answer or require information aggregation across multiple sources of information out of the 210 original topics available we filter and include 120 topics 571 in the trecraggy 2024 topic collection4from table 2 we observe 242 of the topics included are aggregation indicating rag systems require to aggregate information from multiple retrieved segments to generate an accu rate longform answer similarly 65 of the topics start with what or how overall a majority of the topics are useful for evaluation containing diverse topic categories requiring a longform answer trecresearchy 2024 researchy questions introduced in ros set et al  51  contains 102k nonfactoid topics with longform answers these topics were curated from bing search logs and eval uated by gpt4 on a scale of 010 based on eight intrinsic attributes such as subjectivity and multifacetedness definitions provided in appendix b notably unlike trecraggy 2024 these queries lack relevance judgments to curate a smaller development subset for a faster evaluation of rag systems we employ a sampler designed to maximize diversity based on the eight intrinsic attributes this is achieved by iteratively selecting the query with the highest \ud835\udc591 norm in the intrinsic attribute space of all eight dimensions rela tive to the alreadysampled set the resultant topic set we dub as trecresearchy 20245from table 2 about 80 of the topics are knowledgeintensive and about 76 are multifaceted highlighting the need for effective rag systems additionally 665 of topics start with how or why emphasizing explanatory questions these distributions suggest that trecresearchy 2024 prioritizes complex and multidimensional topics 6 trec 2024 rag baselines retrieval our retrieval module integrates both firststage retriev ers and rerankers we use bm25 available in anserini  57 with the following default parameters  \ud835\udc58109and\ud835\udc4f04 to retrieve the top 100segments for a given topic next rankzephyr  47 a stateoftheart listwise reranker is used to rerank the top 100can didates we use rankzephyr \ud835\udf0c a variant that reranks the candidates progressively ie makes three passes iteratively refining the final 4trecraggy 2024 topic collection topicsrag24raggydevtxt 5trecresearchy 2024 topic collection topicsrag24researchydevtxt",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 6185,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "91da282c-925c-4304-a0c2-fd51bf5a3bdd",
        "embedding": null,
        "metadata": {
            "page_label": "4",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "10183bf3-5654-40e9-9c23-0f3e76685fb8",
                "node_type": "4",
                "metadata": {
                    "page_label": "4",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "c088c4fa2fc2d9855a0f32eb54622c9b4aa101b1237679c5c8184be7cab18d65",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "conference17 july 2017 washington dc usa pradeep and thakur et al ranked candidate list to achieve better precision an easytouse implementation of rankzephyr is available via the rank_llm pack age along with various other rerankers like rankgpt  53 which we provide as secondary baselines finally the top 20reranked documents from the document collection are passed onto the next stage for rag generation augmented generation our generation module integrates two popular and commercially available llms i command r is coheres instruction following llm developed for complex rag pipelines  14 ii gpt4o is the latest gpt version from ope nai  41 given that command r cites in a span level we map the citations to their parent sentences for gpt4o we follow the zeroshot chatqa prompt template  35 and cite relevant segments within the text inline using the ieee format an example of the prompt template is shown in figure 2 in the appendix ragbench evaluation evaluating different rag answers is chal lenging as multiple factors within the output response are crucial for effectiveness evaluation to combat this recent works rely on an llmasajudge setup  58 where strong llm assessors judge the raggenerated output in a pairwise evaluation style sidebyside in a headon tournament in our work we briefly overview our baseline techniques using human evaluators a complete illustra tion can be found in table 4 in the appendix the command r baseline outputs shorter answers and cites more relevant segments whereas the gpt4o baseline outputs longer and more detailed answers and cites fewer segments therefore for topics in both trecraggy and trecresearchy 2024 gpt4o intuitively is the better choice for rag answer generation we leave it for future work to empirically compute the win rates in  between our baselines in the ragbench evaluation 61 ragnar\u00f6k system arena heavily inspired by the success of chatbot arena  1358 a crowd sourcing benchmark webui featuring anonymous battles we ex tend the concept to multistage configurable rag pipelines with ragnar\u00f6k in the arena users interact with two unblindedblinded rag systems simultaneously issuing the same topic to both the participants evaluate and select the pipeline that delivers their most preferred response with the identities of the modules in the endto end pipeline revealed after the voting process in the blinded case we leverage gradio  1 to build the webui for ragnar\u00f6k each step of the pipeline uses rest apis for intercommunication enabling easy module switching within the pipeline this modular design simplifies the integration of different retrieval and llm configura tions enhancing scalability and maintainability figure 3 in the appendix illustrates an example topic what inspired pink floyds the wall processed by two different pipelines pipeline a comprising bm25 rankzephyrgpt4o left and pipeline b comprising bm25 rankgpt4ocommand r right in the unblinded tab the outputs generated by each pipeline are compared allowing users to discern which system provided a more satisfactory answer note that when the user hovers the mouse over a citation they can preview the cited segment further in appendix c we discuss the blinded pairwise evaluation and the responses json output tab available in the webui for ragnar\u00f6k7 ongoing work ragnar\u00f6k is the first step for the ongoing work in the trec 2024 rag track by releasing the document collections development topics and baseline strategies for participants we will continue to update the pipelines to include more diverse retrieval models including stateoftheart dual encoders such as articembed  38 and effective pointwisepairwise rerankers  45 we plan to add additional support for more advanced rag techniques like self rag  7 and crag  56 for the trec 2024 rag track test topics we plan to conduct a new and fresh scrape of the bing search logs closer to the submission period this approach will compile a fresh and recent set of topics similar to rosset et al  51  thereby mini mizing the risk of data leakage and ensuring a fair evaluation with existing commercially available llms the next phase of our efforts will focus on finalizing the eval uation methodology using an automatic nuggetbased evaluation following earlier work in lin and demnerfushman 30 and first discussed in the trec rag 2024 presentation deck6the nugget based evaluation is recently gaining popularity  263748 and is becoming the de facto strategy for rag evaluation 8 conclusion the emergence of retrievalaugmented generation rag has rev olutionized modern search systems by allowing realtime data in corporation into large language models llms in our work we develop a reusable endtoend framework ragnar\u00f6k providing reproducible baselines and a webui serving a rag battle arena for retriever reranker and generation models we also introduce the ms marco v21 collection carefully curated topics from the trecdl 20212023 queries and researchy questions and io defi nitions to assist users in the rag paradigm additionally the paper identifies key industrial baselines such as coheres command r and openais gpt4o and includes a qualitative analysis of the baselines on the development topics by opensourcing this frame work we aim to standardize rag applications in preparation for the upcoming trec 2024 rag challenge acknowledgments we thank ian soboroff for the ms marco v2 document collection deduplication for our trec 2024 rag track cohere for providing us with the necessary credits to evaluate commandr and mi crosoft for providing azure credits to evaluate gpt4o additionally we thank corby rosset for the discussions surrounding researchy questions 51 references 1abubakar abid ali abdalla ali abid dawood khan abdulrahman alfozan and james y zou 2019 gradio hasslefree sharing and testing of ml models in the wild corr abs190602569 2019 arxiv190602569 httparxivorgabs 190602569 2marwah alaofi negar arabzadeh charles l a clarke and mark sanderson 2024 generative information retrieval evaluation corr abs240408137 2024 httpsdoiorg1048550arxiv240408137 arxiv240408137 3mohammad aliannejadi zahra abbasiantaeb shubham chatterjee jeffery dal ton and leif azzopardi 2024 trec ikat 2023 the interactive knowledge assistance track overview corr abs240101330 2024 httpsdoiorg10 48550arxiv240101330 arxiv240101330 6httpscsuwaterlooca jimmylinpublicationslin_etal_trec2023planningpdf",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 6383,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "748c431f-6b6a-4be6-809c-093e37ebd0f7",
        "embedding": null,
        "metadata": {
            "page_label": "5",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "1f9bb191-8372-4a77-87ae-50c4cd72beda",
                "node_type": "4",
                "metadata": {
                    "page_label": "5",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "f5c5c072-ae29-4280-a35c-20c59c7fab40",
                "node_type": "1",
                "metadata": {},
                "hash": "f8592af8718ae1fd9c1dd37d50dc4c967a34a1117643ba1765806e6da549d0d9",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "ragnar\u00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa 4samuel joseph amouyal ohad rubin ori yoran tomer wolfson jonathan herzig and jonathan berant 2022 qampari  an opendomain question answering benchmark for questions with many answers from multiple para graphs corr abs220512665 2022 httpsdoiorg1048550arxiv220512665 arxiv220512665 5rohan anil sebastian borgeaud yonghui wu jeanbaptiste alayrac jiahui yu radu soricut johan schalkwyk andrew m dai anja hauth katie mil lican david silver slav petrov melvin johnson ioannis antonoglou julian schrittwieser amelia glaese jilin chen emily pitler timothy p lillicrap ange liki lazaridou orhan firat james molloy michael isard paul ronald barham tom hennigan benjamin lee fabio viola malcolm reynolds yuanzhong xu ryan doherty eli collins clemens meyer eliza rutherford erica moreira ka reem ayoub megha goel george tucker enrique piqueras maxim krikun iain barr nikolay savinov ivo danihelka becca roelofs ana\u00efs white an ders andreassen tamara von glehn lakshman yagati mehran kazemi lu cas gonzalez misha khalman jakub sygnowski and et al 2023 gemini a family of highly capable multimodal models corr abs231211805 2023 httpsdoiorg1048550arxiv231211805 arxiv231211805 6negar arabzadeh and charles l a clarke 2024 a comparison of methods for evaluating generative ir corr abs240404044 2024 httpsdoiorg1048550 arxiv240404044 arxiv240404044 7akari asai zeqiu wu yizhong wang avirup sil and hannaneh hajishirzi 2023 selfrag learning to retrieve generate and critique through self reflection corr abs231011511 2023 httpsdoiorg1048550arxiv2310 11511 arxiv231011511 8payal bajaj daniel campos nick craswell li deng jianfeng gao xiaodong liu rangan majumder andrew mcnamara bhaskar mitra tri nguyen mir rosenberg xia song alina stoica saurabh tiwary and tong wang 2016 ms marco a human generated machine reading comprehension dataset corr abs161109268 2016 arxiv161109268 httparxivorgabs161109268 9valeria bolotova vladislav blinov falk scholer w bruce croft and mark sander son 2022 a nonfactoid questionanswering taxonomy in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11  15 2022  enrique amig\u00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 11961207 httpsdoiorg10114534774953531926 10 sebastian borgeaud arthur mensch jordan hoffmann trevor cai eliza ruther ford katie millican george van den driessche jeanbaptiste lespiau bogdan damoc aidan clark diego de las casas aurelia guy jacob menick roman ring tom hennigan saffron huang loren maggiore chris jones albin cassirer andy brock michela paganini geoffrey irving oriol vinyals simon osindero karen simonyan jack w rae erich elsen and laurent sifre 2022 improving language models by retrieving from trillions of tokens in international con ference on machine learning icml 2022 1723 july 2022 baltimore maryland usa proceedings of machine learning research vol 162  kamalika chaudhuri stefanie jegelka le song csaba szepesv\u00e1ri gang niu and sivan sabato eds pmlr 22062240 httpsproceedingsmlrpressv162borgeaud22ahtml 11 andrei z broder 1997 on the resemblance and containment of documents incompression and complexity of sequences 1997 positano amalfitan coast salerno italy june 1113 1997 proceedings  bruno carpentieri alfredo de santis ugo vaccaro and james a storer eds ieee 2129 httpsdoiorg101109 sequen1997666900 12 harrison chase 2022 langchain  httpsgithubcomlangchainailangchain 13 weilin chiang lianmin zheng ying sheng anastasios nikolas angelopoulos tianle li dacheng li hao zhang banghua zhu michael i jordan joseph e gonzalez and ion stoica 2024 chatbot arena an open platform for evaluating llms by human preference corr abs240304132 2024 httpsdoiorg10 48550arxiv240304132 arxiv240304132 14 cohere 2024 introducing command r a scalable llm built for business  https coherecomblogcommandrplusmicrosoftazure 15 nick craswell bhaskar mitra emine yilmaz daniel campos and jimmy lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335  ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338  ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4847,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f5c5c072-ae29-4280-a35c-20c59c7fab40",
        "embedding": null,
        "metadata": {
            "page_label": "5",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "1f9bb191-8372-4a77-87ae-50c4cd72beda",
                "node_type": "4",
                "metadata": {
                    "page_label": "5",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "748c431f-6b6a-4be6-809c-093e37ebd0f7",
                "node_type": "1",
                "metadata": {
                    "page_label": "5",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "e3c9e6911f1a65c49be2daa61a96c88d2e00e1f22394c8f60d869027a943298b",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "a52a1825-aa10-4744-a195-018dfcc89618",
                "node_type": "1",
                "metadata": {},
                "hash": "65cf89cac13ee655fadab85d4f6f66a8c2838dcfefd6a42951ee29e278141a8f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "lin 2021 overview of the trec 2021 deep learning track in proceedings of the thirtieth text retrieval conference trec 2021 online november 1519 2021 nist special publication vol 500335  ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec30 papersoverviewdlpdf 16 nick craswell bhaskar mitra emine yilmaz daniel campos jimmy lin ellen m voorhees and ian soboroff 2022 overview of the trec 2022 deep learning track in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338  ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgovpubstrec31papersoverview_deeppdf 17 nick craswell bhaskar mitra emine yilmaz hossein a rahmani daniel cam pos jimmy lin ellen m voorhees and ian soboroff 2024 overview of the trec 2023 deep learning track in text retrieval conference trec  nist trec httpswwwmicrosoftcomenusresearchpublicationoverviewofthe trec2023deeplearningtrack18 angela fan yacine jernite ethan perez david grangier jason weston and michael auli 2019 eli5 long form question answering in proceedings of the 57th conference of the association for computational linguistics acl 2019 florence italy july 28 august 2 2019 volume 1 long papers  anna korhonen david r traum and llu\u00eds m\u00e0rquez eds association for computational lin guistics 35583567 httpsdoiorg1018653v1p191346 19 tianyu gao howard yen jiatong yu and danqi chen 2023 enabling large language models to generate text with citations in proceedings of the 2023 conference on empirical methods in natural language processing emnlp 2023 singapore december 610 2023  houda bouamor juan pino and kalika bali eds association for computational linguistics 64656488 httpsdoiorg1018653 v12023emnlpmain398 20 yunfan gao yun xiong xinyu gao kangxiang jia jinliu pan yuxi bi yi dai jiawei sun qianyu guo meng wang and haofen wang 2023 retrievalaugmented generation for large language models a survey corr abs231210997 2023 httpsdoiorg1048550arxiv231210997 arxiv231210997 21 kelvin guu kenton lee zora tung panupong pasupat and mingwei chang 2020 retrieval augmented language model pretraining in proceedings of the 37th international conference on machine learning icml 2020 1318 july 2020 virtual event proceedings of machine learning research vol 119  pmlr 39293938 httpproceedingsmlrpressv119guu20ahtml 22 gautier izacard and edouard grave 2021 leveraging passage retrieval with generative models for open domain question answering in proceedings of the 16th conference of the european chapter of the association for computational linguistics main volume eacl 2021 online april 19  23 2021  paola merlo j\u00f6rg tiedemann and reut tsarfaty eds association for computational linguistics 874880 httpsdoiorg1018653v12021eaclmain74 23 antonio jimenoyepes yao you jan milczek sebastian laverde and renyu li 2024 financial report chunking for effective retrieval augmented genera tion corr abs240205131 2024 httpsdoiorg1048550arxiv240205131 arxiv240205131 24 jiajie jin yutao zhu xinyu yang chenghao zhang and zhicheng dou 2024 flashrag a modular toolkit for efficient retrievalaugmented generation research corr abs240513576 2024 arxiv240513576 httpsarxivorgabs 240513576 25 ehsan kamalloo aref jafari xinyu zhang nandan thakur and jimmy lin 2023 hagrid a humanllm collaborative dataset for generative information seeking with attribution corr abs230716883 2023 httpsdoiorg1048550 arxiv230716883 arxiv230716883 26 urvashi khandelwal omer levy dan jurafsky luke zettlemoyer and mike lewis 2020 generalization through memorization nearest neighbor language models in 8th international conference on learning representations iclr 2020 addis ababa ethiopia april 2630 2020  openreviewnet httpsopenreview netforumidhklbjcekvh 27 sayali kulkarni sheide chammas wan zhu fei sha and eugene ie 2020 aqua muse automatically generating datasets for querybased multidocument summarization corr abs201012694 2020 arxiv201012694 httpsarxivorg abs201012694 28 tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur p parikh chris alberti danielle epstein illia polosukhin jacob de vlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov 2019 natural questions a benchmark for question answering research trans assoc comput linguistics 7 2019 452466 httpsdoiorg101162tacl_a_00276 29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich k\u00fcttler mike lewis wentau yih tim rockt\u00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual  hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval",
        "mimetype": "text/plain",
        "start_char_idx": 4091,
        "end_char_idx": 9223,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "a52a1825-aa10-4744-a195-018dfcc89618",
        "embedding": null,
        "metadata": {
            "page_label": "5",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "1f9bb191-8372-4a77-87ae-50c4cd72beda",
                "node_type": "4",
                "metadata": {
                    "page_label": "5",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "477d97315c53a0a8a46155efea75be814f5fa0549f3db00d5b989830275528ec",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "f5c5c072-ae29-4280-a35c-20c59c7fab40",
                "node_type": "1",
                "metadata": {
                    "page_label": "5",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "47ee7bae968976d7d2b42316c1e90976f16600339bade6c2fe3b81d86b80a949",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "29 patrick s h lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich k\u00fcttler mike lewis wentau yih tim rockt\u00e4schel sebastian riedel and douwe kiela 2020 retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural in formation processing systems 33 annual conference on neural information processing systems 2020 neurips 2020 december 612 2020 virtual  hugo larochelle marcaurelio ranzato raia hadsell mariaflorina balcan and hsuantien lin eds httpsproceedingsneuripsccpaper2020hash 6b493230205f780e1bc26945df7481e5abstracthtml 30 jimmy lin and dina demnerfushman 2006 methods for automatically eval uating answers to complex questions inf retr 9 5 2006 565587 https doiorg101007s1079100690037 31 jimmy lin xueguang ma shengchieh lin jhenghong yang ronak pradeep and rodrigo nogueira 2021 pyserini a python toolkit for reproducible informa tion retrieval research with sparse and dense representations in proceedings of the 44th annual international acm sigir conference on research and development in information retrieval sigir 2021  23562362 32 stephanie lin jacob hilton and owain evans 2022 truthfulqa measuring how models mimic human falsehoods in proceedings of the 60th annual meeting of the association for computational linguistics volume 1 long papers acl 2022 dublin ireland may 2227 2022  smaranda muresan preslav nakov and aline villavicencio eds association for computational linguistics 32143252 httpsdoiorg1018653v12022acllong229",
        "mimetype": "text/plain",
        "start_char_idx": 8564,
        "end_char_idx": 10070,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0e79f15b-b2f9-4342-ba8b-699f2b67b1ef",
        "embedding": null,
        "metadata": {
            "page_label": "6",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "e150d72a-4d72-45d8-bb62-5ce01e96c22a",
                "node_type": "4",
                "metadata": {
                    "page_label": "6",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60",
                "class_name": "RelatedNodeInfo"
            },
            "3": {
                "node_id": "d02609ed-9d88-4ab5-a7a3-360739173a6d",
                "node_type": "1",
                "metadata": {},
                "hash": "857a050bc031171988069793554b08f82d61fcd1046738fda54cfe8d2ad87560",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "conference17 july 2017 washington dc usa pradeep and thakur et al 33 jerry liu 2022 llamaindex  httpswwwllamaindexai 34 nelson f liu kevin lin john hewitt ashwin paranjape michele bevilacqua fabio petroni and percy liang 2024 lost in the mid dle how language models use long contexts transactions of the association for computational linguistics 12 02 2024 157173 httpsdoiorg101162tacl_a_00638 arxivhttpsdirectmitedutaclarticle pdfdoi101162tacl_a_006382336043tacl_a_00638pdf 35 zihan liu wei ping rajarshi roy peng xu chankyu lee mohammad shoeybi and bryan catanzaro 2024 chatqa building gpt4 level conversational qa models corr abs240110225 2024 httpsdoiorg1048550arxiv240110225 arxiv240110225 36 chaitanya malaviya subin lee sihao chen elizabeth sieber mark yatskar and dan roth 2023 expertqa expertcurated questions and attributed an swers corr abs230907852 2023 httpsdoiorg1048550arxiv230907852 arxiv230907852 37 james mayfield eugene yang dawn lawrie sean macavaney paul mcnamee douglas w oard luca soldaini ian soboroff orion weller efsun kayi kate sanders marc mason and noah hibbler 2024 on the evaluation of machine generated reports in proceedings of the 47th international acm sigir conference on research and development in information retrieval  38 luke merrick danmei xu gaurav nuti and daniel campos 2024 arcticembed scalable efficient and accurate text embedding models arxiv240505374 cscl 39 microsoft 2023 reinventing search with a new aipowered microsoft bing and edge your copilot for the web  httpsblogsmicrosoftcomblog20230207reinventing searchwithanewaipoweredmicrosoftbingandedgeyourcopilotfor theweb 40 niklas muennighoff nouamane tazi lo\u00efc magne and nils reimers 2023 mteb massive text embedding benchmark in proceedings of the 17th conference of the european chapter of the association for computational linguistics eacl 2023 dubrovnik croatia may 26 2023  andreas vlachos and isabelle augenstein eds association for computational linguistics 20062029 httpsdoiorg10 18653v12023eaclmain148 41 openai 2024 hello gpt4o  httpsopenaicomindexhellogpt4o 42 arnold overwijk chenyan xiong and jamie callan 2022 clueweb22 10 billion web documents with rich information in sigir 22 the 45th international acm sigir conference on research and development in information retrieval madrid spain july 11  15 2022  enrique amig\u00f3 pablo castells julio gonzalo ben carterette j shane culpepper and gabriella kazai eds acm 33603362 httpsdoiorg10114534774953536321 43 paul owoicho jeff dalton mohammad aliannejadi leif azzopardi johanne r trippas and svitlana vakulenko 2022 trec cast 2022 going beyond user ask and system retrieve with initiative and response generation in proceedings of the thirtyfirst text retrieval conference trec 2022 online november 1519 2022 nist special publication vol 500338  ian soboroff and angela ellis eds national institute of standards and technology nist httpstrecnistgov pubstrec31papersoverview_castpdf 44 fabio petroni aleksandra piktus angela fan patrick s h lewis majid yaz dani nicola de cao james thorne yacine jernite vladimir karpukhin jean maillard vassilis plachouras tim rockt\u00e4schel and sebastian riedel 2021 kilt a benchmark for knowledge intensive language tasks in proceedings of the 2021 conference of the north american chapter of the association for compu tational linguistics human language technologies naaclhlt 2021 online june 611 2021  kristina toutanova anna rumshisky luke zettlemoyer dilek hakkanit\u00fcr iz beltagy steven bethard ryan cotterell tanmoy chakraborty and yichao zhou eds association for computational linguistics 25232544 httpsdoiorg1018653v12021naaclmain200 45 ronak pradeep rodrigo nogueira and jimmy lin 2021 the expandomono duo design pattern for text ranking with pretrained sequencetosequence models arxiv210105667 2021 46 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankvicuna zeroshot listwise document reranking with opensource large language models corr abs230915088 2023 httpsdoiorg1048550arxiv230915088 arxiv230915088 47 ronak pradeep sahel sharifymoghaddam and jimmy lin 2023 rankzephyr ef fective and robust zeroshot listwise reranking is a breeze corr abs231202724 2023 httpsdoiorg1048550arxiv231202724 arxiv231202724 48 vatsal raina and mark gales 2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 httpsdoiorg1048550arxiv240402103 arxiv24040210351 corby rosset holam chung guanghui qin ethan c chau zhuo feng ahmed awadallah jennifer neville and nikhil rao 2024 researchy ques tions a dataset of multiperspective decompositional questions for llm web agents corr abs240217896 2024",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4960,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "d02609ed-9d88-4ab5-a7a3-360739173a6d",
        "embedding": null,
        "metadata": {
            "page_label": "6",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "e150d72a-4d72-45d8-bb62-5ce01e96c22a",
                "node_type": "4",
                "metadata": {
                    "page_label": "6",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "d7de5fdb7dd5c31bc101951b02f82877b4a6f6d6f0c4fd6426260ea50c109f60",
                "class_name": "RelatedNodeInfo"
            },
            "2": {
                "node_id": "0e79f15b-b2f9-4342-ba8b-699f2b67b1ef",
                "node_type": "1",
                "metadata": {
                    "page_label": "6",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "9ad18c07c68d9b02585d1b884b392d14033691bd0d80a0b34a2ccd970c6e756a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "2024 questionbased retrieval using atomic units for enterprise rag arxiv240512363 cscl 49 stephen e robertson and hugo zaragoza 2009 the probabilistic relevance framework bm25 and beyond found trends inf retr 3 4 2009 333389 httpsdoiorg1015611500000019 50 sara rosenthal avirup sil radu florian and salim roukos 2024 clapnq cohesive longform answers from passages in natural questions for rag systems corr abs240402103 2024 httpsdoiorg1048550arxiv240402103 arxiv24040210351 corby rosset holam chung guanghui qin ethan c chau zhuo feng ahmed awadallah jennifer neville and nikhil rao 2024 researchy ques tions a dataset of multiperspective decompositional questions for llm web agents corr abs240217896 2024 httpsdoiorg1048550arxiv240217896 arxiv240217896 52 ivan stelmakh yi luan bhuwan dhingra and mingwei chang 2022 asqa factoid questions meet longform answers in proceedings of the 2022 conference on empirical methods in natural language processing emnlp 2022 abu dhabi united arab emirates december 711 2022  yoav goldberg zornitsa kozareva and yue zhang eds association for computational linguistics 82738288 httpsdoiorg1018653v12022emnlpmain566 53 weiwei sun lingyong yan xinyu ma pengjie ren dawei yin and zhaochun ren 2023 is chatgpt good at search investigating large language models as reranking agent arxiv230409542 2023 54 nandan thakur nils reimers andreas r\u00fcckl\u00e9 abhishek srivastava and iryna gurevych 2021 beir a heterogeneous benchmark for zeroshot evalua tion of information retrieval models in proceedings of the neural information processing systems track on datasets and benchmarks 1 neurips datasets and benchmarks 2021 december 2021 virtual  joaquin vanschoren and saikit yeung eds httpsdatasetsbenchmarksproceedingsneuripsccpaper2021hash 65b9eea6e1cc6bb9f0cd2a47751a186fabstractround2html 55 guangzhi xiong qiao jin zhiyong lu and aidong zhang 2024 benchmarking retrievalaugmented generation for medicine corr abs240213178 2024 httpsdoiorg1048550arxiv240213178 arxiv240213178 56 shiqi yan jiachen gu yun zhu and zhenhua ling 2024 corrective retrieval augmented generation corr abs240115884 2024 httpsdoiorg1048550 arxiv240115884 arxiv240115884 57 peilin yang hui fang and jimmy lin 2017 anserini enabling the use of lucene for information retrieval research in international conference on research and development in information retrieval sigir  httpsdoiorg1011453077136 3080721 58 lianmin zheng weilin chiang ying sheng siyuan zhuang zhanghao wu yonghao zhuang zi lin zhuohan li dacheng li eric p xing hao zhang joseph e gonzalez and ion stoica 2023 judging llmasajudge with mtbench and chatbot arena in advances in neural information pro cessing systems 36 annual conference on neural information processing sys tems 2023 neurips 2023 new orleans la usa december 10  16 2023  alice oh tristan naumann amir globerson kate saenko moritz hardt and sergey levine eds httppapersnipsccpaper_filespaper2023hash 91f18a1287b398d378ef22505bf41832abstractdatasets_and_benchmarkshtml",
        "mimetype": "text/plain",
        "start_char_idx": 4254,
        "end_char_idx": 7251,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "26c7ef7a-4fdd-4e5e-bca0-75efc2f24c64",
        "embedding": null,
        "metadata": {
            "page_label": "7",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "60ae25f2-4b5e-4a7f-be9a-25b9f12caa57",
                "node_type": "4",
                "metadata": {
                    "page_label": "7",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "41d73e731716400566f38f37375fb72cb2bb5dcca2da6d0f2f25964bb931aecc",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "ragnar\u00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa a trecraggy 2024 additional details we manually classify each available topic in trec deep learn ing tracks 20212023  131516 into one of the seven different topic categories we manually labeled each topic following the guidelines7mentioned below simple  topic asking for information about a simple fact eg how to emulsion a house simple with condition  topic asking for information about a topic with an imposed condition eg how to cook thinly sliced home fries set a topic containing multiple short entities in the answer eg what themes are in action movies aggregation  a topic that requires aggregation of multiple retrieved segments eg how to put together a scuba regu lator comparison  a topic that requires comparison of the retrieved segments eg does light intensity or concentration of car bon dioxide have a higher rate of photosynthesis multihop  a topic that requires to chain multiple information from different retrieved segments eg the population of kings grant fayetteville prior to liberty hills false premise  a topic that has a false preposition or assump tion eg do larger lobsters become tougher when cooked b trecresearchy 2024 additional details note that for researchy questions  51 the following eight intrinsic attributes were measured by gpt4 on a scale of 010 ambiguity checks if the questions intent is moderately ambiguous suggesting multiple interpretations incompleteness checks if the question is difficult to answer due to missing crucial context or details assumptive checks if the question has some builtin assump tions that may influence the answer multifaceted checks if the question requires considering multiple perspectives to provide a comprehensive answer knowledgeintensive checks if the question demands spe cialized knowledge and extensive research to answer thor oughly subjective measures if the question contains some level of subjectivity with potential for varying opinions reasoningintensive checks if the question requires signifi cant reasoning and synthesis of information to answer harmful checks to what extent the question is harmful or inappropriate it is worth noting that all the questions provided scored 0 in harm fulness and a tiny fraction scored highly on ambiguity we used a score of 5as the threshold to label the query for that intrinsic attribute c ragnar\u00f6k system arena figure 4 showcases the ragnar\u00f6k webui dark mode and the user query why have used car prices increased from trec2024 re searchy issued to two blinded systems this blind setup enables 7guidelines have been inspired from the 2024 meta comprehensive rag benchmarksystem this is a chat between a user and an artificial intelligence assistant the assistant gives helpful detailed and polite answers to the users questions based on the context the assistant should also indicate when the answer cannot be found in the context instruction please give a complete answer to the question cite each context document that supports your answer within brackets  using the ieee format question query contexts 1 passage title passage text 2 passage title passage text  20 passage title passage text instruction please give a complete answer to the question cite each context document that supports your answer within brackets  using the ieee format figure 2 chatqa prompt template  35 used for rag gen eration with intext citations with gpt4o in our ragnar\u00f6k framework fair leaderboards especially when incentives to game leaderboards are huge in this competitive proprietary llm space the output displays the answers in humanreadable form allowing users to assess the quality of responses without bias figure 5 demonstrates the responses tab for the example in fig ure 4 the responses tab reformats the final answers into the json output expected by the io definitions of the trec 2024 rag track this feature is particularly useful for developers and researchers who need to ensure that their systems outputs conform to specific standards and formats required by evaluation frameworks by incorporating both humanreadable and jsonformatted out puts ragnar\u00f6k provides a comprehensive evaluation platform that caters to a wide range of needs in the research and development community the ability to toggle between different views and for mats ensures that users can efficiently analyze and interpret the effectiveness of various rag systems",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4500,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "7abb9543-28dd-4112-ab97-fe8768332e96",
        "embedding": null,
        "metadata": {
            "page_label": "8",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "cb767f75-11a4-4491-84cb-8e840c03f0f2",
                "node_type": "4",
                "metadata": {
                    "page_label": "8",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "048b5c673dec02a492a52693af73ad855a9cda6fffe250f3f842507ccc71c4c4",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "conference17 july 2017 washington dc usa pradeep and thakur et al figure 3 webui showcasing the ragnar\u00f6k system arena and the user query what inspired pink floyds the wall with answers from two pipelines sidebyside comparing gpt4o answer left and command r answer right table 3 an example of the first segment of two nearduplicate documents present in the ms marco v2 segment collection during the deduplication procedure the segments of one of the documents is kept in the ms marco v21 segment collection msmarco_doc_00_9951701740 whereas the other segment is discarded as a duplicate msmarco_doc_00_9951711910 segment id url title segment ms marco v21 segment discarded msmarco_doc_00 _9951711910httpcenterserveorgtt fp_tipshtmlserve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner ms marco v21 segment kept msmarco_doc_00 _9951701740httpcenterserveorgtt serve center re sourcesserve center get to know us about us we believe that educational improvement requires a partnership with our clients and we focus on doing work that is important and directly relevant to both policymakers and practitioners services program evaluation capacity building technical assistance strategic planning and much more customized services designed to meet the specific needs of our partnering organizations projects during its history serve has been awarded over 200 million in contracts and grants and has successfully managed 14 major awards including multiple contracts with the us department of education resources forging connections with a variety of individuals and organizations the serve center offers an array of resources developed to inform and aide both the policymaker and the practioner",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 2460,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "cf1320dd-16cb-466d-8142-3388d0b1f011",
        "embedding": null,
        "metadata": {
            "page_label": "9",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "f4e50a69-538c-4f6f-942f-04321773d49e",
                "node_type": "4",
                "metadata": {
                    "page_label": "9",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "32edabda4ac9d5e48b23dd420dcb5b6d02ec13e88a61d4045b46c4dbfdf1d27d",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "ragnar\u00f6k a reusable rag framework and baselines for trec 2024 retrievalaugmented generation track conference17 july 2017 washington dc usa figure 4 webui dark mode showcasing the ragnar\u00f6k system arena for the user query on why have used car prices increased from trec2024 researchy with two different blinded pipelines the output tab displays the answers in humanreadable form figure 5 the responses tab for the example in figure 4 note that the responses tab reformats the final answers into the json format expected by the io definitions of the trec 2024 rag track",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 566,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0b24a90e-4918-42dd-a454-d3a79de4067b",
        "embedding": null,
        "metadata": {
            "page_label": "10",
            "file_name": "Ragnar\u00f6k.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
            "file_type": "application/pdf",
            "file_size": 1681358,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "c9d6f0a0-864f-4649-9b8f-970bbbb171fd",
                "node_type": "4",
                "metadata": {
                    "page_label": "10",
                    "file_name": "Ragnar\u00f6k.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\Ragnar\u00f6k.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1681358,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "adaf4afaff3e974bed55e81a336c89054330ab4a4cc3dc951a43e566cae79562",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "conference17 july 2017 washington dc usa pradeep and thakur et al table 4 an endtoend rag example for a randomly sampled topic topic id 2027497 in the trecraggy 2024 collection how often should you take your toddler to the potty when potty training 1 top10 retrieved segments from the r retrieval stage ordered from top to bottom in terms of relevancy segment id title segment 1 msmarco_v21_doc_51_766815931 2_1606878413how often should i take my tod dler to the potty there are some guidelines to followselfesteem can be fragile at this time so its important to toilet train gently letting your child lead the way additionally its unwise to begin potty training unless your child is truly ready take this potty training readiness quiz featured in parents before you begin elizabeth pantley    and you still must be on the lookout for signs your toddler has to go ahead of schedule 2 msmarco_v21_doc_51_766815931 6_1606884302how often should i take my tod dler to the potty there are some guidelines to followdavis and keyser stressed the importance of keeping your own emotions in check throughout the toilet training process the bottom line when it comes to potty time theres no magic number    youll just have that much longer to plan a good one 3 msmarco_v21_doc_08_935420812 8_1683502976qa know your childs level of readiness for potty training  par entsstart by sitting on the toilet the first thing in the morning after taking off the overnight diaper make it funsing songs read a book drink some juice and see what happens     dr carrie m brown my 3yearold is adamant about not using the potty how can i motivate her 4 msmarco_v21_doc_08_935420812 0_1683481876qa know your childs level of readiness for potty training  par entsqa know your childs level of readiness for potty training  parents home toddlers  preschoolers potty training potty training tips qa    have your child sit on the potty soon after shes finished breakfast and again after dinner 5 msmarco_v21_doc_28_472446307 23_1012991039potty trained toddler having acci dents on purposebut dont feel disappointed if most of these tries end up with no pee in the pottyyou wouldnt be able to pee    get more tips on how to ease your childs potty training poop anxiety 6 msmarco_v21_doc_28_472446307 22_1012988885potty trained toddler having acci dents on purposeget tips on what to do when your 4 year old wont poop on potty    routines give him the predictability he needs so he knows exactly what to do and when you might use the potty after waking up before leaving the house or after eating meals 7 msmarco_v21_doc_57_1222573163 16_2241797192tips on starting potty training how to potty train your toddlerteach him to check for dryness this offers him an added sense of control if hes dry give him a pat on the back or a big hug but dont criticize him if hes wet    if you overreact you might discourage your toddlers future attempts 8 msmarco_v21_doc_57_1222573163 15_2241795642tips on starting potty training how to potty train your toddlereven if youre too late and hes already done the deed have him sit on the potty anyway to reinforce the connection keep her motivated    even the most enthu siastic toddler can take several weeks to master potty training proficiency  often with as many steps backward as forward 9 msmarco_v21_doc_51_766815931 5_1606882767how often should i take my tod dler to the potty there are some guidelines to followaccording to becoming the parent you want to be by laura davis and janis keyser its common for children to go back and forth  somedays preferring diapers and other days selecting to use the toilet    you can only take your child to the bathroom too much if it begins to feel stressful or punitive 10 msmarco_v21_doc_51_766815931 0_1606874600how often should i take my tod dler to the potty there are some guidelines to followhow often should i take my toddler to the potty there are some guidelines to follow life ashley batzromper how often should i take my toddler to the potty there are some guidelines to follow by kelly mullenmcwilliams july 22 2017 i dont know about you but im personally super pumped for that perfect day    he article noted that toilet training is also one of the most difficult milestones for children and their parents and that it can become highly emotional 2 results from the ag augmented generation stage using top10 retrieved segments model rag answer command r text there is no magic number for how often you should take your toddler to the potty when potty training citations 1 8 text however it is recommended to take them frequently especially after waking up before leaving the house after eating meals or before bath time citations 0 1 2 3 4 5 8 text you can also use a timer and set it to every 30 minutes to an hour for a potty break citations 5 text it is important to be patient and gentle throughout the process as it can be emotionally challenging for both the child and the parent citations 0 1 3 6 7 8 9 gpt4o text when potty training your toddler it is recommended to take them to the potty frequently to increase the chances of success  citations  text according to elizabeth pantley author of the nocry potty training solution most toddlers pee four to eight times per day and have one or two bowel movements daily citations  text she suggests setting up a potty routine such as taking your toddler to the potty first thing in the morning after eating and before activities like riding in the car or going to sleep citations 0 text additionally davis and keyser emphasize the importance of following a schedule such as morning pee and before nap time while also being attentive to signs that your toddler needs to go citations  text they caution against making the process stressful or punitive as negative emotions can hinder progress citations 1 text dr carrie m brown recommends planning bathroom trips every 90120 minutes during the day and remaining calm and consistent even if accidents occur citations  text this approach helps toddlers learn the routine and increases the likelihood of successful potty use citations 2",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 6093,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f2eb07c7-99dd-4d23-8f1b-cee480d48f82",
        "embedding": null,
        "metadata": {
            "page_label": "1",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "80fd483d-6a5a-459c-a348-62a8c0c6819b",
                "node_type": "4",
                "metadata": {
                    "page_label": "1",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "c0b57e683f5230839d8ab5bf00b429f96f65ff2bbc69947a19155d1e41924bb9",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint selfrag learning to retrieve  generate and critique through selfreflection akari asai zeqiu wu yizhong wang avirup sil hannaneh hajishirzi university of washingtonallen institute for aiibm research ai akarizeqiuwuyizhongwhannaneh cswashingtonedu aviusibmcom abstract despite their remarkable capabilities large language models llms often produce responses containing factual inaccuracies due to their sole reliance on the paramet ric knowledge they encapsulate retrievalaugmented generation rag an ad hoc approach that augments lms with retrieval of relevant knowledge decreases such issues however indiscriminately retrieving and incorporating a fixed number of retrieved passages regardless of whether retrieval is necessary or passages are relevant diminishes lm versatility or can lead to unhelpful response generation we introduce a new framework called selfreflective retrievalaugmented gen eration  selfragthat enhances an lms quality and factuality through retrieval and selfreflection our framework trains a single arbitrary lm that adaptively retrieves passages ondemand and generates and reflects on retrieved passages and its own generations using special tokens called reflection tokens generating reflection tokens makes the lm controllable during the inference phase enabling it to tailor its behavior to diverse task requirements experiments show that self rag7b and 13b parameters significantly outperforms stateoftheart llms and retrievalaugmented models on a diverse set of tasks specifically selfrag outperforms chatgpt and retrievalaugmented llama2chat on opendomain qa reasoning and fact verification tasks and it shows significant gains in improving factuality and citation accuracy for longform generations relative to these models1 1 i ntroduction stateoftheart llms continue to struggle with factual errors mallen et al 2023 min et al 2023 despite their increased model and data scale ouyang et al 2022 retrievalaugmented generation rag methods figure 1 left lewis et al 2020 guu et al 2020 augment the input of llms with relevant retrieved passages reducing factual errors in knowledgeintensive tasks ram et al 2023 asai et al 2023a however these methods may hinder the versatility of llms or introduce unnecessary or offtopic passages that lead to lowquality generations shi et al 2023 since they retrieve passages indiscriminately regardless of whether the factual grounding is helpful moreover the output is not guaranteed to be consistent with retrieved relevant passages gao et al 2023 since the models are not explicitly trained to leverage and follow facts from provided passages this work introduces selfreflective retrievalaugmented generation  selfragto improve an llms generation quality including its factual accuracy without hurting its versatility via ondemand retrieval and selfreflection we train an arbitrary lm in an endtoend manner to learn to reflect on its own generation process given a task input by generating both task output and intermittent special tokens ie reflection tokens  reflection tokens are categorized into retrieval andcritique tokens to indicate the need for retrieval and its generation quality respectively figure 1 right in particular given an input prompt and preceding generations selfragfirst determines if augmenting the continued generation with retrieved passages would be helpful if so it outputs a retrieval token that calls a retriever model on demand step 1 subsequently selfragconcurrently processes multiple retrieved passages evaluating their relevance and then generating corresponding task outputs step 2 it then generates critique tokens to criticize its own output and choose best one step 3 in terms of factuality and overall quality this process differs from conventional rag figure 1 left which 1our code and trained models are available at httpsselfraggithubio  1arxiv231011511v1 cscl 17 oct 2023",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3895,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "14a894cf-9a58-4ca9-980d-ebba02bd39e3",
        "embedding": null,
        "metadata": {
            "page_label": "2",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "b62d70be-243b-4327-a99b-2a34b112f70e",
                "node_type": "4",
                "metadata": {
                    "page_label": "2",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "87aee53fa089bb7906356c1bcfcfc27c7e6a2c26bdf4065705eccf0010103bac",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint step 1 retrieve k documentscalifornia was named after a \ufb01ctional island in a spanish book prompt how did us states get their names us states got their names from a variety of sources eleven states are named after an individual person eg california was named after christopher columbus some states including texas and utah are named after native american tribe retrievalaugmented generation ragours selfre\ufb02ective retrievalaugmented generation selfrag popular names by states in texas emma is a popular baby name of the \ufb01fty states eleven are named after an individual person prompt how did us states get their names  step 2 prompt lm with k docs and generateretriever lm prompt how did us states get their names us states got their names from a variety of sources retrievestep 1 retrieve on demand prompt  11 of 50 state namesrelevant step 2 generate segment in parallel come from personssupportedirrelevanttexas is namedafter a native american tribe step 3 critique outputs and select best segmentorigins in a 16thcentury novel las sergas de esplandi\u00e1n californias name has itsrelevantpartially us states got their names from a variety of sources 11 of 50 states names are come from persons 26 states are named after native americans including utah prompt write an essay of your best summer vacation prompt write an essay of your best summer vacation no retrievalmy best summer vacation is when my family and i embarked on a road trip along my best repeat no information in passagescontradictoryprompt  prompt  retrieve figure 1 overview of selfragselfraglearns to retrieve critique and generate text passages to enhance overall generation quality factuality and verifiability consistently retrieves a fixed number of documents for generation regardless of the retrieval necessity eg the bottom figure example does not require factual knowledge and never second visits the generation quality moreover selfragprovides citations for each segment with its selfassessment of whether the output is supported by the passage leading to easier fact verification selfragtrains an arbitrary lm to generate text with reflection tokens by unifying them as the next token prediction from the expanded model vocabulary we train our generator lm on a diverse collection of text interleaved with reflection tokens and retrieved passages reflection tokens inspired by reward models used in reinforcement learning ziegler et al 2019 ouyang et al 2022 are inserted offline into the original corpus by a trained critic model this eliminates the need to host a critic model during training reducing overhead the critic model in part is supervised on a dataset of input output and corresponding reflection tokens collected by prompting a propriety lm ie gpt4 openai 2023 while we draw inspiration from studies that use control tokens to start and guide text generation lu et al 2022 keskar et al 2019 our trained lm uses critique tokens to assess its own predictions after each generated segment as an integral part of the generation output selfragfurther enables a customizable decoding algorithm to satisfy hard or soft constraints which are defined by reflection token predictions in particular our inferencetime algorithm enables us to 1 flexibly adjust retrieval frequency for different downstream applications and 2 customize models behaviors to user preferences by leveraging reflection tokens through segmentlevel beam search using the weighted linear sum of the reflection token probabilities as segment score empirical results on six tasks including reasoning and longform generation demonstrate that self ragsignificantly outperforms pretrained and instructiontuned llms that have more parameters and widely adopted rag approaches with higher citation accuracy in particular selfragoutperforms retrievalaugmented chatgpt on four tasks llama2chat touvron et al 2023 and alpaca dubois et al 2023 on all tasks our analysis demonstrates the effectiveness of training and inference with reflection tokens for overall performance improvements as well as testtime model customizations eg balancing the tradeoff between citation previsions and completeness 2 r elated work retrievalaugmented generation retrievalaugmented generation rag augments the input space of lms with retrieved text passages guu et al 2020 lewis et al 2020 leading to large improvements in knowledgeintensive tasks after finetuning or used with offtheshelf lms ram et al 2023 a more recent work luo et al 2023 instructiontunes an lm with a fixed number 2",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4517,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "46fde826-310d-49f8-87d5-b338c76cd1d3",
        "embedding": null,
        "metadata": {
            "page_label": "3",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "cafb28bb-2db7-4ff0-a549-6bf012c60cc5",
                "node_type": "4",
                "metadata": {
                    "page_label": "3",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "d48ff1c873ae1d6fc4594d474e82561524d7c1ac635373f967ce61c5158f894b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint of retrieved passages prepended to input or pretrain a retriever and lm jointly followed by few shot finetuning on task datasets izacard et al 2022b while prior work often retrieves only once at the beginning jiang et al 2023 propose to adaptively retrieve passages for generation on top of a proprietary llm or schick et al 2023 train an lm to generate api calls for named entities yet the improved task performance of such approaches often comes at the expense of runtime efficiency mallen et al 2023 robustness to irrelevant context shi et al 2023 and lack of attributions liu et al 2023a gao et al 2023 we introduce a method to train an arbitrary lm to learn to use retrieval ondemand for diverse instructionfollowing queries and introduce controlled generation guided by reflections tokens to further improve generation quality and attributions concurrent rag work a few concurrent works2on rag propose new training or prompting strategies to improve widelyadopted rag approaches lin et al 2023 finetune both the retriever and lm on instructiontuning datasets in two steps while we also train our model on diverse instructionfollowing datasets selfragenables retrieval on demand and selection of the best possible model output via finegrained selfreflection making it widely applicable and more robust and controllable yoran et al 2023 use a natural language inference model and xu et al 2023 use a summarization model to filter out or compress retrieved passages before using them to prompt the lm to generate the output selfragprocesses passages in parallel and filters out irrelevant ones through selfreflection without relying on external models at inference moreover our selfreflection mechanism also evaluates other aspects of the model output quality including factuality lats zhou et al 2023 prompt offtheshelf lms to search for relevant information for question answering tasks and to generate with tree search guided by lmgenerated value scores while their value function simply indicates an overall score of each generation selfragtrains to an arbitrary lm to learn to generate finegrained selfreflection and customizable inference training and generating with critics training llms with reinforcement learning eg proximal policy optimization or ppo schulman et al 2017 from human feedback rlhf has proven effective in aligning llms with human preferences ouyang et al 2022 wu et al 2023 introduce finegrained rlhf with multiple reward models though our work also studies finegrained critique on retrieval and generation we train our target lm on task examples augmented with reflection tokens from a critic model offline with a far lower training cost compared to rlhf in addition reflection tokens in s elfragenable controllable generation at inference while rlhf focuses on human preference alignment during training other works use general control tokens to guide lm generation lu et al 2022 korbak et al 2023 while selfraguses reflection tokens to decide the need for retrieval and to selfevaluate generation quality xie et al 2023 propose a selfevaluation guided decoding framework but they focus only on reasoning tasks with one evaluation dimension reasoning path consistency and without retrieval recent work on llm refinement dhuliawala et al 2023 madaan et al 2023 paul et al 2023 prompts a model to generate task output natural language feedback and refined task output iteratively but at the cost of inference efficiency 3 s elfrag learning to retrieve  generate and critique we introduce selfreflective retrievalaugmented generation  selfrag shown in figure 1 selfragis a framework that enhances the quality and factuality of an llm through retrieval and selfreflection without sacrificing llms original creativity and versatility our endtoend training lets an lm mgenerate text informed by retrieved passages if needed and criticize the output by learning to generate special tokens these reflection tokens table 1 signal the need for retrieval or confirm the outputs relevance support or completeness in contrast common rag approaches retrieve passages indiscriminately without ensuring complete support from cited sources 31 p roblem formalization and overview formally given input x we train mto sequentially generate textual outputs yconsisting of multiple segments y y1     y t where ytindicates a sequence of tokens for the tth segment3generated tokens in ytinclude text from the original vocabulary as well as the reflection tokens table 1 2all work is arxived within a week of this preprint 3in this paper we treat one sentence as a segment in our experiments but our framework is applicable to any segment unit ie subsentence 3",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4676,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "39668a41-8ca6-4630-86e7-5380bb68f8a4",
        "embedding": null,
        "metadata": {
            "page_label": "4",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "c732c683-b669-4812-8f18-a39a6f5f979e",
                "node_type": "4",
                "metadata": {
                    "page_label": "4",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "21937819cdd88f3518235207a7bba349155c0e7e91d09115b549a895d845153a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint type input output definitions retrieve xx y yes no continue  decides when to retrieve with r isrel x d relevant  irrelevant  dprovides useful information to solve x issup x d y fully supported  partially supported no support all of the verificationworthy statement in y is supported by d isuse x y 5 4 3 2 1  yis a useful response to x table 1 four types of reflection tokens used in selfrag each type uses several tokens to represent its output values the bottom three rows are three types of critique tokens and the bold text indicates the most desirable critique tokens x y d indicate input output and a relevant passage respectively algorithm 1 selfraginference require generator lm m retriever r largescale passage collections d1     d n 1input input prompt xand preceding generation ytoutput next output segment yt 2mpredicts retrieve given x yt 3ifretrieve yes then 4 retrieve relevant text passages dusingrgiven x yt1 retrieve 5 mpredicts isrelgiven x dandytgiven x d y tfor each dd generate 6 mpredicts issupand isusegiven x yt dfor each dd critique 7 rank ytbased on isrelissupisuse detailed in section 33 8else if retrieve nothen 9 mgenpredicts ytgiven x  generate 10 mgenpredicts isusegiven x yt critique inference overview figure 1 and algorithm 1 present an overview of s elfragat inference for every xand preceding generation yt the model decodes a retrieval token to evaluate the utility of retrieval if retrieval is not required the model predicts the next output segment as it does in a standard lm if retrieval is needed the model generates a critique token to evaluate the retrieved passages relevance the next response segment and a critique token to evaluate if the information in the response segment is supported by the passage finally a new critique token evaluates the overall utility of the response4to generate each segment selfragprocesses multiple passages in parallel and uses its own generated reflection tokens to enforce soft constraints section 33 or hard control algorithm 1 over the generated task output for instance in figure 1 right the retrieved passages d1is selected at the first time step since d2does not provide direct evidence  isrelis irrelevant andd3output is only partially supported while d1are fully supported training overview selfragenables an arbitrary lm to generate text with reflection tokens by unifying them as next token predictions from the expanded model vocabulary ie the original vocabulary plus reflection tokens specifically we train the generator model mon a curated corpus with interleaving passages retrieved by a retriever rand reflection tokens predicted by a critic model csummarized in appendix algorithm 2 we train cto generate reflection tokens for evaluating retrieved passages and the quality of a given task output section 321 using the critic model we update the training corpus by inserting reflection tokens into task outputs offline subsequently we train the final generator model  m using the conventional lm objective section 322 to enable mto generate reflection tokens by itself without relying on the critic at inference time 32 s elfragtraining here we describe the supervised data collection and training of two models the critic csection 321 and the generator msection 322 321 t raining the critic model data collection for critic model manual annotation of reflection tokens for each segment is expensive wu et al 2023 a stateoftheart llm like gpt4 openai 2023 can be effectively 4we follow liu et al 2023a in using a perceived utility value that is independent of retrieved passages 4",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3586,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "169839e1-e112-43d4-a25b-bf47493ff77b",
        "embedding": null,
        "metadata": {
            "page_label": "5",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "31e99bf0-b552-4c4d-8372-97d7a156d677",
                "node_type": "4",
                "metadata": {
                    "page_label": "5",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "ce81cb5bf023b6c2df8736023bf10f75252b79699b73cb37a602f5a4866e4812",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint input how did us states get their names input write an essay of your best summer vacationoutput my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable critic lmoutput 1 of 50 states names come from persons for instance louisiana was named in honor of king louis xiv of france and georgia was named after king george ii retrieve partially augmented output retrieveplouisiana named inpof the \ufb01fty states eleven are named after an individual personp 11 of 50 states names come from person relevantsupportedhonor of louis xiv of francep relevantfor instance louisiana was named after king louis xiv andutil 5georgia was named after king george ii util 5augmented output my best summer vacation was a magical escape to the coastal town of santorini the azure waters charming whitewashed building are unforgettable experienceno retrievalno retrieval retriever figure 2 selfragtraining examples the left example does not require retrieval while the right one requires retrieval thus passages are inserted more examples are in appendix table 4 used to generate such feedback liu et al 2023b however depending on such proprietary lms can raise api costs and diminish reproducibility chen et al 2023 we create supervised data by prompting gpt4 to generate reflection tokens and then distill their knowledge into an inhouse c for each group of reflection tokens we randomly sample instances from the original training data xsample ysample   x y as different reflection token groups have their own definitions and input as shown in table 1 we use different instruction prompts for them here we use retrieve as an example we prompt gpt4 with a typespecific instruction given an instruction make a judgment on whether finding some external documents from the web helps to generate a better response followed by fewshot demonstrations ithe original task input xand output yto predict an appropriate reflection token as text pri x y  manual assessment reveals that gpt4 reflection token predictions show high agreement with human evaluations we collect 4k20k supervised training data for each type and combine them to form training data for c appendix section d shows the full list of instructions and a1 contains more details and our analysis critic learning after we collect training data dcritic  we initialize cwith a pretrained lm and train it on dcritic using a standard conditional language modeling objective maximizing likelihood max cexyrdcritic logpcrx y rfor reflection tokens 1 though the initial model can be any pretrained lm we use the same one as the generator lm ie llama 27b touvron et al 2023 for cinitialization the critic achieves a higher than 90 agreement with gpt4based predictions on most reflection token categories appendix table 5 322 t raining the generator model data collection for generator given an inputoutput pair x y we augment the original output yusing the retrieval and critic models to create supervised data that precisely mimics the self raginferencetime process section 31 for each segment yty we run cto assess whether additional passages could help to enhance generation if retrieval is required the retrieval special token retrieve yes is added and rretrieves the top kpassages d for each passage cfurther evaluates whether the passage is relevant and predicts isrel if a passage is relevant cfurther evaluates whether the passage supports the model generation and predicts issup critique tokens isreland issupare appended after the retrieved passage or generations at the end of the output y orytcpredicts the overall utility token isuse and an augmented output with reflection tokens and the original input pair is added to dgen see the example training data in figure 2 generator learning we train the generator model mby training on the curated corpus augmented with reflection tokens dgenusing the standard next token objective max mexyr dgenlogpmy rx 2 unlike ctraining eq 1 mlearns to predict the target output as well as the reflection tokens during training we mask out the retrieved text chunks surrounded by p andp in figure 2 for loss calculation and expand the original vocabulary vwith a set of reflection tokens critique retrieve connections to prior work on learning with critique recent work incorporates additional critique feedback during training eg rlhf ouyang et al 2022 via ppo while ppo relies on 5",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4450,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5f45d2fc-a881-4414-93c4-65c5d8cce3a6",
        "embedding": null,
        "metadata": {
            "page_label": "6",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "adcab90a-aabe-4874-b123-68e57b873cab",
                "node_type": "4",
                "metadata": {
                    "page_label": "6",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "6f66a422f5dca00c21b68750e3e28c615fecc2a83cb629293e5b1ae516c0cdae",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint separate reward models during training we compute critique offline and directly insert them into the training corpus where the generator lm is trained with a standard lm objective this significantly reduces training costs compared to ppo our work also relates to prior work that incorporates special tokens to control generation keskar et al 2019 lu et al 2022 korbak et al 2023 our selfrag learns to generate special tokens to evaluate its own prediction after each generated segment enabling the use of a soft reranking mechanism or hard constraints at inference discussed next 33 s elfraginference generating reflection tokens to selfevaluate its own output makes selfragcontrollable during the inference phase enabling it to tailor its behavior to diverse task requirements for tasks demanding factual accuracy min et al 2023 we aim for the model to retrieve passages more frequently to ensure that the output aligns closely with the available evidence conversely in more openended tasks like composing a personal experience essay the emphasis shifts towards retrieving less and prioritizing the overall creativity or utility score in this section we describe approaches to enforce control to meet these distinct objectives during the inference process adaptive retrieval with threshold selfragdynamically decides when to retrieve text passages by predicting retrieve  alternatively our framework allows a threshold to be set specifically if the prob ability of generating the retrieve yes token normalized over all output tokens in retrieve surpasses a designated threshold we trigger retrieval details in appendix section a3 treedecoding with critique tokens at each segment step t when retrieval is required based either on hard or soft conditions rretrieves kpassages and the generator mprocesses each passage in parallel and outputs kdifferent continuation candidates we conduct a segmentlevel beam search with the beam size b to obtain the top bsegment continuations at each timestamp t and return the best sequence at the end of generation the score of each segment ytwith respect to passage dis updated with a critic score sthat is the linear weighted sum of the normalized probability of each critique token type for each critique token group geg isrel we denote its score at timestamp tassg t and we compute a segment score as follows fyt d critique  pytx d y t scritique where 3 scritique  x ggwgsg tforgisrelissupisuse 4 where sg tpt\u02c6rpng i1ptristands for the generation probability of the most desirable reflection token \u02c6reg isrelrelevant  for the critique token type gwithngdistinct tokens that represent different possible values for g the weights wgin eq 4 are hyperparameters that can be adjusted at inference time to enable customized behaviors at test time for instance to ensure that result yis mostly supported by evidence we can set a weight term for the issupscore higher while relatively lowering weights for other aspects alternatively we could further enforce hard constraints during decoding using critique  instead of using a soft reward function in eq 4 we could explicitly filter out a segment continuation when the model generates an undesirable critique token eg issupno support   balancing the tradeoff between multiple preferences has been studied in rlhf touvron et al 2023 wu et al 2023 which often requires training to change models behaviors s elfragtailors an lm with no additional training 4 e xperiments 41 t asks and datasets we conduct evaluations of our selfragand diverse baselines on a range of downstream tasks holistically evaluating outputs with metrics designed to assess overall correctness factuality and fluency throughout these experiments we conduct zeroshot evaluations where we provide instruc tions describing tasks without fewshot demonstrations wei et al 2022 sanh et al 2022 details of our experiments settings including testtime instructions are available in the appendix section b1 closedset tasks include two datasets ie a fact verification dataset about public health  pubhealth  zhang et al 2023 and a multiplechoice reasoning dataset created from scientific exams  arc 6",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4151,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "3284c3c5-d4d2-41ff-a88e-509006e59e7e",
        "embedding": null,
        "metadata": {
            "page_label": "7",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "b1cd9a57-8f9c-4436-836b-910f128afda6",
                "node_type": "4",
                "metadata": {
                    "page_label": "7",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "a756e676290b5ffacd99717a805bbdc73999aefcd7dd476c44117237664fef8a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint challenge  clark et al 2018 we use accuracy as an evaluation metric and report on the test set we aggregate the answer probabilities of target classes for both of these datasets appendix section b2 shortform generations tasks include two opendomain question answering qa datasets popqa mallen et al 2023 and triviaqaunfiltered joshi et al 2017 where systems need to answer arbitrary questions about factual knowledge for popqa we use the longtail subset consisting of 1399 rare entity queries whose monthly wikipedia page views are less than 100 as the triviaqaunfiltered open test set is not publicly available we follow prior works validation and test split min et al 2019 guu et al 2020 using 11313 test queries for evaluation we evaluate performance based on whether gold answers are included in the model generations instead of strictly requiring exact matching following mallen et al 2023 schick et al 2023 longform generation tasks include a biography generation task min et al 2023 and a longform qa task alceasqa gao et al 2023 stelmakh et al 2022 we use factscore min et al 2023 to evaluate biographies and we use official metrics of correctness strem fluency based on mauve pillutla et al 2021 and citation precision and recall gao et al 2023 for asqa5 42 b aselines baselines without retrievals we evaluate strong publicly available pretrained llms llama2 7b13btouvron et al 2023 instructiontuned models alpaca 7b13bdubois et al 2023 our replication based on llama2 and models trained and reinforced using private data chat gpt ouyang et al 2022 and llama2chat 13b for instructiontuned lms we use the official system prompt or instruction format used during training if publicly available we also compare our method to concurrent work cove 65bdhuliawala et al 2023 which introduces iterative prompt engineering to improve the factuality of llm generations baselines with retrievals we evaluate models augmented with retrieval at test time or during training the first category includes standard rag baselines where an lm llama2 alpaca generates output given the query prepended with the top retrieved documents using the same retriever as in our system it also includes llama2ft where llama2 is finetuned on all training data we use without the reflection tokens or retrieved passages we also report the result of retrievalaugmented baselines with lms trained with private data retchatgpt and retllama2chat which deploy the same augmentation technique above as well as perplexityai an instructgptbased production search system the second category includes concurrent methods that are trained with retrieved text passages ie sail luo et al 2023 to instructiontune an lm on the alpaca instructiontuning data with top retrieved documents inserted before instructions and toolformer schick et al 2023 to pretrain an lm with api calls eg wikipedia apis6 43 e xperimental settings training data and settings our training data consists of diverse instructionfollowing inputoutput pairs in particular we sample instances from openinstruct processed data wang et al 2023 and knowledgeintensive datasets petroni et al 2021 stelmakh et al 2022 mihaylov et al 2018 in total we use 150k instructionoutput pairs we use llama2 7b and 13b touvron et al 2023 as our generator base lm and we use llama2 7b as our base critic lm for the retriever model r we use offtheshelf contrieverms marco izacard et al 2022a by default and retrieve up to ten documents for each input more training details are in the appendix section b1 inference settings as a default configuration we assign the weight terms isrelissupisuse values of 10 10 and 05 respectively to encourage frequent retrieval we set the retrieval threshold to 02 for most tasks and to 0 for alce gao et al 2023 due to citation requirements we speed up inference using vllm kwon et al 2023 at each segment level we adopt a beam width of 2 for a tokenlevel generation we use greedy decoding by default we use the top five documents from contrieverms marco izacard et al 2022a for biographies and opendomain qa we use additional top five documents retrieved by a web search engine following luo et al 2023 for asqa we use the authorprovided top 5 documents by gtrxxl ni et al 2022 across all baselines for a fair comparison 5httpsgithubcomprincetonnlpalce 6we report numbers using the results reported in the paper as the implementations are not available 7",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4412,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "44d33872-0b94-4aad-a5d4-47fe2283ca24",
        "embedding": null,
        "metadata": {
            "page_label": "8",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "aa5766df-dbb0-4130-addc-fd6818f87bac",
                "node_type": "4",
                "metadata": {
                    "page_label": "8",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "e0a5c08be47e6c67db52eccbfdb9fe786b18f04ced31dbfaafd7f4fb39346ae0",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint table 2 overall experiment results on six tasks bold numbers indicate the best performance among nonproprietary models and graycolored bold text indicates the best proprietary model when they outperforms all nonproprietary modelsindicates concurrent or recent results reported by concurrent work  indicates numbers that are not reported by the original papers or are not applicable models are sorted based on scale fs em rg mau prec rec denote factscore factuality strem rouge correctness mauve fluency citation precision and recall respectively shortform closedset longform generations with citations popqa tqa pub arc bio asqa lm acc acc acc acc fs em rg mau pre rec lms with proprietary data llama2c 13b 200 593 494 384 559 224 296 286   retllama2c 13b 518 598 521 379 799 328 348 438 198 361 chatgpt 293 743 701 753 718 353 362 688   retchatgpt 508 657 547 753  407 399 797 651 766 perplexityai     712      baselines without retrieval llama2 7b 147 305 342 218 445 79 153 190   alpaca 7b 236 545 498 450 458 188 294 617   llama2 13b 147 385 294 294 534 72 124 160   alpaca 13b 244 613 555 549 502 229 320 706   cove 65b     712      baselines with retrieval toolformer 6b  488         llama2 7b 382 425 300 480 780 152 221 320 29 40 alpaca 7b 467 641 402 480 766 309 333 579 55 72 llama2ft 7b 487 573 643 658 782 310 358 512 50 75 sail 7b   692 484       llama2 13b 457 470 302 260 775 163 205 247 23 36 alpaca 13b 461 669 511 576 777 348 367 566 20 38 our selfrag 7b 549 664 724 673 812 300 357 743 669 678 our selfrag 13b 558 693 745 731 802 317 370 716 703 713 5 r esults and analysis 51 m ainresults comparison against baselines without retrieval table 2 top presents the baselines without retrieval our selfragbottom two rows demonstrates a substantial performance advantage over supervised finetuned llms in all tasks and even outperforms chatgpt in pubhealth popqa biography generations and asqa rouge and mauve our approach also significantly outperforms a concurrent method that employs sophisticated prompt engineering specifically on the bio generation task our 7b and 13b models outperform the concurrent cove dhuliawala et al 2023 which iteratively prompts llama2 65bto refine output comparison against baselines with retrieval as shown in tables 2 bottom our selfragalso outperforms existing rag in many tasks obtaining the best performance among nonproprietary lmbased models on all tasks while our method outperforms other baselines on popqa or bio powerful instructiontuned lms with retrieval eg llama2chat alpaca show large gains from their nonretrieval baselines however we found that these baselines provide limited solutions for tasks where we cannot simply copy or extract substrings of retrieved passages on pubhealth and arcchallenge baselines with retrieval do not improve performance notably from their no retrieval counterparts we also observe that most baselines with retrieval struggle to improve citation accuracy on asqa our model shows significantly higher citation precision and recall than all models except chatgpt gao et al 2023 found that chatgpt consistently exhibits superior efficacy in this particular task surpassing smaller lms our selfragbridges this performance gap even outperforming chatgpt in citation precision which measures whether the modelgenerated claim is fully supported by cited evidence we also found that on the metrics for factual precision selfrag 7b occasionally outperforms our 13b due to the tendency of smaller selfragto often generate 8",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3516,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "27df849d-267d-4a7a-a609-71026e3e7c67",
        "embedding": null,
        "metadata": {
            "page_label": "9",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "0bfd6527-9d0a-4a49-a432-da4200e4466e",
                "node_type": "4",
                "metadata": {
                    "page_label": "9",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "fd0ec9d36a0071d78485990d8d238fe983c8af80c407f5205d6e226b0e5d6b98",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint pqa med as acc acc em selfrag50k 455 735 321 training no retriever r 436 678 310 no critic c 426 720 181 test no retrieval 247 730  hard constraints 283 726  retrieve top1 418 731 286 remove issup 441 732 306 a ablation 1 2700705precision 1 2 weight for issupport9095mauve b customization 00 02 04 06098099099100accuracy pubhealth 00 02 04 06 retrieval threshold060810accuracypopqa000510 frequency 025050075100 frequency c retrieval figure 3 analysis on selfragaablation studies for key components of selfragtraining and inference based on our 7b model b effects of soft weights on asqa citation precision and mauve fluency c retrieval frequency andnormalized accuracy on pubhealth and popqa precisely grounded yet shorter outputs llama2ft 7b which is the baseline lm trained on the same instructionoutput pairs as selfragwithout retrieval or selfreflection and is retrievalaugmented at test time only lags behind s elfrag this result indicates s elfraggains are not solely from training data and demonstrate the effectiveness of s elfragframework 52 a nalysis ablation studies we conduct a set of ablations of our framework to identify which factors play key roles we evaluate two model variants trained differently than our model no retriever trains an lm using the standard instructionfollowing method given instructionoutput pairs without retrieved passages no critic trains an lm trained with inputoutput pairs that are always augmented with the top one retrieved document without reflection tokens this is similar to sail luo et al 2023 and we use our instructionoutput data instead of using the alpaca dataset dubois et al 2023 as in sail we also conduct ablation on our inferencetime algorithm including no retrieval disables retrieval during inference hard constraints indicates the model performance that retrieves when retrieve yes instead of using the adaptive threshold retrieve top 1 always retrieves and uses the top one document only similar to standard rag approaches remove issupindicates the model performance that removes issupscore only during critiqueguided beam search in eq 4 in this ablation experiment we use a training instance size of 50k for a more efficient exploration of training variations later in this section we conduct an analysis of the effect of training data size we conduct the ablation studies on three datasets popqa pubhealth and asqa on asqa we evaluate models on sampled 150 instances and exclude ablations involving adaptive or no retrieval processes we show in table 3a the ablation results the top part of the table shows results for training ablations and the bottom part is for inference ablations we see that all components play important roles we also observe a large performance gap between selfragand no retriever or critic baselines across tasks indicating that training an lm with those models largely contributes to the performance gain of selfrag using the top passages regardless of their relevance retrieve top 1 as in conventional rag approaches causes a large drop in popqa and asqa and removing issupduring the beam search results hurts performance on asqa this demonstrates the effectiveness of selfrags capabilities of carefully selecting generations based finegrained multiple criterion instead of naively using all of the top passages from the retrieval model or solely depending on relevance scores effects of inferencetime customization one key benefit of our proposed framework is that it enables us to control how much each critique type affects the final generation sampling we analyze the effects of different parameter weights on the top of our 7b model during inference time on asqa where multiple evaluation aspects are considered figure 3b shows the effects of changing the weighting term for issup which criticizes how supported the output is by the text passage as the figure shows increasing the weight leads to positive effects on the models citation precision since this puts more emphasis on whether model generation is supported by the evidence on the 9",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4047,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "991baaa6-fe8e-4cd5-8fe9-2e926716901d",
        "embedding": null,
        "metadata": {
            "page_label": "10",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "0e54dc1d-ca64-4eaf-b4c1-4c61229864dd",
                "node_type": "4",
                "metadata": {
                    "page_label": "10",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "4a45f4d732c038377f752ae94ddf3b8f1991a409a824c924fdabdf5ee301d37a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint 0 50 100 150 num of training k3540455055perfomance a popqa 0 100 num of training k717273 b pubhealth 0 100 num of training k4060 c asqa precpop bio s  p 925 700 isrel 950 900 issup 900 850 d human evaluation on popqa and bio generation figure 4 training scale and human analysis a b c training scale analysis shows the effect of the training data scale on popqa pubhealth and asqa citation precision respectively d human analysis on s elfragoutputs as well as reflection tokens contrary a larger weight results in lower mauve scores when generation gets longer and more fluent there are often more claims that are not fully supported by citations consistent with findings by liu et al 2023a our framework lets practitioners choose and customize models behaviors at test time by adjusting such parameters without requiring additional training efficiency and accuracy tradeoff using our framework practitioners can adjust how often retrieval occurs using the token probability of reward tokens we evaluate how this adaptive threshold affects overall accuracy and frequency of retrieval and we evaluate the performance with varying numbers of threshold \u03b4larger \u03b4results in less retrieval on pubhealth and popqa figure 3c shows that the models retrieval frequencies dramatically change on both datasets as \u03b4varies on one hand performance deterioration by retrieving less is smaller on pubhealth but larger in popqa effects of training data size we conduct an analysis of how the data scale affects the models performance in particular we randomly sample 5k 10k 20k and 50k instances from our original 150k training instances and finetune four selfrag 7bvariants on those subsets then we compare the model performance on popqa pubhealth and asqa citation precision with our final self ragtrained on the full 150k instances we also evaluate figures 4a 4b and 4c shows the models performance trained on different amount of data across all datasets increasing data size often shows upward trajectories and the improvements are significantly larger in popqa and asqa while we do not observed such significant improvements on llama2ft 7bwhen increasing the training data from 50k to 150k these results also indicate that further expanding the training data of selfragmay lead to further improvements although in this work we limit our training data size to 150k human evaluations we conduct small human evaluations on selfragoutputs as well as the reliability of predicted reflection tokens in particular we sampled 50 samples from popqa and bio results following menick et al 2022 human annotators evaluate sp  which indicates whether the model output is plausible ie the output is a reasonable and ontopic response to the question as if it were occurring in a conversation and supported ie the provided evidence is sufficient to verify the validity of the answer for sp we do not consider the instances where selfrag predicts irrelevant orno support  we then ask our annotators whether the modelpredicted reflection tokens about isreland issupmatch their inspections eg whether the fully supported output is supported by the cited evidence human annotators find selfraganswers are often plausible and supported by relevant passages with higher sp scores on shortform popqa which is consistent with menick et al 2022 human annotators also find isreland issupreflection token predictions are mostly aligned with their assessments appendix table 6 shows several annotated examples and explanations on assessments 6 c onclusion this work introduces selfrag a new framework to enhance the quality and factuality of llms through retrieval on demand and selfreflection selfragtrains an lm to learn to retrieve generate and critique text passages and its own generation by predicting the next tokens from its original vocabulary as well as newly added special tokens called reflection tokens selfragfurther enables the tailoring of lm behaviors at test time by leveraging reflection tokens our holistic evaluations on six tasks using multiple metrics demonstrate that selfragsignificantly outperforms llms with more parameters or with conventional retrievalaugmented generation approaches 10",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4184,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "14e701d3-867f-4405-bd49-582d7aa99b1e",
        "embedding": null,
        "metadata": {
            "page_label": "11",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "916f022b-3129-4969-b410-1d5a9aca0413",
                "node_type": "4",
                "metadata": {
                    "page_label": "11",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "4622935fb013489788254e5d2375605d04a5b6a9bcd33558a722a4951bd208cf",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint ethical concerns this work aims to improve the factuality of llm outputs the lack of which continues to cause nu merous realworld problems eg spread of misinformation and provision of incorrect and dangerous advice while our method shows significant improvements in terms of performance factuality and citation accuracy it can still generate outputs that are not fully supported by the citations we hope that explicit selfreflection and finegrained attribution may help users verify factual errors in the model outputs acknowledgments we thank sewon min scott wentau yih sean welleck and kawin ethayarajh for fruitful discussions in the early stages of this work we thank sewon min joongwon daniel kim and sandy kaplan for valuable feedback on the paper and tianyu gao and weijia shi for their help on evaluations akari asai is supported by the ibm fellowship we thank stability ai for providing computing to train and evaluate the lms in this work and microsoft accelerate foundation models research program for the access to openai apis this work was funded in part by the darpa mcs program through niwc pacific n660011924031 nsf iis2044660 and gifts from ai2 references akari asai kazuma hashimoto hannaneh hajishirzi richard socher and caiming xiong learn ing to retrieve reasoning paths over wikipedia graph for question answering in international conference on learning representations  2020 url httpsopenreviewnetforum idsjgvhkrydh  akari asai sewon min zexuan zhong and danqi chen retrievalbased language models and appli cations in proceedings of the 61st annual meeting of the association for computational linguistics tutorial  2023a url httpsaclanthologyorg2023acltutorials6  akari asai timo schick patrick lewis xilun chen gautier izacard sebastian riedel hannaneh hajishirzi and wentau yih taskaware retrieval with instructions in findings of the associ ation for computational linguistics  2023b url httpsaclanthologyorg2023 findingsacl225  bernd bohnet vinh q tran pat verga roee aharoni daniel andor livio baldini soares jacob eisenstein kuzman ganchev jonathan herzig kai hui et al attributed question answering evaluation and modeling for attributed large language models arxiv preprint arxiv221208037  2022 url httpsarxivorgabs221208037  lingjiao chen matei zaharia and james zou how is chatgpts behavior changing over time arxiv preprint arxiv230709009  2023 url httpsarxivorgabs230709009  peter clark isaac cowhey oren etzioni tushar khot ashish sabharwal carissa schoenick and oyvind tafjord think you have solved question answering try arc the ai2 reasoning challenge arxiv preprint arxiv180305457  2018 url httpsarxivorgabs180305457  tri dao dan fu stefano ermon atri rudra and christopher r e flashattention fast and memory efficient exact attention with ioawareness in advances in neural information processing systems  2022 url httpsopenreviewnetforumidh4dqfpsibmx  shehzaad dhuliawala mojtaba komeili jing xu roberta raileanu xian li asli celikyilmaz and jason weston chainofverification reduces hallucination in large language models arxiv preprint arxiv230911495  2023 url httpsarxivorgabs230911495  emily dinan stephen roller kurt shuster angela fan michael auli and jason weston wizard of wikipedia knowledgepowered conversational agents in international conference on learning representations  2019 url httpsopenreviewnetforumidr1l73irqkm  yann dubois xuechen li rohan taori tianyi zhang ishaan gulrajani jimmy ba carlos guestrin percy liang and tatsunori b hashimoto alpacafarm a simulation framework for methods that 11",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3564,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "5e0aa58c-01dc-414b-ac9f-a92f0eae80ce",
        "embedding": null,
        "metadata": {
            "page_label": "12",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "ecd5ef33-345b-48e6-8e75-979311f33d1f",
                "node_type": "4",
                "metadata": {
                    "page_label": "12",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "76d5d73c776596bf26163dad0d55fdaafc0fe5e8260db1812e275f7b59cb2986",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint learn from human feedback arxiv preprint arxiv230514387  2023 url httpsarxiv orgabs230514387  tianyu gao howard yen jiatong yu and danqi chen enabling large language models to generate text with citations arxiv preprint arxiv230514627  2023 url httpsarxivorgabs 230514627  kelvin guu kenton lee zora tung panupong pasupat and mingwei chang retrieval augmented language model pretraining in international conference on machine learning  2020 url httpsdlacmorgdoipdf10555535249383525306  gautier izacard mathilde caron lucas hosseini sebastian riedel piotr bojanowski armand joulin and edouard grave unsupervised dense information retrieval with contrastive learning transactions on machine learning research  2022a url httpsopenreviewnet forumidjkn1pxi7b0  gautier izacard patrick lewis maria lomeli lucas hosseini fabio petroni timo schick jane dwivediyu armand joulin sebastian riedel and edouard grave fewshot learning with retrieval augmented language models arxiv preprint arxiv220803299  2022b url https arxivorgabs220803299  zhengbao jiang frank f xu luyu gao zhiqing sun qian liu jane dwivediyu yiming yang jamie callan and graham neubig active retrieval augmented generation arxiv preprint arxiv230506983  2023 url httpsarxivorgabs230506983  mandar joshi eunsol choi daniel weld and luke zettlemoyer triviaqa a large scale distantly supervised challenge dataset for reading comprehension in proceedings of the 55th annual meeting of the association for computational linguistics volume 1 long papers  2017 url httpsaclanthologyorgp171147  nitish shirish keskar bryan mccann lav r varshney caiming xiong and richard socher ctrl a conditional transformer language model for controllable generation arxiv preprint arxiv190905858  2019 url httpsarxivorgabs190905858  tomasz korbak kejian shi angelica chen rasika vinayak bhalerao christopher buckley jason phang samuel r bowman and ethan perez pretraining language models with human preferences ininternational conference on machine learning  2023 url httpsopenreviewnet forumidat8iw8koec  tom kwiatkowski jennimaria palomaki olivia redfield michael collins ankur parikh chris alberti danielle epstein illia polosukhin jacob devlin kenton lee kristina toutanova llion jones matthew kelcey mingwei chang andrew m dai jakob uszkoreit quoc le and slav petrov natural questions a benchmark for question answering research transactions of the association for computational linguistics  2019 url httpsaclanthologyorg q191026  woosuk kwon zhuohan li siyuan zhuang ying sheng lianmin zheng cody hao yu joseph e gonzalez hao zhang and ion stoica efficient memory management for large language model serving with pagedattention in proceedings of the acm sigops 29th symposium on operating systems principles  2023 url httpsarxivorgabs230906180  patrick lewis ethan perez aleksandra piktus fabio petroni vladimir karpukhin naman goyal heinrich k uttler mike lewis wentau yih tim rockt aschel sebastian riedel and douwe kiela retrievalaugmented generation for knowledgeintensive nlp tasks in advances in neural infor mation processing systems  2020 url httpsproceedingsneuripsccpaper 2020file6b493230205f780e1bc26945df7481e5paperpdf  xi victoria lin xilun chen mingda chen weijia shi maria lomeli rich james pedro rodriguez jacob kahn gergely szilvasy mike lewis luke zettlemoyer and scott yih radit retrieval augmented dual instruction tuning 2023 url httpsarxivorgabs231001352  nelson f liu tianyi zhang and percy liang evaluating verifiability in generative search engines arxiv preprint arxiv230409848  2023a url httpsarxivorgabs230409848  12",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3597,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0cbaa12a-e85c-46d6-b62d-dd14fb4ffe1d",
        "embedding": null,
        "metadata": {
            "page_label": "13",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "b6c80f54-3c33-4061-afbe-3a1f234aad6c",
                "node_type": "4",
                "metadata": {
                    "page_label": "13",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "aad168f5d58823fa69af2160a7f8258c7157f3440f67277c3b87d306dd51e674",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint yang liu dan iter yichong xu shuohang wang ruochen xu and chenguang zhu gpteval nlg evaluation using gpt4 with better human alignment arxiv preprint arxiv230316634  2023b urlhttpsarxivorgabs230316634  ximing lu sean welleck jack hessel liwei jiang lianhui qin peter west prithviraj am manabrolu and yejin choi quark controllable text generation with reinforced unlearning inadvances in neural information processing systems  2022 url httpsopenreview netforumid5haids3ux5o  hongyin luo yungsung chuang yuan gong tianhua zhang yoon kim xixin wu danny fox helen meng and james glass sail searchaugmented instruction learning arxiv preprint arxiv230515225  2023 url httpsarxivorgabs230515225  aman madaan niket tandon prakhar gupta skyler hallinan luyu gao sarah wiegreffe uri alon nouha dziri shrimai prabhumoye yiming yang shashank gupta bodhisattwa prasad majumder katherine hermann sean welleck amir yazdanbakhsh and peter clark self refine iterative refinement with selffeedback arxiv preprint arxiv230317651  2023 url httpsarxivorgabs230317651  alex mallen akari asai victor zhong rajarshi das daniel khashabi and hannaneh hajishirzi when not to trust language models investigating effectiveness of parametric and nonparametric memories in proceedings of the 61st annual meeting of the association for computational linguistics volume 1 long papers  2023 url httpsaclanthologyorg2023 acllong546  jacob menick maja trebacz vladimir mikulik john aslanides francis song martin chadwick mia glaese susannah young lucy campbellgillingham geoffrey irving et al teaching language models to support answers with verified quotes arxiv preprint arxiv220311147  2022 urlhttpsarxivorgabs220311147  todor mihaylov peter clark tushar khot and ashish sabharwal can a suit of armor conduct electricity a new dataset for open book question answering in proceedings of the 2018 conference on empirical methods in natural language processing  2018 url httpsaclanthology orgd181260  sewon min danqi chen hannaneh hajishirzi and luke zettlemoyer a discrete hard em approach for weakly supervised question answering in proceedings of the 2019 conference on empirical methods in natural language processing and the 9th international joint conference on natu ral language processing emnlpijcnlp  2019 url httpsaclanthologyorg d191284  sewon min kalpesh krishna xinxi lyu mike lewis wentau yih pang wei koh mohit iyyer luke zettlemoyer and hannaneh hajishirzi factscore finegrained atomic evaluation of factual precision in long form text generation arxiv preprint arxiv230514251  2023 url https arxivorgabs230514251  reiichiro nakano jacob hilton suchir balaji jeff wu long ouyang christina kim christopher hesse shantanu jain vineet kosaraju william saunders et al webgpt browserassisted questionanswering with human feedback arxiv preprint arxiv211209332  2021 url https arxivorgabs211209332  jianmo ni chen qu jing lu zhuyun dai gustavo hernandez abrego ji ma vincent zhao yi luan keith hall mingwei chang and yinfei yang large dual encoders are generalizable retrievers in proceedings of the 2022 conference on empirical methods in natural language processing  2022 url httpsaclanthologyorg2022emnlpmain669  openai gpt4 technical report arxiv preprint arxiv230308774  2023 url httpsarxiv orgabs230308774  long ouyang jeffrey wu xu jiang diogo almeida carroll wainwright pamela mishkin chong zhang sandhini agarwal katarina slama alex gray john schulman jacob hilton fraser kelton luke miller maddie simens amanda askell peter welinder paul christiano jan leike and 13",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3558,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "bdd65ded-f9ea-4628-a6ac-43ed2193011f",
        "embedding": null,
        "metadata": {
            "page_label": "14",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "9ae9edb7-b76c-4312-a43a-6187e1f8e1f7",
                "node_type": "4",
                "metadata": {
                    "page_label": "14",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "324830fe4d2c1b58fa5aae3382e7de88cd45421a91cdf5273fa1e7cc978a9e5f",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint ryan lowe training language models to follow instructions with human feedback in advances in neural information processing systems  2022 url httpsopenreviewnetforum idtg8kacxeon  debjit paul mete ismayilzada maxime peyrard beatriz borges antoine bosselut robert west and boi faltings refiner reasoning feedback on intermediate representations arxiv preprint arxiv230401904  2023 url httpsarxivorgabs230401904  fabio petroni aleksandra piktus angela fan patrick lewis majid yazdani nicola de cao james thorne yacine jernite vladimir karpukhin jean maillard vassilis plachouras tim rockt aschel and sebastian riedel kilt a benchmark for knowledge intensive language tasks in proceedings of the 2021 conference of the north american chapter of the association for computational linguistics human language technologies  2021 url httpsaclanthologyorg 2021naaclmain200  krishna pillutla swabha swayamdipta rowan zellers john thickstun sean welleck yejin choi and zaid harchaoui mauve measuring the gap between neural text and human text using divergence frontiers in advances in neural information processing systems  2021 url https openreviewnetforumidtqx7njp7pr  samyam rajbhandari jeff rasley olatunji ruwase and yuxiong he zero memory optimizations toward training trillion parameter models in proceedings of the international conference for high performance computing networking storage and analysis  2020 url httpsdlacm orgdoi10555534337013433727  ori ram yoav levine itay dalmedigos dor muhlgay amnon shashua kevin leytonbrown and yoav shoham incontext retrievalaugmented language models transactions of the association for computational linguistics  2023 url httpsarxivorgabs230200083  victor sanh albert webson colin raffel stephen bach lintang sutawika zaid alyafeai antoine chaffin arnaud stiegler arun raja manan dey m saiful bari canwen xu urmish thakker shanya sharma sharma eliza szczechla taewoon kim gunjan chhablani nihal nayak de bajyoti datta jonathan chang mike tianjian jiang han wang matteo manica sheng shen zheng xin yong harshit pandey rachel bawden thomas wang trishala neeraj jos rozen abheesht sharma andrea santilli thibault fevry jason alan fries ryan teehan teven le scao stella biderman leo gao thomas wolf and alexander m rush multitask prompted training enables zeroshot task generalization in international conference on learning representations  2022 url httpsopenreviewnetforumid9vrb9d0wi4  timo schick jane dwivediyu roberto dess \u0131 roberta raileanu maria lomeli luke zettlemoyer nicola cancedda and thomas scialom toolformer language models can teach themselves to use tools arxiv preprint arxiv230204761  2023 url httpsarxivorgabs2302 04761  john schulman filip wolski prafulla dhariwal alec radford and oleg klimov proximal policy optimization algorithms arxiv preprint arxiv170706347  2017 url httpsarxivorg abs170706347  freda shi xinyun chen kanishka misra nathan scales david dohan ed h chi nathanael scharli and denny zhou large language models can be easily distracted by irrelevant context inproceedings of the 40th international conference on machine learning  2023 url https proceedingsmlrpressv202shi23ahtml  ivan stelmakh yi luan bhuwan dhingra and mingwei chang asqa factoid questions meet long form answers in proceedings of the 2022 conference on empirical methods in natural language processing  2022 url httpsaclanthologyorg2022emnlpmain566  james thorne andreas vlachos christos christodoulopoulos and arpit mittal fever a large scale dataset for fact extraction and verification in proceedings of the 2018 conference of the north american chapter of the association for computational linguistics human language tech nologies volume 1 long papers  2018 url httpsaclanthologyorgn181074  14",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3749,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0c7ada7d-d0d2-41dc-9373-f3aa2e199101",
        "embedding": null,
        "metadata": {
            "page_label": "15",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "4905cca7-1867-4c0a-bdc5-5f39492adbc0",
                "node_type": "4",
                "metadata": {
                    "page_label": "15",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "59f460130c999ae0ddfb07f337c5c7ae670d0759a2e53a4df2566663989554ee",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint hugo touvron louis martin kevin stone peter albert amjad almahairi yasmine babaei nikolay bashlykov soumya batra prajjwal bhargava shruti bhosale et al llama 2 open foundation and finetuned chat models arxiv preprint arxiv230709288  2023 url httpsarxiv orgabs230709288  yizhong wang hamish ivison pradeep dasigi jack hessel tushar khot khyathi raghavi chandu david wadden kelsey macmillan noah a smith iz beltagy et al how far can camels go exploring the state of instruction tuning on open resources arxiv preprint arxiv230604751  2023 urlhttpsarxivorgabs230604751  jason wei maarten bosma vincent zhao kelvin guu adams wei yu brian lester nan du andrew m dai and quoc v le finetuned language models are zeroshot learners in international conference on learning representations  2022 url httpsopenreviewnetforum idgezrgcozdqr  zeqiu wu yushi hu weijia shi nouha dziri alane suhr prithviraj ammanabrolu noah a smith mari ostendorf and hannaneh hajishirzi finegrained human feedback gives better rewards for language model training arxiv preprint arxiv230601693  2023 url https arxivorgabs230601693  yuxi xie kenji kawaguchi yiran zhao xu zhao minyen kan junxian he and qizhe xie decom position enhances reasoning via selfevaluation guided decoding arxiv preprint arxiv230500633  2023 url httpsarxivorgabs230500633  fangyuan xu weijia shi and eunsol choi recomp improving retrievalaugmented lms with compression and selective augmentation 2023 url httpsarxivorgabs2310 04408  ori yoran tomer wolfson ori ram and jonathan berant making retrievalaugmented language models robust to irrelevant context 2023 url httpsarxivorgabs231001558  xiang yue boshi wang kai zhang ziru chen yu su and huan sun automatic evaluation of attribution by large language models arxiv preprint arxiv230506311  2023 url https arxivorgabs230506311  tianhua zhang hongyin luo yungsung chuang wei fang luc gaitskell thomas hartvigsen xixin wu danny fox helen meng and james glass interpretable unified language checking arxiv preprint arxiv230403728  2023 url httpsarxivorgabs230403728  andy zhou kai yan michal shlapentokhrothman haohan wang and yuxiong wang language agent tree search unifies reasoning acting and planning in language models 2023 url https arxivorgabs231004406  daniel m ziegler nisan stiennon jeffrey wu tom b brown alec radford dario amodei paul christiano and geoffrey irving finetuning language models from human preferences arxiv preprint arxiv190908593  2019 url httpsarxivorgabs190908593  15",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 2498,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "824b1a6b-ad0f-45e6-b9c9-5bdbf586e7e0",
        "embedding": null,
        "metadata": {
            "page_label": "16",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "4e76a8e9-12ee-4eb9-8eb3-acf370773586",
                "node_type": "4",
                "metadata": {
                    "page_label": "16",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "b4b64915df660c6ac84f37319de0b7abd7384b62a6df4d9bd5cbdd3a174c753b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint appendix a s elfragdetails 17 a1 reflection tokens                                   17 a2 s elfragtraining                                   17 a3 s elfraginference                                  19 b experimental details 19 b1 more details of training                                19 b2 more details of evaluations                              20 c results 20 c1 analysis                                         20 c2 human evaluation examples                              21 c3 qualitative examples                                  21 d full list of instructions and demonstrations for gpt4 21 16",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 612,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "8e3d2c9b-6591-4590-8bc5-2bd9ceddfbbb",
        "embedding": null,
        "metadata": {
            "page_label": "17",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "f87a739e-b051-4cf6-b6f2-868af0853343",
                "node_type": "4",
                "metadata": {
                    "page_label": "17",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "973e7e556688d460a35d7068f09aee7a8015ad1bbf62f6db47ef5f527fcd7d0c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint a s elfragdetails a1 r eflection tokens  definitions of reflection tokens below we provide a detailed definition of reflection type and output tokens the first three aspects will be provided at each segment level while the final aspect is only given at each output level retrievalondemand retrieve  given an input and previousstep generation if applicable an lm determines whether the continuation requires factual grounding noindicates retrieval is unnecessary as the sequence does not require factual grounding or may not be enhanced by knowledge retrieval yes indicates retrieval is necessary we additionally have continue to use evidence  which indicates that a model can continue to use the evidence retrieved previously for instance a passage may contain rich factual information and thus selfrag generates multiple segments based on the passage relevant isrel retrieved knowledge may not be always relevant to the input this aspect indicates whether the evidence provides useful information  relevant  or not  irrelevant  supported issup attribution is the concept of whether the output is fully supported by certain evidence menick et al 2022 bohnet et al 2022 this aspect judges how much infor mation in the output is entailed by the evidence we evaluate attributions in three scale fully supported partially supported  and no support  contradictory  follow ing yue et al 2023 nakano et al 2021 useful isuse following the definitions from liu et al 2023a we define the perceived utility as whether the response is a helpful and informative answer to the query independently from whether it is in fact factual or not this can be also viewed as plausibility in menick et al 2022 for usefulness we use a fivescale evaluation 1 is the lowest and 5 is the highest details of gpt4based data collections we use the instruction and demonstration pairs to prompt gpt4 listed in section d following an official recommendation we separate instructions and outputs with  we use the temperature 1 and set the maximum output token counts to be 200 we discard instances where gpt4 does not follow the designated output formats or output sequences that do not match our expected category names as a result we collected 12594 for retrieve  11181 for issup 19317 for relevance 3831 for utility manual analysis of the gpt4 predictions the authors of this paper manually assess randomly sampled 20 instances for each aspect and check if gpt4 predictions match their assessments given the same instruction demonstrations and test instances we found our assessments show high agreement with gpt4 predictions especially for relevance 95 retrieval necessity 95 and the degree of support 90 agreement was slightly lower in usefulness 80 mostly due to the disagreement between 1 and 2 or 4 and 5 a2 s elfragtraining overview of training algorithm 2 provides a highlevel overview of our training full list of seed datasets to sample diverse inputoutput pairs we sample instances of the open instruct wang et al 2023 dataset in particular we use their sharegpt gpt4 alpaca alpaca openassistant and flan subsets subsets we also sample instances from a couple of knowledge intensive datasets natural questions kwiatkowski et al 2019 wizard of wikipedia dinan et al 2019 and fever thorne et al 2018 from the kilt benchmark petroni et al 2021 asqa stel makh et al 2022 and multiple qa datasets including arceasy and openbookqa mihaylov et al 2018 table 3 shows the full list of training instances and in total we use 145619 instances performance of the critic cwe evaluate the accuracy of reward predictions by splitting gpt4 generated feedback into training development and test sets the accuracy of the reward model is as follows table 5 shows the model performance of predicting gpt4 judgments as you can see overall our finetuned reward model shows high prediction matching with gpt4 predicted feedback 17",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3895,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "1595e672-61bc-4412-b2af-9498386c896b",
        "embedding": null,
        "metadata": {
            "page_label": "18",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "1bec5fca-b44e-4237-8719-4aeafc619853",
                "node_type": "4",
                "metadata": {
                    "page_label": "18",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "53d4171fd21e9de1357ba6f6c8532a8247fdd33f5a5024df87e07417f8008281",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint algorithm 2 selfragtraining 1input inputoutput data dx y generator mc\u03b8 2initialize cwith a pretrained lm 3sample data xsample ysample   x y training critic lm section 321 4forx yxsample ysampledo data collections for c 5 prompt gpt4 to collect a reflection token rforx y 6 addx y r todcritic 7update cwith next token prediction loss critic learning eq 1 8initialize mwith a pretrained lm training generator lm section 322 9forx yx y do data collection for mwithdcritic 10 runcto predict rgiven x y 11 addx y r todgen 12update mondgenwith next token prediction loss generator lm learning eq 2 dataset name category data source the number of instances gpt4 alpaca instructionfollowing openinstruct 26168 stanford alpaca instructionfollowing openinstruct 25153 flanv2 instructionfollowing openinstruct 17817 sharegpt instructionfollowing openinstruct 13406 open assistant 1 instructionfollowing openinstruct 9464 wizard of wikipedia knowledgeintensive kilt 17367 natural questions knowledgeintensive kilt 15535 fever knowledgeintensive kilt 9966 openboookqa knowledgeintensive hf dataset 4699 arceasy knowledgeintensive hf dataset 2147 asqa knowledgeintensive asqa 3897 table 3 the generator lm mtraining data statistics base lm retrieve issup isrel isuse llama27b 938 935 802 735 flan3b 856 731 820 721 figure 5 reward prediction accuracy using gpt4 predictions as groundtruth predictions while our final model uses llama27b as a base lm we also train and compare flan3b wei et al 2022 model on the same data to investigate the effectiveness of different data sizes affect final reward predictions in most aspects our reward model shows higher than 80 accuracy indicating the powerful ability of finetuned specialized lms to evaluate text while both models show relatively lower performance on isuse this is because both models often confuse between the two highest cases 5 and 4 where human annotators can also disagree details of mdata creation here we provide detailed data creation procedures algorithm 3 summarizes the process here we set yttoyfor simplification once we train the critic model we first run it on input data from the aforementioned datasets to predict whether retrieval is needed or not for the instances where the critic predicts retrieve no we only predict the isusegiven input and output for the instances where the critic predicts retrieve yes we first retrieve passages using the input and the entire output as queries to find passages that are relevant to the entire output we then split output sentences using spacy7for each sentence we run cto predict whether the retrieval is necessary or not given the input preceding segments and the initial retrieved passage if cpredicts retrieve no then do not insert any paragraph at the tth segment if cpredicts retrieve yes then we use the original input and the tth segment as a retrieval query to find relevant passages for the tth segment for each retrieved passage we predict isreland issup if there is any passage and continuation with isrelrelevant and issupfully supported issuppartially 7httpsspacyio 18",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3089,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "4e978259-57fc-4b42-8c7a-e3f5e7a17300",
        "embedding": null,
        "metadata": {
            "page_label": "19",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "e4678115-7b2d-4ada-b20d-1c12edf0f894",
                "node_type": "4",
                "metadata": {
                    "page_label": "19",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "3bc38399a202d33dafec7ec7771deab1ab36de1340c05be8d5bc6e924cc632eb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint supported  then we sample it as the continuation if there is more than one passage satisfying this criterion we use the one with the highest retrieval score if there are only isrelirrelevant or issupno support passages we randomly sample one passage algorithm 3 mgendata creation 1input inputoutput data dx y 2forx y x ydo 3 given x ycpredicts retrieve 4 ifretrieve is predicted then 5 retrieve relevant passages dusingrgiven x y retrieve passages 6 fordddo 7 cpredicts isrelfor each d  predict relevance of passages 8 cpredicts issupfor each y d predict supports of outputs 9 cpredicts isusefor each d  predict overall utility  ttonly 10 sample d 11 else if retrieve is not predicted then 12 cpredicts isusegiven x y add augmented x y d r todgen training examples table 4 show several training examples used for mtraining a3 s elfraginference details of beamsearch score calculations we first compute scores for each critique type by taking the normalized probabilities of desirable tokens for isrel we compute the score as follows sisrel pisrelrelevant  pisrelrelevant  pisrelirrelevant  for issup we compute the score as follows sisrel pissupfully  s 05pissuppartially  s where sp tfullypartially nopissupt for isusewhere we have a fivescale score we compute the weighted sum of the scores we assigns weighted scores of w1050051 to the tokens isuse12345 and compute the final scores as follows sisuse 5x iwipisusei s where sp t12345pisuset details of adaptive retrieval for retrieval based on soft constraints we trigger retrieval if the following condition is satisfied pretrieve yes pretrieve yes ppretrieve no \u03b4 b e xperimental details b1 m ore details of training more details of training and computations we use 4 nvidia a100 with 80gb memory to train our models all models are trained for 3 epochs with a batch size of 128 a peak learning rate of 2e5 with 3 warmup steps and linear decay afterward we set the maximum token length to be 2048 for the 7b model and 1524 for the 13b model due to the memory constraint we use deepspeed stage 3 rajbhandari et al 2020 to conduct multigpu distributed training with training precision bfloat16 enabled flashattention dao et al 2022 is used to make the longcontext training more efficient we run inference of our trained models using 12 quadro rtx 6000 gpus with 24gb memory 19",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 2336,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "6c7269c6-9aae-457c-8d2d-4b8a2274d7e5",
        "embedding": null,
        "metadata": {
            "page_label": "20",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "19e9b081-d65a-43f8-b561-62f7e63cdd4b",
                "node_type": "4",
                "metadata": {
                    "page_label": "20",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "0b31a0e9477dc9d2a4686b799ca47b25cc8d385ff47feac0d38494176f6e303b",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint b2 m ore details of evaluations retrieval setup details by default we use contrieverms marco to retrieve the top five documents from wikipedia and use official wikipedia embeddings based on 2018 english wikipedia on popqa where question and answer pairs are created based on wikidata in 2022 we found that the 2018 wikipedia sometimes lacks articles about some entities that have been more recently added to wikipedia therefore for popqa we used the december 2020 preprocessed wikipedia corpus provided by izacard et al 2022b and generated document embeddings8the issues of performance variance from different wikipedia dumps have been reported by prior work asai et al 2020 izacard et al 2022b yet we observe limited effectiveness of such offtheshelf retrieval models trained primarily on knowledgeintensive tasks for openended generation eg instruction following recent or concurrent work studies instructiontuning of retrieval systems asai et al 2023b or joint training of retrieval and lm components lin et al 2023 while we leave exploring the effectivess of such appraoches for future work for bio generation and opendomain qa tasks we additionally retrieve five documents using google programmable search9and search documents from english wikipedia as this api only provides snippets we retrieve wikipedia introductory paragraphs for the corresponding entities detailed experimental settings for individual datasets for openqa datasets we set the max imum new token number to 100 tokens for closedset tasks pubhealth and arcc we set the maximum new token length to 50 for all baselines for selfraginference on pubhealth and arcc instead of determining the output with the highest score 4 as in other tasks we aggregate the scores for each option and select the answer option with the highest score we found in zeroshot settings of fact checking some llms can generate capitalized class labels eg true while our gold labels are lowercased therefore across different lms for fact checking we lowercase the predictions in multiple choice tasks we found some models generate answers in slightly different ways eg a instead of a we slightly modify instructions for each llm to avoid such format violations and further conduct string matching between each candidate and model predictions if format violations still remain after that processing in closed set tasks model predictions match one of the gold classes in almost all cases for alce we found that llama2chat tend to generate significantly lower outputs than other models eg on average their output is nearly 100 token while chatgpt generates 40 tokens on average resulting in inflated strem scores we limit the maximum generation length to 100 tokens for all baselines to avoid this issue rather than the original 300 tokens in the alce paper consequently all of the baseline output length is within 3060 tokens for factscore we set the maximum new token length to 500 for baselines and 200 for selfragat each segment level taskspecific instructions table 5 shows the list of the instructions used during evaluations for opendomain qa we do not provide explicit instructions c r esults c1 a nalysis reliance on parametric and nonparametric memories we conduct analysis on how frequently model answers come from retrieved passages nonparametric memories or their own parametric memories on two opendomain qa datasets triviaqa and popqa we conduct the following analysis 1 sample query models successfully answer correctly 2 for each query in this group check whether the matched groundtruth answer is a substring of the retrieved passage or not we evaluate selfrag7b alpaca 7b alpaca 13b and llama2chat13b we found that selfrag significantly less frequently generates answers that are not included in the provided evidence in particular in alpaca 30b 20 of the correct predictions are not included in the provided passages followed by llama2chat 13b 18 and alpaca 15 while it is only 2 in selfrag when retrieved passages are not relevant selfraggenerates isrelirrelevant  indicating that the following answers may not be factually grounded while those instructiontuned models continue to generate plausible answers 8httpsgithubcomfacebookresearchatlas 9httpsprogrammablesearchenginegooglecomabout 20",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4265,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "b2a80bda-f484-4a9f-95df-303370f46e3d",
        "embedding": null,
        "metadata": {
            "page_label": "21",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "ed344904-bf01-4e2c-8dd3-10cd9b29ec0f",
                "node_type": "4",
                "metadata": {
                    "page_label": "21",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "150f6769c3018801521c367ab8a5bebf77a4fc01ff97e5cb3f5a339e8944395c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint c2 h uman evaluation examples table 6 shows examples with human evaluations on sp and correctness of isreland issup reflection tokens c3 q ualitative examples table 7 shows several examples predicted by our selfrag13b the first example is the model output to an asqa question the first reference states that emperor constantine made sunday a day of rest from labor and further the second citation supports the fact that the official adoption of sunday as a day of rest by constantine in ad 321 in the second example the model predicts contradictory to the first output as the output says the person has served as the ceo since 2010 while the passage says he stepped down as ceo in 2015 indicating those factual contradictions as reflection tokens enables to enforcement of hard control and also verification of model outputs easily in the third example while the generation is mostly correct selfragpredicts partially support to the statement listing the name of the songs as they were not explicitly mentioned d f ull list of instructions and demonstrations for gpt4 here we show the instructions and demonstrations used to prompt gpt4 to collect reflection tokens table 8 shows the instructions and demonstrations for the initial retrieval token table 9 shows the instruction and demonstrations used to collect the threeway output tokens for retrieve given instruction preceding sentences and previously retrieved passages due to the longer demonstration and test input we only use a single demonstration table 10 shows an instruction and demonstrations used to collect the threeway output tokens for isrel table 11 shows an instruction and demon strations used to collect the threeway output tokens for isrel table 12 shows an instruction and demonstrations used to collect the fiveway output tokens for isuse 21",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 1824,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "1de44dbd-676e-4ea8-be51-fa27c4ab4fe4",
        "embedding": null,
        "metadata": {
            "page_label": "22",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "7c9707dc-ab4c-4f48-95f7-b131bb0e59e6",
                "node_type": "4",
                "metadata": {
                    "page_label": "22",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "12dcc1d02c89891b28dbaf42b04184e5a68858bc211588ad496c9cc854e8b26e",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint input identify the two types of computer memory from gpt4 alpaca  output retrieve yespcomputer memory computer memory  in computing memory refers to the computer hardware integrated circuits that store information for immediate use in a computer it is synonymous with the term primary storage computer memory operates at a high speed for example randomaccess memory ram as a distinction from storage that provides slowtoaccess information but offers higher capacities if needed contents of the computer memory can be transferred to secondary storage a very common way of doing this is through a memory management technique called virtual memory an archaic synonym for memory is store the term memory meaning primary storage or main memory is pisrelrelevant primary memory also known as main memory is the memory that the computer can directly access and manipulate issupfully supported  retrieve yespcomputer memoryoften associated with addressable semiconductor memory ie integrated circuits consisting of siliconbased transistors used for example as primary storage but also other purposes in computers and other digital electronic devices there are two main kinds of semiconductor memory volatile and nonvolatile examples of nonvolatile memory are flash memory used as secondary memory and rom prom eprom and eeprom memory used for storing firmware such as bios examples of volatile memory are primary storage which is typically dynamic randomaccess memory dram and fast cpu cache memory which is typically static randomaccess memory sram that is fast but energyconsuming offering lower memory pisrelrelevant primary memory can be accessed quickly but it is volatile meaning that the data is lost if the power is turned off issuppartially supported  isuse5 input give an example of a situation where you have to delegate tasks from gpt4 alpaca  output retrieve nothe manager realizes that there is an extensive list of tasks that need to be completed in order to make the event a success retrieve yespdelegationdelegation is the assignment of any responsi bility or authority to another person normally from a manager to a subordinate to carry out specific activities it is one of the core concepts of management leadership however the person who delegated the work remains accountable for the outcome of the delegated work delegation empowers a subordinate to make decisions ie it is a shifting of decisionmaking authority from one organizational level to a lower one delegation if properly done is not fabrication the opposite of effective delegation is micromanagement where a manager provides too much input pisrelrelevant this includes tasks such as creating a guest list designing and sending in vitations booking a venue coordinating with vendors planning the event s program and monitoring the budget issuppartially supported retrieve nosince it is not possible for the manager to handle everything alone they must delegate tasks to their team members retrieve nothe manager would then assign each team member specific responsibilities based on their individual skillsets and strengths retrieve yespjoint application design  subject matter experts these are the business users the is professionals and the outside experts that will be needed for a successful workshop this group is the backbone of the meeting pisrel irrelevant for instance the team s graphic designer might be tasked with designing the invitations while the event coordinator would be in charge of planning the program and working with vendors retrieve noby delegating tasks the manager can ensure that all necessary tasks are completed in a timely manner while also empowering their team members to take on responsibilities and contribute to the success of the event isuse 5 input synthesize a poem based on this promptthe sun is setting from stanford alpaca  output retrieve nothe stars begin to twinkle bright the trees scattered throughout the night retrieve nothe stars begin to twinkle bright the trees scattered throughout the night  retrieve no they flicker like a silent dance a peaceful moment in its trance  retrieve no they flicker like a silent dance a peaceful moment in its trance  retrieve no a chorus of crickets sing a lullaby to every creature that roams the sky  isuse5 input when did walking dead season 7 come out from nq output retrieve yespthe walking dead season 7the walking dead season 7 the seventh season of the walking dead an american postapocalyptic horror television series on amc premiered on october 23 2016 and concluded on april 2 2017 consisting of 16 episodes developed for television by frank darabont the series is based on the eponymous series of comic books by robert kirkman tony moore and charlie adlard pisrelrelevant october 23  2016 issupfully supported isuse5 input given a chat history separated by new lines generates an informative knowledgeable and engaging response hello i love german shepherd dogs and you  my favorite dog they are officially known as german shepherd dogs  yes i have a german shepherd in my house and she is pregnant from wow output hey also are easily trained obedient and intelligent retrieve yespgerman shepherd  a simple difference of opinion it is the fundamental issue of the breed s essential conformation and movement  they are known for being easy to train and good for performing tasks and following instructions they are especially well known for their police work being used for tracking criminals patrolling troubled areas and detecting and holding suspects pisrelrelevant because of this they are often used for disability assistance and for police work  issuppartially supported isuse2 table 4 list of the training examples 22",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 5703,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "0dc3a6d8-acfd-4116-a368-3919ede2b386",
        "embedding": null,
        "metadata": {
            "page_label": "23",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "7575633f-0587-4c99-8f44-12259d3f9f3b",
                "node_type": "4",
                "metadata": {
                    "page_label": "23",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "1972b2e7014a78fdf695520eff68f4067698c905ce740fc0d330e0a109dc9170",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint dataset instruction arcc given four answer candidates a b c and d choose the best answer choice please answer with the capitalized alphabet only without adding any extra phrase or period pubhealth is the following statement correct or not say true if its correct otherwise say false dont capitalize or add periods just say true or false bio generation tell me a bio about person name asqa baseline instruction write an accurate engaging and concise answer for the given question using only the provided search results some of which might be irrelevant and cite them properly use an unbiased and journalistic tone always cite for any factual claim when citing several search results use 123 cite at least one document and at most three documents in each sentence if multiple documents support the sentence only cite a minimum sufficient subset of the documents asqa ours answer the following question the question may be ambiguous and have multiple correct answers and in that case you have to provide a longform answer including all correct answers table 5 full list of instructions used during zeroshot evaluations for opendomain qa we dont use any task specific instruction and simply use the original questions as input query 23",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 1240,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "f6249170-3bc6-40d7-a6e3-a82f8fd14350",
        "embedding": null,
        "metadata": {
            "page_label": "24",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "933186c6-ce4f-4082-b85b-b827732b99cf",
                "node_type": "4",
                "metadata": {
                    "page_label": "24",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "3a9a0d76064aacfb6371067a8e4072654a1c84ef1ca7e497f6b4d51fb1ab964a",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint input what genre is a question and answer guide to astronomy  popqa  output retrieve yespreference 1 pisrelrelevant  a question and answer guide to as tronomy is a nonfiction book that falls under the genre of astronomy and cosmology  issupfully supported isuse5 reference 1 a question and answer guide to astronomy is a book about astronomy and cosmology and is intended for a general audience the book was written by pierreyves bely carol christian and jeanrene roy and published in english by cambridge university press in 2010 it was originally written in french the content within the book is written using a question and answer format it contains some 250 questions which the science teacher states each are answered with a concise and wellformulated essay that is informative and readable the science teacher review goes on to state that many of the answers given in the book are little gems of science writing the science teacher summarizes by stating that each question is likely to be thought of by a student and that the answers are informative well constructed and thorough the book covers information about the planets the earth the universe practical astronomy history and awkward questions such as astronomy in the bible ufos and aliens also covered are subjects such as the big bang comprehension of large numbers and the moon illusion sp supported and plausible correctness of isreland issupboth isreland issupare correct as the reference 1 provides detailed information of the book including the genre and the model output is fully supported by the reference input who is the author of the lie  popqa  output retrieve yespreference 1 pisrelrelevant  the author of the lie is sam harris issupfully supported isuse5 reference 1 lying is a 2011 longform essay book by american author and neuroscience expert sam harris harris argues that we can radically simplify our lives and improve society by merely telling the truth in situations where others often lie sp plausible but not supported correctness of isreland issupboth isreland issupare incorrect as the reference 1 is about a different book whose title is similar to the lie input tell me a bio about ronaldinho  bio output retrieve yespreference 1 pisrelrelevant  ronaldinho is a retired professional footballer from brazil issupfully supported retrieve continue he played as an attacking midfielder and was known for his technical skills creativity dribbling ability and accuracy from free kicks retrieve continue he won two fifa world player of the year awards and a ballon dor isuse5 reference 1 ronaldo de assis moreira born 21 march 1980 commonly known as ronaldinho ga ucho or simply ronaldinho is a brazilian retired professional footballer who played mostly as an attacking midfielder but was also deployed as a winger considered one of the best players of his generation and regarded by many as one of the greatest of all time ronaldinho won two fifa world player of the year awards and a ballon dor a global icon of the sport he was renowned for his technical skills creativity dribbling ability and accuracy from freekicks as well as his use of tricks feints nolook passes and overhead sp plausible and fully supported correctness of isreland issupboth isreland issupare correct input tell me a bio about sergei bodrov  bio output retrieve yespreference 1 p isrelrelevant  sergei vladimirovich bodrov born june 28 1948 is a russian film director screenwriter and producer issupfully supported retrieve continue he was born in moscow russia retrieve continue he is the presi dent of the russian guild of film producers isuse5 reference 1 sergei vladimirovich bodrov born june 28 1948 is a russian film director screenwriter and producer in 2003 he was the president of the jury at the 25th moscow international film festival sp plausible but only partially supported the the reference 1 does not explicitly mention the person is born in moscow and there is no description about the russian guild of film producers correctness of isreland issup isreland issupare correct as the reference document is highly relevant and the first sentence is fully supported table 6 examples of human evaluation results 24",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 4195,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "e7d3381e-4ae8-4b5b-864a-9302dbeff9ee",
        "embedding": null,
        "metadata": {
            "page_label": "25",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "0dd002cf-6128-40e5-a44e-30f0724f0924",
                "node_type": "4",
                "metadata": {
                    "page_label": "25",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "f7c5f0edf24fea5ca7e0a890f9aa3b994c9bffbbd8a0220d03d4c3fb94033263",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint input when did sunday became the seventh day of the week  asqa  output retrieve yespreference 1 pisrelrelevant  in 321 ad the roman emperor con stantine the great made sunday a day of rest from labor stating on the venerable day of the sun let the magistrates and people residing in cities rest and let all workshops be closed issupfully supported  retrieve yespreference 2 pisrelrelevant  the official adoption of sunday as a day of rest by constantine the great in ad 321 made sunday the seventh day of the week 2issupfully supported isuse5 reference 1 emperor constantine then enacted the first sunday laws for the venerable day of the sun in 321 ad on march 7 321 the roman emperor constantine issued a decree making sunday a day of rest from labor stating we find a good description of this in sources such as the book rest days which states early christian observance of both the spiritual seventhday sabbath and a lord s day assembly is evidenced in ignatius s letter to the magnesians ca 110 reference 2 despite the official adoption of sunday as a day of rest by constantine the sevenday week and the nundial cycle continued to be used sidebyside until at least the calendar of 354 and probably later  the fact that the canon had to be issued at all is an indication that adoption of constantines decree of 321 was still not universal  input tell me a bio about rory tapner  bio generation  output preference 1 pisrelrelevant  rory tapner is a british businessman who has served as the chief executive officer of coutts a private banking and wealth management company since 2010 issup contradictory reference 2 pisrelrelevant  rory tapner was born on 30 september 1959 in london england issupfully supported  reference 1 rory tapner rory tapner is a uk businessman who in september 2010 was appointed ceo of coutts the wealth management division of royal bank of scotland group in february 2015 he stepped down as ceo when he was replaced in the role by alison rose reference 2 holdings from august 2016 and the council of the university of buckingham from july 2017 rory tapner rory tapner born 30 september 1959 is a uk businessman  input tell me a bio about g venugopa  bio generation  output ranked 1 retrieve yespreference 1 pisrelrelevant  g venugopal is a popu lar playback singer in the malayalam film industry  retrieve continue  he has sung over 300 songs in malayalam tamil and hindi movies issuppartially supported  retrieve yespreference 2pg venugopal was born on december 10 1960 in india issupfully supported  reference 1 g venugopal g venugopal born 10 december 1960 is an indian playback singer known for his work in malayalam films he started his singing career in the film odaruthammaava aalariyaam 1984 since then he has sung in more than 300 films and has over 500 private albums to his credit the many awards he has won include the coveted best playback singer kerala state which he won thrice the film critics award and the kerala kaumudi gallop poll award twice he won the kerala state award for best playback singer 2004 third time for the song aadedeeaadaadedee from the film ullamvenugopal reference 2 kerala state film awards kerala film critics award kerala state government award profes sional drama asianet film awards kerala kaumadi gallup poll award academic g venugopal g venugopal born 10 december 1960 is an indian playback singer known for his work in malayalam films table 7 examples of outputs 25",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3453,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "16fccf37-6fa7-476a-b3cd-9f82e93f30d4",
        "embedding": null,
        "metadata": {
            "page_label": "26",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "ab76e165-eebf-4d43-87ab-4912b1fa62af",
                "node_type": "4",
                "metadata": {
                    "page_label": "26",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "9203899c3ecdb6b066748bf03f451d7f62a32e8e5acac0019ab7f7b722b23e45",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint instructions given an instruction please make a judgment on whether finding some external documents from the web eg wikipedia helps to generate a better response please answer yes or no and write an explanation demonstrations instruction give three tips for staying healthy need retrieval yes explanation there might be some online sources listing three tips for staying healthy or some reliable sources to explain the effects of different behaviors on health so retrieving documents is helpful to improve the response to this query instruction describe a time when you had to make a difficult decision need retrieval no explanation this instruction is asking about some personal experience and thus it does not require one to find some external documents instruction write a short story in third person narration about a protagonist who has to make an important career decision need retrieval no explanation this instruction asks us to write a short story which does not require external evidence to verify instruction what is the capital of france need retrieval yes explanation while the instruction simply asks us to answer the capital of france which is a widely known fact retrieving web documents for this question can still help instruction find the area of a circle given its radius radius  4 need retrieval no explanation this is a math question and although we may be able to find some documents describing a formula it is unlikely to find a document exactly mentioning the answer instruction arrange the words in the given sentence to form a grammatically cor rect sentence quickly the brown fox jumped need retrieval no explanation this task doesnt require any external evidence as it is a simple grammatical question instruction explain the process of cellular respiration in plants need retrieval yes explanation this instruction asks for a detailed description of a scientific concept and is highly likely that we can find a reliable and useful document to support the response table 8 instructions and demonstrations for retrieve aspect given the input only 26",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 2086,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "9d845a5b-6b05-4b79-ace3-72268b679e6e",
        "embedding": null,
        "metadata": {
            "page_label": "27",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "7b152ea5-6f0e-4ad4-bcb4-62e473cffc3b",
                "node_type": "4",
                "metadata": {
                    "page_label": "27",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "6ac66103bd4950cddcd5db748c9eb8aebe4f44dfab437ee9f3ff534094e3deeb",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint instructions you will be provided with an instruction evidence output sentence and preceding sentences optional if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to determine whether the information in the output sentence can be fully verified by the evidence or if it requires further external verification there are three cases  if the output sentence can be verified solely with the evidence then respond with continue to use evidence  if the sentence doesnt require any factual verification eg a subjective sentence or a sentence about common sense then respond with no retrieval  if additional information is needed to verify the output sentence respond with retrieval please provide explanations for your judgments instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words and the context in which they are used to be measured evidence  word embedding word embedding is the collective name for a set of language modeling and feature learning techniques in natural language processing nlp where words or phrases from the vocabulary are mapped to vectors of real numbers conceptually it involves a mathematical embedding from a space with one dimension per word to a continuous vector space with a much lower dimension output word embeddings are useful for tasks such as sentiment analysis text classification predicting the next word in a sequence and understanding synonyms and analogies rating retrieval explanation the output discusses the applications of word embeddings while the evidence only discusses the definitions of word embeddings and how they work therefore we need to retrieve other evidence to verify whether the output is correct or not table 9 instructions and demonstrations for retrieve aspect given the input preceding generations and retrieved passages 27",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 2111,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "de64ece6-f253-4eb1-b5e0-5438a01b144e",
        "embedding": null,
        "metadata": {
            "page_label": "28",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "505ca906-9929-4cd0-9840-b27df315c762",
                "node_type": "4",
                "metadata": {
                    "page_label": "28",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "9176c6faaaa2ca6c69d9e0c638fb984c1f934d394a178a88d91bf52d7820a0af",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint instructions youll be provided with an instruction along with evidence and possibly some preceding sentences when there are preceding sentences your focus should be on the sentence that comes after them your job is to determine if the evidence is relevant to the initial instruction and the preceding context and provides useful information to complete the task described in the instruction if the evidence meets this requirement respond with relevant otherwise generate irrelevant instruction given four answer options a b c and d choose the best answer input earths rotating causes a the cycling of am and pm b the creation of volcanic eruptions c the cycling of the tides d the creation of gravity evidence rotation causes the daynight cycle which also creates a corresponding cycle of temperature and humidity creates a corresponding cycle of temperature and humidity sea level rises and falls twice a day as the earth rotates rating relevant explanation the evidence explicitly mentions that the rotation causes a daynight cycle as described in the answer option a instruction age to run for us house of representatives evidence the constitution sets three qualifications for service in the us senate age at least thirty years of age us citizenship at least nine years and residency in the state a senator represents at the time of election rating irrelevant explanation the evidence only discusses the ages to run for the us senate not for the house of representatives table 10 instructions and demonstrations for isrelaspect given the input only 28",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 1564,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "1c96cc48-950f-4c7b-ac75-90b63b80cbb0",
        "embedding": null,
        "metadata": {
            "page_label": "29",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "8208fae9-9e07-43ac-8f3e-d3854b1b35b1",
                "node_type": "4",
                "metadata": {
                    "page_label": "29",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "5060e47f4fd3a8ffa016324c0ee1041a45e03e7085953c74e64eacc086370c35",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint instructions you will receive an instruction evidence and output and optional preceding sentences if the preceding sentence is given the output should be the sentence that follows those preceding sentences your task is to evaluate if the output is fully supported by the information provided in the evidence use the following entailment scale to generate a score  fully supported  all information in output is supported by the evidence or extractions from the evidence this is only applicable when the output and part of the evidence are almost identical  partially supported  the output is supported by the evidence to some extent but there is major information in the output that is not discussed in the evidence for example if an instruction asks about two concepts and the evidence only discusses either of them it should be considered a partially supported  no support  contradictory  the output completely ignores evidence is unrelated to the evidence or contradicts the evidence this can also happen if the evidence is irrelevant to the instruction make sure to not use any external informationknowledge to judge whether the out put is true or not only check whether the output is supported by the evidence and not whether the output follows the instructions or not instruction explain the use of word embeddings in natural language processing preceding sentences word embeddings are one of the most powerful tools available for natural language processing nlp they are mathematical representations of words or phrases in a vector space allowing similarities between words and the context in which they are used to be measured output word embeddings are useful for tasks such as sentiment analysis text classification predicting the next word in a sequence and understanding synonyms and analogies evidence word embedding word embedding is the collective name for a set of language modeling and feature learning techniques in natural language processing nlp where words or phrases from the vocabulary are mapped to vectors of real numbers conceptually it involves a mathematical embedding from a space with one dimension per word to a continuous vector space with a much lower dimension methods to generate this mapping include neural networks dimensionality reduction on the word cooccurrence matrix probabilistic models explainable knowledge base method and explicit representation in terms of the context in which words appear word and phrase embeddings when used as the underlying input representation have been shown to boost the performance in nlp tasks such as syntactic parsing sentiment analysis next token predictions as well and analogy detection score fully supported explanation the output sentence discusses the application of word embeddings and the evidence mentions all of the applications syntactic parsing sentiment analysis next token predictions as well as analogy detection as the applications therefore the score should be fully supported table 11 instructions and demonstrations for issuptokens 29",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 3037,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    },
    {
        "id_": "bc7ac879-42c9-487a-8a93-e155b4b981db",
        "embedding": null,
        "metadata": {
            "page_label": "30",
            "file_name": "SELF-RAG.pdf",
            "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
            "file_type": "application/pdf",
            "file_size": 1405127,
            "creation_date": "2024-10-15",
            "last_modified_date": "2024-10-15"
        },
        "excluded_embed_metadata_keys": [],
        "excluded_llm_metadata_keys": [],
        "relationships": {
            "1": {
                "node_id": "3ecc3226-f047-4adb-8589-3082bcd0be67",
                "node_type": "4",
                "metadata": {
                    "page_label": "30",
                    "file_name": "SELF-RAG.pdf",
                    "file_path": "C:\\Users\\super\\Projects\\Hybrid-RAG-Using-Qdrant-BM42-Llamaindex-and-MistralAI\\data\\SELF-RAG.pdf",
                    "file_type": "application/pdf",
                    "file_size": 1405127,
                    "creation_date": "2024-10-15",
                    "last_modified_date": "2024-10-15"
                },
                "hash": "c07a4c5c8feb4a4fc99185d20f3e9105f32e4457b5ea3eb2045379736182257c",
                "class_name": "RelatedNodeInfo"
            }
        },
        "text": "preprint instructions given an instruction and an output rate whether the response appears to be a helpful and informative answer to the query from 1 lowest  5 highest we call this score perceived utility the detailed criterion is as follows 5 the response provides a complete highly detailed and informative response to the query fully satisfying the information needs 4 the response mostly fulfills the need in the query while there can be some minor improvements such as discussing more detailed information having better structure of the response or im proving coherence 3 the response is acceptable but some major additions or improvements are needed to satisfy users needs 2 the response still addresses the main request but it is not complete or not relevant to the query 1 the response is barely ontopic or completely irrelevant instruction who is the current prime minister of the uk as of 2023 output boris johnson was the prime minister of the uk from 2019  2022 perceived utility 2 explanation while the output provides a factually correct statement about the uk prime minister from 2019 to 2022 this instruction asks who the prime minister is as of 2023 so it doesnt answer the instruction therefore the utility is 2 instruction given a description of a travel destination recommend 10 tourist attrac tions with detailed descriptions of each the travel destination is tokyo japan output tokyo is a vibrant city full of exciting tourist attractions some mustsee sights include the tokyo skytree tokyo disneyland sensoji temple meiji shrine tsukiji fish market harajuku and shinjuku gyoen perceived utility 3 explanation this output doesnt provide descriptions of each attraction and the number of the attractions is also less than 10 while this output partially answers the instructions it doesnt match the instructions strictly table 12 instructions and demonstrations for isusetokens 30",
        "mimetype": "text/plain",
        "start_char_idx": 0,
        "end_char_idx": 1900,
        "text_template": "{metadata_str}\n\n{content}",
        "metadata_template": "{key}: {value}",
        "metadata_seperator": "\n",
        "class_name": "TextNode"
    }
]